This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.claude/settings.local.json
.gitattributes
.gitignore
MegaMarket_Setup.sql
MegaMarket.API/appsettings.Development.json
MegaMarket.API/appsettings.json
MegaMarket.API/Controllers/AttendanceController.cs
MegaMarket.API/Controllers/CustomerDashboardController.cs
MegaMarket.API/Controllers/CustomerRewardsController.cs
MegaMarket.API/Controllers/CustomersController.cs
MegaMarket.API/Controllers/EmployeeDashboardController.cs
MegaMarket.API/Controllers/ExportsController.cs
MegaMarket.API/Controllers/ImportsController.cs
MegaMarket.API/Controllers/InventoryController.cs
MegaMarket.API/Controllers/InventoryDashboardController.cs
MegaMarket.API/Controllers/InvoiceController.cs
MegaMarket.API/Controllers/Points.cs
MegaMarket.API/Controllers/ProductsController.cs
MegaMarket.API/Controllers/PromotionController.cs
MegaMarket.API/Controllers/ReportsController.cs
MegaMarket.API/Controllers/RewardsController.cs
MegaMarket.API/Controllers/SalesDashboardController.cs
MegaMarket.API/Controllers/ShiftTypesController.cs
MegaMarket.API/Controllers/SuppliersController.cs
MegaMarket.API/Controllers/UsersController.cs
MegaMarket.API/Data/DbSeeder.cs
MegaMarket.API/DTOs/AttendanceInputDto.cs
MegaMarket.API/DTOs/CheckInOutDto.cs
MegaMarket.API/DTOs/CustomerRewards/CustomerRewardResponseDto.cs
MegaMarket.API/DTOs/CustomerRewards/RedeemRewardRequestDto.cs
MegaMarket.API/DTOs/CustomerRewards/UseRewardRequestDto.cs
MegaMarket.API/DTOs/Customers/CreateCustomerRequestDto.cs
MegaMarket.API/DTOs/Customers/CustomerResponseDto.cs
MegaMarket.API/DTOs/Customers/FilterCustomerRequestDto.cs
MegaMarket.API/DTOs/Customers/UpdateCustomerRequestDto.cs
MegaMarket.API/DTOs/Dashboard/Common/DateRangeInputDto.cs
MegaMarket.API/DTOs/Dashboard/Customer/CustomerDashboardDto.cs
MegaMarket.API/DTOs/Dashboard/Customer/CustomerRankDistributionDto.cs
MegaMarket.API/DTOs/Dashboard/Customer/LoyaltyPointsSummaryDto.cs
MegaMarket.API/DTOs/Dashboard/Customer/TopCustomerDto.cs
MegaMarket.API/DTOs/Dashboard/Employee/AttendanceByShiftDto.cs
MegaMarket.API/DTOs/Dashboard/Employee/AttendanceRateDto.cs
MegaMarket.API/DTOs/Dashboard/Employee/EmployeeDashboardDto.cs
MegaMarket.API/DTOs/Dashboard/Employee/EmployeeWorkSummaryDto.cs
MegaMarket.API/DTOs/Dashboard/Inventory/CategoryStockDto.cs
MegaMarket.API/DTOs/Dashboard/Inventory/ExpiringProductDto.cs
MegaMarket.API/DTOs/Dashboard/Inventory/InventoryDashboardDto.cs
MegaMarket.API/DTOs/Dashboard/Inventory/LowStockProductDto.cs
MegaMarket.API/DTOs/Dashboard/Inventory/TopMovingProductDto.cs
MegaMarket.API/DTOs/Dashboard/Sales/RevenueByPaymentMethodDto.cs
MegaMarket.API/DTOs/Dashboard/Sales/RevenueTrendDto.cs
MegaMarket.API/DTOs/Dashboard/Sales/SalesDashboardDto.cs
MegaMarket.API/DTOs/Dashboard/Sales/TopProductDto.cs
MegaMarket.API/DTOs/Imports/ImportDtos.cs
MegaMarket.API/DTOs/Invoice/InvoiceDetailReqDto.cs
MegaMarket.API/DTOs/Invoice/InvoiceDetailResDto.cs
MegaMarket.API/DTOs/Invoice/InvoiceReqDto.cs
MegaMarket.API/DTOs/Invoice/InvoiceResDto.cs
MegaMarket.API/DTOs/LoginInputDto.cs
MegaMarket.API/DTOs/LoginResultDto.cs
MegaMarket.API/DTOs/PointTransactions/AddPointRequestDto.cs
MegaMarket.API/DTOs/PointTransactions/FilterPointTransactionRequestDto.cs
MegaMarket.API/DTOs/PointTransactions/HistoryPointResponseDto.cs
MegaMarket.API/DTOs/PointTransactions/PointTransactionResponseDto.cs
MegaMarket.API/DTOs/PointTransactions/SubtractPointRequestDto.cs
MegaMarket.API/DTOs/Products/ProductDtos.cs
MegaMarket.API/DTOs/Promotion/PromotionProductReqDto.cs
MegaMarket.API/DTOs/Promotion/PromotionProductResDto.cs
MegaMarket.API/DTOs/Promotion/PromotionReqDto.cs
MegaMarket.API/DTOs/Promotion/PromotionResDto.cs
MegaMarket.API/DTOs/Reports/PointsSummaryDto.cs
MegaMarket.API/DTOs/Reports/TopCustomerDto.cs
MegaMarket.API/DTOs/Reports/TopRewardDto.cs
MegaMarket.API/DTOs/Rewards/CreateRewardRequestDto.cs
MegaMarket.API/DTOs/Rewards/RewardResponseDto.cs
MegaMarket.API/DTOs/Rewards/UpdateRewardRequestDto.cs
MegaMarket.API/DTOs/ShiftTypeInputDto.cs
MegaMarket.API/DTOs/User/UserResDto.cs
MegaMarket.API/DTOs/UserInputDto.cs
MegaMarket.API/Helpers/DateRangeHelper.cs
MegaMarket.API/MegaMarket.API.csproj
MegaMarket.API/MegaMarket.API.http
MegaMarket.API/Program.cs
MegaMarket.API/Properties/launchSettings.json
MegaMarket.API/Services/AttendanceService.cs
MegaMarket.API/Services/AuthService.cs
MegaMarket.API/Services/CustomerRewardService.cs
MegaMarket.API/Services/CustomerService.cs
MegaMarket.API/Services/DashboardCustomerService.cs
MegaMarket.API/Services/DashboardEmployeeService.cs
MegaMarket.API/Services/DashboardInventoryService.cs
MegaMarket.API/Services/DashboardSalesService.cs
MegaMarket.API/Services/ICustomerRewardService.cs
MegaMarket.API/Services/ICustomerService.cs
MegaMarket.API/Services/Implementations/ExportService.cs
MegaMarket.API/Services/Implementations/ImportService.cs
MegaMarket.API/Services/Implementations/InventoryService.cs
MegaMarket.API/Services/Implementations/InvoiceService.cs
MegaMarket.API/Services/Implementations/ProductService.cs
MegaMarket.API/Services/Implementations/PromotionService.cs
MegaMarket.API/Services/Interfaces/IExportService.cs
MegaMarket.API/Services/Interfaces/IImportService.cs
MegaMarket.API/Services/Interfaces/IInventoryService.cs
MegaMarket.API/Services/Interfaces/IInvoiceService.cs
MegaMarket.API/Services/Interfaces/IProductService.cs
MegaMarket.API/Services/Interfaces/IPromotionService.cs
MegaMarket.API/Services/IPointTransactionService.cs
MegaMarket.API/Services/IReportService.cs
MegaMarket.API/Services/IRewardService.cs
MegaMarket.API/Services/PointTransactionService.cs
MegaMarket.API/Services/ReportService.cs
MegaMarket.API/Services/RewardService.cs
MegaMarket.API/Services/ShiftTypeService.cs
MegaMarket.API/Services/UserService.cs
MegaMarket.BlazorUI/_Imports.razor
MegaMarket.BlazorUI/appsettings.Development.json
MegaMarket.BlazorUI/appsettings.json
MegaMarket.BlazorUI/Components/_Imports.razor
MegaMarket.BlazorUI/Components/App.razor
MegaMarket.BlazorUI/Components/Layout/AuthLayout.razor
MegaMarket.BlazorUI/Components/Layout/LoginDisplay.razor
MegaMarket.BlazorUI/Components/Layout/MainLayout.razor
MegaMarket.BlazorUI/Components/Layout/MainLayout.razor.css
MegaMarket.BlazorUI/Components/Layout/NavMenu.razor
MegaMarket.BlazorUI/Components/Layout/NavMenu.razor.css
MegaMarket.BlazorUI/Components/Pages/Attendance/AttendanceHistory.razor
MegaMarket.BlazorUI/Components/Pages/Attendance/CheckInOut.razor
MegaMarket.BlazorUI/Components/Pages/Attendance/Components/AttendanceStats.razor
MegaMarket.BlazorUI/Components/Pages/Attendance/Components/AttendanceTable.razor
MegaMarket.BlazorUI/Components/Pages/Attendance/Components/CheckInOutCard.razor
MegaMarket.BlazorUI/Components/Pages/Attendance/MyAttendanceHistory.razor
MegaMarket.BlazorUI/Components/Pages/Auth/Login.razor
MegaMarket.BlazorUI/Components/Pages/Auth/Unauthorized.razor
MegaMarket.BlazorUI/Components/Pages/Customers/CustomerForm.razor
MegaMarket.BlazorUI/Components/Pages/Customers/CustomerManagement.razor
MegaMarket.BlazorUI/Components/Pages/Dashboards/AdminDashboard.razor
MegaMarket.BlazorUI/Components/Pages/Dashboards/CashierDashboard.razor
MegaMarket.BlazorUI/Components/Pages/Dashboards/EmployeeDashboard.razor
MegaMarket.BlazorUI/Components/Pages/Dashboards/ManagerDashboard.razor
MegaMarket.BlazorUI/Components/Pages/Dashboards/WarehouseDashboard.razor
MegaMarket.BlazorUI/Components/Pages/Employees/Components/EmployeeDetailPanel.razor
MegaMarket.BlazorUI/Components/Pages/Employees/Components/EmployeeFormModal.razor
MegaMarket.BlazorUI/Components/Pages/Employees/Components/EmployeeList.razor
MegaMarket.BlazorUI/Components/Pages/Employees/EmployeeManagement.razor
MegaMarket.BlazorUI/Components/Pages/Error.razor
MegaMarket.BlazorUI/Components/Pages/Home.razor
MegaMarket.BlazorUI/Components/Pages/Imports/ImportDetails.razor
MegaMarket.BlazorUI/Components/Pages/Imports/ImportDetails.razor.css
MegaMarket.BlazorUI/Components/Pages/Imports/Imports.razor
MegaMarket.BlazorUI/Components/Pages/Imports/Imports.razor.css
MegaMarket.BlazorUI/Components/Pages/Imports/NewImport.razor
MegaMarket.BlazorUI/Components/Pages/Imports/NewImport.razor.css
MegaMarket.BlazorUI/Components/Pages/Invoice/InvoiceManagement.razor
MegaMarket.BlazorUI/Components/Pages/Loyalty/LoyaltyDashboard.razor
MegaMarket.BlazorUI/Components/Pages/Loyalty/PointHistoryCard.razor
MegaMarket.BlazorUI/Components/Pages/Loyalty/RedeemModal.razor
MegaMarket.BlazorUI/Components/Pages/Products/ProductDetails.razor
MegaMarket.BlazorUI/Components/Pages/Products/ProductDetails.razor.css
MegaMarket.BlazorUI/Components/Pages/Products/ProductForm.razor
MegaMarket.BlazorUI/Components/Pages/Products/Products.razor
MegaMarket.BlazorUI/Components/Pages/Products/Products.razor.css
MegaMarket.BlazorUI/Components/Pages/Products/ProductTable.razor
MegaMarket.BlazorUI/Components/Pages/Products/ProductTable.razor.css
MegaMarket.BlazorUI/Components/Pages/Profile/MyProfile.razor
MegaMarket.BlazorUI/Components/Pages/Promotion/PromotionManagement.razor
MegaMarket.BlazorUI/Components/Pages/Reports/LoyaltyReports.razor
MegaMarket.BlazorUI/Components/Pages/Reports/PointsSummaryReport.razor
MegaMarket.BlazorUI/Components/Pages/Reports/TopCustomersReport.razor
MegaMarket.BlazorUI/Components/Pages/Reports/TopRewardsReport.razor
MegaMarket.BlazorUI/Components/Pages/Rewards/RewardManagement.razor
MegaMarket.BlazorUI/Components/Pages/Sale/SalePage.razor
MegaMarket.BlazorUI/Components/Pages/ShiftTypes/Components/ShiftTypeCard.razor
MegaMarket.BlazorUI/Components/Pages/ShiftTypes/Components/ShiftTypeFormModal.razor
MegaMarket.BlazorUI/Components/Pages/ShiftTypes/Components/ShiftTypeList.razor
MegaMarket.BlazorUI/Components/Pages/ShiftTypes/ShiftTypeManagement.razor
MegaMarket.BlazorUI/Components/Routes.razor
MegaMarket.BlazorUI/Components/Shared/ChartCard.razor
MegaMarket.BlazorUI/Components/Shared/ConfirmDialog.razor
MegaMarket.BlazorUI/Components/Shared/DashboardSection.razor
MegaMarket.BlazorUI/Components/Shared/DateRangeSelector.razor
MegaMarket.BlazorUI/Components/Shared/EmptyState.razor
MegaMarket.BlazorUI/Components/Shared/ErrorAlert.razor
MegaMarket.BlazorUI/Components/Shared/LoadingSpinner.razor
MegaMarket.BlazorUI/Components/Shared/Paginator.razor
MegaMarket.BlazorUI/Components/Shared/StatsCard.razor
MegaMarket.BlazorUI/Components/Shared/StatsCard.razor.css
MegaMarket.BlazorUI/Components/Shared/StatusBadge.razor
MegaMarket.BlazorUI/MegaMarket.BlazorUI.csproj
MegaMarket.BlazorUI/Models/Dashboard/AttendanceByShiftDto.cs
MegaMarket.BlazorUI/Models/Dashboard/AttendanceRateDto.cs
MegaMarket.BlazorUI/Models/Dashboard/CategoryStockDto.cs
MegaMarket.BlazorUI/Models/Dashboard/CustomerDashboardDto.cs
MegaMarket.BlazorUI/Models/Dashboard/CustomerRankDistributionDto.cs
MegaMarket.BlazorUI/Models/Dashboard/DateRangeEnum.cs
MegaMarket.BlazorUI/Models/Dashboard/EmployeeDashboardDto.cs
MegaMarket.BlazorUI/Models/Dashboard/EmployeeWorkSummaryDto.cs
MegaMarket.BlazorUI/Models/Dashboard/ExpiringProductDto.cs
MegaMarket.BlazorUI/Models/Dashboard/InventoryDashboardDto.cs
MegaMarket.BlazorUI/Models/Dashboard/LowStockProductDto.cs
MegaMarket.BlazorUI/Models/Dashboard/LoyaltyPointsSummaryDto.cs
MegaMarket.BlazorUI/Models/Dashboard/RevenueByPaymentMethodDto.cs
MegaMarket.BlazorUI/Models/Dashboard/RevenueTrendDto.cs
MegaMarket.BlazorUI/Models/Dashboard/SalesDashboardDto.cs
MegaMarket.BlazorUI/Models/Dashboard/TopCustomerDto.cs
MegaMarket.BlazorUI/Models/Dashboard/TopMovingProductDto.cs
MegaMarket.BlazorUI/Models/Dashboard/TopProductDto.cs
MegaMarket.BlazorUI/Program.cs
MegaMarket.BlazorUI/Properties/launchSettings.json
MegaMarket.BlazorUI/Services/Attendance/AttendanceApiClient.cs
MegaMarket.BlazorUI/Services/Auth/AuthService.cs
MegaMarket.BlazorUI/Services/Auth/CustomAuthStateProvider.cs
MegaMarket.BlazorUI/Services/Auth/LocalStorageService.cs
MegaMarket.BlazorUI/Services/CustomerLoyalty/CustomerService.cs
MegaMarket.BlazorUI/Services/CustomerLoyalty/LoyaltyService.cs
MegaMarket.BlazorUI/Services/CustomerLoyalty/ReportService.cs
MegaMarket.BlazorUI/Services/CustomerLoyalty/RewardManagementService.cs
MegaMarket.BlazorUI/Services/Dashboard/DashboardApiClient.cs
MegaMarket.BlazorUI/Services/Imports/ImportService.cs
MegaMarket.BlazorUI/Services/ProductApiClient.cs
MegaMarket.BlazorUI/Services/Products/ProductService.cs
MegaMarket.BlazorUI/Services/ShiftTypes/ShiftTypesApiClient.cs
MegaMarket.BlazorUI/Services/Users/UsersApiClient.cs
MegaMarket.BlazorUI/wwwroot/app.css
MegaMarket.BlazorUI/wwwroot/bootstrap/bootstrap.min.css
MegaMarket.BlazorUI/wwwroot/bootstrap/bootstrap.min.css.map
MegaMarket.BlazorUI/wwwroot/css/custom.css
MegaMarket.BlazorUI/wwwroot/favicon.png
MegaMarket.BlazorUI/wwwroot/js/localStorage.js
MegaMarket.Data/Data/MegaMarketDbContext.cs
MegaMarket.Data/Data/MegaMarketDbContextFactory.cs
MegaMarket.Data/DataAccess/InvoiceDAO.cs
MegaMarket.Data/DataAccess/PromotionDAO.cs
MegaMarket.Data/MegaMarket.Data.csproj
MegaMarket.Data/Models/Attendance.cs
MegaMarket.Data/Models/Customer.cs
MegaMarket.Data/Models/CustomerReward.cs
MegaMarket.Data/Models/Import.cs
MegaMarket.Data/Models/ImportDetail.cs
MegaMarket.Data/Models/Invoice.cs
MegaMarket.Data/Models/InvoiceDetail.cs
MegaMarket.Data/Models/OrderRequest.cs
MegaMarket.Data/Models/PointTransaction.cs
MegaMarket.Data/Models/Product.cs
MegaMarket.Data/Models/Promotion.cs
MegaMarket.Data/Models/PromotionProduct.cs
MegaMarket.Data/Models/Reward.cs
MegaMarket.Data/Models/ShiftType.cs
MegaMarket.Data/Models/Supplier.cs
MegaMarket.Data/Models/User.cs
MegaMarket.Data/Repositories/CustomerRepository.cs
MegaMarket.Data/Repositories/CustomerRewardRepository.cs
MegaMarket.Data/Repositories/ICustomerRepository.cs
MegaMarket.Data/Repositories/ICustomerRewardRepository.cs
MegaMarket.Data/Repositories/Implementations/InvoiceRepository.cs
MegaMarket.Data/Repositories/Implementations/PromotionRepository.cs
MegaMarket.Data/Repositories/Interfaces/IInvoiceRepository.cs
MegaMarket.Data/Repositories/Interfaces/IPromotionRepository.cs
MegaMarket.Data/Repositories/IPointTransactionRepository.cs
MegaMarket.Data/Repositories/IReportRepository.cs
MegaMarket.Data/Repositories/IRewardRepository.cs
MegaMarket.Data/Repositories/PointTransactionRepository.cs
MegaMarket.Data/Repositories/ReportRepository.cs
MegaMarket.Data/Repositories/RewardRepository.cs
MegaMarket.sln
MegaMarket.Tests/Fixtures/TestData.cs
MegaMarket.Tests/Fixtures/TestServerFixture.cs
MegaMarket.Tests/GlobalUsings.cs
MegaMarket.Tests/Helpers/TestAuthHandler.cs
MegaMarket.Tests/Integration/Controllers/Attendance/AttendanceControllerTests.cs
MegaMarket.Tests/Integration/Controllers/CustomerRewards/CustomerRewardsControllerTests.cs
MegaMarket.Tests/Integration/Controllers/Customers/CustomersControllerTests.cs
MegaMarket.Tests/Integration/Controllers/Imports/ImportsControllerTests.cs
MegaMarket.Tests/Integration/Controllers/Invoice/InvoiceControllerTests.cs
MegaMarket.Tests/Integration/Controllers/Points/PointsControllerTests.cs
MegaMarket.Tests/Integration/Controllers/Products/ProductsControllerTests.cs
MegaMarket.Tests/Integration/Controllers/Reports/ReportsControllerTests.cs
MegaMarket.Tests/Integration/Controllers/Rewards/RewardsControllerTests.cs
MegaMarket.Tests/Integration/Controllers/ShiftTypes/ShiftTypesControllerTests.cs
MegaMarket.Tests/Integration/Controllers/Users/UsersControllerTests.cs
MegaMarket.Tests/MegaMarket.Tests.csproj
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path=".gitattributes">
###############################################################################
# Set default behavior to automatically normalize line endings.
###############################################################################
* text=auto

###############################################################################
# Set default behavior for command prompt diff.
#
# This is need for earlier builds of msysgit that does not have it on by
# default for csharp files.
# Note: This is only used by command line
###############################################################################
#*.cs     diff=csharp

###############################################################################
# Set the merge driver for project and solution files
#
# Merging from the command prompt will add diff markers to the files if there
# are conflicts (Merging from VS is not affected by the settings below, in VS
# the diff markers are never inserted). Diff markers may cause the following 
# file extensions to fail to load in VS. An alternative would be to treat
# these files as binary and thus will always conflict and require user
# intervention with every merge. To do so, just uncomment the entries below
###############################################################################
#*.sln       merge=binary
#*.csproj    merge=binary
#*.vbproj    merge=binary
#*.vcxproj   merge=binary
#*.vcproj    merge=binary
#*.dbproj    merge=binary
#*.fsproj    merge=binary
#*.lsproj    merge=binary
#*.wixproj   merge=binary
#*.modelproj merge=binary
#*.sqlproj   merge=binary
#*.wwaproj   merge=binary

###############################################################################
# behavior for image files
#
# image files are treated as binary by default.
###############################################################################
#*.jpg   binary
#*.png   binary
#*.gif   binary

###############################################################################
# diff behavior for common document formats
# 
# Convert binary document formats to text before diffing them. This feature
# is only available from the command line. Turn it on by uncommenting the 
# entries below.
###############################################################################
#*.doc   diff=astextplain
#*.DOC   diff=astextplain
#*.docx  diff=astextplain
#*.DOCX  diff=astextplain
#*.dot   diff=astextplain
#*.DOT   diff=astextplain
#*.pdf   diff=astextplain
#*.PDF   diff=astextplain
#*.rtf   diff=astextplain
#*.RTF   diff=astextplain
</file>

<file path=".gitignore">
## Ignore Visual Studio temporary files, build results, and
## files generated by popular Visual Studio add-ons.
##
## Get latest from https://github.com/github/gitignore/blob/master/VisualStudio.gitignore

# User-specific files
*.rsuser
*.suo
*.user
*.userosscache
*.sln.docstates

# User-specific files (MonoDevelop/Xamarin Studio)
*.userprefs

# Mono auto generated files
mono_crash.*

# Build results
[Dd]ebug/
[Dd]ebugPublic/
[Rr]elease/
[Rr]eleases/
x64/
x86/
[Ww][Ii][Nn]32/
[Aa][Rr][Mm]/
[Aa][Rr][Mm]64/
bld/
[Bb]in/
[Oo]bj/
[Oo]ut/
[Ll]og/
[Ll]ogs/

# Visual Studio 2015/2017 cache/options directory
.vs/
# Uncomment if you have tasks that create the project's static files in wwwroot
#wwwroot/

# Visual Studio 2017 auto generated files
Generated\ Files/

# MSTest test Results
[Tt]est[Rr]esult*/
[Bb]uild[Ll]og.*

# NUnit
*.VisualState.xml
TestResult.xml
nunit-*.xml

# Build Results of an ATL Project
[Dd]ebugPS/
[Rr]eleasePS/
dlldata.c

# Benchmark Results
BenchmarkDotNet.Artifacts/

# .NET Core
project.lock.json
project.fragment.lock.json
artifacts/

# ASP.NET Scaffolding
ScaffoldingReadMe.txt

# StyleCop
StyleCopReport.xml

# Files built by Visual Studio
*_i.c
*_p.c
*_h.h
*.ilk
*.meta
*.obj
*.iobj
*.pch
*.pdb
*.ipdb
*.pgc
*.pgd
*.rsp
*.sbr
*.tlb
*.tli
*.tlh
*.tmp
*.tmp_proj
*_wpftmp.csproj
*.log
*.vspscc
*.vssscc
.builds
*.pidb
*.svclog
*.scc

# Chutzpah Test files
_Chutzpah*

# Visual C++ cache files
ipch/
*.aps
*.ncb
*.opendb
*.opensdf
*.sdf
*.cachefile
*.VC.db
*.VC.VC.opendb

# Visual Studio profiler
*.psess
*.vsp
*.vspx
*.sap

# Visual Studio Trace Files
*.e2e

# TFS 2012 Local Workspace
$tf/

# Guidance Automation Toolkit
*.gpState

# ReSharper is a .NET coding add-in
_ReSharper*/
*.[Rr]e[Ss]harper
*.DotSettings.user

# TeamCity is a build add-in
_TeamCity*

# DotCover is a Code Coverage Tool
*.dotCover

# AxoCover is a Code Coverage Tool
.axoCover/*
!.axoCover/settings.json

# Coverlet is a free, cross platform Code Coverage Tool
coverage*.json
coverage*.xml
coverage*.info

# Visual Studio code coverage results
*.coverage
*.coveragexml

# NCrunch
_NCrunch_*
.*crunch*.local.xml
nCrunchTemp_*

# MightyMoose
*.mm.*
AutoTest.Net/

# Web workbench (sass)
.sass-cache/

# Installshield output folder
[Ee]xpress/

# DocProject is a documentation generator add-in
DocProject/buildhelp/
DocProject/Help/*.HxT
DocProject/Help/*.HxC
DocProject/Help/*.hhc
DocProject/Help/*.hhk
DocProject/Help/*.hhp
DocProject/Help/Html2
DocProject/Help/html

# Click-Once directory
publish/

# Publish Web Output
*.[Pp]ublish.xml
*.azurePubxml
# Note: Comment the next line if you want to checkin your web deploy settings,
# but database connection strings (with potential passwords) will be unencrypted
*.pubxml
*.publishproj

# Microsoft Azure Web App publish settings. Comment the next line if you want to
# checkin your Azure Web App publish settings, but sensitive information contained
# in these scripts will be unencrypted
PublishScripts/

# NuGet Packages
*.nupkg
# NuGet Symbol Packages
*.snupkg
# The packages folder can be ignored because of Package Restore
**/[Pp]ackages/*
# except build/, which is used as an MSBuild target.
!**/[Pp]ackages/build/
# Uncomment if necessary however generally it will be regenerated when needed
#!**/[Pp]ackages/repositories.config
# NuGet v3's project.json files produces more ignorable files
*.nuget.props
*.nuget.targets

# Microsoft Azure Build Output
csx/
*.build.csdef

# Microsoft Azure Emulator
ecf/
rcf/

# Windows Store app package directories and files
AppPackages/
BundleArtifacts/
Package.StoreAssociation.xml
_pkginfo.txt
*.appx
*.appxbundle
*.appxupload

# Visual Studio cache files
# files ending in .cache can be ignored
*.[Cc]ache
# but keep track of directories ending in .cache
!?*.[Cc]ache/

# Others
ClientBin/
~$*
*~
*.dbmdl
*.dbproj.schemaview
*.jfm
*.pfx
*.publishsettings
orleans.codegen.cs

# Including strong name files can present a security risk
# (https://github.com/github/gitignore/pull/2483#issue-259490424)
#*.snk

# Since there are multiple workflows, uncomment next line to ignore bower_components
# (https://github.com/github/gitignore/pull/1529#issuecomment-104372622)
#bower_components/

# RIA/Silverlight projects
Generated_Code/

# Backup & report files from converting an old project file
# to a newer Visual Studio version. Backup files are not needed,
# because we have git ;-)
_UpgradeReport_Files/
Backup*/
UpgradeLog*.XML
UpgradeLog*.htm
ServiceFabricBackup/
*.rptproj.bak

# SQL Server files
*.mdf
*.ldf
*.ndf

# Business Intelligence projects
*.rdl.data
*.bim.layout
*.bim_*.settings
*.rptproj.rsuser
*- [Bb]ackup.rdl
*- [Bb]ackup ([0-9]).rdl
*- [Bb]ackup ([0-9][0-9]).rdl

# Microsoft Fakes
FakesAssemblies/

# GhostDoc plugin setting file
*.GhostDoc.xml

# Node.js Tools for Visual Studio
.ntvs_analysis.dat
node_modules/

# Visual Studio 6 build log
*.plg

# Visual Studio 6 workspace options file
*.opt

# Visual Studio 6 auto-generated workspace file (contains which files were open etc.)
*.vbw

# Visual Studio LightSwitch build output
**/*.HTMLClient/GeneratedArtifacts
**/*.DesktopClient/GeneratedArtifacts
**/*.DesktopClient/ModelManifest.xml
**/*.Server/GeneratedArtifacts
**/*.Server/ModelManifest.xml
_Pvt_Extensions

# Paket dependency manager
.paket/paket.exe
paket-files/

# FAKE - F# Make
.fake/

# CodeRush personal settings
.cr/personal

# Python Tools for Visual Studio (PTVS)
__pycache__/
*.pyc

# Cake - Uncomment if you are using it
# tools/**
# !tools/packages.config

# Tabs Studio
*.tss

# Telerik's JustMock configuration file
*.jmconfig

# BizTalk build output
*.btp.cs
*.btm.cs
*.odx.cs
*.xsd.cs

# OpenCover UI analysis results
OpenCover/

# Azure Stream Analytics local run output
ASALocalRun/

# MSBuild Binary and Structured Log
*.binlog

# NVidia Nsight GPU debugger configuration file
*.nvuser

# MFractors (Xamarin productivity tool) working folder
.mfractor/

# Local History for Visual Studio
.localhistory/

# BeatPulse healthcheck temp database
healthchecksdb

# Backup folder for Package Reference Convert tool in Visual Studio 2017
MigrationBackup/

# Ionide (cross platform F# VS Code tools) working folder
.ionide/

# Fody - auto-generated XML schema
FodyWeavers.xsd

# Entity Framework Migration files - mỗi người tự tạo trên máy mình
**/Migrations/
</file>

<file path="MegaMarket.API/appsettings.Development.json">
{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  }
}
</file>

<file path="MegaMarket.API/DTOs/AttendanceInputDto.cs">
namespace MegaMarket.API.DTOs;

public class AttendanceInputDto
{
    public int UserId { get; set; }
    public int ShiftTypeId { get; set; }
    public DateTime Date { get; set; }
    public DateTime? CheckIn { get; set; }
    public DateTime? CheckOut { get; set; }
    public string? Note { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/CheckInOutDto.cs">
namespace MegaMarket.API.DTOs;

public class CheckInOutDto
{
    public int UserId { get; set; }
    public DateTime Date { get; set; }
    public DateTime? CheckInTime { get; set; }
    public DateTime? CheckOutTime { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/ShiftTypeInputDto.cs">
namespace MegaMarket.API.DTOs;

public class ShiftTypeInputDto
{
    public string Name { get; set; } = string.Empty;
    public TimeSpan StartTime { get; set; }
    public TimeSpan EndTime { get; set; }
    public decimal WagePerHour { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/UserInputDto.cs">
namespace MegaMarket.API.DTOs;

public class UserInputDto
{
    public string FullName { get; set; } = string.Empty;
    public string Username { get; set; } = string.Empty;
    public string Password { get; set; } = string.Empty;
    public string Role { get; set; } = "Employee";
    public string? Phone { get; set; }
    public string? Email { get; set; }
}
</file>

<file path="MegaMarket.API/MegaMarket.API.http">
@MegaMarket.API_HostAddress = http://localhost:5036

GET {{MegaMarket.API_HostAddress}}/weatherforecast/
Accept: application/json

###
</file>

<file path="MegaMarket.API/Properties/launchSettings.json">
{
  "$schema": "http://json.schemastore.org/launchsettings.json",
  "iisSettings": {
    "windowsAuthentication": false,
    "anonymousAuthentication": true,
    "iisExpress": {
      "applicationUrl": "http://localhost:27931",
      "sslPort": 44328
    }
  },
  "profiles": {
    "http": {
      "commandName": "Project",
      "dotnetRunMessages": true,
      "launchBrowser": true,
      "launchUrl": "swagger",
      "applicationUrl": "http://localhost:5036",
      "environmentVariables": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    },
    "https": {
      "commandName": "Project",
      "dotnetRunMessages": true,
      "launchBrowser": true,
      "launchUrl": "swagger",
      "applicationUrl": "https://localhost:7284;http://localhost:5036",
      "environmentVariables": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    },
    "IIS Express": {
      "commandName": "IISExpress",
      "launchBrowser": true,
      "launchUrl": "swagger",
      "environmentVariables": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    }
  }
}
</file>

<file path="MegaMarket.BlazorUI/appsettings.Development.json">
{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Layout/MainLayout.razor.css">
.page {
    position: relative;
    display: flex;
    flex-direction: column;
}

main {
    flex: 1;
}

.sidebar {
    background-image: linear-gradient(180deg, rgb(5, 39, 103) 0%, #3a0647 70%);
}

.top-row {
    background-color: #f7f7f7;
    border-bottom: 1px solid #d6d5d5;
    justify-content: flex-end;
    height: 3.5rem;
    display: flex;
    align-items: center;
}

    .top-row ::deep a, .top-row ::deep .btn-link {
        white-space: nowrap;
        margin-left: 1.5rem;
        text-decoration: none;
    }

    .top-row ::deep a:hover, .top-row ::deep .btn-link:hover {
        text-decoration: underline;
    }

    .top-row ::deep a:first-child {
        overflow: hidden;
        text-overflow: ellipsis;
    }

@media (max-width: 640.98px) {
    .top-row {
        justify-content: space-between;
    }

    .top-row ::deep a, .top-row ::deep .btn-link {
        margin-left: 0;
    }
}

@media (min-width: 641px) {
    .page {
        flex-direction: row;
    }

    .sidebar {
        width: 250px;
        height: 100vh;
        position: sticky;
        top: 0;
    }

    .top-row {
        position: sticky;
        top: 0;
        z-index: 1;
    }

    .top-row.auth ::deep a:first-child {
        flex: 1;
        text-align: right;
        width: 0;
    }

    .top-row, article {
        padding-left: 2rem !important;
        padding-right: 1.5rem !important;
    }
}

#blazor-error-ui {
    background: lightyellow;
    bottom: 0;
    box-shadow: 0 -1px 2px rgba(0, 0, 0, 0.2);
    display: none;
    left: 0;
    padding: 0.6rem 1.25rem 0.7rem 1.25rem;
    position: fixed;
    width: 100%;
    z-index: 1000;
}

    #blazor-error-ui .dismiss {
        cursor: pointer;
        position: absolute;
        right: 0.75rem;
        top: 0.5rem;
    }
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Error.razor">
@page "/Error"
@using System.Diagnostics

<PageTitle>Error</PageTitle>

<h1 class="text-danger">Error.</h1>
<h2 class="text-danger">An error occurred while processing your request.</h2>

@if (ShowRequestId)
{
    <p>
        <strong>Request ID:</strong> <code>@RequestId</code>
    </p>
}

<h3>Development Mode</h3>
<p>
    Swapping to <strong>Development</strong> environment will display more detailed information about the error that occurred.
</p>
<p>
    <strong>The Development environment shouldn't be enabled for deployed applications.</strong>
    It can result in displaying sensitive information from exceptions to end users.
    For local debugging, enable the <strong>Development</strong> environment by setting the <strong>ASPNETCORE_ENVIRONMENT</strong> environment variable to <strong>Development</strong>
    and restarting the app.
</p>

@code{
    [CascadingParameter]
    private HttpContext? HttpContext { get; set; }

    private string? RequestId { get; set; }
    private bool ShowRequestId => !string.IsNullOrEmpty(RequestId);

    protected override void OnInitialized() =>
        RequestId = Activity.Current?.Id ?? HttpContext?.TraceIdentifier;
}
</file>

<file path="MegaMarket.BlazorUI/Properties/launchSettings.json">
{
  "$schema": "http://json.schemastore.org/launchsettings.json",
    "iisSettings": {
      "windowsAuthentication": false,
      "anonymousAuthentication": true,
      "iisExpress": {
        "applicationUrl": "http://localhost:3894",
        "sslPort": 44300
      }
    },
    "profiles": {
      "http": {
        "commandName": "Project",
        "dotnetRunMessages": true,
        "launchBrowser": true,
        "applicationUrl": "http://localhost:5023",
        "environmentVariables": {
          "ASPNETCORE_ENVIRONMENT": "Development"
        }
      },
      "https": {
        "commandName": "Project",
        "dotnetRunMessages": true,
        "launchBrowser": true,
        "applicationUrl": "https://localhost:7168;http://localhost:5023",
        "environmentVariables": {
          "ASPNETCORE_ENVIRONMENT": "Development"
        }
      },
      "IIS Express": {
        "commandName": "IISExpress",
        "launchBrowser": true,
        "environmentVariables": {
          "ASPNETCORE_ENVIRONMENT": "Development"
        }
      }
    }
  }
</file>

<file path="MegaMarket.BlazorUI/wwwroot/bootstrap/bootstrap.min.css">
@charset "UTF-8";/*!
 * Bootstrap v5.1.0 (https://getbootstrap.com/)
 * Copyright 2011-2021 The Bootstrap Authors
 * Copyright 2011-2021 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 */:root{--bs-blue:#0d6efd;--bs-indigo:#6610f2;--bs-purple:#6f42c1;--bs-pink:#d63384;--bs-red:#dc3545;--bs-orange:#fd7e14;--bs-yellow:#ffc107;--bs-green:#198754;--bs-teal:#20c997;--bs-cyan:#0dcaf0;--bs-white:#fff;--bs-gray:#6c757d;--bs-gray-dark:#343a40;--bs-gray-100:#f8f9fa;--bs-gray-200:#e9ecef;--bs-gray-300:#dee2e6;--bs-gray-400:#ced4da;--bs-gray-500:#adb5bd;--bs-gray-600:#6c757d;--bs-gray-700:#495057;--bs-gray-800:#343a40;--bs-gray-900:#212529;--bs-primary:#0d6efd;--bs-secondary:#6c757d;--bs-success:#198754;--bs-info:#0dcaf0;--bs-warning:#ffc107;--bs-danger:#dc3545;--bs-light:#f8f9fa;--bs-dark:#212529;--bs-primary-rgb:13,110,253;--bs-secondary-rgb:108,117,125;--bs-success-rgb:25,135,84;--bs-info-rgb:13,202,240;--bs-warning-rgb:255,193,7;--bs-danger-rgb:220,53,69;--bs-light-rgb:248,249,250;--bs-dark-rgb:33,37,41;--bs-white-rgb:255,255,255;--bs-black-rgb:0,0,0;--bs-body-rgb:33,37,41;--bs-font-sans-serif:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--bs-font-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--bs-gradient:linear-gradient(180deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0));--bs-body-font-family:var(--bs-font-sans-serif);--bs-body-font-size:1rem;--bs-body-font-weight:400;--bs-body-line-height:1.5;--bs-body-color:#212529;--bs-body-bg:#fff}*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){.h1,h1{font-size:2.5rem}}.h2,h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){.h2,h2{font-size:2rem}}.h3,h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){.h3,h3{font-size:1.75rem}}.h4,h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){.h4,h4{font-size:1.5rem}}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}.small,small{font-size:.875em}.mark,mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:var(--bs-font-monospace);font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:calc(1.625rem + 4.5vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-1{font-size:5rem}}.display-2{font-size:calc(1.575rem + 3.9vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-2{font-size:4.5rem}}.display-3{font-size:calc(1.525rem + 3.3vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-3{font-size:4rem}}.display-4{font-size:calc(1.475rem + 2.7vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-4{font-size:3.5rem}}.display-5{font-size:calc(1.425rem + 2.1vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-5{font-size:3rem}}.display-6{font-size:calc(1.375rem + 1.5vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-6{font-size:2.5rem}}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:.875em;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1.25rem}.blockquote>:last-child{margin-bottom:0}.blockquote-footer{margin-top:-1rem;margin-bottom:1rem;font-size:.875em;color:#6c757d}.blockquote-footer::before{content:"— "}.img-fluid{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:#fff;border:1px solid #dee2e6;border-radius:.25rem;max-width:100%;height:auto}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:.875em;color:#6c757d}.container,.container-fluid,.container-lg,.container-md,.container-sm,.container-xl,.container-xxl{width:100%;padding-right:var(--bs-gutter-x,.75rem);padding-left:var(--bs-gutter-x,.75rem);margin-right:auto;margin-left:auto}@media (min-width:576px){.container,.container-sm{max-width:540px}}@media (min-width:768px){.container,.container-md,.container-sm{max-width:720px}}@media (min-width:992px){.container,.container-lg,.container-md,.container-sm{max-width:960px}}@media (min-width:1200px){.container,.container-lg,.container-md,.container-sm,.container-xl{max-width:1140px}}@media (min-width:1400px){.container,.container-lg,.container-md,.container-sm,.container-xl,.container-xxl{max-width:1320px}}.row{--bs-gutter-x:1.5rem;--bs-gutter-y:0;display:flex;flex-wrap:wrap;margin-top:calc(var(--bs-gutter-y) * -1);margin-right:calc(var(--bs-gutter-x) * -.5);margin-left:calc(var(--bs-gutter-x) * -.5)}.row>*{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}.col{flex:1 0 0%}.row-cols-auto>*{flex:0 0 auto;width:auto}.row-cols-1>*{flex:0 0 auto;width:100%}.row-cols-2>*{flex:0 0 auto;width:50%}.row-cols-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-4>*{flex:0 0 auto;width:25%}.row-cols-5>*{flex:0 0 auto;width:20%}.row-cols-6>*{flex:0 0 auto;width:16.6666666667%}.col-auto{flex:0 0 auto;width:auto}.col-1{flex:0 0 auto;width:8.33333333%}.col-2{flex:0 0 auto;width:16.66666667%}.col-3{flex:0 0 auto;width:25%}.col-4{flex:0 0 auto;width:33.33333333%}.col-5{flex:0 0 auto;width:41.66666667%}.col-6{flex:0 0 auto;width:50%}.col-7{flex:0 0 auto;width:58.33333333%}.col-8{flex:0 0 auto;width:66.66666667%}.col-9{flex:0 0 auto;width:75%}.col-10{flex:0 0 auto;width:83.33333333%}.col-11{flex:0 0 auto;width:91.66666667%}.col-12{flex:0 0 auto;width:100%}.offset-1{margin-left:8.33333333%}.offset-2{margin-left:16.66666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.33333333%}.offset-5{margin-left:41.66666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.33333333%}.offset-8{margin-left:66.66666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.33333333%}.offset-11{margin-left:91.66666667%}.g-0,.gx-0{--bs-gutter-x:0}.g-0,.gy-0{--bs-gutter-y:0}.g-1,.gx-1{--bs-gutter-x:0.25rem}.g-1,.gy-1{--bs-gutter-y:0.25rem}.g-2,.gx-2{--bs-gutter-x:0.5rem}.g-2,.gy-2{--bs-gutter-y:0.5rem}.g-3,.gx-3{--bs-gutter-x:1rem}.g-3,.gy-3{--bs-gutter-y:1rem}.g-4,.gx-4{--bs-gutter-x:1.5rem}.g-4,.gy-4{--bs-gutter-y:1.5rem}.g-5,.gx-5{--bs-gutter-x:3rem}.g-5,.gy-5{--bs-gutter-y:3rem}@media (min-width:576px){.col-sm{flex:1 0 0%}.row-cols-sm-auto>*{flex:0 0 auto;width:auto}.row-cols-sm-1>*{flex:0 0 auto;width:100%}.row-cols-sm-2>*{flex:0 0 auto;width:50%}.row-cols-sm-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-sm-4>*{flex:0 0 auto;width:25%}.row-cols-sm-5>*{flex:0 0 auto;width:20%}.row-cols-sm-6>*{flex:0 0 auto;width:16.6666666667%}.col-sm-auto{flex:0 0 auto;width:auto}.col-sm-1{flex:0 0 auto;width:8.33333333%}.col-sm-2{flex:0 0 auto;width:16.66666667%}.col-sm-3{flex:0 0 auto;width:25%}.col-sm-4{flex:0 0 auto;width:33.33333333%}.col-sm-5{flex:0 0 auto;width:41.66666667%}.col-sm-6{flex:0 0 auto;width:50%}.col-sm-7{flex:0 0 auto;width:58.33333333%}.col-sm-8{flex:0 0 auto;width:66.66666667%}.col-sm-9{flex:0 0 auto;width:75%}.col-sm-10{flex:0 0 auto;width:83.33333333%}.col-sm-11{flex:0 0 auto;width:91.66666667%}.col-sm-12{flex:0 0 auto;width:100%}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.33333333%}.offset-sm-2{margin-left:16.66666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.33333333%}.offset-sm-5{margin-left:41.66666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.33333333%}.offset-sm-8{margin-left:66.66666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.33333333%}.offset-sm-11{margin-left:91.66666667%}.g-sm-0,.gx-sm-0{--bs-gutter-x:0}.g-sm-0,.gy-sm-0{--bs-gutter-y:0}.g-sm-1,.gx-sm-1{--bs-gutter-x:0.25rem}.g-sm-1,.gy-sm-1{--bs-gutter-y:0.25rem}.g-sm-2,.gx-sm-2{--bs-gutter-x:0.5rem}.g-sm-2,.gy-sm-2{--bs-gutter-y:0.5rem}.g-sm-3,.gx-sm-3{--bs-gutter-x:1rem}.g-sm-3,.gy-sm-3{--bs-gutter-y:1rem}.g-sm-4,.gx-sm-4{--bs-gutter-x:1.5rem}.g-sm-4,.gy-sm-4{--bs-gutter-y:1.5rem}.g-sm-5,.gx-sm-5{--bs-gutter-x:3rem}.g-sm-5,.gy-sm-5{--bs-gutter-y:3rem}}@media (min-width:768px){.col-md{flex:1 0 0%}.row-cols-md-auto>*{flex:0 0 auto;width:auto}.row-cols-md-1>*{flex:0 0 auto;width:100%}.row-cols-md-2>*{flex:0 0 auto;width:50%}.row-cols-md-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-md-4>*{flex:0 0 auto;width:25%}.row-cols-md-5>*{flex:0 0 auto;width:20%}.row-cols-md-6>*{flex:0 0 auto;width:16.6666666667%}.col-md-auto{flex:0 0 auto;width:auto}.col-md-1{flex:0 0 auto;width:8.33333333%}.col-md-2{flex:0 0 auto;width:16.66666667%}.col-md-3{flex:0 0 auto;width:25%}.col-md-4{flex:0 0 auto;width:33.33333333%}.col-md-5{flex:0 0 auto;width:41.66666667%}.col-md-6{flex:0 0 auto;width:50%}.col-md-7{flex:0 0 auto;width:58.33333333%}.col-md-8{flex:0 0 auto;width:66.66666667%}.col-md-9{flex:0 0 auto;width:75%}.col-md-10{flex:0 0 auto;width:83.33333333%}.col-md-11{flex:0 0 auto;width:91.66666667%}.col-md-12{flex:0 0 auto;width:100%}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.33333333%}.offset-md-2{margin-left:16.66666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.33333333%}.offset-md-5{margin-left:41.66666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.33333333%}.offset-md-8{margin-left:66.66666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.33333333%}.offset-md-11{margin-left:91.66666667%}.g-md-0,.gx-md-0{--bs-gutter-x:0}.g-md-0,.gy-md-0{--bs-gutter-y:0}.g-md-1,.gx-md-1{--bs-gutter-x:0.25rem}.g-md-1,.gy-md-1{--bs-gutter-y:0.25rem}.g-md-2,.gx-md-2{--bs-gutter-x:0.5rem}.g-md-2,.gy-md-2{--bs-gutter-y:0.5rem}.g-md-3,.gx-md-3{--bs-gutter-x:1rem}.g-md-3,.gy-md-3{--bs-gutter-y:1rem}.g-md-4,.gx-md-4{--bs-gutter-x:1.5rem}.g-md-4,.gy-md-4{--bs-gutter-y:1.5rem}.g-md-5,.gx-md-5{--bs-gutter-x:3rem}.g-md-5,.gy-md-5{--bs-gutter-y:3rem}}@media (min-width:992px){.col-lg{flex:1 0 0%}.row-cols-lg-auto>*{flex:0 0 auto;width:auto}.row-cols-lg-1>*{flex:0 0 auto;width:100%}.row-cols-lg-2>*{flex:0 0 auto;width:50%}.row-cols-lg-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-lg-4>*{flex:0 0 auto;width:25%}.row-cols-lg-5>*{flex:0 0 auto;width:20%}.row-cols-lg-6>*{flex:0 0 auto;width:16.6666666667%}.col-lg-auto{flex:0 0 auto;width:auto}.col-lg-1{flex:0 0 auto;width:8.33333333%}.col-lg-2{flex:0 0 auto;width:16.66666667%}.col-lg-3{flex:0 0 auto;width:25%}.col-lg-4{flex:0 0 auto;width:33.33333333%}.col-lg-5{flex:0 0 auto;width:41.66666667%}.col-lg-6{flex:0 0 auto;width:50%}.col-lg-7{flex:0 0 auto;width:58.33333333%}.col-lg-8{flex:0 0 auto;width:66.66666667%}.col-lg-9{flex:0 0 auto;width:75%}.col-lg-10{flex:0 0 auto;width:83.33333333%}.col-lg-11{flex:0 0 auto;width:91.66666667%}.col-lg-12{flex:0 0 auto;width:100%}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.33333333%}.offset-lg-2{margin-left:16.66666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.33333333%}.offset-lg-5{margin-left:41.66666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.33333333%}.offset-lg-8{margin-left:66.66666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.33333333%}.offset-lg-11{margin-left:91.66666667%}.g-lg-0,.gx-lg-0{--bs-gutter-x:0}.g-lg-0,.gy-lg-0{--bs-gutter-y:0}.g-lg-1,.gx-lg-1{--bs-gutter-x:0.25rem}.g-lg-1,.gy-lg-1{--bs-gutter-y:0.25rem}.g-lg-2,.gx-lg-2{--bs-gutter-x:0.5rem}.g-lg-2,.gy-lg-2{--bs-gutter-y:0.5rem}.g-lg-3,.gx-lg-3{--bs-gutter-x:1rem}.g-lg-3,.gy-lg-3{--bs-gutter-y:1rem}.g-lg-4,.gx-lg-4{--bs-gutter-x:1.5rem}.g-lg-4,.gy-lg-4{--bs-gutter-y:1.5rem}.g-lg-5,.gx-lg-5{--bs-gutter-x:3rem}.g-lg-5,.gy-lg-5{--bs-gutter-y:3rem}}@media (min-width:1200px){.col-xl{flex:1 0 0%}.row-cols-xl-auto>*{flex:0 0 auto;width:auto}.row-cols-xl-1>*{flex:0 0 auto;width:100%}.row-cols-xl-2>*{flex:0 0 auto;width:50%}.row-cols-xl-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-xl-4>*{flex:0 0 auto;width:25%}.row-cols-xl-5>*{flex:0 0 auto;width:20%}.row-cols-xl-6>*{flex:0 0 auto;width:16.6666666667%}.col-xl-auto{flex:0 0 auto;width:auto}.col-xl-1{flex:0 0 auto;width:8.33333333%}.col-xl-2{flex:0 0 auto;width:16.66666667%}.col-xl-3{flex:0 0 auto;width:25%}.col-xl-4{flex:0 0 auto;width:33.33333333%}.col-xl-5{flex:0 0 auto;width:41.66666667%}.col-xl-6{flex:0 0 auto;width:50%}.col-xl-7{flex:0 0 auto;width:58.33333333%}.col-xl-8{flex:0 0 auto;width:66.66666667%}.col-xl-9{flex:0 0 auto;width:75%}.col-xl-10{flex:0 0 auto;width:83.33333333%}.col-xl-11{flex:0 0 auto;width:91.66666667%}.col-xl-12{flex:0 0 auto;width:100%}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.33333333%}.offset-xl-2{margin-left:16.66666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.33333333%}.offset-xl-5{margin-left:41.66666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.33333333%}.offset-xl-8{margin-left:66.66666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.33333333%}.offset-xl-11{margin-left:91.66666667%}.g-xl-0,.gx-xl-0{--bs-gutter-x:0}.g-xl-0,.gy-xl-0{--bs-gutter-y:0}.g-xl-1,.gx-xl-1{--bs-gutter-x:0.25rem}.g-xl-1,.gy-xl-1{--bs-gutter-y:0.25rem}.g-xl-2,.gx-xl-2{--bs-gutter-x:0.5rem}.g-xl-2,.gy-xl-2{--bs-gutter-y:0.5rem}.g-xl-3,.gx-xl-3{--bs-gutter-x:1rem}.g-xl-3,.gy-xl-3{--bs-gutter-y:1rem}.g-xl-4,.gx-xl-4{--bs-gutter-x:1.5rem}.g-xl-4,.gy-xl-4{--bs-gutter-y:1.5rem}.g-xl-5,.gx-xl-5{--bs-gutter-x:3rem}.g-xl-5,.gy-xl-5{--bs-gutter-y:3rem}}@media (min-width:1400px){.col-xxl{flex:1 0 0%}.row-cols-xxl-auto>*{flex:0 0 auto;width:auto}.row-cols-xxl-1>*{flex:0 0 auto;width:100%}.row-cols-xxl-2>*{flex:0 0 auto;width:50%}.row-cols-xxl-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-xxl-4>*{flex:0 0 auto;width:25%}.row-cols-xxl-5>*{flex:0 0 auto;width:20%}.row-cols-xxl-6>*{flex:0 0 auto;width:16.6666666667%}.col-xxl-auto{flex:0 0 auto;width:auto}.col-xxl-1{flex:0 0 auto;width:8.33333333%}.col-xxl-2{flex:0 0 auto;width:16.66666667%}.col-xxl-3{flex:0 0 auto;width:25%}.col-xxl-4{flex:0 0 auto;width:33.33333333%}.col-xxl-5{flex:0 0 auto;width:41.66666667%}.col-xxl-6{flex:0 0 auto;width:50%}.col-xxl-7{flex:0 0 auto;width:58.33333333%}.col-xxl-8{flex:0 0 auto;width:66.66666667%}.col-xxl-9{flex:0 0 auto;width:75%}.col-xxl-10{flex:0 0 auto;width:83.33333333%}.col-xxl-11{flex:0 0 auto;width:91.66666667%}.col-xxl-12{flex:0 0 auto;width:100%}.offset-xxl-0{margin-left:0}.offset-xxl-1{margin-left:8.33333333%}.offset-xxl-2{margin-left:16.66666667%}.offset-xxl-3{margin-left:25%}.offset-xxl-4{margin-left:33.33333333%}.offset-xxl-5{margin-left:41.66666667%}.offset-xxl-6{margin-left:50%}.offset-xxl-7{margin-left:58.33333333%}.offset-xxl-8{margin-left:66.66666667%}.offset-xxl-9{margin-left:75%}.offset-xxl-10{margin-left:83.33333333%}.offset-xxl-11{margin-left:91.66666667%}.g-xxl-0,.gx-xxl-0{--bs-gutter-x:0}.g-xxl-0,.gy-xxl-0{--bs-gutter-y:0}.g-xxl-1,.gx-xxl-1{--bs-gutter-x:0.25rem}.g-xxl-1,.gy-xxl-1{--bs-gutter-y:0.25rem}.g-xxl-2,.gx-xxl-2{--bs-gutter-x:0.5rem}.g-xxl-2,.gy-xxl-2{--bs-gutter-y:0.5rem}.g-xxl-3,.gx-xxl-3{--bs-gutter-x:1rem}.g-xxl-3,.gy-xxl-3{--bs-gutter-y:1rem}.g-xxl-4,.gx-xxl-4{--bs-gutter-x:1.5rem}.g-xxl-4,.gy-xxl-4{--bs-gutter-y:1.5rem}.g-xxl-5,.gx-xxl-5{--bs-gutter-x:3rem}.g-xxl-5,.gy-xxl-5{--bs-gutter-y:3rem}}.table{--bs-table-bg:transparent;--bs-table-accent-bg:transparent;--bs-table-striped-color:#212529;--bs-table-striped-bg:rgba(0, 0, 0, 0.05);--bs-table-active-color:#212529;--bs-table-active-bg:rgba(0, 0, 0, 0.1);--bs-table-hover-color:#212529;--bs-table-hover-bg:rgba(0, 0, 0, 0.075);width:100%;margin-bottom:1rem;color:#212529;vertical-align:top;border-color:#dee2e6}.table>:not(caption)>*>*{padding:.5rem .5rem;background-color:var(--bs-table-bg);border-bottom-width:1px;box-shadow:inset 0 0 0 9999px var(--bs-table-accent-bg)}.table>tbody{vertical-align:inherit}.table>thead{vertical-align:bottom}.table>:not(:last-child)>:last-child>*{border-bottom-color:currentColor}.caption-top{caption-side:top}.table-sm>:not(caption)>*>*{padding:.25rem .25rem}.table-bordered>:not(caption)>*{border-width:1px 0}.table-bordered>:not(caption)>*>*{border-width:0 1px}.table-borderless>:not(caption)>*>*{border-bottom-width:0}.table-striped>tbody>tr:nth-of-type(odd){--bs-table-accent-bg:var(--bs-table-striped-bg);color:var(--bs-table-striped-color)}.table-active{--bs-table-accent-bg:var(--bs-table-active-bg);color:var(--bs-table-active-color)}.table-hover>tbody>tr:hover{--bs-table-accent-bg:var(--bs-table-hover-bg);color:var(--bs-table-hover-color)}.table-primary{--bs-table-bg:#cfe2ff;--bs-table-striped-bg:#c5d7f2;--bs-table-striped-color:#000;--bs-table-active-bg:#bacbe6;--bs-table-active-color:#000;--bs-table-hover-bg:#bfd1ec;--bs-table-hover-color:#000;color:#000;border-color:#bacbe6}.table-secondary{--bs-table-bg:#e2e3e5;--bs-table-striped-bg:#d7d8da;--bs-table-striped-color:#000;--bs-table-active-bg:#cbccce;--bs-table-active-color:#000;--bs-table-hover-bg:#d1d2d4;--bs-table-hover-color:#000;color:#000;border-color:#cbccce}.table-success{--bs-table-bg:#d1e7dd;--bs-table-striped-bg:#c7dbd2;--bs-table-striped-color:#000;--bs-table-active-bg:#bcd0c7;--bs-table-active-color:#000;--bs-table-hover-bg:#c1d6cc;--bs-table-hover-color:#000;color:#000;border-color:#bcd0c7}.table-info{--bs-table-bg:#cff4fc;--bs-table-striped-bg:#c5e8ef;--bs-table-striped-color:#000;--bs-table-active-bg:#badce3;--bs-table-active-color:#000;--bs-table-hover-bg:#bfe2e9;--bs-table-hover-color:#000;color:#000;border-color:#badce3}.table-warning{--bs-table-bg:#fff3cd;--bs-table-striped-bg:#f2e7c3;--bs-table-striped-color:#000;--bs-table-active-bg:#e6dbb9;--bs-table-active-color:#000;--bs-table-hover-bg:#ece1be;--bs-table-hover-color:#000;color:#000;border-color:#e6dbb9}.table-danger{--bs-table-bg:#f8d7da;--bs-table-striped-bg:#eccccf;--bs-table-striped-color:#000;--bs-table-active-bg:#dfc2c4;--bs-table-active-color:#000;--bs-table-hover-bg:#e5c7ca;--bs-table-hover-color:#000;color:#000;border-color:#dfc2c4}.table-light{--bs-table-bg:#f8f9fa;--bs-table-striped-bg:#ecedee;--bs-table-striped-color:#000;--bs-table-active-bg:#dfe0e1;--bs-table-active-color:#000;--bs-table-hover-bg:#e5e6e7;--bs-table-hover-color:#000;color:#000;border-color:#dfe0e1}.table-dark{--bs-table-bg:#212529;--bs-table-striped-bg:#2c3034;--bs-table-striped-color:#fff;--bs-table-active-bg:#373b3e;--bs-table-active-color:#fff;--bs-table-hover-bg:#323539;--bs-table-hover-color:#fff;color:#fff;border-color:#373b3e}.table-responsive{overflow-x:auto;-webkit-overflow-scrolling:touch}@media (max-width:575.98px){.table-responsive-sm{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:767.98px){.table-responsive-md{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:991.98px){.table-responsive-lg{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:1199.98px){.table-responsive-xl{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:1399.98px){.table-responsive-xxl{overflow-x:auto;-webkit-overflow-scrolling:touch}}.form-label{margin-bottom:.5rem}.col-form-label{padding-top:calc(.375rem + 1px);padding-bottom:calc(.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1.25rem}.col-form-label-sm{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.875rem}.form-text{margin-top:.25rem;font-size:.875em;color:#6c757d}.form-control{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control{transition:none}}.form-control[type=file]{overflow:hidden}.form-control[type=file]:not(:disabled):not([readonly]){cursor:pointer}.form-control:focus{color:#212529;background-color:#fff;border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-control::-webkit-date-and-time-value{height:1.5em}.form-control::-moz-placeholder{color:#6c757d;opacity:1}.form-control::placeholder{color:#6c757d;opacity:1}.form-control:disabled,.form-control[readonly]{background-color:#e9ecef;opacity:1}.form-control::file-selector-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control::file-selector-button{transition:none}}.form-control:hover:not(:disabled):not([readonly])::file-selector-button{background-color:#dde0e3}.form-control::-webkit-file-upload-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control::-webkit-file-upload-button{-webkit-transition:none;transition:none}}.form-control:hover:not(:disabled):not([readonly])::-webkit-file-upload-button{background-color:#dde0e3}.form-control-plaintext{display:block;width:100%;padding:.375rem 0;margin-bottom:0;line-height:1.5;color:#212529;background-color:transparent;border:solid transparent;border-width:1px 0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm{padding-right:0;padding-left:0}.form-control-sm{min-height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.form-control-sm::file-selector-button{padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-sm::-webkit-file-upload-button{padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-lg{min-height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.form-control-lg::file-selector-button{padding:.5rem 1rem;margin:-.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}.form-control-lg::-webkit-file-upload-button{padding:.5rem 1rem;margin:-.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}textarea.form-control{min-height:calc(1.5em + .75rem + 2px)}textarea.form-control-sm{min-height:calc(1.5em + .5rem + 2px)}textarea.form-control-lg{min-height:calc(1.5em + 1rem + 2px)}.form-control-color{width:3rem;height:auto;padding:.375rem}.form-control-color:not(:disabled):not([readonly]){cursor:pointer}.form-control-color::-moz-color-swatch{height:1.5em;border-radius:.25rem}.form-control-color::-webkit-color-swatch{height:1.5em;border-radius:.25rem}.form-select{display:block;width:100%;padding:.375rem 2.25rem .375rem .75rem;-moz-padding-start:calc(0.75rem - 3px);font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-select{transition:none}}.form-select:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-select[multiple],.form-select[size]:not([size="1"]){padding-right:.75rem;background-image:none}.form-select:disabled{background-color:#e9ecef}.form-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #212529}.form-select-sm{padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem}.form-select-lg{padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.form-check{display:block;min-height:1.5rem;padding-left:1.5em;margin-bottom:.125rem}.form-check .form-check-input{float:left;margin-left:-1.5em}.form-check-input{width:1em;height:1em;margin-top:.25em;vertical-align:top;background-color:#fff;background-repeat:no-repeat;background-position:center;background-size:contain;border:1px solid rgba(0,0,0,.25);-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-print-color-adjust:exact;color-adjust:exact}.form-check-input[type=checkbox]{border-radius:.25em}.form-check-input[type=radio]{border-radius:50%}.form-check-input:active{filter:brightness(90%)}.form-check-input:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-check-input:checked{background-color:#0d6efd;border-color:#0d6efd}.form-check-input:checked[type=checkbox]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10l3 3l6-6'/%3e%3c/svg%3e")}.form-check-input:checked[type=radio]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e")}.form-check-input[type=checkbox]:indeterminate{background-color:#0d6efd;border-color:#0d6efd;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10h8'/%3e%3c/svg%3e")}.form-check-input:disabled{pointer-events:none;filter:none;opacity:.5}.form-check-input:disabled~.form-check-label,.form-check-input[disabled]~.form-check-label{opacity:.5}.form-switch{padding-left:2.5em}.form-switch .form-check-input{width:2em;margin-left:-2.5em;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e");background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-switch .form-check-input{transition:none}}.form-switch .form-check-input:focus{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%2386b7fe'/%3e%3c/svg%3e")}.form-switch .form-check-input:checked{background-position:right center;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e")}.form-check-inline{display:inline-block;margin-right:1rem}.btn-check{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.btn-check:disabled+.btn,.btn-check[disabled]+.btn{pointer-events:none;filter:none;opacity:.65}.form-range{width:100%;height:1.5rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.form-range:focus{outline:0}.form-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem rgba(13,110,253,.25)}.form-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem rgba(13,110,253,.25)}.form-range::-moz-focus-outer{border:0}.form-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#0d6efd;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.form-range::-webkit-slider-thumb:active{background-color:#b6d4fe}.form-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#0d6efd;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-range::-moz-range-thumb{-moz-transition:none;transition:none}}.form-range::-moz-range-thumb:active{background-color:#b6d4fe}.form-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range:disabled{pointer-events:none}.form-range:disabled::-webkit-slider-thumb{background-color:#adb5bd}.form-range:disabled::-moz-range-thumb{background-color:#adb5bd}.form-floating{position:relative}.form-floating>.form-control,.form-floating>.form-select{height:calc(3.5rem + 2px);line-height:1.25}.form-floating>label{position:absolute;top:0;left:0;height:100%;padding:1rem .75rem;pointer-events:none;border:1px solid transparent;transform-origin:0 0;transition:opacity .1s ease-in-out,transform .1s ease-in-out}@media (prefers-reduced-motion:reduce){.form-floating>label{transition:none}}.form-floating>.form-control{padding:1rem .75rem}.form-floating>.form-control::-moz-placeholder{color:transparent}.form-floating>.form-control::placeholder{color:transparent}.form-floating>.form-control:not(:-moz-placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control:focus,.form-floating>.form-control:not(:placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control:-webkit-autofill{padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-select{padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control:not(:-moz-placeholder-shown)~label{opacity:.65;transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.form-floating>.form-control:focus~label,.form-floating>.form-control:not(:placeholder-shown)~label,.form-floating>.form-select~label{opacity:.65;transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.form-floating>.form-control:-webkit-autofill~label{opacity:.65;transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.input-group{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group>.form-control,.input-group>.form-select{position:relative;flex:1 1 auto;width:1%;min-width:0}.input-group>.form-control:focus,.input-group>.form-select:focus{z-index:3}.input-group .btn{position:relative;z-index:2}.input-group .btn:focus{z-index:3}.input-group-text{display:flex;align-items:center;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-lg>.btn,.input-group-lg>.form-control,.input-group-lg>.form-select,.input-group-lg>.input-group-text{padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.input-group-sm>.btn,.input-group-sm>.form-control,.input-group-sm>.form-select,.input-group-sm>.input-group-text{padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.input-group-lg>.form-select,.input-group-sm>.form-select{padding-right:3rem}.input-group:not(.has-validation)>.dropdown-toggle:nth-last-child(n+3),.input-group:not(.has-validation)>:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu){border-top-right-radius:0;border-bottom-right-radius:0}.input-group.has-validation>.dropdown-toggle:nth-last-child(n+4),.input-group.has-validation>:nth-last-child(n+3):not(.dropdown-toggle):not(.dropdown-menu){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#198754}.valid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:rgba(25,135,84,.9);border-radius:.25rem}.is-valid~.valid-feedback,.is-valid~.valid-tooltip,.was-validated :valid~.valid-feedback,.was-validated :valid~.valid-tooltip{display:block}.form-control.is-valid,.was-validated .form-control:valid{border-color:#198754;padding-right:calc(1.5em + .75rem);background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-valid:focus,.was-validated .form-control:valid:focus{border-color:#198754;box-shadow:0 0 0 .25rem rgba(25,135,84,.25)}.was-validated textarea.form-control:valid,textarea.form-control.is-valid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-valid,.was-validated .form-select:valid{border-color:#198754}.form-select.is-valid:not([multiple]):not([size]),.form-select.is-valid:not([multiple])[size="1"],.was-validated .form-select:valid:not([multiple]):not([size]),.was-validated .form-select:valid:not([multiple])[size="1"]{padding-right:4.125rem;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e"),url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-valid:focus,.was-validated .form-select:valid:focus{border-color:#198754;box-shadow:0 0 0 .25rem rgba(25,135,84,.25)}.form-check-input.is-valid,.was-validated .form-check-input:valid{border-color:#198754}.form-check-input.is-valid:checked,.was-validated .form-check-input:valid:checked{background-color:#198754}.form-check-input.is-valid:focus,.was-validated .form-check-input:valid:focus{box-shadow:0 0 0 .25rem rgba(25,135,84,.25)}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:#198754}.form-check-inline .form-check-input~.valid-feedback{margin-left:.5em}.input-group .form-control.is-valid,.input-group .form-select.is-valid,.was-validated .input-group .form-control:valid,.was-validated .input-group .form-select:valid{z-index:1}.input-group .form-control.is-valid:focus,.input-group .form-select.is-valid:focus,.was-validated .input-group .form-control:valid:focus,.was-validated .input-group .form-select:valid:focus{z-index:3}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#dc3545}.invalid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:rgba(220,53,69,.9);border-radius:.25rem}.is-invalid~.invalid-feedback,.is-invalid~.invalid-tooltip,.was-validated :invalid~.invalid-feedback,.was-validated :invalid~.invalid-tooltip{display:block}.form-control.is-invalid,.was-validated .form-control:invalid{border-color:#dc3545;padding-right:calc(1.5em + .75rem);background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-invalid:focus,.was-validated .form-control:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}.was-validated textarea.form-control:invalid,textarea.form-control.is-invalid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-invalid,.was-validated .form-select:invalid{border-color:#dc3545}.form-select.is-invalid:not([multiple]):not([size]),.form-select.is-invalid:not([multiple])[size="1"],.was-validated .form-select:invalid:not([multiple]):not([size]),.was-validated .form-select:invalid:not([multiple])[size="1"]{padding-right:4.125rem;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e"),url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-invalid:focus,.was-validated .form-select:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}.form-check-input.is-invalid,.was-validated .form-check-input:invalid{border-color:#dc3545}.form-check-input.is-invalid:checked,.was-validated .form-check-input:invalid:checked{background-color:#dc3545}.form-check-input.is-invalid:focus,.was-validated .form-check-input:invalid:focus{box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:#dc3545}.form-check-inline .form-check-input~.invalid-feedback{margin-left:.5em}.input-group .form-control.is-invalid,.input-group .form-select.is-invalid,.was-validated .input-group .form-control:invalid,.was-validated .input-group .form-select:invalid{z-index:2}.input-group .form-control.is-invalid:focus,.input-group .form-select.is-invalid:focus,.was-validated .input-group .form-control:invalid:focus,.was-validated .input-group .form-select:invalid:focus{z-index:3}.btn{display:inline-block;font-weight:400;line-height:1.5;color:#212529;text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529}.btn-check:focus+.btn,.btn:focus{outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.btn.disabled,.btn:disabled,fieldset:disabled .btn{pointer-events:none;opacity:.65}.btn-primary{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-primary:hover{color:#fff;background-color:#0b5ed7;border-color:#0a58ca}.btn-check:focus+.btn-primary,.btn-primary:focus{color:#fff;background-color:#0b5ed7;border-color:#0a58ca;box-shadow:0 0 0 .25rem rgba(49,132,253,.5)}.btn-check:active+.btn-primary,.btn-check:checked+.btn-primary,.btn-primary.active,.btn-primary:active,.show>.btn-primary.dropdown-toggle{color:#fff;background-color:#0a58ca;border-color:#0a53be}.btn-check:active+.btn-primary:focus,.btn-check:checked+.btn-primary:focus,.btn-primary.active:focus,.btn-primary:active:focus,.show>.btn-primary.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(49,132,253,.5)}.btn-primary.disabled,.btn-primary:disabled{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-secondary{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:hover{color:#fff;background-color:#5c636a;border-color:#565e64}.btn-check:focus+.btn-secondary,.btn-secondary:focus{color:#fff;background-color:#5c636a;border-color:#565e64;box-shadow:0 0 0 .25rem rgba(130,138,145,.5)}.btn-check:active+.btn-secondary,.btn-check:checked+.btn-secondary,.btn-secondary.active,.btn-secondary:active,.show>.btn-secondary.dropdown-toggle{color:#fff;background-color:#565e64;border-color:#51585e}.btn-check:active+.btn-secondary:focus,.btn-check:checked+.btn-secondary:focus,.btn-secondary.active:focus,.btn-secondary:active:focus,.show>.btn-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(130,138,145,.5)}.btn-secondary.disabled,.btn-secondary:disabled{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-success{color:#fff;background-color:#198754;border-color:#198754}.btn-success:hover{color:#fff;background-color:#157347;border-color:#146c43}.btn-check:focus+.btn-success,.btn-success:focus{color:#fff;background-color:#157347;border-color:#146c43;box-shadow:0 0 0 .25rem rgba(60,153,110,.5)}.btn-check:active+.btn-success,.btn-check:checked+.btn-success,.btn-success.active,.btn-success:active,.show>.btn-success.dropdown-toggle{color:#fff;background-color:#146c43;border-color:#13653f}.btn-check:active+.btn-success:focus,.btn-check:checked+.btn-success:focus,.btn-success.active:focus,.btn-success:active:focus,.show>.btn-success.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(60,153,110,.5)}.btn-success.disabled,.btn-success:disabled{color:#fff;background-color:#198754;border-color:#198754}.btn-info{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-info:hover{color:#000;background-color:#31d2f2;border-color:#25cff2}.btn-check:focus+.btn-info,.btn-info:focus{color:#000;background-color:#31d2f2;border-color:#25cff2;box-shadow:0 0 0 .25rem rgba(11,172,204,.5)}.btn-check:active+.btn-info,.btn-check:checked+.btn-info,.btn-info.active,.btn-info:active,.show>.btn-info.dropdown-toggle{color:#000;background-color:#3dd5f3;border-color:#25cff2}.btn-check:active+.btn-info:focus,.btn-check:checked+.btn-info:focus,.btn-info.active:focus,.btn-info:active:focus,.show>.btn-info.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(11,172,204,.5)}.btn-info.disabled,.btn-info:disabled{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-warning{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#000;background-color:#ffca2c;border-color:#ffc720}.btn-check:focus+.btn-warning,.btn-warning:focus{color:#000;background-color:#ffca2c;border-color:#ffc720;box-shadow:0 0 0 .25rem rgba(217,164,6,.5)}.btn-check:active+.btn-warning,.btn-check:checked+.btn-warning,.btn-warning.active,.btn-warning:active,.show>.btn-warning.dropdown-toggle{color:#000;background-color:#ffcd39;border-color:#ffc720}.btn-check:active+.btn-warning:focus,.btn-check:checked+.btn-warning:focus,.btn-warning.active:focus,.btn-warning:active:focus,.show>.btn-warning.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(217,164,6,.5)}.btn-warning.disabled,.btn-warning:disabled{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-danger{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:hover{color:#fff;background-color:#bb2d3b;border-color:#b02a37}.btn-check:focus+.btn-danger,.btn-danger:focus{color:#fff;background-color:#bb2d3b;border-color:#b02a37;box-shadow:0 0 0 .25rem rgba(225,83,97,.5)}.btn-check:active+.btn-danger,.btn-check:checked+.btn-danger,.btn-danger.active,.btn-danger:active,.show>.btn-danger.dropdown-toggle{color:#fff;background-color:#b02a37;border-color:#a52834}.btn-check:active+.btn-danger:focus,.btn-check:checked+.btn-danger:focus,.btn-danger.active:focus,.btn-danger:active:focus,.show>.btn-danger.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(225,83,97,.5)}.btn-danger.disabled,.btn-danger:disabled{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-light{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#000;background-color:#f9fafb;border-color:#f9fafb}.btn-check:focus+.btn-light,.btn-light:focus{color:#000;background-color:#f9fafb;border-color:#f9fafb;box-shadow:0 0 0 .25rem rgba(211,212,213,.5)}.btn-check:active+.btn-light,.btn-check:checked+.btn-light,.btn-light.active,.btn-light:active,.show>.btn-light.dropdown-toggle{color:#000;background-color:#f9fafb;border-color:#f9fafb}.btn-check:active+.btn-light:focus,.btn-check:checked+.btn-light:focus,.btn-light.active:focus,.btn-light:active:focus,.show>.btn-light.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(211,212,213,.5)}.btn-light.disabled,.btn-light:disabled{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-dark{color:#fff;background-color:#212529;border-color:#212529}.btn-dark:hover{color:#fff;background-color:#1c1f23;border-color:#1a1e21}.btn-check:focus+.btn-dark,.btn-dark:focus{color:#fff;background-color:#1c1f23;border-color:#1a1e21;box-shadow:0 0 0 .25rem rgba(66,70,73,.5)}.btn-check:active+.btn-dark,.btn-check:checked+.btn-dark,.btn-dark.active,.btn-dark:active,.show>.btn-dark.dropdown-toggle{color:#fff;background-color:#1a1e21;border-color:#191c1f}.btn-check:active+.btn-dark:focus,.btn-check:checked+.btn-dark:focus,.btn-dark.active:focus,.btn-dark:active:focus,.show>.btn-dark.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(66,70,73,.5)}.btn-dark.disabled,.btn-dark:disabled{color:#fff;background-color:#212529;border-color:#212529}.btn-outline-primary{color:#0d6efd;border-color:#0d6efd}.btn-outline-primary:hover{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-check:focus+.btn-outline-primary,.btn-outline-primary:focus{box-shadow:0 0 0 .25rem rgba(13,110,253,.5)}.btn-check:active+.btn-outline-primary,.btn-check:checked+.btn-outline-primary,.btn-outline-primary.active,.btn-outline-primary.dropdown-toggle.show,.btn-outline-primary:active{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-check:active+.btn-outline-primary:focus,.btn-check:checked+.btn-outline-primary:focus,.btn-outline-primary.active:focus,.btn-outline-primary.dropdown-toggle.show:focus,.btn-outline-primary:active:focus{box-shadow:0 0 0 .25rem rgba(13,110,253,.5)}.btn-outline-primary.disabled,.btn-outline-primary:disabled{color:#0d6efd;background-color:transparent}.btn-outline-secondary{color:#6c757d;border-color:#6c757d}.btn-outline-secondary:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-check:focus+.btn-outline-secondary,.btn-outline-secondary:focus{box-shadow:0 0 0 .25rem rgba(108,117,125,.5)}.btn-check:active+.btn-outline-secondary,.btn-check:checked+.btn-outline-secondary,.btn-outline-secondary.active,.btn-outline-secondary.dropdown-toggle.show,.btn-outline-secondary:active{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-check:active+.btn-outline-secondary:focus,.btn-check:checked+.btn-outline-secondary:focus,.btn-outline-secondary.active:focus,.btn-outline-secondary.dropdown-toggle.show:focus,.btn-outline-secondary:active:focus{box-shadow:0 0 0 .25rem rgba(108,117,125,.5)}.btn-outline-secondary.disabled,.btn-outline-secondary:disabled{color:#6c757d;background-color:transparent}.btn-outline-success{color:#198754;border-color:#198754}.btn-outline-success:hover{color:#fff;background-color:#198754;border-color:#198754}.btn-check:focus+.btn-outline-success,.btn-outline-success:focus{box-shadow:0 0 0 .25rem rgba(25,135,84,.5)}.btn-check:active+.btn-outline-success,.btn-check:checked+.btn-outline-success,.btn-outline-success.active,.btn-outline-success.dropdown-toggle.show,.btn-outline-success:active{color:#fff;background-color:#198754;border-color:#198754}.btn-check:active+.btn-outline-success:focus,.btn-check:checked+.btn-outline-success:focus,.btn-outline-success.active:focus,.btn-outline-success.dropdown-toggle.show:focus,.btn-outline-success:active:focus{box-shadow:0 0 0 .25rem rgba(25,135,84,.5)}.btn-outline-success.disabled,.btn-outline-success:disabled{color:#198754;background-color:transparent}.btn-outline-info{color:#0dcaf0;border-color:#0dcaf0}.btn-outline-info:hover{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-check:focus+.btn-outline-info,.btn-outline-info:focus{box-shadow:0 0 0 .25rem rgba(13,202,240,.5)}.btn-check:active+.btn-outline-info,.btn-check:checked+.btn-outline-info,.btn-outline-info.active,.btn-outline-info.dropdown-toggle.show,.btn-outline-info:active{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-check:active+.btn-outline-info:focus,.btn-check:checked+.btn-outline-info:focus,.btn-outline-info.active:focus,.btn-outline-info.dropdown-toggle.show:focus,.btn-outline-info:active:focus{box-shadow:0 0 0 .25rem rgba(13,202,240,.5)}.btn-outline-info.disabled,.btn-outline-info:disabled{color:#0dcaf0;background-color:transparent}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-check:focus+.btn-outline-warning,.btn-outline-warning:focus{box-shadow:0 0 0 .25rem rgba(255,193,7,.5)}.btn-check:active+.btn-outline-warning,.btn-check:checked+.btn-outline-warning,.btn-outline-warning.active,.btn-outline-warning.dropdown-toggle.show,.btn-outline-warning:active{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-check:active+.btn-outline-warning:focus,.btn-check:checked+.btn-outline-warning:focus,.btn-outline-warning.active:focus,.btn-outline-warning.dropdown-toggle.show:focus,.btn-outline-warning:active:focus{box-shadow:0 0 0 .25rem rgba(255,193,7,.5)}.btn-outline-warning.disabled,.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-danger{color:#dc3545;border-color:#dc3545}.btn-outline-danger:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-check:focus+.btn-outline-danger,.btn-outline-danger:focus{box-shadow:0 0 0 .25rem rgba(220,53,69,.5)}.btn-check:active+.btn-outline-danger,.btn-check:checked+.btn-outline-danger,.btn-outline-danger.active,.btn-outline-danger.dropdown-toggle.show,.btn-outline-danger:active{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-check:active+.btn-outline-danger:focus,.btn-check:checked+.btn-outline-danger:focus,.btn-outline-danger.active:focus,.btn-outline-danger.dropdown-toggle.show:focus,.btn-outline-danger:active:focus{box-shadow:0 0 0 .25rem rgba(220,53,69,.5)}.btn-outline-danger.disabled,.btn-outline-danger:disabled{color:#dc3545;background-color:transparent}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-check:focus+.btn-outline-light,.btn-outline-light:focus{box-shadow:0 0 0 .25rem rgba(248,249,250,.5)}.btn-check:active+.btn-outline-light,.btn-check:checked+.btn-outline-light,.btn-outline-light.active,.btn-outline-light.dropdown-toggle.show,.btn-outline-light:active{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-check:active+.btn-outline-light:focus,.btn-check:checked+.btn-outline-light:focus,.btn-outline-light.active:focus,.btn-outline-light.dropdown-toggle.show:focus,.btn-outline-light:active:focus{box-shadow:0 0 0 .25rem rgba(248,249,250,.5)}.btn-outline-light.disabled,.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-dark{color:#212529;border-color:#212529}.btn-outline-dark:hover{color:#fff;background-color:#212529;border-color:#212529}.btn-check:focus+.btn-outline-dark,.btn-outline-dark:focus{box-shadow:0 0 0 .25rem rgba(33,37,41,.5)}.btn-check:active+.btn-outline-dark,.btn-check:checked+.btn-outline-dark,.btn-outline-dark.active,.btn-outline-dark.dropdown-toggle.show,.btn-outline-dark:active{color:#fff;background-color:#212529;border-color:#212529}.btn-check:active+.btn-outline-dark:focus,.btn-check:checked+.btn-outline-dark:focus,.btn-outline-dark.active:focus,.btn-outline-dark.dropdown-toggle.show:focus,.btn-outline-dark:active:focus{box-shadow:0 0 0 .25rem rgba(33,37,41,.5)}.btn-outline-dark.disabled,.btn-outline-dark:disabled{color:#212529;background-color:transparent}.btn-link{font-weight:400;color:#0d6efd;text-decoration:underline}.btn-link:hover{color:#0a58ca}.btn-link.disabled,.btn-link:disabled{color:#6c757d}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.btn-group-sm>.btn,.btn-sm{padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.fade{transition:opacity .15s linear}@media (prefers-reduced-motion:reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.collapsing{height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion:reduce){.collapsing{transition:none}}.collapsing.collapse-horizontal{width:0;height:auto;transition:width .35s ease}@media (prefers-reduced-motion:reduce){.collapsing.collapse-horizontal{transition:none}}.dropdown,.dropend,.dropstart,.dropup{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{position:absolute;z-index:1000;display:none;min-width:10rem;padding:.5rem 0;margin:0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}.dropdown-menu[data-bs-popper]{top:100%;left:0;margin-top:.125rem}.dropdown-menu-start{--bs-position:start}.dropdown-menu-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-end{--bs-position:end}.dropdown-menu-end[data-bs-popper]{right:0;left:auto}@media (min-width:576px){.dropdown-menu-sm-start{--bs-position:start}.dropdown-menu-sm-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-sm-end{--bs-position:end}.dropdown-menu-sm-end[data-bs-popper]{right:0;left:auto}}@media (min-width:768px){.dropdown-menu-md-start{--bs-position:start}.dropdown-menu-md-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-md-end{--bs-position:end}.dropdown-menu-md-end[data-bs-popper]{right:0;left:auto}}@media (min-width:992px){.dropdown-menu-lg-start{--bs-position:start}.dropdown-menu-lg-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-lg-end{--bs-position:end}.dropdown-menu-lg-end[data-bs-popper]{right:0;left:auto}}@media (min-width:1200px){.dropdown-menu-xl-start{--bs-position:start}.dropdown-menu-xl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xl-end{--bs-position:end}.dropdown-menu-xl-end[data-bs-popper]{right:0;left:auto}}@media (min-width:1400px){.dropdown-menu-xxl-start{--bs-position:start}.dropdown-menu-xxl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xxl-end{--bs-position:end}.dropdown-menu-xxl-end[data-bs-popper]{right:0;left:auto}}.dropup .dropdown-menu[data-bs-popper]{top:auto;bottom:100%;margin-top:0;margin-bottom:.125rem}.dropup .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-menu[data-bs-popper]{top:0;right:auto;left:100%;margin-top:0;margin-left:.125rem}.dropend .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid}.dropend .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-toggle::after{vertical-align:0}.dropstart .dropdown-menu[data-bs-popper]{top:0;right:100%;left:auto;margin-top:0;margin-right:.125rem}.dropstart .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:""}.dropstart .dropdown-toggle::after{display:none}.dropstart .dropdown-toggle::before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropstart .dropdown-toggle:empty::after{margin-left:0}.dropstart .dropdown-toggle::before{vertical-align:0}.dropdown-divider{height:0;margin:.5rem 0;overflow:hidden;border-top:1px solid rgba(0,0,0,.15)}.dropdown-item{display:block;width:100%;padding:.25rem 1rem;clear:both;font-weight:400;color:#212529;text-align:inherit;text-decoration:none;white-space:nowrap;background-color:transparent;border:0}.dropdown-item:focus,.dropdown-item:hover{color:#1e2125;background-color:#e9ecef}.dropdown-item.active,.dropdown-item:active{color:#fff;text-decoration:none;background-color:#0d6efd}.dropdown-item.disabled,.dropdown-item:disabled{color:#adb5bd;pointer-events:none;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:.5rem 1rem;margin-bottom:0;font-size:.875rem;color:#6c757d;white-space:nowrap}.dropdown-item-text{display:block;padding:.25rem 1rem;color:#212529}.dropdown-menu-dark{color:#dee2e6;background-color:#343a40;border-color:rgba(0,0,0,.15)}.dropdown-menu-dark .dropdown-item{color:#dee2e6}.dropdown-menu-dark .dropdown-item:focus,.dropdown-menu-dark .dropdown-item:hover{color:#fff;background-color:rgba(255,255,255,.15)}.dropdown-menu-dark .dropdown-item.active,.dropdown-menu-dark .dropdown-item:active{color:#fff;background-color:#0d6efd}.dropdown-menu-dark .dropdown-item.disabled,.dropdown-menu-dark .dropdown-item:disabled{color:#adb5bd}.dropdown-menu-dark .dropdown-divider{border-color:rgba(0,0,0,.15)}.dropdown-menu-dark .dropdown-item-text{color:#dee2e6}.dropdown-menu-dark .dropdown-header{color:#adb5bd}.btn-group,.btn-group-vertical{position:relative;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;flex:1 1 auto}.btn-group-vertical>.btn-check:checked+.btn,.btn-group-vertical>.btn-check:focus+.btn,.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:hover,.btn-group>.btn-check:checked+.btn,.btn-group>.btn-check:focus+.btn,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus,.btn-group>.btn:hover{z-index:1}.btn-toolbar{display:flex;flex-wrap:wrap;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:nth-child(n+3),.btn-group>:not(.btn-check)+.btn{border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split::after,.dropend .dropdown-toggle-split::after,.dropup .dropdown-toggle-split::after{margin-left:0}.dropstart .dropdown-toggle-split::before{margin-right:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{flex-direction:column;align-items:flex-start;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:-1px}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn~.btn{border-top-left-radius:0;border-top-right-radius:0}.nav{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:.5rem 1rem;color:#0d6efd;text-decoration:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}@media (prefers-reduced-motion:reduce){.nav-link{transition:none}}.nav-link:focus,.nav-link:hover{color:#0a58ca}.nav-link.disabled{color:#6c757d;pointer-events:none;cursor:default}.nav-tabs{border-bottom:1px solid #dee2e6}.nav-tabs .nav-link{margin-bottom:-1px;background:0 0;border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{border-color:#e9ecef #e9ecef #dee2e6;isolation:isolate}.nav-tabs .nav-link.disabled{color:#6c757d;background-color:transparent;border-color:transparent}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:#495057;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.nav-pills .nav-link{background:0 0;border:0;border-radius:.25rem}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:#fff;background-color:#0d6efd}.nav-fill .nav-item,.nav-fill>.nav-link{flex:1 1 auto;text-align:center}.nav-justified .nav-item,.nav-justified>.nav-link{flex-basis:0;flex-grow:1;text-align:center}.nav-fill .nav-item .nav-link,.nav-justified .nav-item .nav-link{width:100%}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{position:relative;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding-top:.5rem;padding-bottom:.5rem}.navbar>.container,.navbar>.container-fluid,.navbar>.container-lg,.navbar>.container-md,.navbar>.container-sm,.navbar>.container-xl,.navbar>.container-xxl{display:flex;flex-wrap:inherit;align-items:center;justify-content:space-between}.navbar-brand{padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;text-decoration:none;white-space:nowrap}.navbar-nav{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link{padding-right:0;padding-left:0}.navbar-nav .dropdown-menu{position:static}.navbar-text{padding-top:.5rem;padding-bottom:.5rem}.navbar-collapse{flex-basis:100%;flex-grow:1;align-items:center}.navbar-toggler{padding:.25rem .75rem;font-size:1.25rem;line-height:1;background-color:transparent;border:1px solid transparent;border-radius:.25rem;transition:box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.navbar-toggler{transition:none}}.navbar-toggler:hover{text-decoration:none}.navbar-toggler:focus{text-decoration:none;outline:0;box-shadow:0 0 0 .25rem}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;background-repeat:no-repeat;background-position:center;background-size:100%}.navbar-nav-scroll{max-height:var(--bs-scroll-height,75vh);overflow-y:auto}@media (min-width:576px){.navbar-expand-sm{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-sm .navbar-nav{flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-sm .navbar-nav-scroll{overflow:visible}.navbar-expand-sm .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}.navbar-expand-sm .offcanvas-header{display:none}.navbar-expand-sm .offcanvas{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-sm .offcanvas-bottom,.navbar-expand-sm .offcanvas-top{height:auto;border-top:0;border-bottom:0}.navbar-expand-sm .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:768px){.navbar-expand-md{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-md .navbar-nav{flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-md .navbar-nav-scroll{overflow:visible}.navbar-expand-md .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}.navbar-expand-md .offcanvas-header{display:none}.navbar-expand-md .offcanvas{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-md .offcanvas-bottom,.navbar-expand-md .offcanvas-top{height:auto;border-top:0;border-bottom:0}.navbar-expand-md .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:992px){.navbar-expand-lg{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-lg .navbar-nav{flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-lg .navbar-nav-scroll{overflow:visible}.navbar-expand-lg .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}.navbar-expand-lg .offcanvas-header{display:none}.navbar-expand-lg .offcanvas{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-lg .offcanvas-bottom,.navbar-expand-lg .offcanvas-top{height:auto;border-top:0;border-bottom:0}.navbar-expand-lg .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:1200px){.navbar-expand-xl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xl .navbar-nav{flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xl .navbar-nav-scroll{overflow:visible}.navbar-expand-xl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}.navbar-expand-xl .offcanvas-header{display:none}.navbar-expand-xl .offcanvas{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-xl .offcanvas-bottom,.navbar-expand-xl .offcanvas-top{height:auto;border-top:0;border-bottom:0}.navbar-expand-xl .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:1400px){.navbar-expand-xxl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xxl .navbar-nav{flex-direction:row}.navbar-expand-xxl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xxl .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xxl .navbar-nav-scroll{overflow:visible}.navbar-expand-xxl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xxl .navbar-toggler{display:none}.navbar-expand-xxl .offcanvas-header{display:none}.navbar-expand-xxl .offcanvas{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-xxl .offcanvas-bottom,.navbar-expand-xxl .offcanvas-top{height:auto;border-top:0;border-bottom:0}.navbar-expand-xxl .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}.navbar-expand{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand .navbar-nav{flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand .navbar-nav-scroll{overflow:visible}.navbar-expand .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-expand .offcanvas-header{display:none}.navbar-expand .offcanvas{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand .offcanvas-bottom,.navbar-expand .offcanvas-top{height:auto;border-top:0;border-bottom:0}.navbar-expand .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}.navbar-light .navbar-brand{color:rgba(0,0,0,.9)}.navbar-light .navbar-brand:focus,.navbar-light .navbar-brand:hover{color:rgba(0,0,0,.9)}.navbar-light .navbar-nav .nav-link{color:rgba(0,0,0,.55)}.navbar-light .navbar-nav .nav-link:focus,.navbar-light .navbar-nav .nav-link:hover{color:rgba(0,0,0,.7)}.navbar-light .navbar-nav .nav-link.disabled{color:rgba(0,0,0,.3)}.navbar-light .navbar-nav .nav-link.active,.navbar-light .navbar-nav .show>.nav-link{color:rgba(0,0,0,.9)}.navbar-light .navbar-toggler{color:rgba(0,0,0,.55);border-color:rgba(0,0,0,.1)}.navbar-light .navbar-toggler-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%280, 0, 0, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.navbar-light .navbar-text{color:rgba(0,0,0,.55)}.navbar-light .navbar-text a,.navbar-light .navbar-text a:focus,.navbar-light .navbar-text a:hover{color:rgba(0,0,0,.9)}.navbar-dark .navbar-brand{color:#fff}.navbar-dark .navbar-brand:focus,.navbar-dark .navbar-brand:hover{color:#fff}.navbar-dark .navbar-nav .nav-link{color:rgba(255,255,255,.55)}.navbar-dark .navbar-nav .nav-link:focus,.navbar-dark .navbar-nav .nav-link:hover{color:rgba(255,255,255,.75)}.navbar-dark .navbar-nav .nav-link.disabled{color:rgba(255,255,255,.25)}.navbar-dark .navbar-nav .nav-link.active,.navbar-dark .navbar-nav .show>.nav-link{color:#fff}.navbar-dark .navbar-toggler{color:rgba(255,255,255,.55);border-color:rgba(255,255,255,.1)}.navbar-dark .navbar-toggler-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.navbar-dark .navbar-text{color:rgba(255,255,255,.55)}.navbar-dark .navbar-text a,.navbar-dark .navbar-text a:focus,.navbar-dark .navbar-text a:hover{color:#fff}.card{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card>hr{margin-right:0;margin-left:0}.card>.list-group{border-top:inherit;border-bottom:inherit}.card>.list-group:first-child{border-top-width:0;border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card>.list-group:last-child{border-bottom-width:0;border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card>.card-header+.list-group,.card>.list-group+.card-footer{border-top:0}.card-body{flex:1 1 auto;padding:1rem 1rem}.card-title{margin-bottom:.5rem}.card-subtitle{margin-top:-.25rem;margin-bottom:0}.card-text:last-child{margin-bottom:0}.card-link+.card-link{margin-left:1rem}.card-header{padding:.5rem 1rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-header:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card-footer{padding:.5rem 1rem;background-color:rgba(0,0,0,.03);border-top:1px solid rgba(0,0,0,.125)}.card-footer:last-child{border-radius:0 0 calc(.25rem - 1px) calc(.25rem - 1px)}.card-header-tabs{margin-right:-.5rem;margin-bottom:-.5rem;margin-left:-.5rem;border-bottom:0}.card-header-pills{margin-right:-.5rem;margin-left:-.5rem}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:1rem;border-radius:calc(.25rem - 1px)}.card-img,.card-img-bottom,.card-img-top{width:100%}.card-img,.card-img-top{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card-img,.card-img-bottom{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-group>.card{margin-bottom:.75rem}@media (min-width:576px){.card-group{display:flex;flex-flow:row wrap}.card-group>.card{flex:1 0 0%;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:not(:last-child) .card-header,.card-group>.card:not(:last-child) .card-img-top{border-top-right-radius:0}.card-group>.card:not(:last-child) .card-footer,.card-group>.card:not(:last-child) .card-img-bottom{border-bottom-right-radius:0}.card-group>.card:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:not(:first-child) .card-header,.card-group>.card:not(:first-child) .card-img-top{border-top-left-radius:0}.card-group>.card:not(:first-child) .card-footer,.card-group>.card:not(:first-child) .card-img-bottom{border-bottom-left-radius:0}}.accordion-button{position:relative;display:flex;align-items:center;width:100%;padding:1rem 1.25rem;font-size:1rem;color:#212529;text-align:left;background-color:#fff;border:0;border-radius:0;overflow-anchor:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,border-radius .15s ease}@media (prefers-reduced-motion:reduce){.accordion-button{transition:none}}.accordion-button:not(.collapsed){color:#0c63e4;background-color:#e7f1ff;box-shadow:inset 0 -1px 0 rgba(0,0,0,.125)}.accordion-button:not(.collapsed)::after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%230c63e4'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");transform:rotate(-180deg)}.accordion-button::after{flex-shrink:0;width:1.25rem;height:1.25rem;margin-left:auto;content:"";background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23212529'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-size:1.25rem;transition:transform .2s ease-in-out}@media (prefers-reduced-motion:reduce){.accordion-button::after{transition:none}}.accordion-button:hover{z-index:2}.accordion-button:focus{z-index:3;border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.accordion-header{margin-bottom:0}.accordion-item{background-color:#fff;border:1px solid rgba(0,0,0,.125)}.accordion-item:first-of-type{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.accordion-item:first-of-type .accordion-button{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.accordion-item:not(:first-of-type){border-top:0}.accordion-item:last-of-type{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.accordion-item:last-of-type .accordion-button.collapsed{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.accordion-item:last-of-type .accordion-collapse{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.accordion-body{padding:1rem 1.25rem}.accordion-flush .accordion-collapse{border-width:0}.accordion-flush .accordion-item{border-right:0;border-left:0;border-radius:0}.accordion-flush .accordion-item:first-child{border-top:0}.accordion-flush .accordion-item:last-child{border-bottom:0}.accordion-flush .accordion-item .accordion-button{border-radius:0}.breadcrumb{display:flex;flex-wrap:wrap;padding:0 0;margin-bottom:1rem;list-style:none}.breadcrumb-item+.breadcrumb-item{padding-left:.5rem}.breadcrumb-item+.breadcrumb-item::before{float:left;padding-right:.5rem;color:#6c757d;content:var(--bs-breadcrumb-divider, "/")}.breadcrumb-item.active{color:#6c757d}.pagination{display:flex;padding-left:0;list-style:none}.page-link{position:relative;display:block;color:#0d6efd;text-decoration:none;background-color:#fff;border:1px solid #dee2e6;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.page-link{transition:none}}.page-link:hover{z-index:2;color:#0a58ca;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;color:#0a58ca;background-color:#e9ecef;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.page-item:not(:first-child) .page-link{margin-left:-1px}.page-item.active .page-link{z-index:3;color:#fff;background-color:#0d6efd;border-color:#0d6efd}.page-item.disabled .page-link{color:#6c757d;pointer-events:none;background-color:#fff;border-color:#dee2e6}.page-link{padding:.375rem .75rem}.page-item:first-child .page-link{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.page-item:last-child .page-link{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.pagination-lg .page-link{padding:.75rem 1.5rem;font-size:1.25rem}.pagination-lg .page-item:first-child .page-link{border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.pagination-lg .page-item:last-child .page-link{border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}.pagination-sm .page-link{padding:.25rem .5rem;font-size:.875rem}.pagination-sm .page-item:first-child .page-link{border-top-left-radius:.2rem;border-bottom-left-radius:.2rem}.pagination-sm .page-item:last-child .page-link{border-top-right-radius:.2rem;border-bottom-right-radius:.2rem}.badge{display:inline-block;padding:.35em .65em;font-size:.75em;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.alert{position:relative;padding:1rem 1rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-dismissible{padding-right:3rem}.alert-dismissible .btn-close{position:absolute;top:0;right:0;z-index:2;padding:1.25rem 1rem}.alert-primary{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe}.alert-primary .alert-link{color:#06357a}.alert-secondary{color:#41464b;background-color:#e2e3e5;border-color:#d3d6d8}.alert-secondary .alert-link{color:#34383c}.alert-success{color:#0f5132;background-color:#d1e7dd;border-color:#badbcc}.alert-success .alert-link{color:#0c4128}.alert-info{color:#055160;background-color:#cff4fc;border-color:#b6effb}.alert-info .alert-link{color:#04414d}.alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5}.alert-warning .alert-link{color:#523e02}.alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7}.alert-danger .alert-link{color:#6a1a21}.alert-light{color:#636464;background-color:#fefefe;border-color:#fdfdfe}.alert-light .alert-link{color:#4f5050}.alert-dark{color:#141619;background-color:#d3d3d4;border-color:#bcbebf}.alert-dark .alert-link{color:#101214}@-webkit-keyframes progress-bar-stripes{0%{background-position-x:1rem}}@keyframes progress-bar-stripes{0%{background-position-x:1rem}}.progress{display:flex;height:1rem;overflow:hidden;font-size:.75rem;background-color:#e9ecef;border-radius:.25rem}.progress-bar{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:#fff;text-align:center;white-space:nowrap;background-color:#0d6efd;transition:width .6s ease}@media (prefers-reduced-motion:reduce){.progress-bar{transition:none}}.progress-bar-striped{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:1rem 1rem}.progress-bar-animated{-webkit-animation:1s linear infinite progress-bar-stripes;animation:1s linear infinite progress-bar-stripes}@media (prefers-reduced-motion:reduce){.progress-bar-animated{-webkit-animation:none;animation:none}}.list-group{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:.25rem}.list-group-numbered{list-style-type:none;counter-reset:section}.list-group-numbered>li::before{content:counters(section, ".") ". ";counter-increment:section}.list-group-item-action{width:100%;color:#495057;text-align:inherit}.list-group-item-action:focus,.list-group-item-action:hover{z-index:1;color:#495057;text-decoration:none;background-color:#f8f9fa}.list-group-item-action:active{color:#212529;background-color:#e9ecef}.list-group-item{position:relative;display:block;padding:.5rem 1rem;color:#212529;text-decoration:none;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.list-group-item:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled,.list-group-item:disabled{color:#6c757d;pointer-events:none;background-color:#fff}.list-group-item.active{z-index:2;color:#fff;background-color:#0d6efd;border-color:#0d6efd}.list-group-item+.list-group-item{border-top-width:0}.list-group-item+.list-group-item.active{margin-top:-1px;border-top-width:1px}.list-group-horizontal{flex-direction:row}.list-group-horizontal>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal>.list-group-item.active{margin-top:0}.list-group-horizontal>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}@media (min-width:576px){.list-group-horizontal-sm{flex-direction:row}.list-group-horizontal-sm>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-sm>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-sm>.list-group-item.active{margin-top:0}.list-group-horizontal-sm>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-sm>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:768px){.list-group-horizontal-md{flex-direction:row}.list-group-horizontal-md>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-md>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-md>.list-group-item.active{margin-top:0}.list-group-horizontal-md>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-md>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:992px){.list-group-horizontal-lg{flex-direction:row}.list-group-horizontal-lg>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-lg>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-lg>.list-group-item.active{margin-top:0}.list-group-horizontal-lg>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-lg>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:1200px){.list-group-horizontal-xl{flex-direction:row}.list-group-horizontal-xl>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xl>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-xl>.list-group-item.active{margin-top:0}.list-group-horizontal-xl>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-xl>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:1400px){.list-group-horizontal-xxl{flex-direction:row}.list-group-horizontal-xxl>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xxl>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-xxl>.list-group-item.active{margin-top:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}.list-group-flush{border-radius:0}.list-group-flush>.list-group-item{border-width:0 0 1px}.list-group-flush>.list-group-item:last-child{border-bottom-width:0}.list-group-item-primary{color:#084298;background-color:#cfe2ff}.list-group-item-primary.list-group-item-action:focus,.list-group-item-primary.list-group-item-action:hover{color:#084298;background-color:#bacbe6}.list-group-item-primary.list-group-item-action.active{color:#fff;background-color:#084298;border-color:#084298}.list-group-item-secondary{color:#41464b;background-color:#e2e3e5}.list-group-item-secondary.list-group-item-action:focus,.list-group-item-secondary.list-group-item-action:hover{color:#41464b;background-color:#cbccce}.list-group-item-secondary.list-group-item-action.active{color:#fff;background-color:#41464b;border-color:#41464b}.list-group-item-success{color:#0f5132;background-color:#d1e7dd}.list-group-item-success.list-group-item-action:focus,.list-group-item-success.list-group-item-action:hover{color:#0f5132;background-color:#bcd0c7}.list-group-item-success.list-group-item-action.active{color:#fff;background-color:#0f5132;border-color:#0f5132}.list-group-item-info{color:#055160;background-color:#cff4fc}.list-group-item-info.list-group-item-action:focus,.list-group-item-info.list-group-item-action:hover{color:#055160;background-color:#badce3}.list-group-item-info.list-group-item-action.active{color:#fff;background-color:#055160;border-color:#055160}.list-group-item-warning{color:#664d03;background-color:#fff3cd}.list-group-item-warning.list-group-item-action:focus,.list-group-item-warning.list-group-item-action:hover{color:#664d03;background-color:#e6dbb9}.list-group-item-warning.list-group-item-action.active{color:#fff;background-color:#664d03;border-color:#664d03}.list-group-item-danger{color:#842029;background-color:#f8d7da}.list-group-item-danger.list-group-item-action:focus,.list-group-item-danger.list-group-item-action:hover{color:#842029;background-color:#dfc2c4}.list-group-item-danger.list-group-item-action.active{color:#fff;background-color:#842029;border-color:#842029}.list-group-item-light{color:#636464;background-color:#fefefe}.list-group-item-light.list-group-item-action:focus,.list-group-item-light.list-group-item-action:hover{color:#636464;background-color:#e5e5e5}.list-group-item-light.list-group-item-action.active{color:#fff;background-color:#636464;border-color:#636464}.list-group-item-dark{color:#141619;background-color:#d3d3d4}.list-group-item-dark.list-group-item-action:focus,.list-group-item-dark.list-group-item-action:hover{color:#141619;background-color:#bebebf}.list-group-item-dark.list-group-item-action.active{color:#fff;background-color:#141619;border-color:#141619}.btn-close{box-sizing:content-box;width:1em;height:1em;padding:.25em .25em;color:#000;background:transparent url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e") center/1em auto no-repeat;border:0;border-radius:.25rem;opacity:.5}.btn-close:hover{color:#000;text-decoration:none;opacity:.75}.btn-close:focus{outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25);opacity:1}.btn-close.disabled,.btn-close:disabled{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:.25}.btn-close-white{filter:invert(1) grayscale(100%) brightness(200%)}.toast{width:350px;max-width:100%;font-size:.875rem;pointer-events:auto;background-color:rgba(255,255,255,.85);background-clip:padding-box;border:1px solid rgba(0,0,0,.1);box-shadow:0 .5rem 1rem rgba(0,0,0,.15);border-radius:.25rem}.toast.showing{opacity:0}.toast:not(.show){display:none}.toast-container{width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:100%;pointer-events:none}.toast-container>:not(:last-child){margin-bottom:.75rem}.toast-header{display:flex;align-items:center;padding:.5rem .75rem;color:#6c757d;background-color:rgba(255,255,255,.85);background-clip:padding-box;border-bottom:1px solid rgba(0,0,0,.05);border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.toast-header .btn-close{margin-right:-.375rem;margin-left:.75rem}.toast-body{padding:.75rem;word-wrap:break-word}.modal{position:fixed;top:0;left:0;z-index:1055;display:none;width:100%;height:100%;overflow-x:hidden;overflow-y:auto;outline:0}.modal-dialog{position:relative;width:auto;margin:.5rem;pointer-events:none}.modal.fade .modal-dialog{transition:transform .3s ease-out;transform:translate(0,-50px)}@media (prefers-reduced-motion:reduce){.modal.fade .modal-dialog{transition:none}}.modal.show .modal-dialog{transform:none}.modal.modal-static .modal-dialog{transform:scale(1.02)}.modal-dialog-scrollable{height:calc(100% - 1rem)}.modal-dialog-scrollable .modal-content{max-height:100%;overflow:hidden}.modal-dialog-scrollable .modal-body{overflow-y:auto}.modal-dialog-centered{display:flex;align-items:center;min-height:calc(100% - 1rem)}.modal-content{position:relative;display:flex;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;outline:0}.modal-backdrop{position:fixed;top:0;left:0;z-index:1050;width:100vw;height:100vh;background-color:#000}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:.5}.modal-header{display:flex;flex-shrink:0;align-items:center;justify-content:space-between;padding:1rem 1rem;border-bottom:1px solid #dee2e6;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.modal-header .btn-close{padding:.5rem .5rem;margin:-.5rem -.5rem -.5rem auto}.modal-title{margin-bottom:0;line-height:1.5}.modal-body{position:relative;flex:1 1 auto;padding:1rem}.modal-footer{display:flex;flex-wrap:wrap;flex-shrink:0;align-items:center;justify-content:flex-end;padding:.75rem;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}.modal-footer>*{margin:.25rem}@media (min-width:576px){.modal-dialog{max-width:500px;margin:1.75rem auto}.modal-dialog-scrollable{height:calc(100% - 3.5rem)}.modal-dialog-centered{min-height:calc(100% - 3.5rem)}.modal-sm{max-width:300px}}@media (min-width:992px){.modal-lg,.modal-xl{max-width:800px}}@media (min-width:1200px){.modal-xl{max-width:1140px}}.modal-fullscreen{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen .modal-header{border-radius:0}.modal-fullscreen .modal-body{overflow-y:auto}.modal-fullscreen .modal-footer{border-radius:0}@media (max-width:575.98px){.modal-fullscreen-sm-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-sm-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-sm-down .modal-header{border-radius:0}.modal-fullscreen-sm-down .modal-body{overflow-y:auto}.modal-fullscreen-sm-down .modal-footer{border-radius:0}}@media (max-width:767.98px){.modal-fullscreen-md-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-md-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-md-down .modal-header{border-radius:0}.modal-fullscreen-md-down .modal-body{overflow-y:auto}.modal-fullscreen-md-down .modal-footer{border-radius:0}}@media (max-width:991.98px){.modal-fullscreen-lg-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-lg-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-lg-down .modal-header{border-radius:0}.modal-fullscreen-lg-down .modal-body{overflow-y:auto}.modal-fullscreen-lg-down .modal-footer{border-radius:0}}@media (max-width:1199.98px){.modal-fullscreen-xl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xl-down .modal-header{border-radius:0}.modal-fullscreen-xl-down .modal-body{overflow-y:auto}.modal-fullscreen-xl-down .modal-footer{border-radius:0}}@media (max-width:1399.98px){.modal-fullscreen-xxl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xxl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xxl-down .modal-header{border-radius:0}.modal-fullscreen-xxl-down .modal-body{overflow-y:auto}.modal-fullscreen-xxl-down .modal-footer{border-radius:0}}.tooltip{position:absolute;z-index:1080;display:block;margin:0;font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;opacity:0}.tooltip.show{opacity:.9}.tooltip .tooltip-arrow{position:absolute;display:block;width:.8rem;height:.4rem}.tooltip .tooltip-arrow::before{position:absolute;content:"";border-color:transparent;border-style:solid}.bs-tooltip-auto[data-popper-placement^=top],.bs-tooltip-top{padding:.4rem 0}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow,.bs-tooltip-top .tooltip-arrow{bottom:0}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow::before,.bs-tooltip-top .tooltip-arrow::before{top:-1px;border-width:.4rem .4rem 0;border-top-color:#000}.bs-tooltip-auto[data-popper-placement^=right],.bs-tooltip-end{padding:0 .4rem}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow,.bs-tooltip-end .tooltip-arrow{left:0;width:.4rem;height:.8rem}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow::before,.bs-tooltip-end .tooltip-arrow::before{right:-1px;border-width:.4rem .4rem .4rem 0;border-right-color:#000}.bs-tooltip-auto[data-popper-placement^=bottom],.bs-tooltip-bottom{padding:.4rem 0}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow,.bs-tooltip-bottom .tooltip-arrow{top:0}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow::before,.bs-tooltip-bottom .tooltip-arrow::before{bottom:-1px;border-width:0 .4rem .4rem;border-bottom-color:#000}.bs-tooltip-auto[data-popper-placement^=left],.bs-tooltip-start{padding:0 .4rem}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow,.bs-tooltip-start .tooltip-arrow{right:0;width:.4rem;height:.8rem}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow::before,.bs-tooltip-start .tooltip-arrow::before{left:-1px;border-width:.4rem 0 .4rem .4rem;border-left-color:#000}.tooltip-inner{max-width:200px;padding:.25rem .5rem;color:#fff;text-align:center;background-color:#000;border-radius:.25rem}.popover{position:absolute;top:0;left:0;z-index:1070;display:block;max-width:276px;font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem}.popover .popover-arrow{position:absolute;display:block;width:1rem;height:.5rem}.popover .popover-arrow::after,.popover .popover-arrow::before{position:absolute;display:block;content:"";border-color:transparent;border-style:solid}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow,.bs-popover-top>.popover-arrow{bottom:calc(-.5rem - 1px)}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::before,.bs-popover-top>.popover-arrow::before{bottom:0;border-width:.5rem .5rem 0;border-top-color:rgba(0,0,0,.25)}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::after,.bs-popover-top>.popover-arrow::after{bottom:1px;border-width:.5rem .5rem 0;border-top-color:#fff}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow,.bs-popover-end>.popover-arrow{left:calc(-.5rem - 1px);width:.5rem;height:1rem}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::before,.bs-popover-end>.popover-arrow::before{left:0;border-width:.5rem .5rem .5rem 0;border-right-color:rgba(0,0,0,.25)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::after,.bs-popover-end>.popover-arrow::after{left:1px;border-width:.5rem .5rem .5rem 0;border-right-color:#fff}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow,.bs-popover-bottom>.popover-arrow{top:calc(-.5rem - 1px)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::before,.bs-popover-bottom>.popover-arrow::before{top:0;border-width:0 .5rem .5rem .5rem;border-bottom-color:rgba(0,0,0,.25)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::after,.bs-popover-bottom>.popover-arrow::after{top:1px;border-width:0 .5rem .5rem .5rem;border-bottom-color:#fff}.bs-popover-auto[data-popper-placement^=bottom] .popover-header::before,.bs-popover-bottom .popover-header::before{position:absolute;top:0;left:50%;display:block;width:1rem;margin-left:-.5rem;content:"";border-bottom:1px solid #f0f0f0}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow,.bs-popover-start>.popover-arrow{right:calc(-.5rem - 1px);width:.5rem;height:1rem}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::before,.bs-popover-start>.popover-arrow::before{right:0;border-width:.5rem 0 .5rem .5rem;border-left-color:rgba(0,0,0,.25)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::after,.bs-popover-start>.popover-arrow::after{right:1px;border-width:.5rem 0 .5rem .5rem;border-left-color:#fff}.popover-header{padding:.5rem 1rem;margin-bottom:0;font-size:1rem;background-color:#f0f0f0;border-bottom:1px solid rgba(0,0,0,.2);border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.popover-header:empty{display:none}.popover-body{padding:1rem 1rem;color:#212529}.carousel{position:relative}.carousel.pointer-event{touch-action:pan-y}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-inner::after{display:block;clear:both;content:""}.carousel-item{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .6s ease-in-out}@media (prefers-reduced-motion:reduce){.carousel-item{transition:none}}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.active.carousel-item-end,.carousel-item-next:not(.carousel-item-start){transform:translateX(100%)}.active.carousel-item-start,.carousel-item-prev:not(.carousel-item-end){transform:translateX(-100%)}.carousel-fade .carousel-item{opacity:0;transition-property:opacity;transform:none}.carousel-fade .carousel-item-next.carousel-item-start,.carousel-fade .carousel-item-prev.carousel-item-end,.carousel-fade .carousel-item.active{z-index:1;opacity:1}.carousel-fade .active.carousel-item-end,.carousel-fade .active.carousel-item-start{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion:reduce){.carousel-fade .active.carousel-item-end,.carousel-fade .active.carousel-item-start{transition:none}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;z-index:1;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;border:0;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion:reduce){.carousel-control-next,.carousel-control-prev{transition:none}}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:2rem;height:2rem;background-repeat:no-repeat;background-position:50%;background-size:100% 100%}.carousel-control-prev-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z'/%3e%3c/svg%3e")}.carousel-control-next-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e")}.carousel-indicators{position:absolute;right:0;bottom:0;left:0;z-index:2;display:flex;justify-content:center;padding:0;margin-right:15%;margin-bottom:1rem;margin-left:15%;list-style:none}.carousel-indicators [data-bs-target]{box-sizing:content-box;flex:0 1 auto;width:30px;height:3px;padding:0;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border:0;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion:reduce){.carousel-indicators [data-bs-target]{transition:none}}.carousel-indicators .active{opacity:1}.carousel-caption{position:absolute;right:15%;bottom:1.25rem;left:15%;padding-top:1.25rem;padding-bottom:1.25rem;color:#fff;text-align:center}.carousel-dark .carousel-control-next-icon,.carousel-dark .carousel-control-prev-icon{filter:invert(1) grayscale(100)}.carousel-dark .carousel-indicators [data-bs-target]{background-color:#000}.carousel-dark .carousel-caption{color:#000}@-webkit-keyframes spinner-border{to{transform:rotate(360deg)}}@keyframes spinner-border{to{transform:rotate(360deg)}}.spinner-border{display:inline-block;width:2rem;height:2rem;vertical-align:-.125em;border:.25em solid currentColor;border-right-color:transparent;border-radius:50%;-webkit-animation:.75s linear infinite spinner-border;animation:.75s linear infinite spinner-border}.spinner-border-sm{width:1rem;height:1rem;border-width:.2em}@-webkit-keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}@keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}.spinner-grow{display:inline-block;width:2rem;height:2rem;vertical-align:-.125em;background-color:currentColor;border-radius:50%;opacity:0;-webkit-animation:.75s linear infinite spinner-grow;animation:.75s linear infinite spinner-grow}.spinner-grow-sm{width:1rem;height:1rem}@media (prefers-reduced-motion:reduce){.spinner-border,.spinner-grow{-webkit-animation-duration:1.5s;animation-duration:1.5s}}.offcanvas{position:fixed;bottom:0;z-index:1045;display:flex;flex-direction:column;max-width:100%;visibility:hidden;background-color:#fff;background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}@media (prefers-reduced-motion:reduce){.offcanvas{transition:none}}.offcanvas-backdrop{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.offcanvas-backdrop.fade{opacity:0}.offcanvas-backdrop.show{opacity:.5}.offcanvas-header{display:flex;align-items:center;justify-content:space-between;padding:1rem 1rem}.offcanvas-header .btn-close{padding:.5rem .5rem;margin-top:-.5rem;margin-right:-.5rem;margin-bottom:-.5rem}.offcanvas-title{margin-bottom:0;line-height:1.5}.offcanvas-body{flex-grow:1;padding:1rem 1rem;overflow-y:auto}.offcanvas-start{top:0;left:0;width:400px;border-right:1px solid rgba(0,0,0,.2);transform:translateX(-100%)}.offcanvas-end{top:0;right:0;width:400px;border-left:1px solid rgba(0,0,0,.2);transform:translateX(100%)}.offcanvas-top{top:0;right:0;left:0;height:30vh;max-height:100%;border-bottom:1px solid rgba(0,0,0,.2);transform:translateY(-100%)}.offcanvas-bottom{right:0;left:0;height:30vh;max-height:100%;border-top:1px solid rgba(0,0,0,.2);transform:translateY(100%)}.offcanvas.show{transform:none}.placeholder{display:inline-block;min-height:1em;vertical-align:middle;cursor:wait;background-color:currentColor;opacity:.5}.placeholder.btn::before{display:inline-block;content:""}.placeholder-xs{min-height:.6em}.placeholder-sm{min-height:.8em}.placeholder-lg{min-height:1.2em}.placeholder-glow .placeholder{-webkit-animation:placeholder-glow 2s ease-in-out infinite;animation:placeholder-glow 2s ease-in-out infinite}@-webkit-keyframes placeholder-glow{50%{opacity:.2}}@keyframes placeholder-glow{50%{opacity:.2}}.placeholder-wave{-webkit-mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,0.8) 75%,#000 95%);mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,0.8) 75%,#000 95%);-webkit-mask-size:200% 100%;mask-size:200% 100%;-webkit-animation:placeholder-wave 2s linear infinite;animation:placeholder-wave 2s linear infinite}@-webkit-keyframes placeholder-wave{100%{-webkit-mask-position:-200% 0%;mask-position:-200% 0%}}@keyframes placeholder-wave{100%{-webkit-mask-position:-200% 0%;mask-position:-200% 0%}}.clearfix::after{display:block;clear:both;content:""}.link-primary{color:#0d6efd}.link-primary:focus,.link-primary:hover{color:#0a58ca}.link-secondary{color:#6c757d}.link-secondary:focus,.link-secondary:hover{color:#565e64}.link-success{color:#198754}.link-success:focus,.link-success:hover{color:#146c43}.link-info{color:#0dcaf0}.link-info:focus,.link-info:hover{color:#3dd5f3}.link-warning{color:#ffc107}.link-warning:focus,.link-warning:hover{color:#ffcd39}.link-danger{color:#dc3545}.link-danger:focus,.link-danger:hover{color:#b02a37}.link-light{color:#f8f9fa}.link-light:focus,.link-light:hover{color:#f9fafb}.link-dark{color:#212529}.link-dark:focus,.link-dark:hover{color:#1a1e21}.ratio{position:relative;width:100%}.ratio::before{display:block;padding-top:var(--bs-aspect-ratio);content:""}.ratio>*{position:absolute;top:0;left:0;width:100%;height:100%}.ratio-1x1{--bs-aspect-ratio:100%}.ratio-4x3{--bs-aspect-ratio:calc(3 / 4 * 100%)}.ratio-16x9{--bs-aspect-ratio:calc(9 / 16 * 100%)}.ratio-21x9{--bs-aspect-ratio:calc(9 / 21 * 100%)}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}@media (min-width:576px){.sticky-sm-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}@media (min-width:768px){.sticky-md-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}@media (min-width:992px){.sticky-lg-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}@media (min-width:1200px){.sticky-xl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}@media (min-width:1400px){.sticky-xxl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}.hstack{display:flex;flex-direction:row;align-items:center;align-self:stretch}.vstack{display:flex;flex:1 1 auto;flex-direction:column;align-self:stretch}.visually-hidden,.visually-hidden-focusable:not(:focus):not(:focus-within){position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.stretched-link::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;content:""}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vr{display:inline-block;align-self:stretch;width:1px;min-height:1em;background-color:currentColor;opacity:.25}.align-baseline{vertical-align:baseline!important}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.align-bottom{vertical-align:bottom!important}.align-text-bottom{vertical-align:text-bottom!important}.align-text-top{vertical-align:text-top!important}.float-start{float:left!important}.float-end{float:right!important}.float-none{float:none!important}.opacity-0{opacity:0!important}.opacity-25{opacity:.25!important}.opacity-50{opacity:.5!important}.opacity-75{opacity:.75!important}.opacity-100{opacity:1!important}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.overflow-visible{overflow:visible!important}.overflow-scroll{overflow:scroll!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-grid{display:grid!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:flex!important}.d-inline-flex{display:inline-flex!important}.d-none{display:none!important}.shadow{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.shadow-sm{box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important}.shadow-lg{box-shadow:0 1rem 3rem rgba(0,0,0,.175)!important}.shadow-none{box-shadow:none!important}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:-webkit-sticky!important;position:sticky!important}.top-0{top:0!important}.top-50{top:50%!important}.top-100{top:100%!important}.bottom-0{bottom:0!important}.bottom-50{bottom:50%!important}.bottom-100{bottom:100%!important}.start-0{left:0!important}.start-50{left:50%!important}.start-100{left:100%!important}.end-0{right:0!important}.end-50{right:50%!important}.end-100{right:100%!important}.translate-middle{transform:translate(-50%,-50%)!important}.translate-middle-x{transform:translateX(-50%)!important}.translate-middle-y{transform:translateY(-50%)!important}.border{border:1px solid #dee2e6!important}.border-0{border:0!important}.border-top{border-top:1px solid #dee2e6!important}.border-top-0{border-top:0!important}.border-end{border-right:1px solid #dee2e6!important}.border-end-0{border-right:0!important}.border-bottom{border-bottom:1px solid #dee2e6!important}.border-bottom-0{border-bottom:0!important}.border-start{border-left:1px solid #dee2e6!important}.border-start-0{border-left:0!important}.border-primary{border-color:#0d6efd!important}.border-secondary{border-color:#6c757d!important}.border-success{border-color:#198754!important}.border-info{border-color:#0dcaf0!important}.border-warning{border-color:#ffc107!important}.border-danger{border-color:#dc3545!important}.border-light{border-color:#f8f9fa!important}.border-dark{border-color:#212529!important}.border-white{border-color:#fff!important}.border-1{border-width:1px!important}.border-2{border-width:2px!important}.border-3{border-width:3px!important}.border-4{border-width:4px!important}.border-5{border-width:5px!important}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.w-auto{width:auto!important}.mw-100{max-width:100%!important}.vw-100{width:100vw!important}.min-vw-100{min-width:100vw!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.h-auto{height:auto!important}.mh-100{max-height:100%!important}.vh-100{height:100vh!important}.min-vh-100{min-height:100vh!important}.flex-fill{flex:1 1 auto!important}.flex-row{flex-direction:row!important}.flex-column{flex-direction:column!important}.flex-row-reverse{flex-direction:row-reverse!important}.flex-column-reverse{flex-direction:column-reverse!important}.flex-grow-0{flex-grow:0!important}.flex-grow-1{flex-grow:1!important}.flex-shrink-0{flex-shrink:0!important}.flex-shrink-1{flex-shrink:1!important}.flex-wrap{flex-wrap:wrap!important}.flex-nowrap{flex-wrap:nowrap!important}.flex-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-0{gap:0!important}.gap-1{gap:.25rem!important}.gap-2{gap:.5rem!important}.gap-3{gap:1rem!important}.gap-4{gap:1.5rem!important}.gap-5{gap:3rem!important}.justify-content-start{justify-content:flex-start!important}.justify-content-end{justify-content:flex-end!important}.justify-content-center{justify-content:center!important}.justify-content-between{justify-content:space-between!important}.justify-content-around{justify-content:space-around!important}.justify-content-evenly{justify-content:space-evenly!important}.align-items-start{align-items:flex-start!important}.align-items-end{align-items:flex-end!important}.align-items-center{align-items:center!important}.align-items-baseline{align-items:baseline!important}.align-items-stretch{align-items:stretch!important}.align-content-start{align-content:flex-start!important}.align-content-end{align-content:flex-end!important}.align-content-center{align-content:center!important}.align-content-between{align-content:space-between!important}.align-content-around{align-content:space-around!important}.align-content-stretch{align-content:stretch!important}.align-self-auto{align-self:auto!important}.align-self-start{align-self:flex-start!important}.align-self-end{align-self:flex-end!important}.align-self-center{align-self:center!important}.align-self-baseline{align-self:baseline!important}.align-self-stretch{align-self:stretch!important}.order-first{order:-1!important}.order-0{order:0!important}.order-1{order:1!important}.order-2{order:2!important}.order-3{order:3!important}.order-4{order:4!important}.order-5{order:5!important}.order-last{order:6!important}.m-0{margin:0!important}.m-1{margin:.25rem!important}.m-2{margin:.5rem!important}.m-3{margin:1rem!important}.m-4{margin:1.5rem!important}.m-5{margin:3rem!important}.m-auto{margin:auto!important}.mx-0{margin-right:0!important;margin-left:0!important}.mx-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-3{margin-right:1rem!important;margin-left:1rem!important}.mx-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-5{margin-right:3rem!important;margin-left:3rem!important}.mx-auto{margin-right:auto!important;margin-left:auto!important}.my-0{margin-top:0!important;margin-bottom:0!important}.my-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-0{margin-top:0!important}.mt-1{margin-top:.25rem!important}.mt-2{margin-top:.5rem!important}.mt-3{margin-top:1rem!important}.mt-4{margin-top:1.5rem!important}.mt-5{margin-top:3rem!important}.mt-auto{margin-top:auto!important}.me-0{margin-right:0!important}.me-1{margin-right:.25rem!important}.me-2{margin-right:.5rem!important}.me-3{margin-right:1rem!important}.me-4{margin-right:1.5rem!important}.me-5{margin-right:3rem!important}.me-auto{margin-right:auto!important}.mb-0{margin-bottom:0!important}.mb-1{margin-bottom:.25rem!important}.mb-2{margin-bottom:.5rem!important}.mb-3{margin-bottom:1rem!important}.mb-4{margin-bottom:1.5rem!important}.mb-5{margin-bottom:3rem!important}.mb-auto{margin-bottom:auto!important}.ms-0{margin-left:0!important}.ms-1{margin-left:.25rem!important}.ms-2{margin-left:.5rem!important}.ms-3{margin-left:1rem!important}.ms-4{margin-left:1.5rem!important}.ms-5{margin-left:3rem!important}.ms-auto{margin-left:auto!important}.p-0{padding:0!important}.p-1{padding:.25rem!important}.p-2{padding:.5rem!important}.p-3{padding:1rem!important}.p-4{padding:1.5rem!important}.p-5{padding:3rem!important}.px-0{padding-right:0!important;padding-left:0!important}.px-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-3{padding-right:1rem!important;padding-left:1rem!important}.px-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-5{padding-right:3rem!important;padding-left:3rem!important}.py-0{padding-top:0!important;padding-bottom:0!important}.py-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-0{padding-top:0!important}.pt-1{padding-top:.25rem!important}.pt-2{padding-top:.5rem!important}.pt-3{padding-top:1rem!important}.pt-4{padding-top:1.5rem!important}.pt-5{padding-top:3rem!important}.pe-0{padding-right:0!important}.pe-1{padding-right:.25rem!important}.pe-2{padding-right:.5rem!important}.pe-3{padding-right:1rem!important}.pe-4{padding-right:1.5rem!important}.pe-5{padding-right:3rem!important}.pb-0{padding-bottom:0!important}.pb-1{padding-bottom:.25rem!important}.pb-2{padding-bottom:.5rem!important}.pb-3{padding-bottom:1rem!important}.pb-4{padding-bottom:1.5rem!important}.pb-5{padding-bottom:3rem!important}.ps-0{padding-left:0!important}.ps-1{padding-left:.25rem!important}.ps-2{padding-left:.5rem!important}.ps-3{padding-left:1rem!important}.ps-4{padding-left:1.5rem!important}.ps-5{padding-left:3rem!important}.font-monospace{font-family:var(--bs-font-monospace)!important}.fs-1{font-size:calc(1.375rem + 1.5vw)!important}.fs-2{font-size:calc(1.325rem + .9vw)!important}.fs-3{font-size:calc(1.3rem + .6vw)!important}.fs-4{font-size:calc(1.275rem + .3vw)!important}.fs-5{font-size:1.25rem!important}.fs-6{font-size:1rem!important}.fst-italic{font-style:italic!important}.fst-normal{font-style:normal!important}.fw-light{font-weight:300!important}.fw-lighter{font-weight:lighter!important}.fw-normal{font-weight:400!important}.fw-bold{font-weight:700!important}.fw-bolder{font-weight:bolder!important}.lh-1{line-height:1!important}.lh-sm{line-height:1.25!important}.lh-base{line-height:1.5!important}.lh-lg{line-height:2!important}.text-start{text-align:left!important}.text-end{text-align:right!important}.text-center{text-align:center!important}.text-decoration-none{text-decoration:none!important}.text-decoration-underline{text-decoration:underline!important}.text-decoration-line-through{text-decoration:line-through!important}.text-lowercase{text-transform:lowercase!important}.text-uppercase{text-transform:uppercase!important}.text-capitalize{text-transform:capitalize!important}.text-wrap{white-space:normal!important}.text-nowrap{white-space:nowrap!important}.text-break{word-wrap:break-word!important;word-break:break-word!important}.text-primary{--bs-text-opacity:1;color:rgba(var(--bs-primary-rgb),var(--bs-text-opacity))!important}.text-secondary{--bs-text-opacity:1;color:rgba(var(--bs-secondary-rgb),var(--bs-text-opacity))!important}.text-success{--bs-text-opacity:1;color:rgba(var(--bs-success-rgb),var(--bs-text-opacity))!important}.text-info{--bs-text-opacity:1;color:rgba(var(--bs-info-rgb),var(--bs-text-opacity))!important}.text-warning{--bs-text-opacity:1;color:rgba(var(--bs-warning-rgb),var(--bs-text-opacity))!important}.text-danger{--bs-text-opacity:1;color:rgba(var(--bs-danger-rgb),var(--bs-text-opacity))!important}.text-light{--bs-text-opacity:1;color:rgba(var(--bs-light-rgb),var(--bs-text-opacity))!important}.text-dark{--bs-text-opacity:1;color:rgba(var(--bs-dark-rgb),var(--bs-text-opacity))!important}.text-black{--bs-text-opacity:1;color:rgba(var(--bs-black-rgb),var(--bs-text-opacity))!important}.text-white{--bs-text-opacity:1;color:rgba(var(--bs-white-rgb),var(--bs-text-opacity))!important}.text-body{--bs-text-opacity:1;color:rgba(var(--bs-body-rgb),var(--bs-text-opacity))!important}.text-muted{--bs-text-opacity:1;color:#6c757d!important}.text-black-50{--bs-text-opacity:1;color:rgba(0,0,0,.5)!important}.text-white-50{--bs-text-opacity:1;color:rgba(255,255,255,.5)!important}.text-reset{--bs-text-opacity:1;color:inherit!important}.text-opacity-25{--bs-text-opacity:0.25}.text-opacity-50{--bs-text-opacity:0.5}.text-opacity-75{--bs-text-opacity:0.75}.text-opacity-100{--bs-text-opacity:1}.bg-primary{--bs-bg-opacity:1;background-color:rgba(var(--bs-primary-rgb),var(--bs-bg-opacity))!important}.bg-secondary{--bs-bg-opacity:1;background-color:rgba(var(--bs-secondary-rgb),var(--bs-bg-opacity))!important}.bg-success{--bs-bg-opacity:1;background-color:rgba(var(--bs-success-rgb),var(--bs-bg-opacity))!important}.bg-info{--bs-bg-opacity:1;background-color:rgba(var(--bs-info-rgb),var(--bs-bg-opacity))!important}.bg-warning{--bs-bg-opacity:1;background-color:rgba(var(--bs-warning-rgb),var(--bs-bg-opacity))!important}.bg-danger{--bs-bg-opacity:1;background-color:rgba(var(--bs-danger-rgb),var(--bs-bg-opacity))!important}.bg-light{--bs-bg-opacity:1;background-color:rgba(var(--bs-light-rgb),var(--bs-bg-opacity))!important}.bg-dark{--bs-bg-opacity:1;background-color:rgba(var(--bs-dark-rgb),var(--bs-bg-opacity))!important}.bg-black{--bs-bg-opacity:1;background-color:rgba(var(--bs-black-rgb),var(--bs-bg-opacity))!important}.bg-white{--bs-bg-opacity:1;background-color:rgba(var(--bs-white-rgb),var(--bs-bg-opacity))!important}.bg-body{--bs-bg-opacity:1;background-color:rgba(var(--bs-body-rgb),var(--bs-bg-opacity))!important}.bg-transparent{--bs-bg-opacity:1;background-color:transparent!important}.bg-opacity-10{--bs-bg-opacity:0.1}.bg-opacity-25{--bs-bg-opacity:0.25}.bg-opacity-50{--bs-bg-opacity:0.5}.bg-opacity-75{--bs-bg-opacity:0.75}.bg-opacity-100{--bs-bg-opacity:1}.bg-gradient{background-image:var(--bs-gradient)!important}.user-select-all{-webkit-user-select:all!important;-moz-user-select:all!important;user-select:all!important}.user-select-auto{-webkit-user-select:auto!important;-moz-user-select:auto!important;user-select:auto!important}.user-select-none{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.pe-none{pointer-events:none!important}.pe-auto{pointer-events:auto!important}.rounded{border-radius:.25rem!important}.rounded-0{border-radius:0!important}.rounded-1{border-radius:.2rem!important}.rounded-2{border-radius:.25rem!important}.rounded-3{border-radius:.3rem!important}.rounded-circle{border-radius:50%!important}.rounded-pill{border-radius:50rem!important}.rounded-top{border-top-left-radius:.25rem!important;border-top-right-radius:.25rem!important}.rounded-end{border-top-right-radius:.25rem!important;border-bottom-right-radius:.25rem!important}.rounded-bottom{border-bottom-right-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.rounded-start{border-bottom-left-radius:.25rem!important;border-top-left-radius:.25rem!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}@media (min-width:576px){.float-sm-start{float:left!important}.float-sm-end{float:right!important}.float-sm-none{float:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-grid{display:grid!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:flex!important}.d-sm-inline-flex{display:inline-flex!important}.d-sm-none{display:none!important}.flex-sm-fill{flex:1 1 auto!important}.flex-sm-row{flex-direction:row!important}.flex-sm-column{flex-direction:column!important}.flex-sm-row-reverse{flex-direction:row-reverse!important}.flex-sm-column-reverse{flex-direction:column-reverse!important}.flex-sm-grow-0{flex-grow:0!important}.flex-sm-grow-1{flex-grow:1!important}.flex-sm-shrink-0{flex-shrink:0!important}.flex-sm-shrink-1{flex-shrink:1!important}.flex-sm-wrap{flex-wrap:wrap!important}.flex-sm-nowrap{flex-wrap:nowrap!important}.flex-sm-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-sm-0{gap:0!important}.gap-sm-1{gap:.25rem!important}.gap-sm-2{gap:.5rem!important}.gap-sm-3{gap:1rem!important}.gap-sm-4{gap:1.5rem!important}.gap-sm-5{gap:3rem!important}.justify-content-sm-start{justify-content:flex-start!important}.justify-content-sm-end{justify-content:flex-end!important}.justify-content-sm-center{justify-content:center!important}.justify-content-sm-between{justify-content:space-between!important}.justify-content-sm-around{justify-content:space-around!important}.justify-content-sm-evenly{justify-content:space-evenly!important}.align-items-sm-start{align-items:flex-start!important}.align-items-sm-end{align-items:flex-end!important}.align-items-sm-center{align-items:center!important}.align-items-sm-baseline{align-items:baseline!important}.align-items-sm-stretch{align-items:stretch!important}.align-content-sm-start{align-content:flex-start!important}.align-content-sm-end{align-content:flex-end!important}.align-content-sm-center{align-content:center!important}.align-content-sm-between{align-content:space-between!important}.align-content-sm-around{align-content:space-around!important}.align-content-sm-stretch{align-content:stretch!important}.align-self-sm-auto{align-self:auto!important}.align-self-sm-start{align-self:flex-start!important}.align-self-sm-end{align-self:flex-end!important}.align-self-sm-center{align-self:center!important}.align-self-sm-baseline{align-self:baseline!important}.align-self-sm-stretch{align-self:stretch!important}.order-sm-first{order:-1!important}.order-sm-0{order:0!important}.order-sm-1{order:1!important}.order-sm-2{order:2!important}.order-sm-3{order:3!important}.order-sm-4{order:4!important}.order-sm-5{order:5!important}.order-sm-last{order:6!important}.m-sm-0{margin:0!important}.m-sm-1{margin:.25rem!important}.m-sm-2{margin:.5rem!important}.m-sm-3{margin:1rem!important}.m-sm-4{margin:1.5rem!important}.m-sm-5{margin:3rem!important}.m-sm-auto{margin:auto!important}.mx-sm-0{margin-right:0!important;margin-left:0!important}.mx-sm-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-sm-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-sm-3{margin-right:1rem!important;margin-left:1rem!important}.mx-sm-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-sm-5{margin-right:3rem!important;margin-left:3rem!important}.mx-sm-auto{margin-right:auto!important;margin-left:auto!important}.my-sm-0{margin-top:0!important;margin-bottom:0!important}.my-sm-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-sm-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-sm-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-sm-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-sm-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-sm-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-sm-0{margin-top:0!important}.mt-sm-1{margin-top:.25rem!important}.mt-sm-2{margin-top:.5rem!important}.mt-sm-3{margin-top:1rem!important}.mt-sm-4{margin-top:1.5rem!important}.mt-sm-5{margin-top:3rem!important}.mt-sm-auto{margin-top:auto!important}.me-sm-0{margin-right:0!important}.me-sm-1{margin-right:.25rem!important}.me-sm-2{margin-right:.5rem!important}.me-sm-3{margin-right:1rem!important}.me-sm-4{margin-right:1.5rem!important}.me-sm-5{margin-right:3rem!important}.me-sm-auto{margin-right:auto!important}.mb-sm-0{margin-bottom:0!important}.mb-sm-1{margin-bottom:.25rem!important}.mb-sm-2{margin-bottom:.5rem!important}.mb-sm-3{margin-bottom:1rem!important}.mb-sm-4{margin-bottom:1.5rem!important}.mb-sm-5{margin-bottom:3rem!important}.mb-sm-auto{margin-bottom:auto!important}.ms-sm-0{margin-left:0!important}.ms-sm-1{margin-left:.25rem!important}.ms-sm-2{margin-left:.5rem!important}.ms-sm-3{margin-left:1rem!important}.ms-sm-4{margin-left:1.5rem!important}.ms-sm-5{margin-left:3rem!important}.ms-sm-auto{margin-left:auto!important}.p-sm-0{padding:0!important}.p-sm-1{padding:.25rem!important}.p-sm-2{padding:.5rem!important}.p-sm-3{padding:1rem!important}.p-sm-4{padding:1.5rem!important}.p-sm-5{padding:3rem!important}.px-sm-0{padding-right:0!important;padding-left:0!important}.px-sm-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-sm-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-sm-3{padding-right:1rem!important;padding-left:1rem!important}.px-sm-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-sm-5{padding-right:3rem!important;padding-left:3rem!important}.py-sm-0{padding-top:0!important;padding-bottom:0!important}.py-sm-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-sm-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-sm-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-sm-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-sm-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-sm-0{padding-top:0!important}.pt-sm-1{padding-top:.25rem!important}.pt-sm-2{padding-top:.5rem!important}.pt-sm-3{padding-top:1rem!important}.pt-sm-4{padding-top:1.5rem!important}.pt-sm-5{padding-top:3rem!important}.pe-sm-0{padding-right:0!important}.pe-sm-1{padding-right:.25rem!important}.pe-sm-2{padding-right:.5rem!important}.pe-sm-3{padding-right:1rem!important}.pe-sm-4{padding-right:1.5rem!important}.pe-sm-5{padding-right:3rem!important}.pb-sm-0{padding-bottom:0!important}.pb-sm-1{padding-bottom:.25rem!important}.pb-sm-2{padding-bottom:.5rem!important}.pb-sm-3{padding-bottom:1rem!important}.pb-sm-4{padding-bottom:1.5rem!important}.pb-sm-5{padding-bottom:3rem!important}.ps-sm-0{padding-left:0!important}.ps-sm-1{padding-left:.25rem!important}.ps-sm-2{padding-left:.5rem!important}.ps-sm-3{padding-left:1rem!important}.ps-sm-4{padding-left:1.5rem!important}.ps-sm-5{padding-left:3rem!important}.text-sm-start{text-align:left!important}.text-sm-end{text-align:right!important}.text-sm-center{text-align:center!important}}@media (min-width:768px){.float-md-start{float:left!important}.float-md-end{float:right!important}.float-md-none{float:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-grid{display:grid!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:flex!important}.d-md-inline-flex{display:inline-flex!important}.d-md-none{display:none!important}.flex-md-fill{flex:1 1 auto!important}.flex-md-row{flex-direction:row!important}.flex-md-column{flex-direction:column!important}.flex-md-row-reverse{flex-direction:row-reverse!important}.flex-md-column-reverse{flex-direction:column-reverse!important}.flex-md-grow-0{flex-grow:0!important}.flex-md-grow-1{flex-grow:1!important}.flex-md-shrink-0{flex-shrink:0!important}.flex-md-shrink-1{flex-shrink:1!important}.flex-md-wrap{flex-wrap:wrap!important}.flex-md-nowrap{flex-wrap:nowrap!important}.flex-md-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-md-0{gap:0!important}.gap-md-1{gap:.25rem!important}.gap-md-2{gap:.5rem!important}.gap-md-3{gap:1rem!important}.gap-md-4{gap:1.5rem!important}.gap-md-5{gap:3rem!important}.justify-content-md-start{justify-content:flex-start!important}.justify-content-md-end{justify-content:flex-end!important}.justify-content-md-center{justify-content:center!important}.justify-content-md-between{justify-content:space-between!important}.justify-content-md-around{justify-content:space-around!important}.justify-content-md-evenly{justify-content:space-evenly!important}.align-items-md-start{align-items:flex-start!important}.align-items-md-end{align-items:flex-end!important}.align-items-md-center{align-items:center!important}.align-items-md-baseline{align-items:baseline!important}.align-items-md-stretch{align-items:stretch!important}.align-content-md-start{align-content:flex-start!important}.align-content-md-end{align-content:flex-end!important}.align-content-md-center{align-content:center!important}.align-content-md-between{align-content:space-between!important}.align-content-md-around{align-content:space-around!important}.align-content-md-stretch{align-content:stretch!important}.align-self-md-auto{align-self:auto!important}.align-self-md-start{align-self:flex-start!important}.align-self-md-end{align-self:flex-end!important}.align-self-md-center{align-self:center!important}.align-self-md-baseline{align-self:baseline!important}.align-self-md-stretch{align-self:stretch!important}.order-md-first{order:-1!important}.order-md-0{order:0!important}.order-md-1{order:1!important}.order-md-2{order:2!important}.order-md-3{order:3!important}.order-md-4{order:4!important}.order-md-5{order:5!important}.order-md-last{order:6!important}.m-md-0{margin:0!important}.m-md-1{margin:.25rem!important}.m-md-2{margin:.5rem!important}.m-md-3{margin:1rem!important}.m-md-4{margin:1.5rem!important}.m-md-5{margin:3rem!important}.m-md-auto{margin:auto!important}.mx-md-0{margin-right:0!important;margin-left:0!important}.mx-md-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-md-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-md-3{margin-right:1rem!important;margin-left:1rem!important}.mx-md-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-md-5{margin-right:3rem!important;margin-left:3rem!important}.mx-md-auto{margin-right:auto!important;margin-left:auto!important}.my-md-0{margin-top:0!important;margin-bottom:0!important}.my-md-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-md-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-md-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-md-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-md-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-md-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-md-0{margin-top:0!important}.mt-md-1{margin-top:.25rem!important}.mt-md-2{margin-top:.5rem!important}.mt-md-3{margin-top:1rem!important}.mt-md-4{margin-top:1.5rem!important}.mt-md-5{margin-top:3rem!important}.mt-md-auto{margin-top:auto!important}.me-md-0{margin-right:0!important}.me-md-1{margin-right:.25rem!important}.me-md-2{margin-right:.5rem!important}.me-md-3{margin-right:1rem!important}.me-md-4{margin-right:1.5rem!important}.me-md-5{margin-right:3rem!important}.me-md-auto{margin-right:auto!important}.mb-md-0{margin-bottom:0!important}.mb-md-1{margin-bottom:.25rem!important}.mb-md-2{margin-bottom:.5rem!important}.mb-md-3{margin-bottom:1rem!important}.mb-md-4{margin-bottom:1.5rem!important}.mb-md-5{margin-bottom:3rem!important}.mb-md-auto{margin-bottom:auto!important}.ms-md-0{margin-left:0!important}.ms-md-1{margin-left:.25rem!important}.ms-md-2{margin-left:.5rem!important}.ms-md-3{margin-left:1rem!important}.ms-md-4{margin-left:1.5rem!important}.ms-md-5{margin-left:3rem!important}.ms-md-auto{margin-left:auto!important}.p-md-0{padding:0!important}.p-md-1{padding:.25rem!important}.p-md-2{padding:.5rem!important}.p-md-3{padding:1rem!important}.p-md-4{padding:1.5rem!important}.p-md-5{padding:3rem!important}.px-md-0{padding-right:0!important;padding-left:0!important}.px-md-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-md-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-md-3{padding-right:1rem!important;padding-left:1rem!important}.px-md-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-md-5{padding-right:3rem!important;padding-left:3rem!important}.py-md-0{padding-top:0!important;padding-bottom:0!important}.py-md-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-md-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-md-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-md-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-md-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-md-0{padding-top:0!important}.pt-md-1{padding-top:.25rem!important}.pt-md-2{padding-top:.5rem!important}.pt-md-3{padding-top:1rem!important}.pt-md-4{padding-top:1.5rem!important}.pt-md-5{padding-top:3rem!important}.pe-md-0{padding-right:0!important}.pe-md-1{padding-right:.25rem!important}.pe-md-2{padding-right:.5rem!important}.pe-md-3{padding-right:1rem!important}.pe-md-4{padding-right:1.5rem!important}.pe-md-5{padding-right:3rem!important}.pb-md-0{padding-bottom:0!important}.pb-md-1{padding-bottom:.25rem!important}.pb-md-2{padding-bottom:.5rem!important}.pb-md-3{padding-bottom:1rem!important}.pb-md-4{padding-bottom:1.5rem!important}.pb-md-5{padding-bottom:3rem!important}.ps-md-0{padding-left:0!important}.ps-md-1{padding-left:.25rem!important}.ps-md-2{padding-left:.5rem!important}.ps-md-3{padding-left:1rem!important}.ps-md-4{padding-left:1.5rem!important}.ps-md-5{padding-left:3rem!important}.text-md-start{text-align:left!important}.text-md-end{text-align:right!important}.text-md-center{text-align:center!important}}@media (min-width:992px){.float-lg-start{float:left!important}.float-lg-end{float:right!important}.float-lg-none{float:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-grid{display:grid!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:flex!important}.d-lg-inline-flex{display:inline-flex!important}.d-lg-none{display:none!important}.flex-lg-fill{flex:1 1 auto!important}.flex-lg-row{flex-direction:row!important}.flex-lg-column{flex-direction:column!important}.flex-lg-row-reverse{flex-direction:row-reverse!important}.flex-lg-column-reverse{flex-direction:column-reverse!important}.flex-lg-grow-0{flex-grow:0!important}.flex-lg-grow-1{flex-grow:1!important}.flex-lg-shrink-0{flex-shrink:0!important}.flex-lg-shrink-1{flex-shrink:1!important}.flex-lg-wrap{flex-wrap:wrap!important}.flex-lg-nowrap{flex-wrap:nowrap!important}.flex-lg-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-lg-0{gap:0!important}.gap-lg-1{gap:.25rem!important}.gap-lg-2{gap:.5rem!important}.gap-lg-3{gap:1rem!important}.gap-lg-4{gap:1.5rem!important}.gap-lg-5{gap:3rem!important}.justify-content-lg-start{justify-content:flex-start!important}.justify-content-lg-end{justify-content:flex-end!important}.justify-content-lg-center{justify-content:center!important}.justify-content-lg-between{justify-content:space-between!important}.justify-content-lg-around{justify-content:space-around!important}.justify-content-lg-evenly{justify-content:space-evenly!important}.align-items-lg-start{align-items:flex-start!important}.align-items-lg-end{align-items:flex-end!important}.align-items-lg-center{align-items:center!important}.align-items-lg-baseline{align-items:baseline!important}.align-items-lg-stretch{align-items:stretch!important}.align-content-lg-start{align-content:flex-start!important}.align-content-lg-end{align-content:flex-end!important}.align-content-lg-center{align-content:center!important}.align-content-lg-between{align-content:space-between!important}.align-content-lg-around{align-content:space-around!important}.align-content-lg-stretch{align-content:stretch!important}.align-self-lg-auto{align-self:auto!important}.align-self-lg-start{align-self:flex-start!important}.align-self-lg-end{align-self:flex-end!important}.align-self-lg-center{align-self:center!important}.align-self-lg-baseline{align-self:baseline!important}.align-self-lg-stretch{align-self:stretch!important}.order-lg-first{order:-1!important}.order-lg-0{order:0!important}.order-lg-1{order:1!important}.order-lg-2{order:2!important}.order-lg-3{order:3!important}.order-lg-4{order:4!important}.order-lg-5{order:5!important}.order-lg-last{order:6!important}.m-lg-0{margin:0!important}.m-lg-1{margin:.25rem!important}.m-lg-2{margin:.5rem!important}.m-lg-3{margin:1rem!important}.m-lg-4{margin:1.5rem!important}.m-lg-5{margin:3rem!important}.m-lg-auto{margin:auto!important}.mx-lg-0{margin-right:0!important;margin-left:0!important}.mx-lg-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-lg-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-lg-3{margin-right:1rem!important;margin-left:1rem!important}.mx-lg-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-lg-5{margin-right:3rem!important;margin-left:3rem!important}.mx-lg-auto{margin-right:auto!important;margin-left:auto!important}.my-lg-0{margin-top:0!important;margin-bottom:0!important}.my-lg-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-lg-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-lg-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-lg-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-lg-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-lg-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-lg-0{margin-top:0!important}.mt-lg-1{margin-top:.25rem!important}.mt-lg-2{margin-top:.5rem!important}.mt-lg-3{margin-top:1rem!important}.mt-lg-4{margin-top:1.5rem!important}.mt-lg-5{margin-top:3rem!important}.mt-lg-auto{margin-top:auto!important}.me-lg-0{margin-right:0!important}.me-lg-1{margin-right:.25rem!important}.me-lg-2{margin-right:.5rem!important}.me-lg-3{margin-right:1rem!important}.me-lg-4{margin-right:1.5rem!important}.me-lg-5{margin-right:3rem!important}.me-lg-auto{margin-right:auto!important}.mb-lg-0{margin-bottom:0!important}.mb-lg-1{margin-bottom:.25rem!important}.mb-lg-2{margin-bottom:.5rem!important}.mb-lg-3{margin-bottom:1rem!important}.mb-lg-4{margin-bottom:1.5rem!important}.mb-lg-5{margin-bottom:3rem!important}.mb-lg-auto{margin-bottom:auto!important}.ms-lg-0{margin-left:0!important}.ms-lg-1{margin-left:.25rem!important}.ms-lg-2{margin-left:.5rem!important}.ms-lg-3{margin-left:1rem!important}.ms-lg-4{margin-left:1.5rem!important}.ms-lg-5{margin-left:3rem!important}.ms-lg-auto{margin-left:auto!important}.p-lg-0{padding:0!important}.p-lg-1{padding:.25rem!important}.p-lg-2{padding:.5rem!important}.p-lg-3{padding:1rem!important}.p-lg-4{padding:1.5rem!important}.p-lg-5{padding:3rem!important}.px-lg-0{padding-right:0!important;padding-left:0!important}.px-lg-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-lg-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-lg-3{padding-right:1rem!important;padding-left:1rem!important}.px-lg-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-lg-5{padding-right:3rem!important;padding-left:3rem!important}.py-lg-0{padding-top:0!important;padding-bottom:0!important}.py-lg-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-lg-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-lg-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-lg-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-lg-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-lg-0{padding-top:0!important}.pt-lg-1{padding-top:.25rem!important}.pt-lg-2{padding-top:.5rem!important}.pt-lg-3{padding-top:1rem!important}.pt-lg-4{padding-top:1.5rem!important}.pt-lg-5{padding-top:3rem!important}.pe-lg-0{padding-right:0!important}.pe-lg-1{padding-right:.25rem!important}.pe-lg-2{padding-right:.5rem!important}.pe-lg-3{padding-right:1rem!important}.pe-lg-4{padding-right:1.5rem!important}.pe-lg-5{padding-right:3rem!important}.pb-lg-0{padding-bottom:0!important}.pb-lg-1{padding-bottom:.25rem!important}.pb-lg-2{padding-bottom:.5rem!important}.pb-lg-3{padding-bottom:1rem!important}.pb-lg-4{padding-bottom:1.5rem!important}.pb-lg-5{padding-bottom:3rem!important}.ps-lg-0{padding-left:0!important}.ps-lg-1{padding-left:.25rem!important}.ps-lg-2{padding-left:.5rem!important}.ps-lg-3{padding-left:1rem!important}.ps-lg-4{padding-left:1.5rem!important}.ps-lg-5{padding-left:3rem!important}.text-lg-start{text-align:left!important}.text-lg-end{text-align:right!important}.text-lg-center{text-align:center!important}}@media (min-width:1200px){.float-xl-start{float:left!important}.float-xl-end{float:right!important}.float-xl-none{float:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-grid{display:grid!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:flex!important}.d-xl-inline-flex{display:inline-flex!important}.d-xl-none{display:none!important}.flex-xl-fill{flex:1 1 auto!important}.flex-xl-row{flex-direction:row!important}.flex-xl-column{flex-direction:column!important}.flex-xl-row-reverse{flex-direction:row-reverse!important}.flex-xl-column-reverse{flex-direction:column-reverse!important}.flex-xl-grow-0{flex-grow:0!important}.flex-xl-grow-1{flex-grow:1!important}.flex-xl-shrink-0{flex-shrink:0!important}.flex-xl-shrink-1{flex-shrink:1!important}.flex-xl-wrap{flex-wrap:wrap!important}.flex-xl-nowrap{flex-wrap:nowrap!important}.flex-xl-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-xl-0{gap:0!important}.gap-xl-1{gap:.25rem!important}.gap-xl-2{gap:.5rem!important}.gap-xl-3{gap:1rem!important}.gap-xl-4{gap:1.5rem!important}.gap-xl-5{gap:3rem!important}.justify-content-xl-start{justify-content:flex-start!important}.justify-content-xl-end{justify-content:flex-end!important}.justify-content-xl-center{justify-content:center!important}.justify-content-xl-between{justify-content:space-between!important}.justify-content-xl-around{justify-content:space-around!important}.justify-content-xl-evenly{justify-content:space-evenly!important}.align-items-xl-start{align-items:flex-start!important}.align-items-xl-end{align-items:flex-end!important}.align-items-xl-center{align-items:center!important}.align-items-xl-baseline{align-items:baseline!important}.align-items-xl-stretch{align-items:stretch!important}.align-content-xl-start{align-content:flex-start!important}.align-content-xl-end{align-content:flex-end!important}.align-content-xl-center{align-content:center!important}.align-content-xl-between{align-content:space-between!important}.align-content-xl-around{align-content:space-around!important}.align-content-xl-stretch{align-content:stretch!important}.align-self-xl-auto{align-self:auto!important}.align-self-xl-start{align-self:flex-start!important}.align-self-xl-end{align-self:flex-end!important}.align-self-xl-center{align-self:center!important}.align-self-xl-baseline{align-self:baseline!important}.align-self-xl-stretch{align-self:stretch!important}.order-xl-first{order:-1!important}.order-xl-0{order:0!important}.order-xl-1{order:1!important}.order-xl-2{order:2!important}.order-xl-3{order:3!important}.order-xl-4{order:4!important}.order-xl-5{order:5!important}.order-xl-last{order:6!important}.m-xl-0{margin:0!important}.m-xl-1{margin:.25rem!important}.m-xl-2{margin:.5rem!important}.m-xl-3{margin:1rem!important}.m-xl-4{margin:1.5rem!important}.m-xl-5{margin:3rem!important}.m-xl-auto{margin:auto!important}.mx-xl-0{margin-right:0!important;margin-left:0!important}.mx-xl-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xl-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xl-3{margin-right:1rem!important;margin-left:1rem!important}.mx-xl-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xl-5{margin-right:3rem!important;margin-left:3rem!important}.mx-xl-auto{margin-right:auto!important;margin-left:auto!important}.my-xl-0{margin-top:0!important;margin-bottom:0!important}.my-xl-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xl-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xl-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-xl-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xl-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-xl-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-xl-0{margin-top:0!important}.mt-xl-1{margin-top:.25rem!important}.mt-xl-2{margin-top:.5rem!important}.mt-xl-3{margin-top:1rem!important}.mt-xl-4{margin-top:1.5rem!important}.mt-xl-5{margin-top:3rem!important}.mt-xl-auto{margin-top:auto!important}.me-xl-0{margin-right:0!important}.me-xl-1{margin-right:.25rem!important}.me-xl-2{margin-right:.5rem!important}.me-xl-3{margin-right:1rem!important}.me-xl-4{margin-right:1.5rem!important}.me-xl-5{margin-right:3rem!important}.me-xl-auto{margin-right:auto!important}.mb-xl-0{margin-bottom:0!important}.mb-xl-1{margin-bottom:.25rem!important}.mb-xl-2{margin-bottom:.5rem!important}.mb-xl-3{margin-bottom:1rem!important}.mb-xl-4{margin-bottom:1.5rem!important}.mb-xl-5{margin-bottom:3rem!important}.mb-xl-auto{margin-bottom:auto!important}.ms-xl-0{margin-left:0!important}.ms-xl-1{margin-left:.25rem!important}.ms-xl-2{margin-left:.5rem!important}.ms-xl-3{margin-left:1rem!important}.ms-xl-4{margin-left:1.5rem!important}.ms-xl-5{margin-left:3rem!important}.ms-xl-auto{margin-left:auto!important}.p-xl-0{padding:0!important}.p-xl-1{padding:.25rem!important}.p-xl-2{padding:.5rem!important}.p-xl-3{padding:1rem!important}.p-xl-4{padding:1.5rem!important}.p-xl-5{padding:3rem!important}.px-xl-0{padding-right:0!important;padding-left:0!important}.px-xl-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-xl-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-xl-3{padding-right:1rem!important;padding-left:1rem!important}.px-xl-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xl-5{padding-right:3rem!important;padding-left:3rem!important}.py-xl-0{padding-top:0!important;padding-bottom:0!important}.py-xl-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xl-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xl-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-xl-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xl-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xl-0{padding-top:0!important}.pt-xl-1{padding-top:.25rem!important}.pt-xl-2{padding-top:.5rem!important}.pt-xl-3{padding-top:1rem!important}.pt-xl-4{padding-top:1.5rem!important}.pt-xl-5{padding-top:3rem!important}.pe-xl-0{padding-right:0!important}.pe-xl-1{padding-right:.25rem!important}.pe-xl-2{padding-right:.5rem!important}.pe-xl-3{padding-right:1rem!important}.pe-xl-4{padding-right:1.5rem!important}.pe-xl-5{padding-right:3rem!important}.pb-xl-0{padding-bottom:0!important}.pb-xl-1{padding-bottom:.25rem!important}.pb-xl-2{padding-bottom:.5rem!important}.pb-xl-3{padding-bottom:1rem!important}.pb-xl-4{padding-bottom:1.5rem!important}.pb-xl-5{padding-bottom:3rem!important}.ps-xl-0{padding-left:0!important}.ps-xl-1{padding-left:.25rem!important}.ps-xl-2{padding-left:.5rem!important}.ps-xl-3{padding-left:1rem!important}.ps-xl-4{padding-left:1.5rem!important}.ps-xl-5{padding-left:3rem!important}.text-xl-start{text-align:left!important}.text-xl-end{text-align:right!important}.text-xl-center{text-align:center!important}}@media (min-width:1400px){.float-xxl-start{float:left!important}.float-xxl-end{float:right!important}.float-xxl-none{float:none!important}.d-xxl-inline{display:inline!important}.d-xxl-inline-block{display:inline-block!important}.d-xxl-block{display:block!important}.d-xxl-grid{display:grid!important}.d-xxl-table{display:table!important}.d-xxl-table-row{display:table-row!important}.d-xxl-table-cell{display:table-cell!important}.d-xxl-flex{display:flex!important}.d-xxl-inline-flex{display:inline-flex!important}.d-xxl-none{display:none!important}.flex-xxl-fill{flex:1 1 auto!important}.flex-xxl-row{flex-direction:row!important}.flex-xxl-column{flex-direction:column!important}.flex-xxl-row-reverse{flex-direction:row-reverse!important}.flex-xxl-column-reverse{flex-direction:column-reverse!important}.flex-xxl-grow-0{flex-grow:0!important}.flex-xxl-grow-1{flex-grow:1!important}.flex-xxl-shrink-0{flex-shrink:0!important}.flex-xxl-shrink-1{flex-shrink:1!important}.flex-xxl-wrap{flex-wrap:wrap!important}.flex-xxl-nowrap{flex-wrap:nowrap!important}.flex-xxl-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-xxl-0{gap:0!important}.gap-xxl-1{gap:.25rem!important}.gap-xxl-2{gap:.5rem!important}.gap-xxl-3{gap:1rem!important}.gap-xxl-4{gap:1.5rem!important}.gap-xxl-5{gap:3rem!important}.justify-content-xxl-start{justify-content:flex-start!important}.justify-content-xxl-end{justify-content:flex-end!important}.justify-content-xxl-center{justify-content:center!important}.justify-content-xxl-between{justify-content:space-between!important}.justify-content-xxl-around{justify-content:space-around!important}.justify-content-xxl-evenly{justify-content:space-evenly!important}.align-items-xxl-start{align-items:flex-start!important}.align-items-xxl-end{align-items:flex-end!important}.align-items-xxl-center{align-items:center!important}.align-items-xxl-baseline{align-items:baseline!important}.align-items-xxl-stretch{align-items:stretch!important}.align-content-xxl-start{align-content:flex-start!important}.align-content-xxl-end{align-content:flex-end!important}.align-content-xxl-center{align-content:center!important}.align-content-xxl-between{align-content:space-between!important}.align-content-xxl-around{align-content:space-around!important}.align-content-xxl-stretch{align-content:stretch!important}.align-self-xxl-auto{align-self:auto!important}.align-self-xxl-start{align-self:flex-start!important}.align-self-xxl-end{align-self:flex-end!important}.align-self-xxl-center{align-self:center!important}.align-self-xxl-baseline{align-self:baseline!important}.align-self-xxl-stretch{align-self:stretch!important}.order-xxl-first{order:-1!important}.order-xxl-0{order:0!important}.order-xxl-1{order:1!important}.order-xxl-2{order:2!important}.order-xxl-3{order:3!important}.order-xxl-4{order:4!important}.order-xxl-5{order:5!important}.order-xxl-last{order:6!important}.m-xxl-0{margin:0!important}.m-xxl-1{margin:.25rem!important}.m-xxl-2{margin:.5rem!important}.m-xxl-3{margin:1rem!important}.m-xxl-4{margin:1.5rem!important}.m-xxl-5{margin:3rem!important}.m-xxl-auto{margin:auto!important}.mx-xxl-0{margin-right:0!important;margin-left:0!important}.mx-xxl-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xxl-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xxl-3{margin-right:1rem!important;margin-left:1rem!important}.mx-xxl-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xxl-5{margin-right:3rem!important;margin-left:3rem!important}.mx-xxl-auto{margin-right:auto!important;margin-left:auto!important}.my-xxl-0{margin-top:0!important;margin-bottom:0!important}.my-xxl-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xxl-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xxl-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-xxl-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xxl-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-xxl-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-xxl-0{margin-top:0!important}.mt-xxl-1{margin-top:.25rem!important}.mt-xxl-2{margin-top:.5rem!important}.mt-xxl-3{margin-top:1rem!important}.mt-xxl-4{margin-top:1.5rem!important}.mt-xxl-5{margin-top:3rem!important}.mt-xxl-auto{margin-top:auto!important}.me-xxl-0{margin-right:0!important}.me-xxl-1{margin-right:.25rem!important}.me-xxl-2{margin-right:.5rem!important}.me-xxl-3{margin-right:1rem!important}.me-xxl-4{margin-right:1.5rem!important}.me-xxl-5{margin-right:3rem!important}.me-xxl-auto{margin-right:auto!important}.mb-xxl-0{margin-bottom:0!important}.mb-xxl-1{margin-bottom:.25rem!important}.mb-xxl-2{margin-bottom:.5rem!important}.mb-xxl-3{margin-bottom:1rem!important}.mb-xxl-4{margin-bottom:1.5rem!important}.mb-xxl-5{margin-bottom:3rem!important}.mb-xxl-auto{margin-bottom:auto!important}.ms-xxl-0{margin-left:0!important}.ms-xxl-1{margin-left:.25rem!important}.ms-xxl-2{margin-left:.5rem!important}.ms-xxl-3{margin-left:1rem!important}.ms-xxl-4{margin-left:1.5rem!important}.ms-xxl-5{margin-left:3rem!important}.ms-xxl-auto{margin-left:auto!important}.p-xxl-0{padding:0!important}.p-xxl-1{padding:.25rem!important}.p-xxl-2{padding:.5rem!important}.p-xxl-3{padding:1rem!important}.p-xxl-4{padding:1.5rem!important}.p-xxl-5{padding:3rem!important}.px-xxl-0{padding-right:0!important;padding-left:0!important}.px-xxl-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-xxl-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-xxl-3{padding-right:1rem!important;padding-left:1rem!important}.px-xxl-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xxl-5{padding-right:3rem!important;padding-left:3rem!important}.py-xxl-0{padding-top:0!important;padding-bottom:0!important}.py-xxl-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xxl-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xxl-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-xxl-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xxl-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xxl-0{padding-top:0!important}.pt-xxl-1{padding-top:.25rem!important}.pt-xxl-2{padding-top:.5rem!important}.pt-xxl-3{padding-top:1rem!important}.pt-xxl-4{padding-top:1.5rem!important}.pt-xxl-5{padding-top:3rem!important}.pe-xxl-0{padding-right:0!important}.pe-xxl-1{padding-right:.25rem!important}.pe-xxl-2{padding-right:.5rem!important}.pe-xxl-3{padding-right:1rem!important}.pe-xxl-4{padding-right:1.5rem!important}.pe-xxl-5{padding-right:3rem!important}.pb-xxl-0{padding-bottom:0!important}.pb-xxl-1{padding-bottom:.25rem!important}.pb-xxl-2{padding-bottom:.5rem!important}.pb-xxl-3{padding-bottom:1rem!important}.pb-xxl-4{padding-bottom:1.5rem!important}.pb-xxl-5{padding-bottom:3rem!important}.ps-xxl-0{padding-left:0!important}.ps-xxl-1{padding-left:.25rem!important}.ps-xxl-2{padding-left:.5rem!important}.ps-xxl-3{padding-left:1rem!important}.ps-xxl-4{padding-left:1.5rem!important}.ps-xxl-5{padding-left:3rem!important}.text-xxl-start{text-align:left!important}.text-xxl-end{text-align:right!important}.text-xxl-center{text-align:center!important}}@media (min-width:1200px){.fs-1{font-size:2.5rem!important}.fs-2{font-size:2rem!important}.fs-3{font-size:1.75rem!important}.fs-4{font-size:1.5rem!important}}@media print{.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-grid{display:grid!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:flex!important}.d-print-inline-flex{display:inline-flex!important}.d-print-none{display:none!important}}
/*# sourceMappingURL=bootstrap.min.css.map */
</file>

<file path="MegaMarket.BlazorUI/wwwroot/bootstrap/bootstrap.min.css.map">
{"version":3,"sources":["../../scss/bootstrap.scss","../../scss/_root.scss","../../scss/_reboot.scss","dist/css/bootstrap.css","../../scss/vendor/_rfs.scss","../../scss/mixins/_border-radius.scss","../../scss/_type.scss","../../scss/mixins/_lists.scss","../../scss/_images.scss","../../scss/mixins/_image.scss","../../scss/_containers.scss","../../scss/mixins/_container.scss","../../scss/mixins/_breakpoints.scss","../../scss/_grid.scss","../../scss/mixins/_grid.scss","../../scss/_tables.scss","../../scss/mixins/_table-variants.scss","../../scss/forms/_labels.scss","../../scss/forms/_form-text.scss","../../scss/forms/_form-control.scss","../../scss/mixins/_transition.scss","../../scss/mixins/_gradients.scss","../../scss/forms/_form-select.scss","../../scss/forms/_form-check.scss","../../scss/forms/_form-range.scss","../../scss/forms/_floating-labels.scss","../../scss/forms/_input-group.scss","../../scss/mixins/_forms.scss","../../scss/_buttons.scss","../../scss/mixins/_buttons.scss","../../scss/_transitions.scss","../../scss/_dropdown.scss","../../scss/mixins/_caret.scss","../../scss/_button-group.scss","../../scss/_nav.scss","../../scss/_navbar.scss","../../scss/_card.scss","../../scss/_accordion.scss","../../scss/_breadcrumb.scss","../../scss/_pagination.scss","../../scss/mixins/_pagination.scss","../../scss/_badge.scss","../../scss/_alert.scss","../../scss/mixins/_alert.scss","../../scss/_progress.scss","../../scss/_list-group.scss","../../scss/mixins/_list-group.scss","../../scss/_close.scss","../../scss/_toasts.scss","../../scss/_modal.scss","../../scss/mixins/_backdrop.scss","../../scss/_tooltip.scss","../../scss/mixins/_reset-text.scss","../../scss/_popover.scss","../../scss/_carousel.scss","../../scss/mixins/_clearfix.scss","../../scss/_spinners.scss","../../scss/_offcanvas.scss","../../scss/_placeholders.scss","../../scss/helpers/_colored-links.scss","../../scss/helpers/_ratio.scss","../../scss/helpers/_position.scss","../../scss/helpers/_stacks.scss","../../scss/helpers/_visually-hidden.scss","../../scss/mixins/_visually-hidden.scss","../../scss/helpers/_stretched-link.scss","../../scss/helpers/_text-truncation.scss","../../scss/mixins/_text-truncate.scss","../../scss/helpers/_vr.scss","../../scss/mixins/_utilities.scss","../../scss/utilities/_api.scss"],"names":[],"mappings":"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","sourcesContent":["/*!\n * Bootstrap v5.1.0 (https://getbootstrap.com/)\n * Copyright 2011-2021 The Bootstrap Authors\n * Copyright 2011-2021 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n */\n\n// scss-docs-start import-stack\n// Configuration\n@import \"functions\";\n@import \"variables\";\n@import \"mixins\";\n@import \"utilities\";\n\n// Layout & components\n@import \"root\";\n@import \"reboot\";\n@import \"type\";\n@import \"images\";\n@import \"containers\";\n@import \"grid\";\n@import \"tables\";\n@import \"forms\";\n@import \"buttons\";\n@import \"transitions\";\n@import \"dropdown\";\n@import \"button-group\";\n@import \"nav\";\n@import \"navbar\";\n@import \"card\";\n@import \"accordion\";\n@import \"breadcrumb\";\n@import \"pagination\";\n@import \"badge\";\n@import \"alert\";\n@import \"progress\";\n@import \"list-group\";\n@import \"close\";\n@import \"toasts\";\n@import \"modal\";\n@import \"tooltip\";\n@import \"popover\";\n@import \"carousel\";\n@import \"spinners\";\n@import \"offcanvas\";\n@import \"placeholders\";\n\n// Helpers\n@import \"helpers\";\n\n// Utilities\n@import \"utilities/api\";\n// scss-docs-end import-stack\n",":root {\n  // Note: Custom variable values only support SassScript inside `#{}`.\n\n  // Colors\n  //\n  // Generate palettes for full colors, grays, and theme colors.\n\n  @each $color, $value in $colors {\n    --#{$variable-prefix}#{$color}: #{$value};\n  }\n\n  @each $color, $value in $grays {\n    --#{$variable-prefix}gray-#{$color}: #{$value};\n  }\n\n  @each $color, $value in $theme-colors {\n    --#{$variable-prefix}#{$color}: #{$value};\n  }\n\n  @each $color, $value in $theme-colors-rgb {\n    --#{$variable-prefix}#{$color}-rgb: #{$value};\n  }\n\n  --#{$variable-prefix}white-rgb: #{to-rgb($white)};\n  --#{$variable-prefix}black-rgb: #{to-rgb($black)};\n  --#{$variable-prefix}body-rgb: #{to-rgb($body-color)};\n\n  // Fonts\n\n  // Note: Use `inspect` for lists so that quoted items keep the quotes.\n  // See https://github.com/sass/sass/issues/2383#issuecomment-336349172\n  --#{$variable-prefix}font-sans-serif: #{inspect($font-family-sans-serif)};\n  --#{$variable-prefix}font-monospace: #{inspect($font-family-monospace)};\n  --#{$variable-prefix}gradient: #{$gradient};\n\n  // Root and body\n  // stylelint-disable custom-property-empty-line-before\n  // scss-docs-start root-body-variables\n  @if $font-size-root != null {\n    --#{$variable-prefix}root-font-size: #{$font-size-root};\n  }\n  --#{$variable-prefix}body-font-family: #{$font-family-base};\n  --#{$variable-prefix}body-font-size: #{$font-size-base};\n  --#{$variable-prefix}body-font-weight: #{$font-weight-base};\n  --#{$variable-prefix}body-line-height: #{$line-height-base};\n  --#{$variable-prefix}body-color: #{$body-color};\n  @if $body-text-align != null {\n    --#{$variable-prefix}body-text-align: #{$body-text-align};\n  }\n  --#{$variable-prefix}body-bg: #{$body-bg};\n  // scss-docs-end root-body-variables\n  // stylelint-enable custom-property-empty-line-before\n}\n","// stylelint-disable declaration-no-important, selector-no-qualifying-type, property-no-vendor-prefix\n\n\n// Reboot\n//\n// Normalization of HTML elements, manually forked from Normalize.css to remove\n// styles targeting irrelevant browsers while applying new styles.\n//\n// Normalize is licensed MIT. https://github.com/necolas/normalize.css\n\n\n// Document\n//\n// Change from `box-sizing: content-box` so that `width` is not affected by `padding` or `border`.\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n\n// Root\n//\n// Ability to the value of the root font sizes, affecting the value of `rem`.\n// null by default, thus nothing is generated.\n\n:root {\n  @if $font-size-root != null {\n    font-size: var(--#{$variable-prefix}-root-font-size);\n  }\n\n  @if $enable-smooth-scroll {\n    @media (prefers-reduced-motion: no-preference) {\n      scroll-behavior: smooth;\n    }\n  }\n}\n\n\n// Body\n//\n// 1. Remove the margin in all browsers.\n// 2. As a best practice, apply a default `background-color`.\n// 3. Prevent adjustments of font size after orientation changes in iOS.\n// 4. Change the default tap highlight to be completely transparent in iOS.\n\n// scss-docs-start reboot-body-rules\nbody {\n  margin: 0; // 1\n  font-family: var(--#{$variable-prefix}body-font-family);\n  @include font-size(var(--#{$variable-prefix}body-font-size));\n  font-weight: var(--#{$variable-prefix}body-font-weight);\n  line-height: var(--#{$variable-prefix}body-line-height);\n  color: var(--#{$variable-prefix}body-color);\n  text-align: var(--#{$variable-prefix}body-text-align);\n  background-color: var(--#{$variable-prefix}body-bg); // 2\n  -webkit-text-size-adjust: 100%; // 3\n  -webkit-tap-highlight-color: rgba($black, 0); // 4\n}\n// scss-docs-end reboot-body-rules\n\n\n// Content grouping\n//\n// 1. Reset Firefox's gray color\n// 2. Set correct height and prevent the `size` attribute to make the `hr` look like an input field\n\nhr {\n  margin: $hr-margin-y 0;\n  color: $hr-color; // 1\n  background-color: currentColor;\n  border: 0;\n  opacity: $hr-opacity;\n}\n\nhr:not([size]) {\n  height: $hr-height; // 2\n}\n\n\n// Typography\n//\n// 1. Remove top margins from headings\n//    By default, `<h1>`-`<h6>` all receive top and bottom margins. We nuke the top\n//    margin for easier control within type scales as it avoids margin collapsing.\n\n%heading {\n  margin-top: 0; // 1\n  margin-bottom: $headings-margin-bottom;\n  font-family: $headings-font-family;\n  font-style: $headings-font-style;\n  font-weight: $headings-font-weight;\n  line-height: $headings-line-height;\n  color: $headings-color;\n}\n\nh1 {\n  @extend %heading;\n  @include font-size($h1-font-size);\n}\n\nh2 {\n  @extend %heading;\n  @include font-size($h2-font-size);\n}\n\nh3 {\n  @extend %heading;\n  @include font-size($h3-font-size);\n}\n\nh4 {\n  @extend %heading;\n  @include font-size($h4-font-size);\n}\n\nh5 {\n  @extend %heading;\n  @include font-size($h5-font-size);\n}\n\nh6 {\n  @extend %heading;\n  @include font-size($h6-font-size);\n}\n\n\n// Reset margins on paragraphs\n//\n// Similarly, the top margin on `<p>`s get reset. However, we also reset the\n// bottom margin to use `rem` units instead of `em`.\n\np {\n  margin-top: 0;\n  margin-bottom: $paragraph-margin-bottom;\n}\n\n\n// Abbreviations\n//\n// 1. Duplicate behavior to the data-bs-* attribute for our tooltip plugin\n// 2. Add the correct text decoration in Chrome, Edge, Opera, and Safari.\n// 3. Add explicit cursor to indicate changed behavior.\n// 4. Prevent the text-decoration to be skipped.\n\nabbr[title],\nabbr[data-bs-original-title] { // 1\n  text-decoration: underline dotted; // 2\n  cursor: help; // 3\n  text-decoration-skip-ink: none; // 4\n}\n\n\n// Address\n\naddress {\n  margin-bottom: 1rem;\n  font-style: normal;\n  line-height: inherit;\n}\n\n\n// Lists\n\nol,\nul {\n  padding-left: 2rem;\n}\n\nol,\nul,\ndl {\n  margin-top: 0;\n  margin-bottom: 1rem;\n}\n\nol ol,\nul ul,\nol ul,\nul ol {\n  margin-bottom: 0;\n}\n\ndt {\n  font-weight: $dt-font-weight;\n}\n\n// 1. Undo browser default\n\ndd {\n  margin-bottom: .5rem;\n  margin-left: 0; // 1\n}\n\n\n// Blockquote\n\nblockquote {\n  margin: 0 0 1rem;\n}\n\n\n// Strong\n//\n// Add the correct font weight in Chrome, Edge, and Safari\n\nb,\nstrong {\n  font-weight: $font-weight-bolder;\n}\n\n\n// Small\n//\n// Add the correct font size in all browsers\n\nsmall {\n  @include font-size($small-font-size);\n}\n\n\n// Mark\n\nmark {\n  padding: $mark-padding;\n  background-color: $mark-bg;\n}\n\n\n// Sub and Sup\n//\n// Prevent `sub` and `sup` elements from affecting the line height in\n// all browsers.\n\nsub,\nsup {\n  position: relative;\n  @include font-size($sub-sup-font-size);\n  line-height: 0;\n  vertical-align: baseline;\n}\n\nsub { bottom: -.25em; }\nsup { top: -.5em; }\n\n\n// Links\n\na {\n  color: $link-color;\n  text-decoration: $link-decoration;\n\n  &:hover {\n    color: $link-hover-color;\n    text-decoration: $link-hover-decoration;\n  }\n}\n\n// And undo these styles for placeholder links/named anchors (without href).\n// It would be more straightforward to just use a[href] in previous block, but that\n// causes specificity issues in many other styles that are too complex to fix.\n// See https://github.com/twbs/bootstrap/issues/19402\n\na:not([href]):not([class]) {\n  &,\n  &:hover {\n    color: inherit;\n    text-decoration: none;\n  }\n}\n\n\n// Code\n\npre,\ncode,\nkbd,\nsamp {\n  font-family: $font-family-code;\n  @include font-size(1em); // Correct the odd `em` font sizing in all browsers.\n  direction: ltr #{\"/* rtl:ignore */\"};\n  unicode-bidi: bidi-override;\n}\n\n// 1. Remove browser default top margin\n// 2. Reset browser default of `1em` to use `rem`s\n// 3. Don't allow content to break outside\n\npre {\n  display: block;\n  margin-top: 0; // 1\n  margin-bottom: 1rem; // 2\n  overflow: auto; // 3\n  @include font-size($code-font-size);\n  color: $pre-color;\n\n  // Account for some code outputs that place code tags in pre tags\n  code {\n    @include font-size(inherit);\n    color: inherit;\n    word-break: normal;\n  }\n}\n\ncode {\n  @include font-size($code-font-size);\n  color: $code-color;\n  word-wrap: break-word;\n\n  // Streamline the style when inside anchors to avoid broken underline and more\n  a > & {\n    color: inherit;\n  }\n}\n\nkbd {\n  padding: $kbd-padding-y $kbd-padding-x;\n  @include font-size($kbd-font-size);\n  color: $kbd-color;\n  background-color: $kbd-bg;\n  @include border-radius($border-radius-sm);\n\n  kbd {\n    padding: 0;\n    @include font-size(1em);\n    font-weight: $nested-kbd-font-weight;\n  }\n}\n\n\n// Figures\n//\n// Apply a consistent margin strategy (matches our type styles).\n\nfigure {\n  margin: 0 0 1rem;\n}\n\n\n// Images and content\n\nimg,\nsvg {\n  vertical-align: middle;\n}\n\n\n// Tables\n//\n// Prevent double borders\n\ntable {\n  caption-side: bottom;\n  border-collapse: collapse;\n}\n\ncaption {\n  padding-top: $table-cell-padding-y;\n  padding-bottom: $table-cell-padding-y;\n  color: $table-caption-color;\n  text-align: left;\n}\n\n// 1. Removes font-weight bold by inheriting\n// 2. Matches default `<td>` alignment by inheriting `text-align`.\n// 3. Fix alignment for Safari\n\nth {\n  font-weight: $table-th-font-weight; // 1\n  text-align: inherit; // 2\n  text-align: -webkit-match-parent; // 3\n}\n\nthead,\ntbody,\ntfoot,\ntr,\ntd,\nth {\n  border-color: inherit;\n  border-style: solid;\n  border-width: 0;\n}\n\n\n// Forms\n//\n// 1. Allow labels to use `margin` for spacing.\n\nlabel {\n  display: inline-block; // 1\n}\n\n// Remove the default `border-radius` that macOS Chrome adds.\n// See https://github.com/twbs/bootstrap/issues/24093\n\nbutton {\n  // stylelint-disable-next-line property-disallowed-list\n  border-radius: 0;\n}\n\n// Explicitly remove focus outline in Chromium when it shouldn't be\n// visible (e.g. as result of mouse click or touch tap). It already\n// should be doing this automatically, but seems to currently be\n// confused and applies its very visible two-tone outline anyway.\n\nbutton:focus:not(:focus-visible) {\n  outline: 0;\n}\n\n// 1. Remove the margin in Firefox and Safari\n\ninput,\nbutton,\nselect,\noptgroup,\ntextarea {\n  margin: 0; // 1\n  font-family: inherit;\n  @include font-size(inherit);\n  line-height: inherit;\n}\n\n// Remove the inheritance of text transform in Firefox\nbutton,\nselect {\n  text-transform: none;\n}\n// Set the cursor for non-`<button>` buttons\n//\n// Details at https://github.com/twbs/bootstrap/pull/30562\n[role=\"button\"] {\n  cursor: pointer;\n}\n\nselect {\n  // Remove the inheritance of word-wrap in Safari.\n  // See https://github.com/twbs/bootstrap/issues/24990\n  word-wrap: normal;\n\n  // Undo the opacity change from Chrome\n  &:disabled {\n    opacity: 1;\n  }\n}\n\n// Remove the dropdown arrow in Chrome from inputs built with datalists.\n// See https://stackoverflow.com/a/54997118\n\n[list]::-webkit-calendar-picker-indicator {\n  display: none;\n}\n\n// 1. Prevent a WebKit bug where (2) destroys native `audio` and `video`\n//    controls in Android 4.\n// 2. Correct the inability to style clickable types in iOS and Safari.\n// 3. Opinionated: add \"hand\" cursor to non-disabled button elements.\n\nbutton,\n[type=\"button\"], // 1\n[type=\"reset\"],\n[type=\"submit\"] {\n  -webkit-appearance: button; // 2\n\n  @if $enable-button-pointers {\n    &:not(:disabled) {\n      cursor: pointer; // 3\n    }\n  }\n}\n\n// Remove inner border and padding from Firefox, but don't restore the outline like Normalize.\n\n::-moz-focus-inner {\n  padding: 0;\n  border-style: none;\n}\n\n// 1. Textareas should really only resize vertically so they don't break their (horizontal) containers.\n\ntextarea {\n  resize: vertical; // 1\n}\n\n// 1. Browsers set a default `min-width: min-content;` on fieldsets,\n//    unlike e.g. `<div>`s, which have `min-width: 0;` by default.\n//    So we reset that to ensure fieldsets behave more like a standard block element.\n//    See https://github.com/twbs/bootstrap/issues/12359\n//    and https://html.spec.whatwg.org/multipage/#the-fieldset-and-legend-elements\n// 2. Reset the default outline behavior of fieldsets so they don't affect page layout.\n\nfieldset {\n  min-width: 0; // 1\n  padding: 0; // 2\n  margin: 0; // 2\n  border: 0; // 2\n}\n\n// 1. By using `float: left`, the legend will behave like a block element.\n//    This way the border of a fieldset wraps around the legend if present.\n// 2. Fix wrapping bug.\n//    See https://github.com/twbs/bootstrap/issues/29712\n\nlegend {\n  float: left; // 1\n  width: 100%;\n  padding: 0;\n  margin-bottom: $legend-margin-bottom;\n  @include font-size($legend-font-size);\n  font-weight: $legend-font-weight;\n  line-height: inherit;\n\n  + * {\n    clear: left; // 2\n  }\n}\n\n// Fix height of inputs with a type of datetime-local, date, month, week, or time\n// See https://github.com/twbs/bootstrap/issues/18842\n\n::-webkit-datetime-edit-fields-wrapper,\n::-webkit-datetime-edit-text,\n::-webkit-datetime-edit-minute,\n::-webkit-datetime-edit-hour-field,\n::-webkit-datetime-edit-day-field,\n::-webkit-datetime-edit-month-field,\n::-webkit-datetime-edit-year-field {\n  padding: 0;\n}\n\n::-webkit-inner-spin-button {\n  height: auto;\n}\n\n// 1. Correct the outline style in Safari.\n// 2. This overrides the extra rounded corners on search inputs in iOS so that our\n//    `.form-control` class can properly style them. Note that this cannot simply\n//    be added to `.form-control` as it's not specific enough. For details, see\n//    https://github.com/twbs/bootstrap/issues/11586.\n\n[type=\"search\"] {\n  outline-offset: -2px; // 1\n  -webkit-appearance: textfield; // 2\n}\n\n// 1. A few input types should stay LTR\n// See https://rtlstyling.com/posts/rtl-styling#form-inputs\n// 2. RTL only output\n// See https://rtlcss.com/learn/usage-guide/control-directives/#raw\n\n/* rtl:raw:\n[type=\"tel\"],\n[type=\"url\"],\n[type=\"email\"],\n[type=\"number\"] {\n  direction: ltr;\n}\n*/\n\n// Remove the inner padding in Chrome and Safari on macOS.\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n// Remove padding around color pickers in webkit browsers\n\n::-webkit-color-swatch-wrapper {\n  padding: 0;\n}\n\n\n// Inherit font family and line height for file input buttons\n\n::file-selector-button {\n  font: inherit;\n}\n\n// 1. Change font properties to `inherit`\n// 2. Correct the inability to style clickable types in iOS and Safari.\n\n::-webkit-file-upload-button {\n  font: inherit; // 1\n  -webkit-appearance: button; // 2\n}\n\n// Correct element displays\n\noutput {\n  display: inline-block;\n}\n\n// Remove border from iframe\n\niframe {\n  border: 0;\n}\n\n// Summary\n//\n// 1. Add the correct display in all browsers\n\nsummary {\n  display: list-item; // 1\n  cursor: pointer;\n}\n\n\n// Progress\n//\n// Add the correct vertical alignment in Chrome, Firefox, and Opera.\n\nprogress {\n  vertical-align: baseline;\n}\n\n\n// Hidden attribute\n//\n// Always hide an element with the `hidden` HTML attribute.\n\n[hidden] {\n  display: none !important;\n}\n","@charset \"UTF-8\";\n/*!\n * Bootstrap v5.1.0 (https://getbootstrap.com/)\n * Copyright 2011-2021 The Bootstrap Authors\n * Copyright 2011-2021 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n */\n:root {\n  --bs-blue: #0d6efd;\n  --bs-indigo: #6610f2;\n  --bs-purple: #6f42c1;\n  --bs-pink: #d63384;\n  --bs-red: #dc3545;\n  --bs-orange: #fd7e14;\n  --bs-yellow: #ffc107;\n  --bs-green: #198754;\n  --bs-teal: #20c997;\n  --bs-cyan: #0dcaf0;\n  --bs-white: #fff;\n  --bs-gray: #6c757d;\n  --bs-gray-dark: #343a40;\n  --bs-gray-100: #f8f9fa;\n  --bs-gray-200: #e9ecef;\n  --bs-gray-300: #dee2e6;\n  --bs-gray-400: #ced4da;\n  --bs-gray-500: #adb5bd;\n  --bs-gray-600: #6c757d;\n  --bs-gray-700: #495057;\n  --bs-gray-800: #343a40;\n  --bs-gray-900: #212529;\n  --bs-primary: #0d6efd;\n  --bs-secondary: #6c757d;\n  --bs-success: #198754;\n  --bs-info: #0dcaf0;\n  --bs-warning: #ffc107;\n  --bs-danger: #dc3545;\n  --bs-light: #f8f9fa;\n  --bs-dark: #212529;\n  --bs-primary-rgb: 13, 110, 253;\n  --bs-secondary-rgb: 108, 117, 125;\n  --bs-success-rgb: 25, 135, 84;\n  --bs-info-rgb: 13, 202, 240;\n  --bs-warning-rgb: 255, 193, 7;\n  --bs-danger-rgb: 220, 53, 69;\n  --bs-light-rgb: 248, 249, 250;\n  --bs-dark-rgb: 33, 37, 41;\n  --bs-white-rgb: 255, 255, 255;\n  --bs-black-rgb: 0, 0, 0;\n  --bs-body-rgb: 33, 37, 41;\n  --bs-font-sans-serif: system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n  --bs-font-monospace: SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n  --bs-gradient: linear-gradient(180deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0));\n  --bs-body-font-family: var(--bs-font-sans-serif);\n  --bs-body-font-size: 1rem;\n  --bs-body-font-weight: 400;\n  --bs-body-line-height: 1.5;\n  --bs-body-color: #212529;\n  --bs-body-bg: #fff;\n}\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  :root {\n    scroll-behavior: smooth;\n  }\n}\n\nbody {\n  margin: 0;\n  font-family: var(--bs-body-font-family);\n  font-size: var(--bs-body-font-size);\n  font-weight: var(--bs-body-font-weight);\n  line-height: var(--bs-body-line-height);\n  color: var(--bs-body-color);\n  text-align: var(--bs-body-text-align);\n  background-color: var(--bs-body-bg);\n  -webkit-text-size-adjust: 100%;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\nhr {\n  margin: 1rem 0;\n  color: inherit;\n  background-color: currentColor;\n  border: 0;\n  opacity: 0.25;\n}\n\nhr:not([size]) {\n  height: 1px;\n}\n\nh6, .h6, h5, .h5, h4, .h4, h3, .h3, h2, .h2, h1, .h1 {\n  margin-top: 0;\n  margin-bottom: 0.5rem;\n  font-weight: 500;\n  line-height: 1.2;\n}\n\nh1, .h1 {\n  font-size: calc(1.375rem + 1.5vw);\n}\n@media (min-width: 1200px) {\n  h1, .h1 {\n    font-size: 2.5rem;\n  }\n}\n\nh2, .h2 {\n  font-size: calc(1.325rem + 0.9vw);\n}\n@media (min-width: 1200px) {\n  h2, .h2 {\n    font-size: 2rem;\n  }\n}\n\nh3, .h3 {\n  font-size: calc(1.3rem + 0.6vw);\n}\n@media (min-width: 1200px) {\n  h3, .h3 {\n    font-size: 1.75rem;\n  }\n}\n\nh4, .h4 {\n  font-size: calc(1.275rem + 0.3vw);\n}\n@media (min-width: 1200px) {\n  h4, .h4 {\n    font-size: 1.5rem;\n  }\n}\n\nh5, .h5 {\n  font-size: 1.25rem;\n}\n\nh6, .h6 {\n  font-size: 1rem;\n}\n\np {\n  margin-top: 0;\n  margin-bottom: 1rem;\n}\n\nabbr[title],\nabbr[data-bs-original-title] {\n  -webkit-text-decoration: underline dotted;\n  text-decoration: underline dotted;\n  cursor: help;\n  -webkit-text-decoration-skip-ink: none;\n  text-decoration-skip-ink: none;\n}\n\naddress {\n  margin-bottom: 1rem;\n  font-style: normal;\n  line-height: inherit;\n}\n\nol,\nul {\n  padding-left: 2rem;\n}\n\nol,\nul,\ndl {\n  margin-top: 0;\n  margin-bottom: 1rem;\n}\n\nol ol,\nul ul,\nol ul,\nul ol {\n  margin-bottom: 0;\n}\n\ndt {\n  font-weight: 700;\n}\n\ndd {\n  margin-bottom: 0.5rem;\n  margin-left: 0;\n}\n\nblockquote {\n  margin: 0 0 1rem;\n}\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\nsmall, .small {\n  font-size: 0.875em;\n}\n\nmark, .mark {\n  padding: 0.2em;\n  background-color: #fcf8e3;\n}\n\nsub,\nsup {\n  position: relative;\n  font-size: 0.75em;\n  line-height: 0;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\na {\n  color: #0d6efd;\n  text-decoration: underline;\n}\na:hover {\n  color: #0a58ca;\n}\n\na:not([href]):not([class]), a:not([href]):not([class]):hover {\n  color: inherit;\n  text-decoration: none;\n}\n\npre,\ncode,\nkbd,\nsamp {\n  font-family: var(--bs-font-monospace);\n  font-size: 1em;\n  direction: ltr /* rtl:ignore */;\n  unicode-bidi: bidi-override;\n}\n\npre {\n  display: block;\n  margin-top: 0;\n  margin-bottom: 1rem;\n  overflow: auto;\n  font-size: 0.875em;\n}\npre code {\n  font-size: inherit;\n  color: inherit;\n  word-break: normal;\n}\n\ncode {\n  font-size: 0.875em;\n  color: #d63384;\n  word-wrap: break-word;\n}\na > code {\n  color: inherit;\n}\n\nkbd {\n  padding: 0.2rem 0.4rem;\n  font-size: 0.875em;\n  color: #fff;\n  background-color: #212529;\n  border-radius: 0.2rem;\n}\nkbd kbd {\n  padding: 0;\n  font-size: 1em;\n  font-weight: 700;\n}\n\nfigure {\n  margin: 0 0 1rem;\n}\n\nimg,\nsvg {\n  vertical-align: middle;\n}\n\ntable {\n  caption-side: bottom;\n  border-collapse: collapse;\n}\n\ncaption {\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  color: #6c757d;\n  text-align: left;\n}\n\nth {\n  text-align: inherit;\n  text-align: -webkit-match-parent;\n}\n\nthead,\ntbody,\ntfoot,\ntr,\ntd,\nth {\n  border-color: inherit;\n  border-style: solid;\n  border-width: 0;\n}\n\nlabel {\n  display: inline-block;\n}\n\nbutton {\n  border-radius: 0;\n}\n\nbutton:focus:not(:focus-visible) {\n  outline: 0;\n}\n\ninput,\nbutton,\nselect,\noptgroup,\ntextarea {\n  margin: 0;\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n}\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n[role=button] {\n  cursor: pointer;\n}\n\nselect {\n  word-wrap: normal;\n}\nselect:disabled {\n  opacity: 1;\n}\n\n[list]::-webkit-calendar-picker-indicator {\n  display: none;\n}\n\nbutton,\n[type=button],\n[type=reset],\n[type=submit] {\n  -webkit-appearance: button;\n}\nbutton:not(:disabled),\n[type=button]:not(:disabled),\n[type=reset]:not(:disabled),\n[type=submit]:not(:disabled) {\n  cursor: pointer;\n}\n\n::-moz-focus-inner {\n  padding: 0;\n  border-style: none;\n}\n\ntextarea {\n  resize: vertical;\n}\n\nfieldset {\n  min-width: 0;\n  padding: 0;\n  margin: 0;\n  border: 0;\n}\n\nlegend {\n  float: left;\n  width: 100%;\n  padding: 0;\n  margin-bottom: 0.5rem;\n  font-size: calc(1.275rem + 0.3vw);\n  line-height: inherit;\n}\n@media (min-width: 1200px) {\n  legend {\n    font-size: 1.5rem;\n  }\n}\nlegend + * {\n  clear: left;\n}\n\n::-webkit-datetime-edit-fields-wrapper,\n::-webkit-datetime-edit-text,\n::-webkit-datetime-edit-minute,\n::-webkit-datetime-edit-hour-field,\n::-webkit-datetime-edit-day-field,\n::-webkit-datetime-edit-month-field,\n::-webkit-datetime-edit-year-field {\n  padding: 0;\n}\n\n::-webkit-inner-spin-button {\n  height: auto;\n}\n\n[type=search] {\n  outline-offset: -2px;\n  -webkit-appearance: textfield;\n}\n\n/* rtl:raw:\n[type=\"tel\"],\n[type=\"url\"],\n[type=\"email\"],\n[type=\"number\"] {\n  direction: ltr;\n}\n*/\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n::-webkit-color-swatch-wrapper {\n  padding: 0;\n}\n\n::file-selector-button {\n  font: inherit;\n}\n\n::-webkit-file-upload-button {\n  font: inherit;\n  -webkit-appearance: button;\n}\n\noutput {\n  display: inline-block;\n}\n\niframe {\n  border: 0;\n}\n\nsummary {\n  display: list-item;\n  cursor: pointer;\n}\n\nprogress {\n  vertical-align: baseline;\n}\n\n[hidden] {\n  display: none !important;\n}\n\n.lead {\n  font-size: 1.25rem;\n  font-weight: 300;\n}\n\n.display-1 {\n  font-size: calc(1.625rem + 4.5vw);\n  font-weight: 300;\n  line-height: 1.2;\n}\n@media (min-width: 1200px) {\n  .display-1 {\n    font-size: 5rem;\n  }\n}\n\n.display-2 {\n  font-size: calc(1.575rem + 3.9vw);\n  font-weight: 300;\n  line-height: 1.2;\n}\n@media (min-width: 1200px) {\n  .display-2 {\n    font-size: 4.5rem;\n  }\n}\n\n.display-3 {\n  font-size: calc(1.525rem + 3.3vw);\n  font-weight: 300;\n  line-height: 1.2;\n}\n@media (min-width: 1200px) {\n  .display-3 {\n    font-size: 4rem;\n  }\n}\n\n.display-4 {\n  font-size: calc(1.475rem + 2.7vw);\n  font-weight: 300;\n  line-height: 1.2;\n}\n@media (min-width: 1200px) {\n  .display-4 {\n    font-size: 3.5rem;\n  }\n}\n\n.display-5 {\n  font-size: calc(1.425rem + 2.1vw);\n  font-weight: 300;\n  line-height: 1.2;\n}\n@media (min-width: 1200px) {\n  .display-5 {\n    font-size: 3rem;\n  }\n}\n\n.display-6 {\n  font-size: calc(1.375rem + 1.5vw);\n  font-weight: 300;\n  line-height: 1.2;\n}\n@media (min-width: 1200px) {\n  .display-6 {\n    font-size: 2.5rem;\n  }\n}\n\n.list-unstyled {\n  padding-left: 0;\n  list-style: none;\n}\n\n.list-inline {\n  padding-left: 0;\n  list-style: none;\n}\n\n.list-inline-item {\n  display: inline-block;\n}\n.list-inline-item:not(:last-child) {\n  margin-right: 0.5rem;\n}\n\n.initialism {\n  font-size: 0.875em;\n  text-transform: uppercase;\n}\n\n.blockquote {\n  margin-bottom: 1rem;\n  font-size: 1.25rem;\n}\n.blockquote > :last-child {\n  margin-bottom: 0;\n}\n\n.blockquote-footer {\n  margin-top: -1rem;\n  margin-bottom: 1rem;\n  font-size: 0.875em;\n  color: #6c757d;\n}\n.blockquote-footer::before {\n  content: \"— \";\n}\n\n.img-fluid {\n  max-width: 100%;\n  height: auto;\n}\n\n.img-thumbnail {\n  padding: 0.25rem;\n  background-color: #fff;\n  border: 1px solid #dee2e6;\n  border-radius: 0.25rem;\n  max-width: 100%;\n  height: auto;\n}\n\n.figure {\n  display: inline-block;\n}\n\n.figure-img {\n  margin-bottom: 0.5rem;\n  line-height: 1;\n}\n\n.figure-caption {\n  font-size: 0.875em;\n  color: #6c757d;\n}\n\n.container,\n.container-fluid,\n.container-xxl,\n.container-xl,\n.container-lg,\n.container-md,\n.container-sm {\n  width: 100%;\n  padding-right: var(--bs-gutter-x, 0.75rem);\n  padding-left: var(--bs-gutter-x, 0.75rem);\n  margin-right: auto;\n  margin-left: auto;\n}\n\n@media (min-width: 576px) {\n  .container-sm, .container {\n    max-width: 540px;\n  }\n}\n@media (min-width: 768px) {\n  .container-md, .container-sm, .container {\n    max-width: 720px;\n  }\n}\n@media (min-width: 992px) {\n  .container-lg, .container-md, .container-sm, .container {\n    max-width: 960px;\n  }\n}\n@media (min-width: 1200px) {\n  .container-xl, .container-lg, .container-md, .container-sm, .container {\n    max-width: 1140px;\n  }\n}\n@media (min-width: 1400px) {\n  .container-xxl, .container-xl, .container-lg, .container-md, .container-sm, .container {\n    max-width: 1320px;\n  }\n}\n.row {\n  --bs-gutter-x: 1.5rem;\n  --bs-gutter-y: 0;\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: calc(var(--bs-gutter-y) * -1);\n  margin-right: calc(var(--bs-gutter-x) * -.5);\n  margin-left: calc(var(--bs-gutter-x) * -.5);\n}\n.row > * {\n  flex-shrink: 0;\n  width: 100%;\n  max-width: 100%;\n  padding-right: calc(var(--bs-gutter-x) * .5);\n  padding-left: calc(var(--bs-gutter-x) * .5);\n  margin-top: var(--bs-gutter-y);\n}\n\n.col {\n  flex: 1 0 0%;\n}\n\n.row-cols-auto > * {\n  flex: 0 0 auto;\n  width: auto;\n}\n\n.row-cols-1 > * {\n  flex: 0 0 auto;\n  width: 100%;\n}\n\n.row-cols-2 > * {\n  flex: 0 0 auto;\n  width: 50%;\n}\n\n.row-cols-3 > * {\n  flex: 0 0 auto;\n  width: 33.3333333333%;\n}\n\n.row-cols-4 > * {\n  flex: 0 0 auto;\n  width: 25%;\n}\n\n.row-cols-5 > * {\n  flex: 0 0 auto;\n  width: 20%;\n}\n\n.row-cols-6 > * {\n  flex: 0 0 auto;\n  width: 16.6666666667%;\n}\n\n.col-auto {\n  flex: 0 0 auto;\n  width: auto;\n}\n\n.col-1 {\n  flex: 0 0 auto;\n  width: 8.33333333%;\n}\n\n.col-2 {\n  flex: 0 0 auto;\n  width: 16.66666667%;\n}\n\n.col-3 {\n  flex: 0 0 auto;\n  width: 25%;\n}\n\n.col-4 {\n  flex: 0 0 auto;\n  width: 33.33333333%;\n}\n\n.col-5 {\n  flex: 0 0 auto;\n  width: 41.66666667%;\n}\n\n.col-6 {\n  flex: 0 0 auto;\n  width: 50%;\n}\n\n.col-7 {\n  flex: 0 0 auto;\n  width: 58.33333333%;\n}\n\n.col-8 {\n  flex: 0 0 auto;\n  width: 66.66666667%;\n}\n\n.col-9 {\n  flex: 0 0 auto;\n  width: 75%;\n}\n\n.col-10 {\n  flex: 0 0 auto;\n  width: 83.33333333%;\n}\n\n.col-11 {\n  flex: 0 0 auto;\n  width: 91.66666667%;\n}\n\n.col-12 {\n  flex: 0 0 auto;\n  width: 100%;\n}\n\n.offset-1 {\n  margin-left: 8.33333333%;\n}\n\n.offset-2 {\n  margin-left: 16.66666667%;\n}\n\n.offset-3 {\n  margin-left: 25%;\n}\n\n.offset-4 {\n  margin-left: 33.33333333%;\n}\n\n.offset-5 {\n  margin-left: 41.66666667%;\n}\n\n.offset-6 {\n  margin-left: 50%;\n}\n\n.offset-7 {\n  margin-left: 58.33333333%;\n}\n\n.offset-8 {\n  margin-left: 66.66666667%;\n}\n\n.offset-9 {\n  margin-left: 75%;\n}\n\n.offset-10 {\n  margin-left: 83.33333333%;\n}\n\n.offset-11 {\n  margin-left: 91.66666667%;\n}\n\n.g-0,\n.gx-0 {\n  --bs-gutter-x: 0;\n}\n\n.g-0,\n.gy-0 {\n  --bs-gutter-y: 0;\n}\n\n.g-1,\n.gx-1 {\n  --bs-gutter-x: 0.25rem;\n}\n\n.g-1,\n.gy-1 {\n  --bs-gutter-y: 0.25rem;\n}\n\n.g-2,\n.gx-2 {\n  --bs-gutter-x: 0.5rem;\n}\n\n.g-2,\n.gy-2 {\n  --bs-gutter-y: 0.5rem;\n}\n\n.g-3,\n.gx-3 {\n  --bs-gutter-x: 1rem;\n}\n\n.g-3,\n.gy-3 {\n  --bs-gutter-y: 1rem;\n}\n\n.g-4,\n.gx-4 {\n  --bs-gutter-x: 1.5rem;\n}\n\n.g-4,\n.gy-4 {\n  --bs-gutter-y: 1.5rem;\n}\n\n.g-5,\n.gx-5 {\n  --bs-gutter-x: 3rem;\n}\n\n.g-5,\n.gy-5 {\n  --bs-gutter-y: 3rem;\n}\n\n@media (min-width: 576px) {\n  .col-sm {\n    flex: 1 0 0%;\n  }\n\n  .row-cols-sm-auto > * {\n    flex: 0 0 auto;\n    width: auto;\n  }\n\n  .row-cols-sm-1 > * {\n    flex: 0 0 auto;\n    width: 100%;\n  }\n\n  .row-cols-sm-2 > * {\n    flex: 0 0 auto;\n    width: 50%;\n  }\n\n  .row-cols-sm-3 > * {\n    flex: 0 0 auto;\n    width: 33.3333333333%;\n  }\n\n  .row-cols-sm-4 > * {\n    flex: 0 0 auto;\n    width: 25%;\n  }\n\n  .row-cols-sm-5 > * {\n    flex: 0 0 auto;\n    width: 20%;\n  }\n\n  .row-cols-sm-6 > * {\n    flex: 0 0 auto;\n    width: 16.6666666667%;\n  }\n\n  .col-sm-auto {\n    flex: 0 0 auto;\n    width: auto;\n  }\n\n  .col-sm-1 {\n    flex: 0 0 auto;\n    width: 8.33333333%;\n  }\n\n  .col-sm-2 {\n    flex: 0 0 auto;\n    width: 16.66666667%;\n  }\n\n  .col-sm-3 {\n    flex: 0 0 auto;\n    width: 25%;\n  }\n\n  .col-sm-4 {\n    flex: 0 0 auto;\n    width: 33.33333333%;\n  }\n\n  .col-sm-5 {\n    flex: 0 0 auto;\n    width: 41.66666667%;\n  }\n\n  .col-sm-6 {\n    flex: 0 0 auto;\n    width: 50%;\n  }\n\n  .col-sm-7 {\n    flex: 0 0 auto;\n    width: 58.33333333%;\n  }\n\n  .col-sm-8 {\n    flex: 0 0 auto;\n    width: 66.66666667%;\n  }\n\n  .col-sm-9 {\n    flex: 0 0 auto;\n    width: 75%;\n  }\n\n  .col-sm-10 {\n    flex: 0 0 auto;\n    width: 83.33333333%;\n  }\n\n  .col-sm-11 {\n    flex: 0 0 auto;\n    width: 91.66666667%;\n  }\n\n  .col-sm-12 {\n    flex: 0 0 auto;\n    width: 100%;\n  }\n\n  .offset-sm-0 {\n    margin-left: 0;\n  }\n\n  .offset-sm-1 {\n    margin-left: 8.33333333%;\n  }\n\n  .offset-sm-2 {\n    margin-left: 16.66666667%;\n  }\n\n  .offset-sm-3 {\n    margin-left: 25%;\n  }\n\n  .offset-sm-4 {\n    margin-left: 33.33333333%;\n  }\n\n  .offset-sm-5 {\n    margin-left: 41.66666667%;\n  }\n\n  .offset-sm-6 {\n    margin-left: 50%;\n  }\n\n  .offset-sm-7 {\n    margin-left: 58.33333333%;\n  }\n\n  .offset-sm-8 {\n    margin-left: 66.66666667%;\n  }\n\n  .offset-sm-9 {\n    margin-left: 75%;\n  }\n\n  .offset-sm-10 {\n    margin-left: 83.33333333%;\n  }\n\n  .offset-sm-11 {\n    margin-left: 91.66666667%;\n  }\n\n  .g-sm-0,\n.gx-sm-0 {\n    --bs-gutter-x: 0;\n  }\n\n  .g-sm-0,\n.gy-sm-0 {\n    --bs-gutter-y: 0;\n  }\n\n  .g-sm-1,\n.gx-sm-1 {\n    --bs-gutter-x: 0.25rem;\n  }\n\n  .g-sm-1,\n.gy-sm-1 {\n    --bs-gutter-y: 0.25rem;\n  }\n\n  .g-sm-2,\n.gx-sm-2 {\n    --bs-gutter-x: 0.5rem;\n  }\n\n  .g-sm-2,\n.gy-sm-2 {\n    --bs-gutter-y: 0.5rem;\n  }\n\n  .g-sm-3,\n.gx-sm-3 {\n    --bs-gutter-x: 1rem;\n  }\n\n  .g-sm-3,\n.gy-sm-3 {\n    --bs-gutter-y: 1rem;\n  }\n\n  .g-sm-4,\n.gx-sm-4 {\n    --bs-gutter-x: 1.5rem;\n  }\n\n  .g-sm-4,\n.gy-sm-4 {\n    --bs-gutter-y: 1.5rem;\n  }\n\n  .g-sm-5,\n.gx-sm-5 {\n    --bs-gutter-x: 3rem;\n  }\n\n  .g-sm-5,\n.gy-sm-5 {\n    --bs-gutter-y: 3rem;\n  }\n}\n@media (min-width: 768px) {\n  .col-md {\n    flex: 1 0 0%;\n  }\n\n  .row-cols-md-auto > * {\n    flex: 0 0 auto;\n    width: auto;\n  }\n\n  .row-cols-md-1 > * {\n    flex: 0 0 auto;\n    width: 100%;\n  }\n\n  .row-cols-md-2 > * {\n    flex: 0 0 auto;\n    width: 50%;\n  }\n\n  .row-cols-md-3 > * {\n    flex: 0 0 auto;\n    width: 33.3333333333%;\n  }\n\n  .row-cols-md-4 > * {\n    flex: 0 0 auto;\n    width: 25%;\n  }\n\n  .row-cols-md-5 > * {\n    flex: 0 0 auto;\n    width: 20%;\n  }\n\n  .row-cols-md-6 > * {\n    flex: 0 0 auto;\n    width: 16.6666666667%;\n  }\n\n  .col-md-auto {\n    flex: 0 0 auto;\n    width: auto;\n  }\n\n  .col-md-1 {\n    flex: 0 0 auto;\n    width: 8.33333333%;\n  }\n\n  .col-md-2 {\n    flex: 0 0 auto;\n    width: 16.66666667%;\n  }\n\n  .col-md-3 {\n    flex: 0 0 auto;\n    width: 25%;\n  }\n\n  .col-md-4 {\n    flex: 0 0 auto;\n    width: 33.33333333%;\n  }\n\n  .col-md-5 {\n    flex: 0 0 auto;\n    width: 41.66666667%;\n  }\n\n  .col-md-6 {\n    flex: 0 0 auto;\n    width: 50%;\n  }\n\n  .col-md-7 {\n    flex: 0 0 auto;\n    width: 58.33333333%;\n  }\n\n  .col-md-8 {\n    flex: 0 0 auto;\n    width: 66.66666667%;\n  }\n\n  .col-md-9 {\n    flex: 0 0 auto;\n    width: 75%;\n  }\n\n  .col-md-10 {\n    flex: 0 0 auto;\n    width: 83.33333333%;\n  }\n\n  .col-md-11 {\n    flex: 0 0 auto;\n    width: 91.66666667%;\n  }\n\n  .col-md-12 {\n    flex: 0 0 auto;\n    width: 100%;\n  }\n\n  .offset-md-0 {\n    margin-left: 0;\n  }\n\n  .offset-md-1 {\n    margin-left: 8.33333333%;\n  }\n\n  .offset-md-2 {\n    margin-left: 16.66666667%;\n  }\n\n  .offset-md-3 {\n    margin-left: 25%;\n  }\n\n  .offset-md-4 {\n    margin-left: 33.33333333%;\n  }\n\n  .offset-md-5 {\n    margin-left: 41.66666667%;\n  }\n\n  .offset-md-6 {\n    margin-left: 50%;\n  }\n\n  .offset-md-7 {\n    margin-left: 58.33333333%;\n  }\n\n  .offset-md-8 {\n    margin-left: 66.66666667%;\n  }\n\n  .offset-md-9 {\n    margin-left: 75%;\n  }\n\n  .offset-md-10 {\n    margin-left: 83.33333333%;\n  }\n\n  .offset-md-11 {\n    margin-left: 91.66666667%;\n  }\n\n  .g-md-0,\n.gx-md-0 {\n    --bs-gutter-x: 0;\n  }\n\n  .g-md-0,\n.gy-md-0 {\n    --bs-gutter-y: 0;\n  }\n\n  .g-md-1,\n.gx-md-1 {\n    --bs-gutter-x: 0.25rem;\n  }\n\n  .g-md-1,\n.gy-md-1 {\n    --bs-gutter-y: 0.25rem;\n  }\n\n  .g-md-2,\n.gx-md-2 {\n    --bs-gutter-x: 0.5rem;\n  }\n\n  .g-md-2,\n.gy-md-2 {\n    --bs-gutter-y: 0.5rem;\n  }\n\n  .g-md-3,\n.gx-md-3 {\n    --bs-gutter-x: 1rem;\n  }\n\n  .g-md-3,\n.gy-md-3 {\n    --bs-gutter-y: 1rem;\n  }\n\n  .g-md-4,\n.gx-md-4 {\n    --bs-gutter-x: 1.5rem;\n  }\n\n  .g-md-4,\n.gy-md-4 {\n    --bs-gutter-y: 1.5rem;\n  }\n\n  .g-md-5,\n.gx-md-5 {\n    --bs-gutter-x: 3rem;\n  }\n\n  .g-md-5,\n.gy-md-5 {\n    --bs-gutter-y: 3rem;\n  }\n}\n@media (min-width: 992px) {\n  .col-lg {\n    flex: 1 0 0%;\n  }\n\n  .row-cols-lg-auto > * {\n    flex: 0 0 auto;\n    width: auto;\n  }\n\n  .row-cols-lg-1 > * {\n    flex: 0 0 auto;\n    width: 100%;\n  }\n\n  .row-cols-lg-2 > * {\n    flex: 0 0 auto;\n    width: 50%;\n  }\n\n  .row-cols-lg-3 > * {\n    flex: 0 0 auto;\n    width: 33.3333333333%;\n  }\n\n  .row-cols-lg-4 > * {\n    flex: 0 0 auto;\n    width: 25%;\n  }\n\n  .row-cols-lg-5 > * {\n    flex: 0 0 auto;\n    width: 20%;\n  }\n\n  .row-cols-lg-6 > * {\n    flex: 0 0 auto;\n    width: 16.6666666667%;\n  }\n\n  .col-lg-auto {\n    flex: 0 0 auto;\n    width: auto;\n  }\n\n  .col-lg-1 {\n    flex: 0 0 auto;\n    width: 8.33333333%;\n  }\n\n  .col-lg-2 {\n    flex: 0 0 auto;\n    width: 16.66666667%;\n  }\n\n  .col-lg-3 {\n    flex: 0 0 auto;\n    width: 25%;\n  }\n\n  .col-lg-4 {\n    flex: 0 0 auto;\n    width: 33.33333333%;\n  }\n\n  .col-lg-5 {\n    flex: 0 0 auto;\n    width: 41.66666667%;\n  }\n\n  .col-lg-6 {\n    flex: 0 0 auto;\n    width: 50%;\n  }\n\n  .col-lg-7 {\n    flex: 0 0 auto;\n    width: 58.33333333%;\n  }\n\n  .col-lg-8 {\n    flex: 0 0 auto;\n    width: 66.66666667%;\n  }\n\n  .col-lg-9 {\n    flex: 0 0 auto;\n    width: 75%;\n  }\n\n  .col-lg-10 {\n    flex: 0 0 auto;\n    width: 83.33333333%;\n  }\n\n  .col-lg-11 {\n    flex: 0 0 auto;\n    width: 91.66666667%;\n  }\n\n  .col-lg-12 {\n    flex: 0 0 auto;\n    width: 100%;\n  }\n\n  .offset-lg-0 {\n    margin-left: 0;\n  }\n\n  .offset-lg-1 {\n    margin-left: 8.33333333%;\n  }\n\n  .offset-lg-2 {\n    margin-left: 16.66666667%;\n  }\n\n  .offset-lg-3 {\n    margin-left: 25%;\n  }\n\n  .offset-lg-4 {\n    margin-left: 33.33333333%;\n  }\n\n  .offset-lg-5 {\n    margin-left: 41.66666667%;\n  }\n\n  .offset-lg-6 {\n    margin-left: 50%;\n  }\n\n  .offset-lg-7 {\n    margin-left: 58.33333333%;\n  }\n\n  .offset-lg-8 {\n    margin-left: 66.66666667%;\n  }\n\n  .offset-lg-9 {\n    margin-left: 75%;\n  }\n\n  .offset-lg-10 {\n    margin-left: 83.33333333%;\n  }\n\n  .offset-lg-11 {\n    margin-left: 91.66666667%;\n  }\n\n  .g-lg-0,\n.gx-lg-0 {\n    --bs-gutter-x: 0;\n  }\n\n  .g-lg-0,\n.gy-lg-0 {\n    --bs-gutter-y: 0;\n  }\n\n  .g-lg-1,\n.gx-lg-1 {\n    --bs-gutter-x: 0.25rem;\n  }\n\n  .g-lg-1,\n.gy-lg-1 {\n    --bs-gutter-y: 0.25rem;\n  }\n\n  .g-lg-2,\n.gx-lg-2 {\n    --bs-gutter-x: 0.5rem;\n  }\n\n  .g-lg-2,\n.gy-lg-2 {\n    --bs-gutter-y: 0.5rem;\n  }\n\n  .g-lg-3,\n.gx-lg-3 {\n    --bs-gutter-x: 1rem;\n  }\n\n  .g-lg-3,\n.gy-lg-3 {\n    --bs-gutter-y: 1rem;\n  }\n\n  .g-lg-4,\n.gx-lg-4 {\n    --bs-gutter-x: 1.5rem;\n  }\n\n  .g-lg-4,\n.gy-lg-4 {\n    --bs-gutter-y: 1.5rem;\n  }\n\n  .g-lg-5,\n.gx-lg-5 {\n    --bs-gutter-x: 3rem;\n  }\n\n  .g-lg-5,\n.gy-lg-5 {\n    --bs-gutter-y: 3rem;\n  }\n}\n@media (min-width: 1200px) {\n  .col-xl {\n    flex: 1 0 0%;\n  }\n\n  .row-cols-xl-auto > * {\n    flex: 0 0 auto;\n    width: auto;\n  }\n\n  .row-cols-xl-1 > * {\n    flex: 0 0 auto;\n    width: 100%;\n  }\n\n  .row-cols-xl-2 > * {\n    flex: 0 0 auto;\n    width: 50%;\n  }\n\n  .row-cols-xl-3 > * {\n    flex: 0 0 auto;\n    width: 33.3333333333%;\n  }\n\n  .row-cols-xl-4 > * {\n    flex: 0 0 auto;\n    width: 25%;\n  }\n\n  .row-cols-xl-5 > * {\n    flex: 0 0 auto;\n    width: 20%;\n  }\n\n  .row-cols-xl-6 > * {\n    flex: 0 0 auto;\n    width: 16.6666666667%;\n  }\n\n  .col-xl-auto {\n    flex: 0 0 auto;\n    width: auto;\n  }\n\n  .col-xl-1 {\n    flex: 0 0 auto;\n    width: 8.33333333%;\n  }\n\n  .col-xl-2 {\n    flex: 0 0 auto;\n    width: 16.66666667%;\n  }\n\n  .col-xl-3 {\n    flex: 0 0 auto;\n    width: 25%;\n  }\n\n  .col-xl-4 {\n    flex: 0 0 auto;\n    width: 33.33333333%;\n  }\n\n  .col-xl-5 {\n    flex: 0 0 auto;\n    width: 41.66666667%;\n  }\n\n  .col-xl-6 {\n    flex: 0 0 auto;\n    width: 50%;\n  }\n\n  .col-xl-7 {\n    flex: 0 0 auto;\n    width: 58.33333333%;\n  }\n\n  .col-xl-8 {\n    flex: 0 0 auto;\n    width: 66.66666667%;\n  }\n\n  .col-xl-9 {\n    flex: 0 0 auto;\n    width: 75%;\n  }\n\n  .col-xl-10 {\n    flex: 0 0 auto;\n    width: 83.33333333%;\n  }\n\n  .col-xl-11 {\n    flex: 0 0 auto;\n    width: 91.66666667%;\n  }\n\n  .col-xl-12 {\n    flex: 0 0 auto;\n    width: 100%;\n  }\n\n  .offset-xl-0 {\n    margin-left: 0;\n  }\n\n  .offset-xl-1 {\n    margin-left: 8.33333333%;\n  }\n\n  .offset-xl-2 {\n    margin-left: 16.66666667%;\n  }\n\n  .offset-xl-3 {\n    margin-left: 25%;\n  }\n\n  .offset-xl-4 {\n    margin-left: 33.33333333%;\n  }\n\n  .offset-xl-5 {\n    margin-left: 41.66666667%;\n  }\n\n  .offset-xl-6 {\n    margin-left: 50%;\n  }\n\n  .offset-xl-7 {\n    margin-left: 58.33333333%;\n  }\n\n  .offset-xl-8 {\n    margin-left: 66.66666667%;\n  }\n\n  .offset-xl-9 {\n    margin-left: 75%;\n  }\n\n  .offset-xl-10 {\n    margin-left: 83.33333333%;\n  }\n\n  .offset-xl-11 {\n    margin-left: 91.66666667%;\n  }\n\n  .g-xl-0,\n.gx-xl-0 {\n    --bs-gutter-x: 0;\n  }\n\n  .g-xl-0,\n.gy-xl-0 {\n    --bs-gutter-y: 0;\n  }\n\n  .g-xl-1,\n.gx-xl-1 {\n    --bs-gutter-x: 0.25rem;\n  }\n\n  .g-xl-1,\n.gy-xl-1 {\n    --bs-gutter-y: 0.25rem;\n  }\n\n  .g-xl-2,\n.gx-xl-2 {\n    --bs-gutter-x: 0.5rem;\n  }\n\n  .g-xl-2,\n.gy-xl-2 {\n    --bs-gutter-y: 0.5rem;\n  }\n\n  .g-xl-3,\n.gx-xl-3 {\n    --bs-gutter-x: 1rem;\n  }\n\n  .g-xl-3,\n.gy-xl-3 {\n    --bs-gutter-y: 1rem;\n  }\n\n  .g-xl-4,\n.gx-xl-4 {\n    --bs-gutter-x: 1.5rem;\n  }\n\n  .g-xl-4,\n.gy-xl-4 {\n    --bs-gutter-y: 1.5rem;\n  }\n\n  .g-xl-5,\n.gx-xl-5 {\n    --bs-gutter-x: 3rem;\n  }\n\n  .g-xl-5,\n.gy-xl-5 {\n    --bs-gutter-y: 3rem;\n  }\n}\n@media (min-width: 1400px) {\n  .col-xxl {\n    flex: 1 0 0%;\n  }\n\n  .row-cols-xxl-auto > * {\n    flex: 0 0 auto;\n    width: auto;\n  }\n\n  .row-cols-xxl-1 > * {\n    flex: 0 0 auto;\n    width: 100%;\n  }\n\n  .row-cols-xxl-2 > * {\n    flex: 0 0 auto;\n    width: 50%;\n  }\n\n  .row-cols-xxl-3 > * {\n    flex: 0 0 auto;\n    width: 33.3333333333%;\n  }\n\n  .row-cols-xxl-4 > * {\n    flex: 0 0 auto;\n    width: 25%;\n  }\n\n  .row-cols-xxl-5 > * {\n    flex: 0 0 auto;\n    width: 20%;\n  }\n\n  .row-cols-xxl-6 > * {\n    flex: 0 0 auto;\n    width: 16.6666666667%;\n  }\n\n  .col-xxl-auto {\n    flex: 0 0 auto;\n    width: auto;\n  }\n\n  .col-xxl-1 {\n    flex: 0 0 auto;\n    width: 8.33333333%;\n  }\n\n  .col-xxl-2 {\n    flex: 0 0 auto;\n    width: 16.66666667%;\n  }\n\n  .col-xxl-3 {\n    flex: 0 0 auto;\n    width: 25%;\n  }\n\n  .col-xxl-4 {\n    flex: 0 0 auto;\n    width: 33.33333333%;\n  }\n\n  .col-xxl-5 {\n    flex: 0 0 auto;\n    width: 41.66666667%;\n  }\n\n  .col-xxl-6 {\n    flex: 0 0 auto;\n    width: 50%;\n  }\n\n  .col-xxl-7 {\n    flex: 0 0 auto;\n    width: 58.33333333%;\n  }\n\n  .col-xxl-8 {\n    flex: 0 0 auto;\n    width: 66.66666667%;\n  }\n\n  .col-xxl-9 {\n    flex: 0 0 auto;\n    width: 75%;\n  }\n\n  .col-xxl-10 {\n    flex: 0 0 auto;\n    width: 83.33333333%;\n  }\n\n  .col-xxl-11 {\n    flex: 0 0 auto;\n    width: 91.66666667%;\n  }\n\n  .col-xxl-12 {\n    flex: 0 0 auto;\n    width: 100%;\n  }\n\n  .offset-xxl-0 {\n    margin-left: 0;\n  }\n\n  .offset-xxl-1 {\n    margin-left: 8.33333333%;\n  }\n\n  .offset-xxl-2 {\n    margin-left: 16.66666667%;\n  }\n\n  .offset-xxl-3 {\n    margin-left: 25%;\n  }\n\n  .offset-xxl-4 {\n    margin-left: 33.33333333%;\n  }\n\n  .offset-xxl-5 {\n    margin-left: 41.66666667%;\n  }\n\n  .offset-xxl-6 {\n    margin-left: 50%;\n  }\n\n  .offset-xxl-7 {\n    margin-left: 58.33333333%;\n  }\n\n  .offset-xxl-8 {\n    margin-left: 66.66666667%;\n  }\n\n  .offset-xxl-9 {\n    margin-left: 75%;\n  }\n\n  .offset-xxl-10 {\n    margin-left: 83.33333333%;\n  }\n\n  .offset-xxl-11 {\n    margin-left: 91.66666667%;\n  }\n\n  .g-xxl-0,\n.gx-xxl-0 {\n    --bs-gutter-x: 0;\n  }\n\n  .g-xxl-0,\n.gy-xxl-0 {\n    --bs-gutter-y: 0;\n  }\n\n  .g-xxl-1,\n.gx-xxl-1 {\n    --bs-gutter-x: 0.25rem;\n  }\n\n  .g-xxl-1,\n.gy-xxl-1 {\n    --bs-gutter-y: 0.25rem;\n  }\n\n  .g-xxl-2,\n.gx-xxl-2 {\n    --bs-gutter-x: 0.5rem;\n  }\n\n  .g-xxl-2,\n.gy-xxl-2 {\n    --bs-gutter-y: 0.5rem;\n  }\n\n  .g-xxl-3,\n.gx-xxl-3 {\n    --bs-gutter-x: 1rem;\n  }\n\n  .g-xxl-3,\n.gy-xxl-3 {\n    --bs-gutter-y: 1rem;\n  }\n\n  .g-xxl-4,\n.gx-xxl-4 {\n    --bs-gutter-x: 1.5rem;\n  }\n\n  .g-xxl-4,\n.gy-xxl-4 {\n    --bs-gutter-y: 1.5rem;\n  }\n\n  .g-xxl-5,\n.gx-xxl-5 {\n    --bs-gutter-x: 3rem;\n  }\n\n  .g-xxl-5,\n.gy-xxl-5 {\n    --bs-gutter-y: 3rem;\n  }\n}\n.table {\n  --bs-table-bg: transparent;\n  --bs-table-accent-bg: transparent;\n  --bs-table-striped-color: #212529;\n  --bs-table-striped-bg: rgba(0, 0, 0, 0.05);\n  --bs-table-active-color: #212529;\n  --bs-table-active-bg: rgba(0, 0, 0, 0.1);\n  --bs-table-hover-color: #212529;\n  --bs-table-hover-bg: rgba(0, 0, 0, 0.075);\n  width: 100%;\n  margin-bottom: 1rem;\n  color: #212529;\n  vertical-align: top;\n  border-color: #dee2e6;\n}\n.table > :not(caption) > * > * {\n  padding: 0.5rem 0.5rem;\n  background-color: var(--bs-table-bg);\n  border-bottom-width: 1px;\n  box-shadow: inset 0 0 0 9999px var(--bs-table-accent-bg);\n}\n.table > tbody {\n  vertical-align: inherit;\n}\n.table > thead {\n  vertical-align: bottom;\n}\n.table > :not(:last-child) > :last-child > * {\n  border-bottom-color: currentColor;\n}\n\n.caption-top {\n  caption-side: top;\n}\n\n.table-sm > :not(caption) > * > * {\n  padding: 0.25rem 0.25rem;\n}\n\n.table-bordered > :not(caption) > * {\n  border-width: 1px 0;\n}\n.table-bordered > :not(caption) > * > * {\n  border-width: 0 1px;\n}\n\n.table-borderless > :not(caption) > * > * {\n  border-bottom-width: 0;\n}\n\n.table-striped > tbody > tr:nth-of-type(odd) {\n  --bs-table-accent-bg: var(--bs-table-striped-bg);\n  color: var(--bs-table-striped-color);\n}\n\n.table-active {\n  --bs-table-accent-bg: var(--bs-table-active-bg);\n  color: var(--bs-table-active-color);\n}\n\n.table-hover > tbody > tr:hover {\n  --bs-table-accent-bg: var(--bs-table-hover-bg);\n  color: var(--bs-table-hover-color);\n}\n\n.table-primary {\n  --bs-table-bg: #cfe2ff;\n  --bs-table-striped-bg: #c5d7f2;\n  --bs-table-striped-color: #000;\n  --bs-table-active-bg: #bacbe6;\n  --bs-table-active-color: #000;\n  --bs-table-hover-bg: #bfd1ec;\n  --bs-table-hover-color: #000;\n  color: #000;\n  border-color: #bacbe6;\n}\n\n.table-secondary {\n  --bs-table-bg: #e2e3e5;\n  --bs-table-striped-bg: #d7d8da;\n  --bs-table-striped-color: #000;\n  --bs-table-active-bg: #cbccce;\n  --bs-table-active-color: #000;\n  --bs-table-hover-bg: #d1d2d4;\n  --bs-table-hover-color: #000;\n  color: #000;\n  border-color: #cbccce;\n}\n\n.table-success {\n  --bs-table-bg: #d1e7dd;\n  --bs-table-striped-bg: #c7dbd2;\n  --bs-table-striped-color: #000;\n  --bs-table-active-bg: #bcd0c7;\n  --bs-table-active-color: #000;\n  --bs-table-hover-bg: #c1d6cc;\n  --bs-table-hover-color: #000;\n  color: #000;\n  border-color: #bcd0c7;\n}\n\n.table-info {\n  --bs-table-bg: #cff4fc;\n  --bs-table-striped-bg: #c5e8ef;\n  --bs-table-striped-color: #000;\n  --bs-table-active-bg: #badce3;\n  --bs-table-active-color: #000;\n  --bs-table-hover-bg: #bfe2e9;\n  --bs-table-hover-color: #000;\n  color: #000;\n  border-color: #badce3;\n}\n\n.table-warning {\n  --bs-table-bg: #fff3cd;\n  --bs-table-striped-bg: #f2e7c3;\n  --bs-table-striped-color: #000;\n  --bs-table-active-bg: #e6dbb9;\n  --bs-table-active-color: #000;\n  --bs-table-hover-bg: #ece1be;\n  --bs-table-hover-color: #000;\n  color: #000;\n  border-color: #e6dbb9;\n}\n\n.table-danger {\n  --bs-table-bg: #f8d7da;\n  --bs-table-striped-bg: #eccccf;\n  --bs-table-striped-color: #000;\n  --bs-table-active-bg: #dfc2c4;\n  --bs-table-active-color: #000;\n  --bs-table-hover-bg: #e5c7ca;\n  --bs-table-hover-color: #000;\n  color: #000;\n  border-color: #dfc2c4;\n}\n\n.table-light {\n  --bs-table-bg: #f8f9fa;\n  --bs-table-striped-bg: #ecedee;\n  --bs-table-striped-color: #000;\n  --bs-table-active-bg: #dfe0e1;\n  --bs-table-active-color: #000;\n  --bs-table-hover-bg: #e5e6e7;\n  --bs-table-hover-color: #000;\n  color: #000;\n  border-color: #dfe0e1;\n}\n\n.table-dark {\n  --bs-table-bg: #212529;\n  --bs-table-striped-bg: #2c3034;\n  --bs-table-striped-color: #fff;\n  --bs-table-active-bg: #373b3e;\n  --bs-table-active-color: #fff;\n  --bs-table-hover-bg: #323539;\n  --bs-table-hover-color: #fff;\n  color: #fff;\n  border-color: #373b3e;\n}\n\n.table-responsive {\n  overflow-x: auto;\n  -webkit-overflow-scrolling: touch;\n}\n\n@media (max-width: 575.98px) {\n  .table-responsive-sm {\n    overflow-x: auto;\n    -webkit-overflow-scrolling: touch;\n  }\n}\n@media (max-width: 767.98px) {\n  .table-responsive-md {\n    overflow-x: auto;\n    -webkit-overflow-scrolling: touch;\n  }\n}\n@media (max-width: 991.98px) {\n  .table-responsive-lg {\n    overflow-x: auto;\n    -webkit-overflow-scrolling: touch;\n  }\n}\n@media (max-width: 1199.98px) {\n  .table-responsive-xl {\n    overflow-x: auto;\n    -webkit-overflow-scrolling: touch;\n  }\n}\n@media (max-width: 1399.98px) {\n  .table-responsive-xxl {\n    overflow-x: auto;\n    -webkit-overflow-scrolling: touch;\n  }\n}\n.form-label {\n  margin-bottom: 0.5rem;\n}\n\n.col-form-label {\n  padding-top: calc(0.375rem + 1px);\n  padding-bottom: calc(0.375rem + 1px);\n  margin-bottom: 0;\n  font-size: inherit;\n  line-height: 1.5;\n}\n\n.col-form-label-lg {\n  padding-top: calc(0.5rem + 1px);\n  padding-bottom: calc(0.5rem + 1px);\n  font-size: 1.25rem;\n}\n\n.col-form-label-sm {\n  padding-top: calc(0.25rem + 1px);\n  padding-bottom: calc(0.25rem + 1px);\n  font-size: 0.875rem;\n}\n\n.form-text {\n  margin-top: 0.25rem;\n  font-size: 0.875em;\n  color: #6c757d;\n}\n\n.form-control {\n  display: block;\n  width: 100%;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #212529;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid #ced4da;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  border-radius: 0.25rem;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n@media (prefers-reduced-motion: reduce) {\n  .form-control {\n    transition: none;\n  }\n}\n.form-control[type=file] {\n  overflow: hidden;\n}\n.form-control[type=file]:not(:disabled):not([readonly]) {\n  cursor: pointer;\n}\n.form-control:focus {\n  color: #212529;\n  background-color: #fff;\n  border-color: #86b7fe;\n  outline: 0;\n  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);\n}\n.form-control::-webkit-date-and-time-value {\n  height: 1.5em;\n}\n.form-control::-moz-placeholder {\n  color: #6c757d;\n  opacity: 1;\n}\n.form-control::placeholder {\n  color: #6c757d;\n  opacity: 1;\n}\n.form-control:disabled, .form-control[readonly] {\n  background-color: #e9ecef;\n  opacity: 1;\n}\n.form-control::file-selector-button {\n  padding: 0.375rem 0.75rem;\n  margin: -0.375rem -0.75rem;\n  -webkit-margin-end: 0.75rem;\n  margin-inline-end: 0.75rem;\n  color: #212529;\n  background-color: #e9ecef;\n  pointer-events: none;\n  border-color: inherit;\n  border-style: solid;\n  border-width: 0;\n  border-inline-end-width: 1px;\n  border-radius: 0;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n@media (prefers-reduced-motion: reduce) {\n  .form-control::file-selector-button {\n    transition: none;\n  }\n}\n.form-control:hover:not(:disabled):not([readonly])::file-selector-button {\n  background-color: #dde0e3;\n}\n.form-control::-webkit-file-upload-button {\n  padding: 0.375rem 0.75rem;\n  margin: -0.375rem -0.75rem;\n  -webkit-margin-end: 0.75rem;\n  margin-inline-end: 0.75rem;\n  color: #212529;\n  background-color: #e9ecef;\n  pointer-events: none;\n  border-color: inherit;\n  border-style: solid;\n  border-width: 0;\n  border-inline-end-width: 1px;\n  border-radius: 0;\n  -webkit-transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n@media (prefers-reduced-motion: reduce) {\n  .form-control::-webkit-file-upload-button {\n    -webkit-transition: none;\n    transition: none;\n  }\n}\n.form-control:hover:not(:disabled):not([readonly])::-webkit-file-upload-button {\n  background-color: #dde0e3;\n}\n\n.form-control-plaintext {\n  display: block;\n  width: 100%;\n  padding: 0.375rem 0;\n  margin-bottom: 0;\n  line-height: 1.5;\n  color: #212529;\n  background-color: transparent;\n  border: solid transparent;\n  border-width: 1px 0;\n}\n.form-control-plaintext.form-control-sm, .form-control-plaintext.form-control-lg {\n  padding-right: 0;\n  padding-left: 0;\n}\n\n.form-control-sm {\n  min-height: calc(1.5em + 0.5rem + 2px);\n  padding: 0.25rem 0.5rem;\n  font-size: 0.875rem;\n  border-radius: 0.2rem;\n}\n.form-control-sm::file-selector-button {\n  padding: 0.25rem 0.5rem;\n  margin: -0.25rem -0.5rem;\n  -webkit-margin-end: 0.5rem;\n  margin-inline-end: 0.5rem;\n}\n.form-control-sm::-webkit-file-upload-button {\n  padding: 0.25rem 0.5rem;\n  margin: -0.25rem -0.5rem;\n  -webkit-margin-end: 0.5rem;\n  margin-inline-end: 0.5rem;\n}\n\n.form-control-lg {\n  min-height: calc(1.5em + 1rem + 2px);\n  padding: 0.5rem 1rem;\n  font-size: 1.25rem;\n  border-radius: 0.3rem;\n}\n.form-control-lg::file-selector-button {\n  padding: 0.5rem 1rem;\n  margin: -0.5rem -1rem;\n  -webkit-margin-end: 1rem;\n  margin-inline-end: 1rem;\n}\n.form-control-lg::-webkit-file-upload-button {\n  padding: 0.5rem 1rem;\n  margin: -0.5rem -1rem;\n  -webkit-margin-end: 1rem;\n  margin-inline-end: 1rem;\n}\n\ntextarea.form-control {\n  min-height: calc(1.5em + 0.75rem + 2px);\n}\ntextarea.form-control-sm {\n  min-height: calc(1.5em + 0.5rem + 2px);\n}\ntextarea.form-control-lg {\n  min-height: calc(1.5em + 1rem + 2px);\n}\n\n.form-control-color {\n  width: 3rem;\n  height: auto;\n  padding: 0.375rem;\n}\n.form-control-color:not(:disabled):not([readonly]) {\n  cursor: pointer;\n}\n.form-control-color::-moz-color-swatch {\n  height: 1.5em;\n  border-radius: 0.25rem;\n}\n.form-control-color::-webkit-color-swatch {\n  height: 1.5em;\n  border-radius: 0.25rem;\n}\n\n.form-select {\n  display: block;\n  width: 100%;\n  padding: 0.375rem 2.25rem 0.375rem 0.75rem;\n  -moz-padding-start: calc(0.75rem - 3px);\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #212529;\n  background-color: #fff;\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\");\n  background-repeat: no-repeat;\n  background-position: right 0.75rem center;\n  background-size: 16px 12px;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n@media (prefers-reduced-motion: reduce) {\n  .form-select {\n    transition: none;\n  }\n}\n.form-select:focus {\n  border-color: #86b7fe;\n  outline: 0;\n  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);\n}\n.form-select[multiple], .form-select[size]:not([size=\"1\"]) {\n  padding-right: 0.75rem;\n  background-image: none;\n}\n.form-select:disabled {\n  background-color: #e9ecef;\n}\n.form-select:-moz-focusring {\n  color: transparent;\n  text-shadow: 0 0 0 #212529;\n}\n\n.form-select-sm {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n  padding-left: 0.5rem;\n  font-size: 0.875rem;\n}\n\n.form-select-lg {\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  padding-left: 1rem;\n  font-size: 1.25rem;\n}\n\n.form-check {\n  display: block;\n  min-height: 1.5rem;\n  padding-left: 1.5em;\n  margin-bottom: 0.125rem;\n}\n.form-check .form-check-input {\n  float: left;\n  margin-left: -1.5em;\n}\n\n.form-check-input {\n  width: 1em;\n  height: 1em;\n  margin-top: 0.25em;\n  vertical-align: top;\n  background-color: #fff;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: contain;\n  border: 1px solid rgba(0, 0, 0, 0.25);\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  -webkit-print-color-adjust: exact;\n  color-adjust: exact;\n}\n.form-check-input[type=checkbox] {\n  border-radius: 0.25em;\n}\n.form-check-input[type=radio] {\n  border-radius: 50%;\n}\n.form-check-input:active {\n  filter: brightness(90%);\n}\n.form-check-input:focus {\n  border-color: #86b7fe;\n  outline: 0;\n  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);\n}\n.form-check-input:checked {\n  background-color: #0d6efd;\n  border-color: #0d6efd;\n}\n.form-check-input:checked[type=checkbox] {\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10l3 3l6-6'/%3e%3c/svg%3e\");\n}\n.form-check-input:checked[type=radio] {\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e\");\n}\n.form-check-input[type=checkbox]:indeterminate {\n  background-color: #0d6efd;\n  border-color: #0d6efd;\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10h8'/%3e%3c/svg%3e\");\n}\n.form-check-input:disabled {\n  pointer-events: none;\n  filter: none;\n  opacity: 0.5;\n}\n.form-check-input[disabled] ~ .form-check-label, .form-check-input:disabled ~ .form-check-label {\n  opacity: 0.5;\n}\n\n.form-switch {\n  padding-left: 2.5em;\n}\n.form-switch .form-check-input {\n  width: 2em;\n  margin-left: -2.5em;\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e\");\n  background-position: left center;\n  border-radius: 2em;\n  transition: background-position 0.15s ease-in-out;\n}\n@media (prefers-reduced-motion: reduce) {\n  .form-switch .form-check-input {\n    transition: none;\n  }\n}\n.form-switch .form-check-input:focus {\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%2386b7fe'/%3e%3c/svg%3e\");\n}\n.form-switch .form-check-input:checked {\n  background-position: right center;\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e\");\n}\n\n.form-check-inline {\n  display: inline-block;\n  margin-right: 1rem;\n}\n\n.btn-check {\n  position: absolute;\n  clip: rect(0, 0, 0, 0);\n  pointer-events: none;\n}\n.btn-check[disabled] + .btn, .btn-check:disabled + .btn {\n  pointer-events: none;\n  filter: none;\n  opacity: 0.65;\n}\n\n.form-range {\n  width: 100%;\n  height: 1.5rem;\n  padding: 0;\n  background-color: transparent;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n.form-range:focus {\n  outline: 0;\n}\n.form-range:focus::-webkit-slider-thumb {\n  box-shadow: 0 0 0 1px #fff, 0 0 0 0.25rem rgba(13, 110, 253, 0.25);\n}\n.form-range:focus::-moz-range-thumb {\n  box-shadow: 0 0 0 1px #fff, 0 0 0 0.25rem rgba(13, 110, 253, 0.25);\n}\n.form-range::-moz-focus-outer {\n  border: 0;\n}\n.form-range::-webkit-slider-thumb {\n  width: 1rem;\n  height: 1rem;\n  margin-top: -0.25rem;\n  background-color: #0d6efd;\n  border: 0;\n  border-radius: 1rem;\n  -webkit-transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  -webkit-appearance: none;\n  appearance: none;\n}\n@media (prefers-reduced-motion: reduce) {\n  .form-range::-webkit-slider-thumb {\n    -webkit-transition: none;\n    transition: none;\n  }\n}\n.form-range::-webkit-slider-thumb:active {\n  background-color: #b6d4fe;\n}\n.form-range::-webkit-slider-runnable-track {\n  width: 100%;\n  height: 0.5rem;\n  color: transparent;\n  cursor: pointer;\n  background-color: #dee2e6;\n  border-color: transparent;\n  border-radius: 1rem;\n}\n.form-range::-moz-range-thumb {\n  width: 1rem;\n  height: 1rem;\n  background-color: #0d6efd;\n  border: 0;\n  border-radius: 1rem;\n  -moz-transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  -moz-appearance: none;\n  appearance: none;\n}\n@media (prefers-reduced-motion: reduce) {\n  .form-range::-moz-range-thumb {\n    -moz-transition: none;\n    transition: none;\n  }\n}\n.form-range::-moz-range-thumb:active {\n  background-color: #b6d4fe;\n}\n.form-range::-moz-range-track {\n  width: 100%;\n  height: 0.5rem;\n  color: transparent;\n  cursor: pointer;\n  background-color: #dee2e6;\n  border-color: transparent;\n  border-radius: 1rem;\n}\n.form-range:disabled {\n  pointer-events: none;\n}\n.form-range:disabled::-webkit-slider-thumb {\n  background-color: #adb5bd;\n}\n.form-range:disabled::-moz-range-thumb {\n  background-color: #adb5bd;\n}\n\n.form-floating {\n  position: relative;\n}\n.form-floating > .form-control,\n.form-floating > .form-select {\n  height: calc(3.5rem + 2px);\n  line-height: 1.25;\n}\n.form-floating > label {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  padding: 1rem 0.75rem;\n  pointer-events: none;\n  border: 1px solid transparent;\n  transform-origin: 0 0;\n  transition: opacity 0.1s ease-in-out, transform 0.1s ease-in-out;\n}\n@media (prefers-reduced-motion: reduce) {\n  .form-floating > label {\n    transition: none;\n  }\n}\n.form-floating > .form-control {\n  padding: 1rem 0.75rem;\n}\n.form-floating > .form-control::-moz-placeholder {\n  color: transparent;\n}\n.form-floating > .form-control::placeholder {\n  color: transparent;\n}\n.form-floating > .form-control:not(:-moz-placeholder-shown) {\n  padding-top: 1.625rem;\n  padding-bottom: 0.625rem;\n}\n.form-floating > .form-control:focus, .form-floating > .form-control:not(:placeholder-shown) {\n  padding-top: 1.625rem;\n  padding-bottom: 0.625rem;\n}\n.form-floating > .form-control:-webkit-autofill {\n  padding-top: 1.625rem;\n  padding-bottom: 0.625rem;\n}\n.form-floating > .form-select {\n  padding-top: 1.625rem;\n  padding-bottom: 0.625rem;\n}\n.form-floating > .form-control:not(:-moz-placeholder-shown) ~ label {\n  opacity: 0.65;\n  transform: scale(0.85) translateY(-0.5rem) translateX(0.15rem);\n}\n.form-floating > .form-control:focus ~ label,\n.form-floating > .form-control:not(:placeholder-shown) ~ label,\n.form-floating > .form-select ~ label {\n  opacity: 0.65;\n  transform: scale(0.85) translateY(-0.5rem) translateX(0.15rem);\n}\n.form-floating > .form-control:-webkit-autofill ~ label {\n  opacity: 0.65;\n  transform: scale(0.85) translateY(-0.5rem) translateX(0.15rem);\n}\n\n.input-group {\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: stretch;\n  width: 100%;\n}\n.input-group > .form-control,\n.input-group > .form-select {\n  position: relative;\n  flex: 1 1 auto;\n  width: 1%;\n  min-width: 0;\n}\n.input-group > .form-control:focus,\n.input-group > .form-select:focus {\n  z-index: 3;\n}\n.input-group .btn {\n  position: relative;\n  z-index: 2;\n}\n.input-group .btn:focus {\n  z-index: 3;\n}\n\n.input-group-text {\n  display: flex;\n  align-items: center;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #212529;\n  text-align: center;\n  white-space: nowrap;\n  background-color: #e9ecef;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n}\n\n.input-group-lg > .form-control,\n.input-group-lg > .form-select,\n.input-group-lg > .input-group-text,\n.input-group-lg > .btn {\n  padding: 0.5rem 1rem;\n  font-size: 1.25rem;\n  border-radius: 0.3rem;\n}\n\n.input-group-sm > .form-control,\n.input-group-sm > .form-select,\n.input-group-sm > .input-group-text,\n.input-group-sm > .btn {\n  padding: 0.25rem 0.5rem;\n  font-size: 0.875rem;\n  border-radius: 0.2rem;\n}\n\n.input-group-lg > .form-select,\n.input-group-sm > .form-select {\n  padding-right: 3rem;\n}\n\n.input-group:not(.has-validation) > :not(:last-child):not(.dropdown-toggle):not(.dropdown-menu),\n.input-group:not(.has-validation) > .dropdown-toggle:nth-last-child(n+3) {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.input-group.has-validation > :nth-last-child(n+3):not(.dropdown-toggle):not(.dropdown-menu),\n.input-group.has-validation > .dropdown-toggle:nth-last-child(n+4) {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.input-group > :not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback) {\n  margin-left: -1px;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n\n.valid-feedback {\n  display: none;\n  width: 100%;\n  margin-top: 0.25rem;\n  font-size: 0.875em;\n  color: #198754;\n}\n\n.valid-tooltip {\n  position: absolute;\n  top: 100%;\n  z-index: 5;\n  display: none;\n  max-width: 100%;\n  padding: 0.25rem 0.5rem;\n  margin-top: 0.1rem;\n  font-size: 0.875rem;\n  color: #fff;\n  background-color: rgba(25, 135, 84, 0.9);\n  border-radius: 0.25rem;\n}\n\n.was-validated :valid ~ .valid-feedback,\n.was-validated :valid ~ .valid-tooltip,\n.is-valid ~ .valid-feedback,\n.is-valid ~ .valid-tooltip {\n  display: block;\n}\n\n.was-validated .form-control:valid, .form-control.is-valid {\n  border-color: #198754;\n  padding-right: calc(1.5em + 0.75rem);\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");\n  background-repeat: no-repeat;\n  background-position: right calc(0.375em + 0.1875rem) center;\n  background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);\n}\n.was-validated .form-control:valid:focus, .form-control.is-valid:focus {\n  border-color: #198754;\n  box-shadow: 0 0 0 0.25rem rgba(25, 135, 84, 0.25);\n}\n\n.was-validated textarea.form-control:valid, textarea.form-control.is-valid {\n  padding-right: calc(1.5em + 0.75rem);\n  background-position: top calc(0.375em + 0.1875rem) right calc(0.375em + 0.1875rem);\n}\n\n.was-validated .form-select:valid, .form-select.is-valid {\n  border-color: #198754;\n}\n.was-validated .form-select:valid:not([multiple]):not([size]), .was-validated .form-select:valid:not([multiple])[size=\"1\"], .form-select.is-valid:not([multiple]):not([size]), .form-select.is-valid:not([multiple])[size=\"1\"] {\n  padding-right: 4.125rem;\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\"), url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");\n  background-position: right 0.75rem center, center right 2.25rem;\n  background-size: 16px 12px, calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);\n}\n.was-validated .form-select:valid:focus, .form-select.is-valid:focus {\n  border-color: #198754;\n  box-shadow: 0 0 0 0.25rem rgba(25, 135, 84, 0.25);\n}\n\n.was-validated .form-check-input:valid, .form-check-input.is-valid {\n  border-color: #198754;\n}\n.was-validated .form-check-input:valid:checked, .form-check-input.is-valid:checked {\n  background-color: #198754;\n}\n.was-validated .form-check-input:valid:focus, .form-check-input.is-valid:focus {\n  box-shadow: 0 0 0 0.25rem rgba(25, 135, 84, 0.25);\n}\n.was-validated .form-check-input:valid ~ .form-check-label, .form-check-input.is-valid ~ .form-check-label {\n  color: #198754;\n}\n\n.form-check-inline .form-check-input ~ .valid-feedback {\n  margin-left: 0.5em;\n}\n\n.was-validated .input-group .form-control:valid, .input-group .form-control.is-valid,\n.was-validated .input-group .form-select:valid,\n.input-group .form-select.is-valid {\n  z-index: 1;\n}\n.was-validated .input-group .form-control:valid:focus, .input-group .form-control.is-valid:focus,\n.was-validated .input-group .form-select:valid:focus,\n.input-group .form-select.is-valid:focus {\n  z-index: 3;\n}\n\n.invalid-feedback {\n  display: none;\n  width: 100%;\n  margin-top: 0.25rem;\n  font-size: 0.875em;\n  color: #dc3545;\n}\n\n.invalid-tooltip {\n  position: absolute;\n  top: 100%;\n  z-index: 5;\n  display: none;\n  max-width: 100%;\n  padding: 0.25rem 0.5rem;\n  margin-top: 0.1rem;\n  font-size: 0.875rem;\n  color: #fff;\n  background-color: rgba(220, 53, 69, 0.9);\n  border-radius: 0.25rem;\n}\n\n.was-validated :invalid ~ .invalid-feedback,\n.was-validated :invalid ~ .invalid-tooltip,\n.is-invalid ~ .invalid-feedback,\n.is-invalid ~ .invalid-tooltip {\n  display: block;\n}\n\n.was-validated .form-control:invalid, .form-control.is-invalid {\n  border-color: #dc3545;\n  padding-right: calc(1.5em + 0.75rem);\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");\n  background-repeat: no-repeat;\n  background-position: right calc(0.375em + 0.1875rem) center;\n  background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);\n}\n.was-validated .form-control:invalid:focus, .form-control.is-invalid:focus {\n  border-color: #dc3545;\n  box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.25);\n}\n\n.was-validated textarea.form-control:invalid, textarea.form-control.is-invalid {\n  padding-right: calc(1.5em + 0.75rem);\n  background-position: top calc(0.375em + 0.1875rem) right calc(0.375em + 0.1875rem);\n}\n\n.was-validated .form-select:invalid, .form-select.is-invalid {\n  border-color: #dc3545;\n}\n.was-validated .form-select:invalid:not([multiple]):not([size]), .was-validated .form-select:invalid:not([multiple])[size=\"1\"], .form-select.is-invalid:not([multiple]):not([size]), .form-select.is-invalid:not([multiple])[size=\"1\"] {\n  padding-right: 4.125rem;\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\"), url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");\n  background-position: right 0.75rem center, center right 2.25rem;\n  background-size: 16px 12px, calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);\n}\n.was-validated .form-select:invalid:focus, .form-select.is-invalid:focus {\n  border-color: #dc3545;\n  box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.25);\n}\n\n.was-validated .form-check-input:invalid, .form-check-input.is-invalid {\n  border-color: #dc3545;\n}\n.was-validated .form-check-input:invalid:checked, .form-check-input.is-invalid:checked {\n  background-color: #dc3545;\n}\n.was-validated .form-check-input:invalid:focus, .form-check-input.is-invalid:focus {\n  box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.25);\n}\n.was-validated .form-check-input:invalid ~ .form-check-label, .form-check-input.is-invalid ~ .form-check-label {\n  color: #dc3545;\n}\n\n.form-check-inline .form-check-input ~ .invalid-feedback {\n  margin-left: 0.5em;\n}\n\n.was-validated .input-group .form-control:invalid, .input-group .form-control.is-invalid,\n.was-validated .input-group .form-select:invalid,\n.input-group .form-select.is-invalid {\n  z-index: 2;\n}\n.was-validated .input-group .form-control:invalid:focus, .input-group .form-control.is-invalid:focus,\n.was-validated .input-group .form-select:invalid:focus,\n.input-group .form-select.is-invalid:focus {\n  z-index: 3;\n}\n\n.btn {\n  display: inline-block;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #212529;\n  text-align: center;\n  text-decoration: none;\n  vertical-align: middle;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  background-color: transparent;\n  border: 1px solid transparent;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  border-radius: 0.25rem;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n@media (prefers-reduced-motion: reduce) {\n  .btn {\n    transition: none;\n  }\n}\n.btn:hover {\n  color: #212529;\n}\n.btn-check:focus + .btn, .btn:focus {\n  outline: 0;\n  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);\n}\n.btn:disabled, .btn.disabled, fieldset:disabled .btn {\n  pointer-events: none;\n  opacity: 0.65;\n}\n\n.btn-primary {\n  color: #fff;\n  background-color: #0d6efd;\n  border-color: #0d6efd;\n}\n.btn-primary:hover {\n  color: #fff;\n  background-color: #0b5ed7;\n  border-color: #0a58ca;\n}\n.btn-check:focus + .btn-primary, .btn-primary:focus {\n  color: #fff;\n  background-color: #0b5ed7;\n  border-color: #0a58ca;\n  box-shadow: 0 0 0 0.25rem rgba(49, 132, 253, 0.5);\n}\n.btn-check:checked + .btn-primary, .btn-check:active + .btn-primary, .btn-primary:active, .btn-primary.active, .show > .btn-primary.dropdown-toggle {\n  color: #fff;\n  background-color: #0a58ca;\n  border-color: #0a53be;\n}\n.btn-check:checked + .btn-primary:focus, .btn-check:active + .btn-primary:focus, .btn-primary:active:focus, .btn-primary.active:focus, .show > .btn-primary.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.25rem rgba(49, 132, 253, 0.5);\n}\n.btn-primary:disabled, .btn-primary.disabled {\n  color: #fff;\n  background-color: #0d6efd;\n  border-color: #0d6efd;\n}\n\n.btn-secondary {\n  color: #fff;\n  background-color: #6c757d;\n  border-color: #6c757d;\n}\n.btn-secondary:hover {\n  color: #fff;\n  background-color: #5c636a;\n  border-color: #565e64;\n}\n.btn-check:focus + .btn-secondary, .btn-secondary:focus {\n  color: #fff;\n  background-color: #5c636a;\n  border-color: #565e64;\n  box-shadow: 0 0 0 0.25rem rgba(130, 138, 145, 0.5);\n}\n.btn-check:checked + .btn-secondary, .btn-check:active + .btn-secondary, .btn-secondary:active, .btn-secondary.active, .show > .btn-secondary.dropdown-toggle {\n  color: #fff;\n  background-color: #565e64;\n  border-color: #51585e;\n}\n.btn-check:checked + .btn-secondary:focus, .btn-check:active + .btn-secondary:focus, .btn-secondary:active:focus, .btn-secondary.active:focus, .show > .btn-secondary.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.25rem rgba(130, 138, 145, 0.5);\n}\n.btn-secondary:disabled, .btn-secondary.disabled {\n  color: #fff;\n  background-color: #6c757d;\n  border-color: #6c757d;\n}\n\n.btn-success {\n  color: #fff;\n  background-color: #198754;\n  border-color: #198754;\n}\n.btn-success:hover {\n  color: #fff;\n  background-color: #157347;\n  border-color: #146c43;\n}\n.btn-check:focus + .btn-success, .btn-success:focus {\n  color: #fff;\n  background-color: #157347;\n  border-color: #146c43;\n  box-shadow: 0 0 0 0.25rem rgba(60, 153, 110, 0.5);\n}\n.btn-check:checked + .btn-success, .btn-check:active + .btn-success, .btn-success:active, .btn-success.active, .show > .btn-success.dropdown-toggle {\n  color: #fff;\n  background-color: #146c43;\n  border-color: #13653f;\n}\n.btn-check:checked + .btn-success:focus, .btn-check:active + .btn-success:focus, .btn-success:active:focus, .btn-success.active:focus, .show > .btn-success.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.25rem rgba(60, 153, 110, 0.5);\n}\n.btn-success:disabled, .btn-success.disabled {\n  color: #fff;\n  background-color: #198754;\n  border-color: #198754;\n}\n\n.btn-info {\n  color: #000;\n  background-color: #0dcaf0;\n  border-color: #0dcaf0;\n}\n.btn-info:hover {\n  color: #000;\n  background-color: #31d2f2;\n  border-color: #25cff2;\n}\n.btn-check:focus + .btn-info, .btn-info:focus {\n  color: #000;\n  background-color: #31d2f2;\n  border-color: #25cff2;\n  box-shadow: 0 0 0 0.25rem rgba(11, 172, 204, 0.5);\n}\n.btn-check:checked + .btn-info, .btn-check:active + .btn-info, .btn-info:active, .btn-info.active, .show > .btn-info.dropdown-toggle {\n  color: #000;\n  background-color: #3dd5f3;\n  border-color: #25cff2;\n}\n.btn-check:checked + .btn-info:focus, .btn-check:active + .btn-info:focus, .btn-info:active:focus, .btn-info.active:focus, .show > .btn-info.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.25rem rgba(11, 172, 204, 0.5);\n}\n.btn-info:disabled, .btn-info.disabled {\n  color: #000;\n  background-color: #0dcaf0;\n  border-color: #0dcaf0;\n}\n\n.btn-warning {\n  color: #000;\n  background-color: #ffc107;\n  border-color: #ffc107;\n}\n.btn-warning:hover {\n  color: #000;\n  background-color: #ffca2c;\n  border-color: #ffc720;\n}\n.btn-check:focus + .btn-warning, .btn-warning:focus {\n  color: #000;\n  background-color: #ffca2c;\n  border-color: #ffc720;\n  box-shadow: 0 0 0 0.25rem rgba(217, 164, 6, 0.5);\n}\n.btn-check:checked + .btn-warning, .btn-check:active + .btn-warning, .btn-warning:active, .btn-warning.active, .show > .btn-warning.dropdown-toggle {\n  color: #000;\n  background-color: #ffcd39;\n  border-color: #ffc720;\n}\n.btn-check:checked + .btn-warning:focus, .btn-check:active + .btn-warning:focus, .btn-warning:active:focus, .btn-warning.active:focus, .show > .btn-warning.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.25rem rgba(217, 164, 6, 0.5);\n}\n.btn-warning:disabled, .btn-warning.disabled {\n  color: #000;\n  background-color: #ffc107;\n  border-color: #ffc107;\n}\n\n.btn-danger {\n  color: #fff;\n  background-color: #dc3545;\n  border-color: #dc3545;\n}\n.btn-danger:hover {\n  color: #fff;\n  background-color: #bb2d3b;\n  border-color: #b02a37;\n}\n.btn-check:focus + .btn-danger, .btn-danger:focus {\n  color: #fff;\n  background-color: #bb2d3b;\n  border-color: #b02a37;\n  box-shadow: 0 0 0 0.25rem rgba(225, 83, 97, 0.5);\n}\n.btn-check:checked + .btn-danger, .btn-check:active + .btn-danger, .btn-danger:active, .btn-danger.active, .show > .btn-danger.dropdown-toggle {\n  color: #fff;\n  background-color: #b02a37;\n  border-color: #a52834;\n}\n.btn-check:checked + .btn-danger:focus, .btn-check:active + .btn-danger:focus, .btn-danger:active:focus, .btn-danger.active:focus, .show > .btn-danger.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.25rem rgba(225, 83, 97, 0.5);\n}\n.btn-danger:disabled, .btn-danger.disabled {\n  color: #fff;\n  background-color: #dc3545;\n  border-color: #dc3545;\n}\n\n.btn-light {\n  color: #000;\n  background-color: #f8f9fa;\n  border-color: #f8f9fa;\n}\n.btn-light:hover {\n  color: #000;\n  background-color: #f9fafb;\n  border-color: #f9fafb;\n}\n.btn-check:focus + .btn-light, .btn-light:focus {\n  color: #000;\n  background-color: #f9fafb;\n  border-color: #f9fafb;\n  box-shadow: 0 0 0 0.25rem rgba(211, 212, 213, 0.5);\n}\n.btn-check:checked + .btn-light, .btn-check:active + .btn-light, .btn-light:active, .btn-light.active, .show > .btn-light.dropdown-toggle {\n  color: #000;\n  background-color: #f9fafb;\n  border-color: #f9fafb;\n}\n.btn-check:checked + .btn-light:focus, .btn-check:active + .btn-light:focus, .btn-light:active:focus, .btn-light.active:focus, .show > .btn-light.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.25rem rgba(211, 212, 213, 0.5);\n}\n.btn-light:disabled, .btn-light.disabled {\n  color: #000;\n  background-color: #f8f9fa;\n  border-color: #f8f9fa;\n}\n\n.btn-dark {\n  color: #fff;\n  background-color: #212529;\n  border-color: #212529;\n}\n.btn-dark:hover {\n  color: #fff;\n  background-color: #1c1f23;\n  border-color: #1a1e21;\n}\n.btn-check:focus + .btn-dark, .btn-dark:focus {\n  color: #fff;\n  background-color: #1c1f23;\n  border-color: #1a1e21;\n  box-shadow: 0 0 0 0.25rem rgba(66, 70, 73, 0.5);\n}\n.btn-check:checked + .btn-dark, .btn-check:active + .btn-dark, .btn-dark:active, .btn-dark.active, .show > .btn-dark.dropdown-toggle {\n  color: #fff;\n  background-color: #1a1e21;\n  border-color: #191c1f;\n}\n.btn-check:checked + .btn-dark:focus, .btn-check:active + .btn-dark:focus, .btn-dark:active:focus, .btn-dark.active:focus, .show > .btn-dark.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.25rem rgba(66, 70, 73, 0.5);\n}\n.btn-dark:disabled, .btn-dark.disabled {\n  color: #fff;\n  background-color: #212529;\n  border-color: #212529;\n}\n\n.btn-outline-primary {\n  color: #0d6efd;\n  border-color: #0d6efd;\n}\n.btn-outline-primary:hover {\n  color: #fff;\n  background-color: #0d6efd;\n  border-color: #0d6efd;\n}\n.btn-check:focus + .btn-outline-primary, .btn-outline-primary:focus {\n  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.5);\n}\n.btn-check:checked + .btn-outline-primary, .btn-check:active + .btn-outline-primary, .btn-outline-primary:active, .btn-outline-primary.active, .btn-outline-primary.dropdown-toggle.show {\n  color: #fff;\n  background-color: #0d6efd;\n  border-color: #0d6efd;\n}\n.btn-check:checked + .btn-outline-primary:focus, .btn-check:active + .btn-outline-primary:focus, .btn-outline-primary:active:focus, .btn-outline-primary.active:focus, .btn-outline-primary.dropdown-toggle.show:focus {\n  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.5);\n}\n.btn-outline-primary:disabled, .btn-outline-primary.disabled {\n  color: #0d6efd;\n  background-color: transparent;\n}\n\n.btn-outline-secondary {\n  color: #6c757d;\n  border-color: #6c757d;\n}\n.btn-outline-secondary:hover {\n  color: #fff;\n  background-color: #6c757d;\n  border-color: #6c757d;\n}\n.btn-check:focus + .btn-outline-secondary, .btn-outline-secondary:focus {\n  box-shadow: 0 0 0 0.25rem rgba(108, 117, 125, 0.5);\n}\n.btn-check:checked + .btn-outline-secondary, .btn-check:active + .btn-outline-secondary, .btn-outline-secondary:active, .btn-outline-secondary.active, .btn-outline-secondary.dropdown-toggle.show {\n  color: #fff;\n  background-color: #6c757d;\n  border-color: #6c757d;\n}\n.btn-check:checked + .btn-outline-secondary:focus, .btn-check:active + .btn-outline-secondary:focus, .btn-outline-secondary:active:focus, .btn-outline-secondary.active:focus, .btn-outline-secondary.dropdown-toggle.show:focus {\n  box-shadow: 0 0 0 0.25rem rgba(108, 117, 125, 0.5);\n}\n.btn-outline-secondary:disabled, .btn-outline-secondary.disabled {\n  color: #6c757d;\n  background-color: transparent;\n}\n\n.btn-outline-success {\n  color: #198754;\n  border-color: #198754;\n}\n.btn-outline-success:hover {\n  color: #fff;\n  background-color: #198754;\n  border-color: #198754;\n}\n.btn-check:focus + .btn-outline-success, .btn-outline-success:focus {\n  box-shadow: 0 0 0 0.25rem rgba(25, 135, 84, 0.5);\n}\n.btn-check:checked + .btn-outline-success, .btn-check:active + .btn-outline-success, .btn-outline-success:active, .btn-outline-success.active, .btn-outline-success.dropdown-toggle.show {\n  color: #fff;\n  background-color: #198754;\n  border-color: #198754;\n}\n.btn-check:checked + .btn-outline-success:focus, .btn-check:active + .btn-outline-success:focus, .btn-outline-success:active:focus, .btn-outline-success.active:focus, .btn-outline-success.dropdown-toggle.show:focus {\n  box-shadow: 0 0 0 0.25rem rgba(25, 135, 84, 0.5);\n}\n.btn-outline-success:disabled, .btn-outline-success.disabled {\n  color: #198754;\n  background-color: transparent;\n}\n\n.btn-outline-info {\n  color: #0dcaf0;\n  border-color: #0dcaf0;\n}\n.btn-outline-info:hover {\n  color: #000;\n  background-color: #0dcaf0;\n  border-color: #0dcaf0;\n}\n.btn-check:focus + .btn-outline-info, .btn-outline-info:focus {\n  box-shadow: 0 0 0 0.25rem rgba(13, 202, 240, 0.5);\n}\n.btn-check:checked + .btn-outline-info, .btn-check:active + .btn-outline-info, .btn-outline-info:active, .btn-outline-info.active, .btn-outline-info.dropdown-toggle.show {\n  color: #000;\n  background-color: #0dcaf0;\n  border-color: #0dcaf0;\n}\n.btn-check:checked + .btn-outline-info:focus, .btn-check:active + .btn-outline-info:focus, .btn-outline-info:active:focus, .btn-outline-info.active:focus, .btn-outline-info.dropdown-toggle.show:focus {\n  box-shadow: 0 0 0 0.25rem rgba(13, 202, 240, 0.5);\n}\n.btn-outline-info:disabled, .btn-outline-info.disabled {\n  color: #0dcaf0;\n  background-color: transparent;\n}\n\n.btn-outline-warning {\n  color: #ffc107;\n  border-color: #ffc107;\n}\n.btn-outline-warning:hover {\n  color: #000;\n  background-color: #ffc107;\n  border-color: #ffc107;\n}\n.btn-check:focus + .btn-outline-warning, .btn-outline-warning:focus {\n  box-shadow: 0 0 0 0.25rem rgba(255, 193, 7, 0.5);\n}\n.btn-check:checked + .btn-outline-warning, .btn-check:active + .btn-outline-warning, .btn-outline-warning:active, .btn-outline-warning.active, .btn-outline-warning.dropdown-toggle.show {\n  color: #000;\n  background-color: #ffc107;\n  border-color: #ffc107;\n}\n.btn-check:checked + .btn-outline-warning:focus, .btn-check:active + .btn-outline-warning:focus, .btn-outline-warning:active:focus, .btn-outline-warning.active:focus, .btn-outline-warning.dropdown-toggle.show:focus {\n  box-shadow: 0 0 0 0.25rem rgba(255, 193, 7, 0.5);\n}\n.btn-outline-warning:disabled, .btn-outline-warning.disabled {\n  color: #ffc107;\n  background-color: transparent;\n}\n\n.btn-outline-danger {\n  color: #dc3545;\n  border-color: #dc3545;\n}\n.btn-outline-danger:hover {\n  color: #fff;\n  background-color: #dc3545;\n  border-color: #dc3545;\n}\n.btn-check:focus + .btn-outline-danger, .btn-outline-danger:focus {\n  box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.5);\n}\n.btn-check:checked + .btn-outline-danger, .btn-check:active + .btn-outline-danger, .btn-outline-danger:active, .btn-outline-danger.active, .btn-outline-danger.dropdown-toggle.show {\n  color: #fff;\n  background-color: #dc3545;\n  border-color: #dc3545;\n}\n.btn-check:checked + .btn-outline-danger:focus, .btn-check:active + .btn-outline-danger:focus, .btn-outline-danger:active:focus, .btn-outline-danger.active:focus, .btn-outline-danger.dropdown-toggle.show:focus {\n  box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.5);\n}\n.btn-outline-danger:disabled, .btn-outline-danger.disabled {\n  color: #dc3545;\n  background-color: transparent;\n}\n\n.btn-outline-light {\n  color: #f8f9fa;\n  border-color: #f8f9fa;\n}\n.btn-outline-light:hover {\n  color: #000;\n  background-color: #f8f9fa;\n  border-color: #f8f9fa;\n}\n.btn-check:focus + .btn-outline-light, .btn-outline-light:focus {\n  box-shadow: 0 0 0 0.25rem rgba(248, 249, 250, 0.5);\n}\n.btn-check:checked + .btn-outline-light, .btn-check:active + .btn-outline-light, .btn-outline-light:active, .btn-outline-light.active, .btn-outline-light.dropdown-toggle.show {\n  color: #000;\n  background-color: #f8f9fa;\n  border-color: #f8f9fa;\n}\n.btn-check:checked + .btn-outline-light:focus, .btn-check:active + .btn-outline-light:focus, .btn-outline-light:active:focus, .btn-outline-light.active:focus, .btn-outline-light.dropdown-toggle.show:focus {\n  box-shadow: 0 0 0 0.25rem rgba(248, 249, 250, 0.5);\n}\n.btn-outline-light:disabled, .btn-outline-light.disabled {\n  color: #f8f9fa;\n  background-color: transparent;\n}\n\n.btn-outline-dark {\n  color: #212529;\n  border-color: #212529;\n}\n.btn-outline-dark:hover {\n  color: #fff;\n  background-color: #212529;\n  border-color: #212529;\n}\n.btn-check:focus + .btn-outline-dark, .btn-outline-dark:focus {\n  box-shadow: 0 0 0 0.25rem rgba(33, 37, 41, 0.5);\n}\n.btn-check:checked + .btn-outline-dark, .btn-check:active + .btn-outline-dark, .btn-outline-dark:active, .btn-outline-dark.active, .btn-outline-dark.dropdown-toggle.show {\n  color: #fff;\n  background-color: #212529;\n  border-color: #212529;\n}\n.btn-check:checked + .btn-outline-dark:focus, .btn-check:active + .btn-outline-dark:focus, .btn-outline-dark:active:focus, .btn-outline-dark.active:focus, .btn-outline-dark.dropdown-toggle.show:focus {\n  box-shadow: 0 0 0 0.25rem rgba(33, 37, 41, 0.5);\n}\n.btn-outline-dark:disabled, .btn-outline-dark.disabled {\n  color: #212529;\n  background-color: transparent;\n}\n\n.btn-link {\n  font-weight: 400;\n  color: #0d6efd;\n  text-decoration: underline;\n}\n.btn-link:hover {\n  color: #0a58ca;\n}\n.btn-link:disabled, .btn-link.disabled {\n  color: #6c757d;\n}\n\n.btn-lg, .btn-group-lg > .btn {\n  padding: 0.5rem 1rem;\n  font-size: 1.25rem;\n  border-radius: 0.3rem;\n}\n\n.btn-sm, .btn-group-sm > .btn {\n  padding: 0.25rem 0.5rem;\n  font-size: 0.875rem;\n  border-radius: 0.2rem;\n}\n\n.fade {\n  transition: opacity 0.15s linear;\n}\n@media (prefers-reduced-motion: reduce) {\n  .fade {\n    transition: none;\n  }\n}\n.fade:not(.show) {\n  opacity: 0;\n}\n\n.collapse:not(.show) {\n  display: none;\n}\n\n.collapsing {\n  height: 0;\n  overflow: hidden;\n  transition: height 0.35s ease;\n}\n@media (prefers-reduced-motion: reduce) {\n  .collapsing {\n    transition: none;\n  }\n}\n.collapsing.collapse-horizontal {\n  width: 0;\n  height: auto;\n  transition: width 0.35s ease;\n}\n@media (prefers-reduced-motion: reduce) {\n  .collapsing.collapse-horizontal {\n    transition: none;\n  }\n}\n\n.dropup,\n.dropend,\n.dropdown,\n.dropstart {\n  position: relative;\n}\n\n.dropdown-toggle {\n  white-space: nowrap;\n}\n.dropdown-toggle::after {\n  display: inline-block;\n  margin-left: 0.255em;\n  vertical-align: 0.255em;\n  content: \"\";\n  border-top: 0.3em solid;\n  border-right: 0.3em solid transparent;\n  border-bottom: 0;\n  border-left: 0.3em solid transparent;\n}\n.dropdown-toggle:empty::after {\n  margin-left: 0;\n}\n\n.dropdown-menu {\n  position: absolute;\n  z-index: 1000;\n  display: none;\n  min-width: 10rem;\n  padding: 0.5rem 0;\n  margin: 0;\n  font-size: 1rem;\n  color: #212529;\n  text-align: left;\n  list-style: none;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  border-radius: 0.25rem;\n}\n.dropdown-menu[data-bs-popper] {\n  top: 100%;\n  left: 0;\n  margin-top: 0.125rem;\n}\n\n.dropdown-menu-start {\n  --bs-position: start;\n}\n.dropdown-menu-start[data-bs-popper] {\n  right: auto;\n  left: 0;\n}\n\n.dropdown-menu-end {\n  --bs-position: end;\n}\n.dropdown-menu-end[data-bs-popper] {\n  right: 0;\n  left: auto;\n}\n\n@media (min-width: 576px) {\n  .dropdown-menu-sm-start {\n    --bs-position: start;\n  }\n  .dropdown-menu-sm-start[data-bs-popper] {\n    right: auto;\n    left: 0;\n  }\n\n  .dropdown-menu-sm-end {\n    --bs-position: end;\n  }\n  .dropdown-menu-sm-end[data-bs-popper] {\n    right: 0;\n    left: auto;\n  }\n}\n@media (min-width: 768px) {\n  .dropdown-menu-md-start {\n    --bs-position: start;\n  }\n  .dropdown-menu-md-start[data-bs-popper] {\n    right: auto;\n    left: 0;\n  }\n\n  .dropdown-menu-md-end {\n    --bs-position: end;\n  }\n  .dropdown-menu-md-end[data-bs-popper] {\n    right: 0;\n    left: auto;\n  }\n}\n@media (min-width: 992px) {\n  .dropdown-menu-lg-start {\n    --bs-position: start;\n  }\n  .dropdown-menu-lg-start[data-bs-popper] {\n    right: auto;\n    left: 0;\n  }\n\n  .dropdown-menu-lg-end {\n    --bs-position: end;\n  }\n  .dropdown-menu-lg-end[data-bs-popper] {\n    right: 0;\n    left: auto;\n  }\n}\n@media (min-width: 1200px) {\n  .dropdown-menu-xl-start {\n    --bs-position: start;\n  }\n  .dropdown-menu-xl-start[data-bs-popper] {\n    right: auto;\n    left: 0;\n  }\n\n  .dropdown-menu-xl-end {\n    --bs-position: end;\n  }\n  .dropdown-menu-xl-end[data-bs-popper] {\n    right: 0;\n    left: auto;\n  }\n}\n@media (min-width: 1400px) {\n  .dropdown-menu-xxl-start {\n    --bs-position: start;\n  }\n  .dropdown-menu-xxl-start[data-bs-popper] {\n    right: auto;\n    left: 0;\n  }\n\n  .dropdown-menu-xxl-end {\n    --bs-position: end;\n  }\n  .dropdown-menu-xxl-end[data-bs-popper] {\n    right: 0;\n    left: auto;\n  }\n}\n.dropup .dropdown-menu[data-bs-popper] {\n  top: auto;\n  bottom: 100%;\n  margin-top: 0;\n  margin-bottom: 0.125rem;\n}\n.dropup .dropdown-toggle::after {\n  display: inline-block;\n  margin-left: 0.255em;\n  vertical-align: 0.255em;\n  content: \"\";\n  border-top: 0;\n  border-right: 0.3em solid transparent;\n  border-bottom: 0.3em solid;\n  border-left: 0.3em solid transparent;\n}\n.dropup .dropdown-toggle:empty::after {\n  margin-left: 0;\n}\n\n.dropend .dropdown-menu[data-bs-popper] {\n  top: 0;\n  right: auto;\n  left: 100%;\n  margin-top: 0;\n  margin-left: 0.125rem;\n}\n.dropend .dropdown-toggle::after {\n  display: inline-block;\n  margin-left: 0.255em;\n  vertical-align: 0.255em;\n  content: \"\";\n  border-top: 0.3em solid transparent;\n  border-right: 0;\n  border-bottom: 0.3em solid transparent;\n  border-left: 0.3em solid;\n}\n.dropend .dropdown-toggle:empty::after {\n  margin-left: 0;\n}\n.dropend .dropdown-toggle::after {\n  vertical-align: 0;\n}\n\n.dropstart .dropdown-menu[data-bs-popper] {\n  top: 0;\n  right: 100%;\n  left: auto;\n  margin-top: 0;\n  margin-right: 0.125rem;\n}\n.dropstart .dropdown-toggle::after {\n  display: inline-block;\n  margin-left: 0.255em;\n  vertical-align: 0.255em;\n  content: \"\";\n}\n.dropstart .dropdown-toggle::after {\n  display: none;\n}\n.dropstart .dropdown-toggle::before {\n  display: inline-block;\n  margin-right: 0.255em;\n  vertical-align: 0.255em;\n  content: \"\";\n  border-top: 0.3em solid transparent;\n  border-right: 0.3em solid;\n  border-bottom: 0.3em solid transparent;\n}\n.dropstart .dropdown-toggle:empty::after {\n  margin-left: 0;\n}\n.dropstart .dropdown-toggle::before {\n  vertical-align: 0;\n}\n\n.dropdown-divider {\n  height: 0;\n  margin: 0.5rem 0;\n  overflow: hidden;\n  border-top: 1px solid rgba(0, 0, 0, 0.15);\n}\n\n.dropdown-item {\n  display: block;\n  width: 100%;\n  padding: 0.25rem 1rem;\n  clear: both;\n  font-weight: 400;\n  color: #212529;\n  text-align: inherit;\n  text-decoration: none;\n  white-space: nowrap;\n  background-color: transparent;\n  border: 0;\n}\n.dropdown-item:hover, .dropdown-item:focus {\n  color: #1e2125;\n  background-color: #e9ecef;\n}\n.dropdown-item.active, .dropdown-item:active {\n  color: #fff;\n  text-decoration: none;\n  background-color: #0d6efd;\n}\n.dropdown-item.disabled, .dropdown-item:disabled {\n  color: #adb5bd;\n  pointer-events: none;\n  background-color: transparent;\n}\n\n.dropdown-menu.show {\n  display: block;\n}\n\n.dropdown-header {\n  display: block;\n  padding: 0.5rem 1rem;\n  margin-bottom: 0;\n  font-size: 0.875rem;\n  color: #6c757d;\n  white-space: nowrap;\n}\n\n.dropdown-item-text {\n  display: block;\n  padding: 0.25rem 1rem;\n  color: #212529;\n}\n\n.dropdown-menu-dark {\n  color: #dee2e6;\n  background-color: #343a40;\n  border-color: rgba(0, 0, 0, 0.15);\n}\n.dropdown-menu-dark .dropdown-item {\n  color: #dee2e6;\n}\n.dropdown-menu-dark .dropdown-item:hover, .dropdown-menu-dark .dropdown-item:focus {\n  color: #fff;\n  background-color: rgba(255, 255, 255, 0.15);\n}\n.dropdown-menu-dark .dropdown-item.active, .dropdown-menu-dark .dropdown-item:active {\n  color: #fff;\n  background-color: #0d6efd;\n}\n.dropdown-menu-dark .dropdown-item.disabled, .dropdown-menu-dark .dropdown-item:disabled {\n  color: #adb5bd;\n}\n.dropdown-menu-dark .dropdown-divider {\n  border-color: rgba(0, 0, 0, 0.15);\n}\n.dropdown-menu-dark .dropdown-item-text {\n  color: #dee2e6;\n}\n.dropdown-menu-dark .dropdown-header {\n  color: #adb5bd;\n}\n\n.btn-group,\n.btn-group-vertical {\n  position: relative;\n  display: inline-flex;\n  vertical-align: middle;\n}\n.btn-group > .btn,\n.btn-group-vertical > .btn {\n  position: relative;\n  flex: 1 1 auto;\n}\n.btn-group > .btn-check:checked + .btn,\n.btn-group > .btn-check:focus + .btn,\n.btn-group > .btn:hover,\n.btn-group > .btn:focus,\n.btn-group > .btn:active,\n.btn-group > .btn.active,\n.btn-group-vertical > .btn-check:checked + .btn,\n.btn-group-vertical > .btn-check:focus + .btn,\n.btn-group-vertical > .btn:hover,\n.btn-group-vertical > .btn:focus,\n.btn-group-vertical > .btn:active,\n.btn-group-vertical > .btn.active {\n  z-index: 1;\n}\n\n.btn-toolbar {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n}\n.btn-toolbar .input-group {\n  width: auto;\n}\n\n.btn-group > .btn:not(:first-child),\n.btn-group > .btn-group:not(:first-child) {\n  margin-left: -1px;\n}\n.btn-group > .btn:not(:last-child):not(.dropdown-toggle),\n.btn-group > .btn-group:not(:last-child) > .btn {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.btn-group > .btn:nth-child(n+3),\n.btn-group > :not(.btn-check) + .btn,\n.btn-group > .btn-group:not(:first-child) > .btn {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n\n.dropdown-toggle-split {\n  padding-right: 0.5625rem;\n  padding-left: 0.5625rem;\n}\n.dropdown-toggle-split::after, .dropup .dropdown-toggle-split::after, .dropend .dropdown-toggle-split::after {\n  margin-left: 0;\n}\n.dropstart .dropdown-toggle-split::before {\n  margin-right: 0;\n}\n\n.btn-sm + .dropdown-toggle-split, .btn-group-sm > .btn + .dropdown-toggle-split {\n  padding-right: 0.375rem;\n  padding-left: 0.375rem;\n}\n\n.btn-lg + .dropdown-toggle-split, .btn-group-lg > .btn + .dropdown-toggle-split {\n  padding-right: 0.75rem;\n  padding-left: 0.75rem;\n}\n\n.btn-group-vertical {\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n}\n.btn-group-vertical > .btn,\n.btn-group-vertical > .btn-group {\n  width: 100%;\n}\n.btn-group-vertical > .btn:not(:first-child),\n.btn-group-vertical > .btn-group:not(:first-child) {\n  margin-top: -1px;\n}\n.btn-group-vertical > .btn:not(:last-child):not(.dropdown-toggle),\n.btn-group-vertical > .btn-group:not(:last-child) > .btn {\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.btn-group-vertical > .btn ~ .btn,\n.btn-group-vertical > .btn-group:not(:first-child) > .btn {\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n}\n\n.nav {\n  display: flex;\n  flex-wrap: wrap;\n  padding-left: 0;\n  margin-bottom: 0;\n  list-style: none;\n}\n\n.nav-link {\n  display: block;\n  padding: 0.5rem 1rem;\n  color: #0d6efd;\n  text-decoration: none;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out;\n}\n@media (prefers-reduced-motion: reduce) {\n  .nav-link {\n    transition: none;\n  }\n}\n.nav-link:hover, .nav-link:focus {\n  color: #0a58ca;\n}\n.nav-link.disabled {\n  color: #6c757d;\n  pointer-events: none;\n  cursor: default;\n}\n\n.nav-tabs {\n  border-bottom: 1px solid #dee2e6;\n}\n.nav-tabs .nav-link {\n  margin-bottom: -1px;\n  background: none;\n  border: 1px solid transparent;\n  border-top-left-radius: 0.25rem;\n  border-top-right-radius: 0.25rem;\n}\n.nav-tabs .nav-link:hover, .nav-tabs .nav-link:focus {\n  border-color: #e9ecef #e9ecef #dee2e6;\n  isolation: isolate;\n}\n.nav-tabs .nav-link.disabled {\n  color: #6c757d;\n  background-color: transparent;\n  border-color: transparent;\n}\n.nav-tabs .nav-link.active,\n.nav-tabs .nav-item.show .nav-link {\n  color: #495057;\n  background-color: #fff;\n  border-color: #dee2e6 #dee2e6 #fff;\n}\n.nav-tabs .dropdown-menu {\n  margin-top: -1px;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n}\n\n.nav-pills .nav-link {\n  background: none;\n  border: 0;\n  border-radius: 0.25rem;\n}\n.nav-pills .nav-link.active,\n.nav-pills .show > .nav-link {\n  color: #fff;\n  background-color: #0d6efd;\n}\n\n.nav-fill > .nav-link,\n.nav-fill .nav-item {\n  flex: 1 1 auto;\n  text-align: center;\n}\n\n.nav-justified > .nav-link,\n.nav-justified .nav-item {\n  flex-basis: 0;\n  flex-grow: 1;\n  text-align: center;\n}\n\n.nav-fill .nav-item .nav-link,\n.nav-justified .nav-item .nav-link {\n  width: 100%;\n}\n\n.tab-content > .tab-pane {\n  display: none;\n}\n.tab-content > .active {\n  display: block;\n}\n\n.navbar {\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: space-between;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n.navbar > .container,\n.navbar > .container-fluid,\n.navbar > .container-sm,\n.navbar > .container-md,\n.navbar > .container-lg,\n.navbar > .container-xl,\n.navbar > .container-xxl {\n  display: flex;\n  flex-wrap: inherit;\n  align-items: center;\n  justify-content: space-between;\n}\n.navbar-brand {\n  padding-top: 0.3125rem;\n  padding-bottom: 0.3125rem;\n  margin-right: 1rem;\n  font-size: 1.25rem;\n  text-decoration: none;\n  white-space: nowrap;\n}\n.navbar-nav {\n  display: flex;\n  flex-direction: column;\n  padding-left: 0;\n  margin-bottom: 0;\n  list-style: none;\n}\n.navbar-nav .nav-link {\n  padding-right: 0;\n  padding-left: 0;\n}\n.navbar-nav .dropdown-menu {\n  position: static;\n}\n\n.navbar-text {\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n\n.navbar-collapse {\n  flex-basis: 100%;\n  flex-grow: 1;\n  align-items: center;\n}\n\n.navbar-toggler {\n  padding: 0.25rem 0.75rem;\n  font-size: 1.25rem;\n  line-height: 1;\n  background-color: transparent;\n  border: 1px solid transparent;\n  border-radius: 0.25rem;\n  transition: box-shadow 0.15s ease-in-out;\n}\n@media (prefers-reduced-motion: reduce) {\n  .navbar-toggler {\n    transition: none;\n  }\n}\n.navbar-toggler:hover {\n  text-decoration: none;\n}\n.navbar-toggler:focus {\n  text-decoration: none;\n  outline: 0;\n  box-shadow: 0 0 0 0.25rem;\n}\n\n.navbar-toggler-icon {\n  display: inline-block;\n  width: 1.5em;\n  height: 1.5em;\n  vertical-align: middle;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 100%;\n}\n\n.navbar-nav-scroll {\n  max-height: var(--bs-scroll-height, 75vh);\n  overflow-y: auto;\n}\n\n@media (min-width: 576px) {\n  .navbar-expand-sm {\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n  }\n  .navbar-expand-sm .navbar-nav {\n    flex-direction: row;\n  }\n  .navbar-expand-sm .navbar-nav .dropdown-menu {\n    position: absolute;\n  }\n  .navbar-expand-sm .navbar-nav .nav-link {\n    padding-right: 0.5rem;\n    padding-left: 0.5rem;\n  }\n  .navbar-expand-sm .navbar-nav-scroll {\n    overflow: visible;\n  }\n  .navbar-expand-sm .navbar-collapse {\n    display: flex !important;\n    flex-basis: auto;\n  }\n  .navbar-expand-sm .navbar-toggler {\n    display: none;\n  }\n  .navbar-expand-sm .offcanvas-header {\n    display: none;\n  }\n  .navbar-expand-sm .offcanvas {\n    position: inherit;\n    bottom: 0;\n    z-index: 1000;\n    flex-grow: 1;\n    visibility: visible !important;\n    background-color: transparent;\n    border-right: 0;\n    border-left: 0;\n    transition: none;\n    transform: none;\n  }\n  .navbar-expand-sm .offcanvas-top,\n.navbar-expand-sm .offcanvas-bottom {\n    height: auto;\n    border-top: 0;\n    border-bottom: 0;\n  }\n  .navbar-expand-sm .offcanvas-body {\n    display: flex;\n    flex-grow: 0;\n    padding: 0;\n    overflow-y: visible;\n  }\n}\n@media (min-width: 768px) {\n  .navbar-expand-md {\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n  }\n  .navbar-expand-md .navbar-nav {\n    flex-direction: row;\n  }\n  .navbar-expand-md .navbar-nav .dropdown-menu {\n    position: absolute;\n  }\n  .navbar-expand-md .navbar-nav .nav-link {\n    padding-right: 0.5rem;\n    padding-left: 0.5rem;\n  }\n  .navbar-expand-md .navbar-nav-scroll {\n    overflow: visible;\n  }\n  .navbar-expand-md .navbar-collapse {\n    display: flex !important;\n    flex-basis: auto;\n  }\n  .navbar-expand-md .navbar-toggler {\n    display: none;\n  }\n  .navbar-expand-md .offcanvas-header {\n    display: none;\n  }\n  .navbar-expand-md .offcanvas {\n    position: inherit;\n    bottom: 0;\n    z-index: 1000;\n    flex-grow: 1;\n    visibility: visible !important;\n    background-color: transparent;\n    border-right: 0;\n    border-left: 0;\n    transition: none;\n    transform: none;\n  }\n  .navbar-expand-md .offcanvas-top,\n.navbar-expand-md .offcanvas-bottom {\n    height: auto;\n    border-top: 0;\n    border-bottom: 0;\n  }\n  .navbar-expand-md .offcanvas-body {\n    display: flex;\n    flex-grow: 0;\n    padding: 0;\n    overflow-y: visible;\n  }\n}\n@media (min-width: 992px) {\n  .navbar-expand-lg {\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n  }\n  .navbar-expand-lg .navbar-nav {\n    flex-direction: row;\n  }\n  .navbar-expand-lg .navbar-nav .dropdown-menu {\n    position: absolute;\n  }\n  .navbar-expand-lg .navbar-nav .nav-link {\n    padding-right: 0.5rem;\n    padding-left: 0.5rem;\n  }\n  .navbar-expand-lg .navbar-nav-scroll {\n    overflow: visible;\n  }\n  .navbar-expand-lg .navbar-collapse {\n    display: flex !important;\n    flex-basis: auto;\n  }\n  .navbar-expand-lg .navbar-toggler {\n    display: none;\n  }\n  .navbar-expand-lg .offcanvas-header {\n    display: none;\n  }\n  .navbar-expand-lg .offcanvas {\n    position: inherit;\n    bottom: 0;\n    z-index: 1000;\n    flex-grow: 1;\n    visibility: visible !important;\n    background-color: transparent;\n    border-right: 0;\n    border-left: 0;\n    transition: none;\n    transform: none;\n  }\n  .navbar-expand-lg .offcanvas-top,\n.navbar-expand-lg .offcanvas-bottom {\n    height: auto;\n    border-top: 0;\n    border-bottom: 0;\n  }\n  .navbar-expand-lg .offcanvas-body {\n    display: flex;\n    flex-grow: 0;\n    padding: 0;\n    overflow-y: visible;\n  }\n}\n@media (min-width: 1200px) {\n  .navbar-expand-xl {\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n  }\n  .navbar-expand-xl .navbar-nav {\n    flex-direction: row;\n  }\n  .navbar-expand-xl .navbar-nav .dropdown-menu {\n    position: absolute;\n  }\n  .navbar-expand-xl .navbar-nav .nav-link {\n    padding-right: 0.5rem;\n    padding-left: 0.5rem;\n  }\n  .navbar-expand-xl .navbar-nav-scroll {\n    overflow: visible;\n  }\n  .navbar-expand-xl .navbar-collapse {\n    display: flex !important;\n    flex-basis: auto;\n  }\n  .navbar-expand-xl .navbar-toggler {\n    display: none;\n  }\n  .navbar-expand-xl .offcanvas-header {\n    display: none;\n  }\n  .navbar-expand-xl .offcanvas {\n    position: inherit;\n    bottom: 0;\n    z-index: 1000;\n    flex-grow: 1;\n    visibility: visible !important;\n    background-color: transparent;\n    border-right: 0;\n    border-left: 0;\n    transition: none;\n    transform: none;\n  }\n  .navbar-expand-xl .offcanvas-top,\n.navbar-expand-xl .offcanvas-bottom {\n    height: auto;\n    border-top: 0;\n    border-bottom: 0;\n  }\n  .navbar-expand-xl .offcanvas-body {\n    display: flex;\n    flex-grow: 0;\n    padding: 0;\n    overflow-y: visible;\n  }\n}\n@media (min-width: 1400px) {\n  .navbar-expand-xxl {\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n  }\n  .navbar-expand-xxl .navbar-nav {\n    flex-direction: row;\n  }\n  .navbar-expand-xxl .navbar-nav .dropdown-menu {\n    position: absolute;\n  }\n  .navbar-expand-xxl .navbar-nav .nav-link {\n    padding-right: 0.5rem;\n    padding-left: 0.5rem;\n  }\n  .navbar-expand-xxl .navbar-nav-scroll {\n    overflow: visible;\n  }\n  .navbar-expand-xxl .navbar-collapse {\n    display: flex !important;\n    flex-basis: auto;\n  }\n  .navbar-expand-xxl .navbar-toggler {\n    display: none;\n  }\n  .navbar-expand-xxl .offcanvas-header {\n    display: none;\n  }\n  .navbar-expand-xxl .offcanvas {\n    position: inherit;\n    bottom: 0;\n    z-index: 1000;\n    flex-grow: 1;\n    visibility: visible !important;\n    background-color: transparent;\n    border-right: 0;\n    border-left: 0;\n    transition: none;\n    transform: none;\n  }\n  .navbar-expand-xxl .offcanvas-top,\n.navbar-expand-xxl .offcanvas-bottom {\n    height: auto;\n    border-top: 0;\n    border-bottom: 0;\n  }\n  .navbar-expand-xxl .offcanvas-body {\n    display: flex;\n    flex-grow: 0;\n    padding: 0;\n    overflow-y: visible;\n  }\n}\n.navbar-expand {\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n}\n.navbar-expand .navbar-nav {\n  flex-direction: row;\n}\n.navbar-expand .navbar-nav .dropdown-menu {\n  position: absolute;\n}\n.navbar-expand .navbar-nav .nav-link {\n  padding-right: 0.5rem;\n  padding-left: 0.5rem;\n}\n.navbar-expand .navbar-nav-scroll {\n  overflow: visible;\n}\n.navbar-expand .navbar-collapse {\n  display: flex !important;\n  flex-basis: auto;\n}\n.navbar-expand .navbar-toggler {\n  display: none;\n}\n.navbar-expand .offcanvas-header {\n  display: none;\n}\n.navbar-expand .offcanvas {\n  position: inherit;\n  bottom: 0;\n  z-index: 1000;\n  flex-grow: 1;\n  visibility: visible !important;\n  background-color: transparent;\n  border-right: 0;\n  border-left: 0;\n  transition: none;\n  transform: none;\n}\n.navbar-expand .offcanvas-top,\n.navbar-expand .offcanvas-bottom {\n  height: auto;\n  border-top: 0;\n  border-bottom: 0;\n}\n.navbar-expand .offcanvas-body {\n  display: flex;\n  flex-grow: 0;\n  padding: 0;\n  overflow-y: visible;\n}\n\n.navbar-light .navbar-brand {\n  color: rgba(0, 0, 0, 0.9);\n}\n.navbar-light .navbar-brand:hover, .navbar-light .navbar-brand:focus {\n  color: rgba(0, 0, 0, 0.9);\n}\n.navbar-light .navbar-nav .nav-link {\n  color: rgba(0, 0, 0, 0.55);\n}\n.navbar-light .navbar-nav .nav-link:hover, .navbar-light .navbar-nav .nav-link:focus {\n  color: rgba(0, 0, 0, 0.7);\n}\n.navbar-light .navbar-nav .nav-link.disabled {\n  color: rgba(0, 0, 0, 0.3);\n}\n.navbar-light .navbar-nav .show > .nav-link,\n.navbar-light .navbar-nav .nav-link.active {\n  color: rgba(0, 0, 0, 0.9);\n}\n.navbar-light .navbar-toggler {\n  color: rgba(0, 0, 0, 0.55);\n  border-color: rgba(0, 0, 0, 0.1);\n}\n.navbar-light .navbar-toggler-icon {\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%280, 0, 0, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\");\n}\n.navbar-light .navbar-text {\n  color: rgba(0, 0, 0, 0.55);\n}\n.navbar-light .navbar-text a,\n.navbar-light .navbar-text a:hover,\n.navbar-light .navbar-text a:focus {\n  color: rgba(0, 0, 0, 0.9);\n}\n\n.navbar-dark .navbar-brand {\n  color: #fff;\n}\n.navbar-dark .navbar-brand:hover, .navbar-dark .navbar-brand:focus {\n  color: #fff;\n}\n.navbar-dark .navbar-nav .nav-link {\n  color: rgba(255, 255, 255, 0.55);\n}\n.navbar-dark .navbar-nav .nav-link:hover, .navbar-dark .navbar-nav .nav-link:focus {\n  color: rgba(255, 255, 255, 0.75);\n}\n.navbar-dark .navbar-nav .nav-link.disabled {\n  color: rgba(255, 255, 255, 0.25);\n}\n.navbar-dark .navbar-nav .show > .nav-link,\n.navbar-dark .navbar-nav .nav-link.active {\n  color: #fff;\n}\n.navbar-dark .navbar-toggler {\n  color: rgba(255, 255, 255, 0.55);\n  border-color: rgba(255, 255, 255, 0.1);\n}\n.navbar-dark .navbar-toggler-icon {\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\");\n}\n.navbar-dark .navbar-text {\n  color: rgba(255, 255, 255, 0.55);\n}\n.navbar-dark .navbar-text a,\n.navbar-dark .navbar-text a:hover,\n.navbar-dark .navbar-text a:focus {\n  color: #fff;\n}\n\n.card {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  min-width: 0;\n  word-wrap: break-word;\n  background-color: #fff;\n  background-clip: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  border-radius: 0.25rem;\n}\n.card > hr {\n  margin-right: 0;\n  margin-left: 0;\n}\n.card > .list-group {\n  border-top: inherit;\n  border-bottom: inherit;\n}\n.card > .list-group:first-child {\n  border-top-width: 0;\n  border-top-left-radius: calc(0.25rem - 1px);\n  border-top-right-radius: calc(0.25rem - 1px);\n}\n.card > .list-group:last-child {\n  border-bottom-width: 0;\n  border-bottom-right-radius: calc(0.25rem - 1px);\n  border-bottom-left-radius: calc(0.25rem - 1px);\n}\n.card > .card-header + .list-group,\n.card > .list-group + .card-footer {\n  border-top: 0;\n}\n\n.card-body {\n  flex: 1 1 auto;\n  padding: 1rem 1rem;\n}\n\n.card-title {\n  margin-bottom: 0.5rem;\n}\n\n.card-subtitle {\n  margin-top: -0.25rem;\n  margin-bottom: 0;\n}\n\n.card-text:last-child {\n  margin-bottom: 0;\n}\n\n.card-link + .card-link {\n  margin-left: 1rem;\n}\n\n.card-header {\n  padding: 0.5rem 1rem;\n  margin-bottom: 0;\n  background-color: rgba(0, 0, 0, 0.03);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n}\n.card-header:first-child {\n  border-radius: calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0;\n}\n\n.card-footer {\n  padding: 0.5rem 1rem;\n  background-color: rgba(0, 0, 0, 0.03);\n  border-top: 1px solid rgba(0, 0, 0, 0.125);\n}\n.card-footer:last-child {\n  border-radius: 0 0 calc(0.25rem - 1px) calc(0.25rem - 1px);\n}\n\n.card-header-tabs {\n  margin-right: -0.5rem;\n  margin-bottom: -0.5rem;\n  margin-left: -0.5rem;\n  border-bottom: 0;\n}\n\n.card-header-pills {\n  margin-right: -0.5rem;\n  margin-left: -0.5rem;\n}\n\n.card-img-overlay {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  padding: 1rem;\n  border-radius: calc(0.25rem - 1px);\n}\n\n.card-img,\n.card-img-top,\n.card-img-bottom {\n  width: 100%;\n}\n\n.card-img,\n.card-img-top {\n  border-top-left-radius: calc(0.25rem - 1px);\n  border-top-right-radius: calc(0.25rem - 1px);\n}\n\n.card-img,\n.card-img-bottom {\n  border-bottom-right-radius: calc(0.25rem - 1px);\n  border-bottom-left-radius: calc(0.25rem - 1px);\n}\n\n.card-group > .card {\n  margin-bottom: 0.75rem;\n}\n@media (min-width: 576px) {\n  .card-group {\n    display: flex;\n    flex-flow: row wrap;\n  }\n  .card-group > .card {\n    flex: 1 0 0%;\n    margin-bottom: 0;\n  }\n  .card-group > .card + .card {\n    margin-left: 0;\n    border-left: 0;\n  }\n  .card-group > .card:not(:last-child) {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n  .card-group > .card:not(:last-child) .card-img-top,\n.card-group > .card:not(:last-child) .card-header {\n    border-top-right-radius: 0;\n  }\n  .card-group > .card:not(:last-child) .card-img-bottom,\n.card-group > .card:not(:last-child) .card-footer {\n    border-bottom-right-radius: 0;\n  }\n  .card-group > .card:not(:first-child) {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n  .card-group > .card:not(:first-child) .card-img-top,\n.card-group > .card:not(:first-child) .card-header {\n    border-top-left-radius: 0;\n  }\n  .card-group > .card:not(:first-child) .card-img-bottom,\n.card-group > .card:not(:first-child) .card-footer {\n    border-bottom-left-radius: 0;\n  }\n}\n\n.accordion-button {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 1rem 1.25rem;\n  font-size: 1rem;\n  color: #212529;\n  text-align: left;\n  background-color: #fff;\n  border: 0;\n  border-radius: 0;\n  overflow-anchor: none;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, border-radius 0.15s ease;\n}\n@media (prefers-reduced-motion: reduce) {\n  .accordion-button {\n    transition: none;\n  }\n}\n.accordion-button:not(.collapsed) {\n  color: #0c63e4;\n  background-color: #e7f1ff;\n  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.125);\n}\n.accordion-button:not(.collapsed)::after {\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%230c63e4'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\");\n  transform: rotate(-180deg);\n}\n.accordion-button::after {\n  flex-shrink: 0;\n  width: 1.25rem;\n  height: 1.25rem;\n  margin-left: auto;\n  content: \"\";\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23212529'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\");\n  background-repeat: no-repeat;\n  background-size: 1.25rem;\n  transition: transform 0.2s ease-in-out;\n}\n@media (prefers-reduced-motion: reduce) {\n  .accordion-button::after {\n    transition: none;\n  }\n}\n.accordion-button:hover {\n  z-index: 2;\n}\n.accordion-button:focus {\n  z-index: 3;\n  border-color: #86b7fe;\n  outline: 0;\n  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);\n}\n\n.accordion-header {\n  margin-bottom: 0;\n}\n\n.accordion-item {\n  background-color: #fff;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n}\n.accordion-item:first-of-type {\n  border-top-left-radius: 0.25rem;\n  border-top-right-radius: 0.25rem;\n}\n.accordion-item:first-of-type .accordion-button {\n  border-top-left-radius: calc(0.25rem - 1px);\n  border-top-right-radius: calc(0.25rem - 1px);\n}\n.accordion-item:not(:first-of-type) {\n  border-top: 0;\n}\n.accordion-item:last-of-type {\n  border-bottom-right-radius: 0.25rem;\n  border-bottom-left-radius: 0.25rem;\n}\n.accordion-item:last-of-type .accordion-button.collapsed {\n  border-bottom-right-radius: calc(0.25rem - 1px);\n  border-bottom-left-radius: calc(0.25rem - 1px);\n}\n.accordion-item:last-of-type .accordion-collapse {\n  border-bottom-right-radius: 0.25rem;\n  border-bottom-left-radius: 0.25rem;\n}\n\n.accordion-body {\n  padding: 1rem 1.25rem;\n}\n\n.accordion-flush .accordion-collapse {\n  border-width: 0;\n}\n.accordion-flush .accordion-item {\n  border-right: 0;\n  border-left: 0;\n  border-radius: 0;\n}\n.accordion-flush .accordion-item:first-child {\n  border-top: 0;\n}\n.accordion-flush .accordion-item:last-child {\n  border-bottom: 0;\n}\n.accordion-flush .accordion-item .accordion-button {\n  border-radius: 0;\n}\n\n.breadcrumb {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0 0;\n  margin-bottom: 1rem;\n  list-style: none;\n}\n\n.breadcrumb-item + .breadcrumb-item {\n  padding-left: 0.5rem;\n}\n.breadcrumb-item + .breadcrumb-item::before {\n  float: left;\n  padding-right: 0.5rem;\n  color: #6c757d;\n  content: var(--bs-breadcrumb-divider, \"/\") /* rtl: var(--bs-breadcrumb-divider, \"/\") */;\n}\n.breadcrumb-item.active {\n  color: #6c757d;\n}\n\n.pagination {\n  display: flex;\n  padding-left: 0;\n  list-style: none;\n}\n\n.page-link {\n  position: relative;\n  display: block;\n  color: #0d6efd;\n  text-decoration: none;\n  background-color: #fff;\n  border: 1px solid #dee2e6;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n@media (prefers-reduced-motion: reduce) {\n  .page-link {\n    transition: none;\n  }\n}\n.page-link:hover {\n  z-index: 2;\n  color: #0a58ca;\n  background-color: #e9ecef;\n  border-color: #dee2e6;\n}\n.page-link:focus {\n  z-index: 3;\n  color: #0a58ca;\n  background-color: #e9ecef;\n  outline: 0;\n  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);\n}\n\n.page-item:not(:first-child) .page-link {\n  margin-left: -1px;\n}\n.page-item.active .page-link {\n  z-index: 3;\n  color: #fff;\n  background-color: #0d6efd;\n  border-color: #0d6efd;\n}\n.page-item.disabled .page-link {\n  color: #6c757d;\n  pointer-events: none;\n  background-color: #fff;\n  border-color: #dee2e6;\n}\n\n.page-link {\n  padding: 0.375rem 0.75rem;\n}\n\n.page-item:first-child .page-link {\n  border-top-left-radius: 0.25rem;\n  border-bottom-left-radius: 0.25rem;\n}\n.page-item:last-child .page-link {\n  border-top-right-radius: 0.25rem;\n  border-bottom-right-radius: 0.25rem;\n}\n\n.pagination-lg .page-link {\n  padding: 0.75rem 1.5rem;\n  font-size: 1.25rem;\n}\n.pagination-lg .page-item:first-child .page-link {\n  border-top-left-radius: 0.3rem;\n  border-bottom-left-radius: 0.3rem;\n}\n.pagination-lg .page-item:last-child .page-link {\n  border-top-right-radius: 0.3rem;\n  border-bottom-right-radius: 0.3rem;\n}\n\n.pagination-sm .page-link {\n  padding: 0.25rem 0.5rem;\n  font-size: 0.875rem;\n}\n.pagination-sm .page-item:first-child .page-link {\n  border-top-left-radius: 0.2rem;\n  border-bottom-left-radius: 0.2rem;\n}\n.pagination-sm .page-item:last-child .page-link {\n  border-top-right-radius: 0.2rem;\n  border-bottom-right-radius: 0.2rem;\n}\n\n.badge {\n  display: inline-block;\n  padding: 0.35em 0.65em;\n  font-size: 0.75em;\n  font-weight: 700;\n  line-height: 1;\n  color: #fff;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: baseline;\n  border-radius: 0.25rem;\n}\n.badge:empty {\n  display: none;\n}\n\n.btn .badge {\n  position: relative;\n  top: -1px;\n}\n\n.alert {\n  position: relative;\n  padding: 1rem 1rem;\n  margin-bottom: 1rem;\n  border: 1px solid transparent;\n  border-radius: 0.25rem;\n}\n\n.alert-heading {\n  color: inherit;\n}\n\n.alert-link {\n  font-weight: 700;\n}\n\n.alert-dismissible {\n  padding-right: 3rem;\n}\n.alert-dismissible .btn-close {\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 2;\n  padding: 1.25rem 1rem;\n}\n\n.alert-primary {\n  color: #084298;\n  background-color: #cfe2ff;\n  border-color: #b6d4fe;\n}\n.alert-primary .alert-link {\n  color: #06357a;\n}\n\n.alert-secondary {\n  color: #41464b;\n  background-color: #e2e3e5;\n  border-color: #d3d6d8;\n}\n.alert-secondary .alert-link {\n  color: #34383c;\n}\n\n.alert-success {\n  color: #0f5132;\n  background-color: #d1e7dd;\n  border-color: #badbcc;\n}\n.alert-success .alert-link {\n  color: #0c4128;\n}\n\n.alert-info {\n  color: #055160;\n  background-color: #cff4fc;\n  border-color: #b6effb;\n}\n.alert-info .alert-link {\n  color: #04414d;\n}\n\n.alert-warning {\n  color: #664d03;\n  background-color: #fff3cd;\n  border-color: #ffecb5;\n}\n.alert-warning .alert-link {\n  color: #523e02;\n}\n\n.alert-danger {\n  color: #842029;\n  background-color: #f8d7da;\n  border-color: #f5c2c7;\n}\n.alert-danger .alert-link {\n  color: #6a1a21;\n}\n\n.alert-light {\n  color: #636464;\n  background-color: #fefefe;\n  border-color: #fdfdfe;\n}\n.alert-light .alert-link {\n  color: #4f5050;\n}\n\n.alert-dark {\n  color: #141619;\n  background-color: #d3d3d4;\n  border-color: #bcbebf;\n}\n.alert-dark .alert-link {\n  color: #101214;\n}\n\n@-webkit-keyframes progress-bar-stripes {\n  0% {\n    background-position-x: 1rem;\n  }\n}\n\n@keyframes progress-bar-stripes {\n  0% {\n    background-position-x: 1rem;\n  }\n}\n.progress {\n  display: flex;\n  height: 1rem;\n  overflow: hidden;\n  font-size: 0.75rem;\n  background-color: #e9ecef;\n  border-radius: 0.25rem;\n}\n\n.progress-bar {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  overflow: hidden;\n  color: #fff;\n  text-align: center;\n  white-space: nowrap;\n  background-color: #0d6efd;\n  transition: width 0.6s ease;\n}\n@media (prefers-reduced-motion: reduce) {\n  .progress-bar {\n    transition: none;\n  }\n}\n\n.progress-bar-striped {\n  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);\n  background-size: 1rem 1rem;\n}\n\n.progress-bar-animated {\n  -webkit-animation: 1s linear infinite progress-bar-stripes;\n  animation: 1s linear infinite progress-bar-stripes;\n}\n@media (prefers-reduced-motion: reduce) {\n  .progress-bar-animated {\n    -webkit-animation: none;\n    animation: none;\n  }\n}\n\n.list-group {\n  display: flex;\n  flex-direction: column;\n  padding-left: 0;\n  margin-bottom: 0;\n  border-radius: 0.25rem;\n}\n\n.list-group-numbered {\n  list-style-type: none;\n  counter-reset: section;\n}\n.list-group-numbered > li::before {\n  content: counters(section, \".\") \". \";\n  counter-increment: section;\n}\n\n.list-group-item-action {\n  width: 100%;\n  color: #495057;\n  text-align: inherit;\n}\n.list-group-item-action:hover, .list-group-item-action:focus {\n  z-index: 1;\n  color: #495057;\n  text-decoration: none;\n  background-color: #f8f9fa;\n}\n.list-group-item-action:active {\n  color: #212529;\n  background-color: #e9ecef;\n}\n\n.list-group-item {\n  position: relative;\n  display: block;\n  padding: 0.5rem 1rem;\n  color: #212529;\n  text-decoration: none;\n  background-color: #fff;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n}\n.list-group-item:first-child {\n  border-top-left-radius: inherit;\n  border-top-right-radius: inherit;\n}\n.list-group-item:last-child {\n  border-bottom-right-radius: inherit;\n  border-bottom-left-radius: inherit;\n}\n.list-group-item.disabled, .list-group-item:disabled {\n  color: #6c757d;\n  pointer-events: none;\n  background-color: #fff;\n}\n.list-group-item.active {\n  z-index: 2;\n  color: #fff;\n  background-color: #0d6efd;\n  border-color: #0d6efd;\n}\n.list-group-item + .list-group-item {\n  border-top-width: 0;\n}\n.list-group-item + .list-group-item.active {\n  margin-top: -1px;\n  border-top-width: 1px;\n}\n\n.list-group-horizontal {\n  flex-direction: row;\n}\n.list-group-horizontal > .list-group-item:first-child {\n  border-bottom-left-radius: 0.25rem;\n  border-top-right-radius: 0;\n}\n.list-group-horizontal > .list-group-item:last-child {\n  border-top-right-radius: 0.25rem;\n  border-bottom-left-radius: 0;\n}\n.list-group-horizontal > .list-group-item.active {\n  margin-top: 0;\n}\n.list-group-horizontal > .list-group-item + .list-group-item {\n  border-top-width: 1px;\n  border-left-width: 0;\n}\n.list-group-horizontal > .list-group-item + .list-group-item.active {\n  margin-left: -1px;\n  border-left-width: 1px;\n}\n\n@media (min-width: 576px) {\n  .list-group-horizontal-sm {\n    flex-direction: row;\n  }\n  .list-group-horizontal-sm > .list-group-item:first-child {\n    border-bottom-left-radius: 0.25rem;\n    border-top-right-radius: 0;\n  }\n  .list-group-horizontal-sm > .list-group-item:last-child {\n    border-top-right-radius: 0.25rem;\n    border-bottom-left-radius: 0;\n  }\n  .list-group-horizontal-sm > .list-group-item.active {\n    margin-top: 0;\n  }\n  .list-group-horizontal-sm > .list-group-item + .list-group-item {\n    border-top-width: 1px;\n    border-left-width: 0;\n  }\n  .list-group-horizontal-sm > .list-group-item + .list-group-item.active {\n    margin-left: -1px;\n    border-left-width: 1px;\n  }\n}\n@media (min-width: 768px) {\n  .list-group-horizontal-md {\n    flex-direction: row;\n  }\n  .list-group-horizontal-md > .list-group-item:first-child {\n    border-bottom-left-radius: 0.25rem;\n    border-top-right-radius: 0;\n  }\n  .list-group-horizontal-md > .list-group-item:last-child {\n    border-top-right-radius: 0.25rem;\n    border-bottom-left-radius: 0;\n  }\n  .list-group-horizontal-md > .list-group-item.active {\n    margin-top: 0;\n  }\n  .list-group-horizontal-md > .list-group-item + .list-group-item {\n    border-top-width: 1px;\n    border-left-width: 0;\n  }\n  .list-group-horizontal-md > .list-group-item + .list-group-item.active {\n    margin-left: -1px;\n    border-left-width: 1px;\n  }\n}\n@media (min-width: 992px) {\n  .list-group-horizontal-lg {\n    flex-direction: row;\n  }\n  .list-group-horizontal-lg > .list-group-item:first-child {\n    border-bottom-left-radius: 0.25rem;\n    border-top-right-radius: 0;\n  }\n  .list-group-horizontal-lg > .list-group-item:last-child {\n    border-top-right-radius: 0.25rem;\n    border-bottom-left-radius: 0;\n  }\n  .list-group-horizontal-lg > .list-group-item.active {\n    margin-top: 0;\n  }\n  .list-group-horizontal-lg > .list-group-item + .list-group-item {\n    border-top-width: 1px;\n    border-left-width: 0;\n  }\n  .list-group-horizontal-lg > .list-group-item + .list-group-item.active {\n    margin-left: -1px;\n    border-left-width: 1px;\n  }\n}\n@media (min-width: 1200px) {\n  .list-group-horizontal-xl {\n    flex-direction: row;\n  }\n  .list-group-horizontal-xl > .list-group-item:first-child {\n    border-bottom-left-radius: 0.25rem;\n    border-top-right-radius: 0;\n  }\n  .list-group-horizontal-xl > .list-group-item:last-child {\n    border-top-right-radius: 0.25rem;\n    border-bottom-left-radius: 0;\n  }\n  .list-group-horizontal-xl > .list-group-item.active {\n    margin-top: 0;\n  }\n  .list-group-horizontal-xl > .list-group-item + .list-group-item {\n    border-top-width: 1px;\n    border-left-width: 0;\n  }\n  .list-group-horizontal-xl > .list-group-item + .list-group-item.active {\n    margin-left: -1px;\n    border-left-width: 1px;\n  }\n}\n@media (min-width: 1400px) {\n  .list-group-horizontal-xxl {\n    flex-direction: row;\n  }\n  .list-group-horizontal-xxl > .list-group-item:first-child {\n    border-bottom-left-radius: 0.25rem;\n    border-top-right-radius: 0;\n  }\n  .list-group-horizontal-xxl > .list-group-item:last-child {\n    border-top-right-radius: 0.25rem;\n    border-bottom-left-radius: 0;\n  }\n  .list-group-horizontal-xxl > .list-group-item.active {\n    margin-top: 0;\n  }\n  .list-group-horizontal-xxl > .list-group-item + .list-group-item {\n    border-top-width: 1px;\n    border-left-width: 0;\n  }\n  .list-group-horizontal-xxl > .list-group-item + .list-group-item.active {\n    margin-left: -1px;\n    border-left-width: 1px;\n  }\n}\n.list-group-flush {\n  border-radius: 0;\n}\n.list-group-flush > .list-group-item {\n  border-width: 0 0 1px;\n}\n.list-group-flush > .list-group-item:last-child {\n  border-bottom-width: 0;\n}\n\n.list-group-item-primary {\n  color: #084298;\n  background-color: #cfe2ff;\n}\n.list-group-item-primary.list-group-item-action:hover, .list-group-item-primary.list-group-item-action:focus {\n  color: #084298;\n  background-color: #bacbe6;\n}\n.list-group-item-primary.list-group-item-action.active {\n  color: #fff;\n  background-color: #084298;\n  border-color: #084298;\n}\n\n.list-group-item-secondary {\n  color: #41464b;\n  background-color: #e2e3e5;\n}\n.list-group-item-secondary.list-group-item-action:hover, .list-group-item-secondary.list-group-item-action:focus {\n  color: #41464b;\n  background-color: #cbccce;\n}\n.list-group-item-secondary.list-group-item-action.active {\n  color: #fff;\n  background-color: #41464b;\n  border-color: #41464b;\n}\n\n.list-group-item-success {\n  color: #0f5132;\n  background-color: #d1e7dd;\n}\n.list-group-item-success.list-group-item-action:hover, .list-group-item-success.list-group-item-action:focus {\n  color: #0f5132;\n  background-color: #bcd0c7;\n}\n.list-group-item-success.list-group-item-action.active {\n  color: #fff;\n  background-color: #0f5132;\n  border-color: #0f5132;\n}\n\n.list-group-item-info {\n  color: #055160;\n  background-color: #cff4fc;\n}\n.list-group-item-info.list-group-item-action:hover, .list-group-item-info.list-group-item-action:focus {\n  color: #055160;\n  background-color: #badce3;\n}\n.list-group-item-info.list-group-item-action.active {\n  color: #fff;\n  background-color: #055160;\n  border-color: #055160;\n}\n\n.list-group-item-warning {\n  color: #664d03;\n  background-color: #fff3cd;\n}\n.list-group-item-warning.list-group-item-action:hover, .list-group-item-warning.list-group-item-action:focus {\n  color: #664d03;\n  background-color: #e6dbb9;\n}\n.list-group-item-warning.list-group-item-action.active {\n  color: #fff;\n  background-color: #664d03;\n  border-color: #664d03;\n}\n\n.list-group-item-danger {\n  color: #842029;\n  background-color: #f8d7da;\n}\n.list-group-item-danger.list-group-item-action:hover, .list-group-item-danger.list-group-item-action:focus {\n  color: #842029;\n  background-color: #dfc2c4;\n}\n.list-group-item-danger.list-group-item-action.active {\n  color: #fff;\n  background-color: #842029;\n  border-color: #842029;\n}\n\n.list-group-item-light {\n  color: #636464;\n  background-color: #fefefe;\n}\n.list-group-item-light.list-group-item-action:hover, .list-group-item-light.list-group-item-action:focus {\n  color: #636464;\n  background-color: #e5e5e5;\n}\n.list-group-item-light.list-group-item-action.active {\n  color: #fff;\n  background-color: #636464;\n  border-color: #636464;\n}\n\n.list-group-item-dark {\n  color: #141619;\n  background-color: #d3d3d4;\n}\n.list-group-item-dark.list-group-item-action:hover, .list-group-item-dark.list-group-item-action:focus {\n  color: #141619;\n  background-color: #bebebf;\n}\n.list-group-item-dark.list-group-item-action.active {\n  color: #fff;\n  background-color: #141619;\n  border-color: #141619;\n}\n\n.btn-close {\n  box-sizing: content-box;\n  width: 1em;\n  height: 1em;\n  padding: 0.25em 0.25em;\n  color: #000;\n  background: transparent url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\") center/1em auto no-repeat;\n  border: 0;\n  border-radius: 0.25rem;\n  opacity: 0.5;\n}\n.btn-close:hover {\n  color: #000;\n  text-decoration: none;\n  opacity: 0.75;\n}\n.btn-close:focus {\n  outline: 0;\n  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);\n  opacity: 1;\n}\n.btn-close:disabled, .btn-close.disabled {\n  pointer-events: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  opacity: 0.25;\n}\n\n.btn-close-white {\n  filter: invert(1) grayscale(100%) brightness(200%);\n}\n\n.toast {\n  width: 350px;\n  max-width: 100%;\n  font-size: 0.875rem;\n  pointer-events: auto;\n  background-color: rgba(255, 255, 255, 0.85);\n  background-clip: padding-box;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);\n  border-radius: 0.25rem;\n}\n.toast.showing {\n  opacity: 0;\n}\n.toast:not(.show) {\n  display: none;\n}\n\n.toast-container {\n  width: -webkit-max-content;\n  width: -moz-max-content;\n  width: max-content;\n  max-width: 100%;\n  pointer-events: none;\n}\n.toast-container > :not(:last-child) {\n  margin-bottom: 0.75rem;\n}\n\n.toast-header {\n  display: flex;\n  align-items: center;\n  padding: 0.5rem 0.75rem;\n  color: #6c757d;\n  background-color: rgba(255, 255, 255, 0.85);\n  background-clip: padding-box;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  border-top-left-radius: calc(0.25rem - 1px);\n  border-top-right-radius: calc(0.25rem - 1px);\n}\n.toast-header .btn-close {\n  margin-right: -0.375rem;\n  margin-left: 0.75rem;\n}\n\n.toast-body {\n  padding: 0.75rem;\n  word-wrap: break-word;\n}\n\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1055;\n  display: none;\n  width: 100%;\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n  outline: 0;\n}\n\n.modal-dialog {\n  position: relative;\n  width: auto;\n  margin: 0.5rem;\n  pointer-events: none;\n}\n.modal.fade .modal-dialog {\n  transition: transform 0.3s ease-out;\n  transform: translate(0, -50px);\n}\n@media (prefers-reduced-motion: reduce) {\n  .modal.fade .modal-dialog {\n    transition: none;\n  }\n}\n.modal.show .modal-dialog {\n  transform: none;\n}\n.modal.modal-static .modal-dialog {\n  transform: scale(1.02);\n}\n\n.modal-dialog-scrollable {\n  height: calc(100% - 1rem);\n}\n.modal-dialog-scrollable .modal-content {\n  max-height: 100%;\n  overflow: hidden;\n}\n.modal-dialog-scrollable .modal-body {\n  overflow-y: auto;\n}\n\n.modal-dialog-centered {\n  display: flex;\n  align-items: center;\n  min-height: calc(100% - 1rem);\n}\n\n.modal-content {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  pointer-events: auto;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 0.3rem;\n  outline: 0;\n}\n\n.modal-backdrop {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1050;\n  width: 100vw;\n  height: 100vh;\n  background-color: #000;\n}\n.modal-backdrop.fade {\n  opacity: 0;\n}\n.modal-backdrop.show {\n  opacity: 0.5;\n}\n\n.modal-header {\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 1rem;\n  border-bottom: 1px solid #dee2e6;\n  border-top-left-radius: calc(0.3rem - 1px);\n  border-top-right-radius: calc(0.3rem - 1px);\n}\n.modal-header .btn-close {\n  padding: 0.5rem 0.5rem;\n  margin: -0.5rem -0.5rem -0.5rem auto;\n}\n\n.modal-title {\n  margin-bottom: 0;\n  line-height: 1.5;\n}\n\n.modal-body {\n  position: relative;\n  flex: 1 1 auto;\n  padding: 1rem;\n}\n\n.modal-footer {\n  display: flex;\n  flex-wrap: wrap;\n  flex-shrink: 0;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 0.75rem;\n  border-top: 1px solid #dee2e6;\n  border-bottom-right-radius: calc(0.3rem - 1px);\n  border-bottom-left-radius: calc(0.3rem - 1px);\n}\n.modal-footer > * {\n  margin: 0.25rem;\n}\n\n@media (min-width: 576px) {\n  .modal-dialog {\n    max-width: 500px;\n    margin: 1.75rem auto;\n  }\n\n  .modal-dialog-scrollable {\n    height: calc(100% - 3.5rem);\n  }\n\n  .modal-dialog-centered {\n    min-height: calc(100% - 3.5rem);\n  }\n\n  .modal-sm {\n    max-width: 300px;\n  }\n}\n@media (min-width: 992px) {\n  .modal-lg,\n.modal-xl {\n    max-width: 800px;\n  }\n}\n@media (min-width: 1200px) {\n  .modal-xl {\n    max-width: 1140px;\n  }\n}\n.modal-fullscreen {\n  width: 100vw;\n  max-width: none;\n  height: 100%;\n  margin: 0;\n}\n.modal-fullscreen .modal-content {\n  height: 100%;\n  border: 0;\n  border-radius: 0;\n}\n.modal-fullscreen .modal-header {\n  border-radius: 0;\n}\n.modal-fullscreen .modal-body {\n  overflow-y: auto;\n}\n.modal-fullscreen .modal-footer {\n  border-radius: 0;\n}\n\n@media (max-width: 575.98px) {\n  .modal-fullscreen-sm-down {\n    width: 100vw;\n    max-width: none;\n    height: 100%;\n    margin: 0;\n  }\n  .modal-fullscreen-sm-down .modal-content {\n    height: 100%;\n    border: 0;\n    border-radius: 0;\n  }\n  .modal-fullscreen-sm-down .modal-header {\n    border-radius: 0;\n  }\n  .modal-fullscreen-sm-down .modal-body {\n    overflow-y: auto;\n  }\n  .modal-fullscreen-sm-down .modal-footer {\n    border-radius: 0;\n  }\n}\n@media (max-width: 767.98px) {\n  .modal-fullscreen-md-down {\n    width: 100vw;\n    max-width: none;\n    height: 100%;\n    margin: 0;\n  }\n  .modal-fullscreen-md-down .modal-content {\n    height: 100%;\n    border: 0;\n    border-radius: 0;\n  }\n  .modal-fullscreen-md-down .modal-header {\n    border-radius: 0;\n  }\n  .modal-fullscreen-md-down .modal-body {\n    overflow-y: auto;\n  }\n  .modal-fullscreen-md-down .modal-footer {\n    border-radius: 0;\n  }\n}\n@media (max-width: 991.98px) {\n  .modal-fullscreen-lg-down {\n    width: 100vw;\n    max-width: none;\n    height: 100%;\n    margin: 0;\n  }\n  .modal-fullscreen-lg-down .modal-content {\n    height: 100%;\n    border: 0;\n    border-radius: 0;\n  }\n  .modal-fullscreen-lg-down .modal-header {\n    border-radius: 0;\n  }\n  .modal-fullscreen-lg-down .modal-body {\n    overflow-y: auto;\n  }\n  .modal-fullscreen-lg-down .modal-footer {\n    border-radius: 0;\n  }\n}\n@media (max-width: 1199.98px) {\n  .modal-fullscreen-xl-down {\n    width: 100vw;\n    max-width: none;\n    height: 100%;\n    margin: 0;\n  }\n  .modal-fullscreen-xl-down .modal-content {\n    height: 100%;\n    border: 0;\n    border-radius: 0;\n  }\n  .modal-fullscreen-xl-down .modal-header {\n    border-radius: 0;\n  }\n  .modal-fullscreen-xl-down .modal-body {\n    overflow-y: auto;\n  }\n  .modal-fullscreen-xl-down .modal-footer {\n    border-radius: 0;\n  }\n}\n@media (max-width: 1399.98px) {\n  .modal-fullscreen-xxl-down {\n    width: 100vw;\n    max-width: none;\n    height: 100%;\n    margin: 0;\n  }\n  .modal-fullscreen-xxl-down .modal-content {\n    height: 100%;\n    border: 0;\n    border-radius: 0;\n  }\n  .modal-fullscreen-xxl-down .modal-header {\n    border-radius: 0;\n  }\n  .modal-fullscreen-xxl-down .modal-body {\n    overflow-y: auto;\n  }\n  .modal-fullscreen-xxl-down .modal-footer {\n    border-radius: 0;\n  }\n}\n.tooltip {\n  position: absolute;\n  z-index: 1080;\n  display: block;\n  margin: 0;\n  font-family: var(--bs-font-sans-serif);\n  font-style: normal;\n  font-weight: 400;\n  line-height: 1.5;\n  text-align: left;\n  text-align: start;\n  text-decoration: none;\n  text-shadow: none;\n  text-transform: none;\n  letter-spacing: normal;\n  word-break: normal;\n  word-spacing: normal;\n  white-space: normal;\n  line-break: auto;\n  font-size: 0.875rem;\n  word-wrap: break-word;\n  opacity: 0;\n}\n.tooltip.show {\n  opacity: 0.9;\n}\n.tooltip .tooltip-arrow {\n  position: absolute;\n  display: block;\n  width: 0.8rem;\n  height: 0.4rem;\n}\n.tooltip .tooltip-arrow::before {\n  position: absolute;\n  content: \"\";\n  border-color: transparent;\n  border-style: solid;\n}\n\n.bs-tooltip-top, .bs-tooltip-auto[data-popper-placement^=top] {\n  padding: 0.4rem 0;\n}\n.bs-tooltip-top .tooltip-arrow, .bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow {\n  bottom: 0;\n}\n.bs-tooltip-top .tooltip-arrow::before, .bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow::before {\n  top: -1px;\n  border-width: 0.4rem 0.4rem 0;\n  border-top-color: #000;\n}\n\n.bs-tooltip-end, .bs-tooltip-auto[data-popper-placement^=right] {\n  padding: 0 0.4rem;\n}\n.bs-tooltip-end .tooltip-arrow, .bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow {\n  left: 0;\n  width: 0.4rem;\n  height: 0.8rem;\n}\n.bs-tooltip-end .tooltip-arrow::before, .bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow::before {\n  right: -1px;\n  border-width: 0.4rem 0.4rem 0.4rem 0;\n  border-right-color: #000;\n}\n\n.bs-tooltip-bottom, .bs-tooltip-auto[data-popper-placement^=bottom] {\n  padding: 0.4rem 0;\n}\n.bs-tooltip-bottom .tooltip-arrow, .bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow {\n  top: 0;\n}\n.bs-tooltip-bottom .tooltip-arrow::before, .bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow::before {\n  bottom: -1px;\n  border-width: 0 0.4rem 0.4rem;\n  border-bottom-color: #000;\n}\n\n.bs-tooltip-start, .bs-tooltip-auto[data-popper-placement^=left] {\n  padding: 0 0.4rem;\n}\n.bs-tooltip-start .tooltip-arrow, .bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow {\n  right: 0;\n  width: 0.4rem;\n  height: 0.8rem;\n}\n.bs-tooltip-start .tooltip-arrow::before, .bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow::before {\n  left: -1px;\n  border-width: 0.4rem 0 0.4rem 0.4rem;\n  border-left-color: #000;\n}\n\n.tooltip-inner {\n  max-width: 200px;\n  padding: 0.25rem 0.5rem;\n  color: #fff;\n  text-align: center;\n  background-color: #000;\n  border-radius: 0.25rem;\n}\n\n.popover {\n  position: absolute;\n  top: 0;\n  left: 0 /* rtl:ignore */;\n  z-index: 1070;\n  display: block;\n  max-width: 276px;\n  font-family: var(--bs-font-sans-serif);\n  font-style: normal;\n  font-weight: 400;\n  line-height: 1.5;\n  text-align: left;\n  text-align: start;\n  text-decoration: none;\n  text-shadow: none;\n  text-transform: none;\n  letter-spacing: normal;\n  word-break: normal;\n  word-spacing: normal;\n  white-space: normal;\n  line-break: auto;\n  font-size: 0.875rem;\n  word-wrap: break-word;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 0.3rem;\n}\n.popover .popover-arrow {\n  position: absolute;\n  display: block;\n  width: 1rem;\n  height: 0.5rem;\n}\n.popover .popover-arrow::before, .popover .popover-arrow::after {\n  position: absolute;\n  display: block;\n  content: \"\";\n  border-color: transparent;\n  border-style: solid;\n}\n\n.bs-popover-top > .popover-arrow, .bs-popover-auto[data-popper-placement^=top] > .popover-arrow {\n  bottom: calc(-0.5rem - 1px);\n}\n.bs-popover-top > .popover-arrow::before, .bs-popover-auto[data-popper-placement^=top] > .popover-arrow::before {\n  bottom: 0;\n  border-width: 0.5rem 0.5rem 0;\n  border-top-color: rgba(0, 0, 0, 0.25);\n}\n.bs-popover-top > .popover-arrow::after, .bs-popover-auto[data-popper-placement^=top] > .popover-arrow::after {\n  bottom: 1px;\n  border-width: 0.5rem 0.5rem 0;\n  border-top-color: #fff;\n}\n\n.bs-popover-end > .popover-arrow, .bs-popover-auto[data-popper-placement^=right] > .popover-arrow {\n  left: calc(-0.5rem - 1px);\n  width: 0.5rem;\n  height: 1rem;\n}\n.bs-popover-end > .popover-arrow::before, .bs-popover-auto[data-popper-placement^=right] > .popover-arrow::before {\n  left: 0;\n  border-width: 0.5rem 0.5rem 0.5rem 0;\n  border-right-color: rgba(0, 0, 0, 0.25);\n}\n.bs-popover-end > .popover-arrow::after, .bs-popover-auto[data-popper-placement^=right] > .popover-arrow::after {\n  left: 1px;\n  border-width: 0.5rem 0.5rem 0.5rem 0;\n  border-right-color: #fff;\n}\n\n.bs-popover-bottom > .popover-arrow, .bs-popover-auto[data-popper-placement^=bottom] > .popover-arrow {\n  top: calc(-0.5rem - 1px);\n}\n.bs-popover-bottom > .popover-arrow::before, .bs-popover-auto[data-popper-placement^=bottom] > .popover-arrow::before {\n  top: 0;\n  border-width: 0 0.5rem 0.5rem 0.5rem;\n  border-bottom-color: rgba(0, 0, 0, 0.25);\n}\n.bs-popover-bottom > .popover-arrow::after, .bs-popover-auto[data-popper-placement^=bottom] > .popover-arrow::after {\n  top: 1px;\n  border-width: 0 0.5rem 0.5rem 0.5rem;\n  border-bottom-color: #fff;\n}\n.bs-popover-bottom .popover-header::before, .bs-popover-auto[data-popper-placement^=bottom] .popover-header::before {\n  position: absolute;\n  top: 0;\n  left: 50%;\n  display: block;\n  width: 1rem;\n  margin-left: -0.5rem;\n  content: \"\";\n  border-bottom: 1px solid #f0f0f0;\n}\n\n.bs-popover-start > .popover-arrow, .bs-popover-auto[data-popper-placement^=left] > .popover-arrow {\n  right: calc(-0.5rem - 1px);\n  width: 0.5rem;\n  height: 1rem;\n}\n.bs-popover-start > .popover-arrow::before, .bs-popover-auto[data-popper-placement^=left] > .popover-arrow::before {\n  right: 0;\n  border-width: 0.5rem 0 0.5rem 0.5rem;\n  border-left-color: rgba(0, 0, 0, 0.25);\n}\n.bs-popover-start > .popover-arrow::after, .bs-popover-auto[data-popper-placement^=left] > .popover-arrow::after {\n  right: 1px;\n  border-width: 0.5rem 0 0.5rem 0.5rem;\n  border-left-color: #fff;\n}\n\n.popover-header {\n  padding: 0.5rem 1rem;\n  margin-bottom: 0;\n  font-size: 1rem;\n  background-color: #f0f0f0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  border-top-left-radius: calc(0.3rem - 1px);\n  border-top-right-radius: calc(0.3rem - 1px);\n}\n.popover-header:empty {\n  display: none;\n}\n\n.popover-body {\n  padding: 1rem 1rem;\n  color: #212529;\n}\n\n.carousel {\n  position: relative;\n}\n\n.carousel.pointer-event {\n  touch-action: pan-y;\n}\n\n.carousel-inner {\n  position: relative;\n  width: 100%;\n  overflow: hidden;\n}\n.carousel-inner::after {\n  display: block;\n  clear: both;\n  content: \"\";\n}\n\n.carousel-item {\n  position: relative;\n  display: none;\n  float: left;\n  width: 100%;\n  margin-right: -100%;\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  transition: transform 0.6s ease-in-out;\n}\n@media (prefers-reduced-motion: reduce) {\n  .carousel-item {\n    transition: none;\n  }\n}\n\n.carousel-item.active,\n.carousel-item-next,\n.carousel-item-prev {\n  display: block;\n}\n\n/* rtl:begin:ignore */\n.carousel-item-next:not(.carousel-item-start),\n.active.carousel-item-end {\n  transform: translateX(100%);\n}\n\n.carousel-item-prev:not(.carousel-item-end),\n.active.carousel-item-start {\n  transform: translateX(-100%);\n}\n\n/* rtl:end:ignore */\n.carousel-fade .carousel-item {\n  opacity: 0;\n  transition-property: opacity;\n  transform: none;\n}\n.carousel-fade .carousel-item.active,\n.carousel-fade .carousel-item-next.carousel-item-start,\n.carousel-fade .carousel-item-prev.carousel-item-end {\n  z-index: 1;\n  opacity: 1;\n}\n.carousel-fade .active.carousel-item-start,\n.carousel-fade .active.carousel-item-end {\n  z-index: 0;\n  opacity: 0;\n  transition: opacity 0s 0.6s;\n}\n@media (prefers-reduced-motion: reduce) {\n  .carousel-fade .active.carousel-item-start,\n.carousel-fade .active.carousel-item-end {\n    transition: none;\n  }\n}\n\n.carousel-control-prev,\n.carousel-control-next {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 15%;\n  padding: 0;\n  color: #fff;\n  text-align: center;\n  background: none;\n  border: 0;\n  opacity: 0.5;\n  transition: opacity 0.15s ease;\n}\n@media (prefers-reduced-motion: reduce) {\n  .carousel-control-prev,\n.carousel-control-next {\n    transition: none;\n  }\n}\n.carousel-control-prev:hover, .carousel-control-prev:focus,\n.carousel-control-next:hover,\n.carousel-control-next:focus {\n  color: #fff;\n  text-decoration: none;\n  outline: 0;\n  opacity: 0.9;\n}\n\n.carousel-control-prev {\n  left: 0;\n}\n\n.carousel-control-next {\n  right: 0;\n}\n\n.carousel-control-prev-icon,\n.carousel-control-next-icon {\n  display: inline-block;\n  width: 2rem;\n  height: 2rem;\n  background-repeat: no-repeat;\n  background-position: 50%;\n  background-size: 100% 100%;\n}\n\n/* rtl:options: {\n  \"autoRename\": true,\n  \"stringMap\":[ {\n    \"name\"    : \"prev-next\",\n    \"search\"  : \"prev\",\n    \"replace\" : \"next\"\n  } ]\n} */\n.carousel-control-prev-icon {\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z'/%3e%3c/svg%3e\");\n}\n\n.carousel-control-next-icon {\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\");\n}\n\n.carousel-indicators {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 2;\n  display: flex;\n  justify-content: center;\n  padding: 0;\n  margin-right: 15%;\n  margin-bottom: 1rem;\n  margin-left: 15%;\n  list-style: none;\n}\n.carousel-indicators [data-bs-target] {\n  box-sizing: content-box;\n  flex: 0 1 auto;\n  width: 30px;\n  height: 3px;\n  padding: 0;\n  margin-right: 3px;\n  margin-left: 3px;\n  text-indent: -999px;\n  cursor: pointer;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 0;\n  border-top: 10px solid transparent;\n  border-bottom: 10px solid transparent;\n  opacity: 0.5;\n  transition: opacity 0.6s ease;\n}\n@media (prefers-reduced-motion: reduce) {\n  .carousel-indicators [data-bs-target] {\n    transition: none;\n  }\n}\n.carousel-indicators .active {\n  opacity: 1;\n}\n\n.carousel-caption {\n  position: absolute;\n  right: 15%;\n  bottom: 1.25rem;\n  left: 15%;\n  padding-top: 1.25rem;\n  padding-bottom: 1.25rem;\n  color: #fff;\n  text-align: center;\n}\n\n.carousel-dark .carousel-control-prev-icon,\n.carousel-dark .carousel-control-next-icon {\n  filter: invert(1) grayscale(100);\n}\n.carousel-dark .carousel-indicators [data-bs-target] {\n  background-color: #000;\n}\n.carousel-dark .carousel-caption {\n  color: #000;\n}\n\n@-webkit-keyframes spinner-border {\n  to {\n    transform: rotate(360deg) /* rtl:ignore */;\n  }\n}\n\n@keyframes spinner-border {\n  to {\n    transform: rotate(360deg) /* rtl:ignore */;\n  }\n}\n.spinner-border {\n  display: inline-block;\n  width: 2rem;\n  height: 2rem;\n  vertical-align: -0.125em;\n  border: 0.25em solid currentColor;\n  border-right-color: transparent;\n  border-radius: 50%;\n  -webkit-animation: 0.75s linear infinite spinner-border;\n  animation: 0.75s linear infinite spinner-border;\n}\n\n.spinner-border-sm {\n  width: 1rem;\n  height: 1rem;\n  border-width: 0.2em;\n}\n\n@-webkit-keyframes spinner-grow {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    opacity: 1;\n    transform: none;\n  }\n}\n\n@keyframes spinner-grow {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    opacity: 1;\n    transform: none;\n  }\n}\n.spinner-grow {\n  display: inline-block;\n  width: 2rem;\n  height: 2rem;\n  vertical-align: -0.125em;\n  background-color: currentColor;\n  border-radius: 50%;\n  opacity: 0;\n  -webkit-animation: 0.75s linear infinite spinner-grow;\n  animation: 0.75s linear infinite spinner-grow;\n}\n\n.spinner-grow-sm {\n  width: 1rem;\n  height: 1rem;\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .spinner-border,\n.spinner-grow {\n    -webkit-animation-duration: 1.5s;\n    animation-duration: 1.5s;\n  }\n}\n.offcanvas {\n  position: fixed;\n  bottom: 0;\n  z-index: 1045;\n  display: flex;\n  flex-direction: column;\n  max-width: 100%;\n  visibility: hidden;\n  background-color: #fff;\n  background-clip: padding-box;\n  outline: 0;\n  transition: transform 0.3s ease-in-out;\n}\n@media (prefers-reduced-motion: reduce) {\n  .offcanvas {\n    transition: none;\n  }\n}\n\n.offcanvas-backdrop {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1040;\n  width: 100vw;\n  height: 100vh;\n  background-color: #000;\n}\n.offcanvas-backdrop.fade {\n  opacity: 0;\n}\n.offcanvas-backdrop.show {\n  opacity: 0.5;\n}\n\n.offcanvas-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 1rem;\n}\n.offcanvas-header .btn-close {\n  padding: 0.5rem 0.5rem;\n  margin-top: -0.5rem;\n  margin-right: -0.5rem;\n  margin-bottom: -0.5rem;\n}\n\n.offcanvas-title {\n  margin-bottom: 0;\n  line-height: 1.5;\n}\n\n.offcanvas-body {\n  flex-grow: 1;\n  padding: 1rem 1rem;\n  overflow-y: auto;\n}\n\n.offcanvas-start {\n  top: 0;\n  left: 0;\n  width: 400px;\n  border-right: 1px solid rgba(0, 0, 0, 0.2);\n  transform: translateX(-100%);\n}\n\n.offcanvas-end {\n  top: 0;\n  right: 0;\n  width: 400px;\n  border-left: 1px solid rgba(0, 0, 0, 0.2);\n  transform: translateX(100%);\n}\n\n.offcanvas-top {\n  top: 0;\n  right: 0;\n  left: 0;\n  height: 30vh;\n  max-height: 100%;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  transform: translateY(-100%);\n}\n\n.offcanvas-bottom {\n  right: 0;\n  left: 0;\n  height: 30vh;\n  max-height: 100%;\n  border-top: 1px solid rgba(0, 0, 0, 0.2);\n  transform: translateY(100%);\n}\n\n.offcanvas.show {\n  transform: none;\n}\n\n.placeholder {\n  display: inline-block;\n  min-height: 1em;\n  vertical-align: middle;\n  cursor: wait;\n  background-color: currentColor;\n  opacity: 0.5;\n}\n.placeholder.btn::before {\n  display: inline-block;\n  content: \"\";\n}\n\n.placeholder-xs {\n  min-height: 0.6em;\n}\n\n.placeholder-sm {\n  min-height: 0.8em;\n}\n\n.placeholder-lg {\n  min-height: 1.2em;\n}\n\n.placeholder-glow .placeholder {\n  -webkit-animation: placeholder-glow 2s ease-in-out infinite;\n  animation: placeholder-glow 2s ease-in-out infinite;\n}\n\n@-webkit-keyframes placeholder-glow {\n  50% {\n    opacity: 0.2;\n  }\n}\n\n@keyframes placeholder-glow {\n  50% {\n    opacity: 0.2;\n  }\n}\n.placeholder-wave {\n  -webkit-mask-image: linear-gradient(130deg, #000 55%, rgba(0, 0, 0, 0.8) 75%, #000 95%);\n  mask-image: linear-gradient(130deg, #000 55%, rgba(0, 0, 0, 0.8) 75%, #000 95%);\n  -webkit-mask-size: 200% 100%;\n  mask-size: 200% 100%;\n  -webkit-animation: placeholder-wave 2s linear infinite;\n  animation: placeholder-wave 2s linear infinite;\n}\n\n@-webkit-keyframes placeholder-wave {\n  100% {\n    -webkit-mask-position: -200% 0%;\n    mask-position: -200% 0%;\n  }\n}\n\n@keyframes placeholder-wave {\n  100% {\n    -webkit-mask-position: -200% 0%;\n    mask-position: -200% 0%;\n  }\n}\n.clearfix::after {\n  display: block;\n  clear: both;\n  content: \"\";\n}\n\n.link-primary {\n  color: #0d6efd;\n}\n.link-primary:hover, .link-primary:focus {\n  color: #0a58ca;\n}\n\n.link-secondary {\n  color: #6c757d;\n}\n.link-secondary:hover, .link-secondary:focus {\n  color: #565e64;\n}\n\n.link-success {\n  color: #198754;\n}\n.link-success:hover, .link-success:focus {\n  color: #146c43;\n}\n\n.link-info {\n  color: #0dcaf0;\n}\n.link-info:hover, .link-info:focus {\n  color: #3dd5f3;\n}\n\n.link-warning {\n  color: #ffc107;\n}\n.link-warning:hover, .link-warning:focus {\n  color: #ffcd39;\n}\n\n.link-danger {\n  color: #dc3545;\n}\n.link-danger:hover, .link-danger:focus {\n  color: #b02a37;\n}\n\n.link-light {\n  color: #f8f9fa;\n}\n.link-light:hover, .link-light:focus {\n  color: #f9fafb;\n}\n\n.link-dark {\n  color: #212529;\n}\n.link-dark:hover, .link-dark:focus {\n  color: #1a1e21;\n}\n\n.ratio {\n  position: relative;\n  width: 100%;\n}\n.ratio::before {\n  display: block;\n  padding-top: var(--bs-aspect-ratio);\n  content: \"\";\n}\n.ratio > * {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.ratio-1x1 {\n  --bs-aspect-ratio: 100%;\n}\n\n.ratio-4x3 {\n  --bs-aspect-ratio: calc(3 / 4 * 100%);\n}\n\n.ratio-16x9 {\n  --bs-aspect-ratio: calc(9 / 16 * 100%);\n}\n\n.ratio-21x9 {\n  --bs-aspect-ratio: calc(9 / 21 * 100%);\n}\n\n.fixed-top {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  z-index: 1030;\n}\n\n.fixed-bottom {\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1030;\n}\n\n.sticky-top {\n  position: -webkit-sticky;\n  position: sticky;\n  top: 0;\n  z-index: 1020;\n}\n\n@media (min-width: 576px) {\n  .sticky-sm-top {\n    position: -webkit-sticky;\n    position: sticky;\n    top: 0;\n    z-index: 1020;\n  }\n}\n@media (min-width: 768px) {\n  .sticky-md-top {\n    position: -webkit-sticky;\n    position: sticky;\n    top: 0;\n    z-index: 1020;\n  }\n}\n@media (min-width: 992px) {\n  .sticky-lg-top {\n    position: -webkit-sticky;\n    position: sticky;\n    top: 0;\n    z-index: 1020;\n  }\n}\n@media (min-width: 1200px) {\n  .sticky-xl-top {\n    position: -webkit-sticky;\n    position: sticky;\n    top: 0;\n    z-index: 1020;\n  }\n}\n@media (min-width: 1400px) {\n  .sticky-xxl-top {\n    position: -webkit-sticky;\n    position: sticky;\n    top: 0;\n    z-index: 1020;\n  }\n}\n.hstack {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  align-self: stretch;\n}\n\n.vstack {\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  align-self: stretch;\n}\n\n.visually-hidden,\n.visually-hidden-focusable:not(:focus):not(:focus-within) {\n  position: absolute !important;\n  width: 1px !important;\n  height: 1px !important;\n  padding: 0 !important;\n  margin: -1px !important;\n  overflow: hidden !important;\n  clip: rect(0, 0, 0, 0) !important;\n  white-space: nowrap !important;\n  border: 0 !important;\n}\n\n.stretched-link::after {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n  content: \"\";\n}\n\n.text-truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.vr {\n  display: inline-block;\n  align-self: stretch;\n  width: 1px;\n  min-height: 1em;\n  background-color: currentColor;\n  opacity: 0.25;\n}\n\n.align-baseline {\n  vertical-align: baseline !important;\n}\n\n.align-top {\n  vertical-align: top !important;\n}\n\n.align-middle {\n  vertical-align: middle !important;\n}\n\n.align-bottom {\n  vertical-align: bottom !important;\n}\n\n.align-text-bottom {\n  vertical-align: text-bottom !important;\n}\n\n.align-text-top {\n  vertical-align: text-top !important;\n}\n\n.float-start {\n  float: left !important;\n}\n\n.float-end {\n  float: right !important;\n}\n\n.float-none {\n  float: none !important;\n}\n\n.opacity-0 {\n  opacity: 0 !important;\n}\n\n.opacity-25 {\n  opacity: 0.25 !important;\n}\n\n.opacity-50 {\n  opacity: 0.5 !important;\n}\n\n.opacity-75 {\n  opacity: 0.75 !important;\n}\n\n.opacity-100 {\n  opacity: 1 !important;\n}\n\n.overflow-auto {\n  overflow: auto !important;\n}\n\n.overflow-hidden {\n  overflow: hidden !important;\n}\n\n.overflow-visible {\n  overflow: visible !important;\n}\n\n.overflow-scroll {\n  overflow: scroll !important;\n}\n\n.d-inline {\n  display: inline !important;\n}\n\n.d-inline-block {\n  display: inline-block !important;\n}\n\n.d-block {\n  display: block !important;\n}\n\n.d-grid {\n  display: grid !important;\n}\n\n.d-table {\n  display: table !important;\n}\n\n.d-table-row {\n  display: table-row !important;\n}\n\n.d-table-cell {\n  display: table-cell !important;\n}\n\n.d-flex {\n  display: flex !important;\n}\n\n.d-inline-flex {\n  display: inline-flex !important;\n}\n\n.d-none {\n  display: none !important;\n}\n\n.shadow {\n  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\n}\n\n.shadow-sm {\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075) !important;\n}\n\n.shadow-lg {\n  box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.175) !important;\n}\n\n.shadow-none {\n  box-shadow: none !important;\n}\n\n.position-static {\n  position: static !important;\n}\n\n.position-relative {\n  position: relative !important;\n}\n\n.position-absolute {\n  position: absolute !important;\n}\n\n.position-fixed {\n  position: fixed !important;\n}\n\n.position-sticky {\n  position: -webkit-sticky !important;\n  position: sticky !important;\n}\n\n.top-0 {\n  top: 0 !important;\n}\n\n.top-50 {\n  top: 50% !important;\n}\n\n.top-100 {\n  top: 100% !important;\n}\n\n.bottom-0 {\n  bottom: 0 !important;\n}\n\n.bottom-50 {\n  bottom: 50% !important;\n}\n\n.bottom-100 {\n  bottom: 100% !important;\n}\n\n.start-0 {\n  left: 0 !important;\n}\n\n.start-50 {\n  left: 50% !important;\n}\n\n.start-100 {\n  left: 100% !important;\n}\n\n.end-0 {\n  right: 0 !important;\n}\n\n.end-50 {\n  right: 50% !important;\n}\n\n.end-100 {\n  right: 100% !important;\n}\n\n.translate-middle {\n  transform: translate(-50%, -50%) !important;\n}\n\n.translate-middle-x {\n  transform: translateX(-50%) !important;\n}\n\n.translate-middle-y {\n  transform: translateY(-50%) !important;\n}\n\n.border {\n  border: 1px solid #dee2e6 !important;\n}\n\n.border-0 {\n  border: 0 !important;\n}\n\n.border-top {\n  border-top: 1px solid #dee2e6 !important;\n}\n\n.border-top-0 {\n  border-top: 0 !important;\n}\n\n.border-end {\n  border-right: 1px solid #dee2e6 !important;\n}\n\n.border-end-0 {\n  border-right: 0 !important;\n}\n\n.border-bottom {\n  border-bottom: 1px solid #dee2e6 !important;\n}\n\n.border-bottom-0 {\n  border-bottom: 0 !important;\n}\n\n.border-start {\n  border-left: 1px solid #dee2e6 !important;\n}\n\n.border-start-0 {\n  border-left: 0 !important;\n}\n\n.border-primary {\n  border-color: #0d6efd !important;\n}\n\n.border-secondary {\n  border-color: #6c757d !important;\n}\n\n.border-success {\n  border-color: #198754 !important;\n}\n\n.border-info {\n  border-color: #0dcaf0 !important;\n}\n\n.border-warning {\n  border-color: #ffc107 !important;\n}\n\n.border-danger {\n  border-color: #dc3545 !important;\n}\n\n.border-light {\n  border-color: #f8f9fa !important;\n}\n\n.border-dark {\n  border-color: #212529 !important;\n}\n\n.border-white {\n  border-color: #fff !important;\n}\n\n.border-1 {\n  border-width: 1px !important;\n}\n\n.border-2 {\n  border-width: 2px !important;\n}\n\n.border-3 {\n  border-width: 3px !important;\n}\n\n.border-4 {\n  border-width: 4px !important;\n}\n\n.border-5 {\n  border-width: 5px !important;\n}\n\n.w-25 {\n  width: 25% !important;\n}\n\n.w-50 {\n  width: 50% !important;\n}\n\n.w-75 {\n  width: 75% !important;\n}\n\n.w-100 {\n  width: 100% !important;\n}\n\n.w-auto {\n  width: auto !important;\n}\n\n.mw-100 {\n  max-width: 100% !important;\n}\n\n.vw-100 {\n  width: 100vw !important;\n}\n\n.min-vw-100 {\n  min-width: 100vw !important;\n}\n\n.h-25 {\n  height: 25% !important;\n}\n\n.h-50 {\n  height: 50% !important;\n}\n\n.h-75 {\n  height: 75% !important;\n}\n\n.h-100 {\n  height: 100% !important;\n}\n\n.h-auto {\n  height: auto !important;\n}\n\n.mh-100 {\n  max-height: 100% !important;\n}\n\n.vh-100 {\n  height: 100vh !important;\n}\n\n.min-vh-100 {\n  min-height: 100vh !important;\n}\n\n.flex-fill {\n  flex: 1 1 auto !important;\n}\n\n.flex-row {\n  flex-direction: row !important;\n}\n\n.flex-column {\n  flex-direction: column !important;\n}\n\n.flex-row-reverse {\n  flex-direction: row-reverse !important;\n}\n\n.flex-column-reverse {\n  flex-direction: column-reverse !important;\n}\n\n.flex-grow-0 {\n  flex-grow: 0 !important;\n}\n\n.flex-grow-1 {\n  flex-grow: 1 !important;\n}\n\n.flex-shrink-0 {\n  flex-shrink: 0 !important;\n}\n\n.flex-shrink-1 {\n  flex-shrink: 1 !important;\n}\n\n.flex-wrap {\n  flex-wrap: wrap !important;\n}\n\n.flex-nowrap {\n  flex-wrap: nowrap !important;\n}\n\n.flex-wrap-reverse {\n  flex-wrap: wrap-reverse !important;\n}\n\n.gap-0 {\n  gap: 0 !important;\n}\n\n.gap-1 {\n  gap: 0.25rem !important;\n}\n\n.gap-2 {\n  gap: 0.5rem !important;\n}\n\n.gap-3 {\n  gap: 1rem !important;\n}\n\n.gap-4 {\n  gap: 1.5rem !important;\n}\n\n.gap-5 {\n  gap: 3rem !important;\n}\n\n.justify-content-start {\n  justify-content: flex-start !important;\n}\n\n.justify-content-end {\n  justify-content: flex-end !important;\n}\n\n.justify-content-center {\n  justify-content: center !important;\n}\n\n.justify-content-between {\n  justify-content: space-between !important;\n}\n\n.justify-content-around {\n  justify-content: space-around !important;\n}\n\n.justify-content-evenly {\n  justify-content: space-evenly !important;\n}\n\n.align-items-start {\n  align-items: flex-start !important;\n}\n\n.align-items-end {\n  align-items: flex-end !important;\n}\n\n.align-items-center {\n  align-items: center !important;\n}\n\n.align-items-baseline {\n  align-items: baseline !important;\n}\n\n.align-items-stretch {\n  align-items: stretch !important;\n}\n\n.align-content-start {\n  align-content: flex-start !important;\n}\n\n.align-content-end {\n  align-content: flex-end !important;\n}\n\n.align-content-center {\n  align-content: center !important;\n}\n\n.align-content-between {\n  align-content: space-between !important;\n}\n\n.align-content-around {\n  align-content: space-around !important;\n}\n\n.align-content-stretch {\n  align-content: stretch !important;\n}\n\n.align-self-auto {\n  align-self: auto !important;\n}\n\n.align-self-start {\n  align-self: flex-start !important;\n}\n\n.align-self-end {\n  align-self: flex-end !important;\n}\n\n.align-self-center {\n  align-self: center !important;\n}\n\n.align-self-baseline {\n  align-self: baseline !important;\n}\n\n.align-self-stretch {\n  align-self: stretch !important;\n}\n\n.order-first {\n  order: -1 !important;\n}\n\n.order-0 {\n  order: 0 !important;\n}\n\n.order-1 {\n  order: 1 !important;\n}\n\n.order-2 {\n  order: 2 !important;\n}\n\n.order-3 {\n  order: 3 !important;\n}\n\n.order-4 {\n  order: 4 !important;\n}\n\n.order-5 {\n  order: 5 !important;\n}\n\n.order-last {\n  order: 6 !important;\n}\n\n.m-0 {\n  margin: 0 !important;\n}\n\n.m-1 {\n  margin: 0.25rem !important;\n}\n\n.m-2 {\n  margin: 0.5rem !important;\n}\n\n.m-3 {\n  margin: 1rem !important;\n}\n\n.m-4 {\n  margin: 1.5rem !important;\n}\n\n.m-5 {\n  margin: 3rem !important;\n}\n\n.m-auto {\n  margin: auto !important;\n}\n\n.mx-0 {\n  margin-right: 0 !important;\n  margin-left: 0 !important;\n}\n\n.mx-1 {\n  margin-right: 0.25rem !important;\n  margin-left: 0.25rem !important;\n}\n\n.mx-2 {\n  margin-right: 0.5rem !important;\n  margin-left: 0.5rem !important;\n}\n\n.mx-3 {\n  margin-right: 1rem !important;\n  margin-left: 1rem !important;\n}\n\n.mx-4 {\n  margin-right: 1.5rem !important;\n  margin-left: 1.5rem !important;\n}\n\n.mx-5 {\n  margin-right: 3rem !important;\n  margin-left: 3rem !important;\n}\n\n.mx-auto {\n  margin-right: auto !important;\n  margin-left: auto !important;\n}\n\n.my-0 {\n  margin-top: 0 !important;\n  margin-bottom: 0 !important;\n}\n\n.my-1 {\n  margin-top: 0.25rem !important;\n  margin-bottom: 0.25rem !important;\n}\n\n.my-2 {\n  margin-top: 0.5rem !important;\n  margin-bottom: 0.5rem !important;\n}\n\n.my-3 {\n  margin-top: 1rem !important;\n  margin-bottom: 1rem !important;\n}\n\n.my-4 {\n  margin-top: 1.5rem !important;\n  margin-bottom: 1.5rem !important;\n}\n\n.my-5 {\n  margin-top: 3rem !important;\n  margin-bottom: 3rem !important;\n}\n\n.my-auto {\n  margin-top: auto !important;\n  margin-bottom: auto !important;\n}\n\n.mt-0 {\n  margin-top: 0 !important;\n}\n\n.mt-1 {\n  margin-top: 0.25rem !important;\n}\n\n.mt-2 {\n  margin-top: 0.5rem !important;\n}\n\n.mt-3 {\n  margin-top: 1rem !important;\n}\n\n.mt-4 {\n  margin-top: 1.5rem !important;\n}\n\n.mt-5 {\n  margin-top: 3rem !important;\n}\n\n.mt-auto {\n  margin-top: auto !important;\n}\n\n.me-0 {\n  margin-right: 0 !important;\n}\n\n.me-1 {\n  margin-right: 0.25rem !important;\n}\n\n.me-2 {\n  margin-right: 0.5rem !important;\n}\n\n.me-3 {\n  margin-right: 1rem !important;\n}\n\n.me-4 {\n  margin-right: 1.5rem !important;\n}\n\n.me-5 {\n  margin-right: 3rem !important;\n}\n\n.me-auto {\n  margin-right: auto !important;\n}\n\n.mb-0 {\n  margin-bottom: 0 !important;\n}\n\n.mb-1 {\n  margin-bottom: 0.25rem !important;\n}\n\n.mb-2 {\n  margin-bottom: 0.5rem !important;\n}\n\n.mb-3 {\n  margin-bottom: 1rem !important;\n}\n\n.mb-4 {\n  margin-bottom: 1.5rem !important;\n}\n\n.mb-5 {\n  margin-bottom: 3rem !important;\n}\n\n.mb-auto {\n  margin-bottom: auto !important;\n}\n\n.ms-0 {\n  margin-left: 0 !important;\n}\n\n.ms-1 {\n  margin-left: 0.25rem !important;\n}\n\n.ms-2 {\n  margin-left: 0.5rem !important;\n}\n\n.ms-3 {\n  margin-left: 1rem !important;\n}\n\n.ms-4 {\n  margin-left: 1.5rem !important;\n}\n\n.ms-5 {\n  margin-left: 3rem !important;\n}\n\n.ms-auto {\n  margin-left: auto !important;\n}\n\n.p-0 {\n  padding: 0 !important;\n}\n\n.p-1 {\n  padding: 0.25rem !important;\n}\n\n.p-2 {\n  padding: 0.5rem !important;\n}\n\n.p-3 {\n  padding: 1rem !important;\n}\n\n.p-4 {\n  padding: 1.5rem !important;\n}\n\n.p-5 {\n  padding: 3rem !important;\n}\n\n.px-0 {\n  padding-right: 0 !important;\n  padding-left: 0 !important;\n}\n\n.px-1 {\n  padding-right: 0.25rem !important;\n  padding-left: 0.25rem !important;\n}\n\n.px-2 {\n  padding-right: 0.5rem !important;\n  padding-left: 0.5rem !important;\n}\n\n.px-3 {\n  padding-right: 1rem !important;\n  padding-left: 1rem !important;\n}\n\n.px-4 {\n  padding-right: 1.5rem !important;\n  padding-left: 1.5rem !important;\n}\n\n.px-5 {\n  padding-right: 3rem !important;\n  padding-left: 3rem !important;\n}\n\n.py-0 {\n  padding-top: 0 !important;\n  padding-bottom: 0 !important;\n}\n\n.py-1 {\n  padding-top: 0.25rem !important;\n  padding-bottom: 0.25rem !important;\n}\n\n.py-2 {\n  padding-top: 0.5rem !important;\n  padding-bottom: 0.5rem !important;\n}\n\n.py-3 {\n  padding-top: 1rem !important;\n  padding-bottom: 1rem !important;\n}\n\n.py-4 {\n  padding-top: 1.5rem !important;\n  padding-bottom: 1.5rem !important;\n}\n\n.py-5 {\n  padding-top: 3rem !important;\n  padding-bottom: 3rem !important;\n}\n\n.pt-0 {\n  padding-top: 0 !important;\n}\n\n.pt-1 {\n  padding-top: 0.25rem !important;\n}\n\n.pt-2 {\n  padding-top: 0.5rem !important;\n}\n\n.pt-3 {\n  padding-top: 1rem !important;\n}\n\n.pt-4 {\n  padding-top: 1.5rem !important;\n}\n\n.pt-5 {\n  padding-top: 3rem !important;\n}\n\n.pe-0 {\n  padding-right: 0 !important;\n}\n\n.pe-1 {\n  padding-right: 0.25rem !important;\n}\n\n.pe-2 {\n  padding-right: 0.5rem !important;\n}\n\n.pe-3 {\n  padding-right: 1rem !important;\n}\n\n.pe-4 {\n  padding-right: 1.5rem !important;\n}\n\n.pe-5 {\n  padding-right: 3rem !important;\n}\n\n.pb-0 {\n  padding-bottom: 0 !important;\n}\n\n.pb-1 {\n  padding-bottom: 0.25rem !important;\n}\n\n.pb-2 {\n  padding-bottom: 0.5rem !important;\n}\n\n.pb-3 {\n  padding-bottom: 1rem !important;\n}\n\n.pb-4 {\n  padding-bottom: 1.5rem !important;\n}\n\n.pb-5 {\n  padding-bottom: 3rem !important;\n}\n\n.ps-0 {\n  padding-left: 0 !important;\n}\n\n.ps-1 {\n  padding-left: 0.25rem !important;\n}\n\n.ps-2 {\n  padding-left: 0.5rem !important;\n}\n\n.ps-3 {\n  padding-left: 1rem !important;\n}\n\n.ps-4 {\n  padding-left: 1.5rem !important;\n}\n\n.ps-5 {\n  padding-left: 3rem !important;\n}\n\n.font-monospace {\n  font-family: var(--bs-font-monospace) !important;\n}\n\n.fs-1 {\n  font-size: calc(1.375rem + 1.5vw) !important;\n}\n\n.fs-2 {\n  font-size: calc(1.325rem + 0.9vw) !important;\n}\n\n.fs-3 {\n  font-size: calc(1.3rem + 0.6vw) !important;\n}\n\n.fs-4 {\n  font-size: calc(1.275rem + 0.3vw) !important;\n}\n\n.fs-5 {\n  font-size: 1.25rem !important;\n}\n\n.fs-6 {\n  font-size: 1rem !important;\n}\n\n.fst-italic {\n  font-style: italic !important;\n}\n\n.fst-normal {\n  font-style: normal !important;\n}\n\n.fw-light {\n  font-weight: 300 !important;\n}\n\n.fw-lighter {\n  font-weight: lighter !important;\n}\n\n.fw-normal {\n  font-weight: 400 !important;\n}\n\n.fw-bold {\n  font-weight: 700 !important;\n}\n\n.fw-bolder {\n  font-weight: bolder !important;\n}\n\n.lh-1 {\n  line-height: 1 !important;\n}\n\n.lh-sm {\n  line-height: 1.25 !important;\n}\n\n.lh-base {\n  line-height: 1.5 !important;\n}\n\n.lh-lg {\n  line-height: 2 !important;\n}\n\n.text-start {\n  text-align: left !important;\n}\n\n.text-end {\n  text-align: right !important;\n}\n\n.text-center {\n  text-align: center !important;\n}\n\n.text-decoration-none {\n  text-decoration: none !important;\n}\n\n.text-decoration-underline {\n  text-decoration: underline !important;\n}\n\n.text-decoration-line-through {\n  text-decoration: line-through !important;\n}\n\n.text-lowercase {\n  text-transform: lowercase !important;\n}\n\n.text-uppercase {\n  text-transform: uppercase !important;\n}\n\n.text-capitalize {\n  text-transform: capitalize !important;\n}\n\n.text-wrap {\n  white-space: normal !important;\n}\n\n.text-nowrap {\n  white-space: nowrap !important;\n}\n\n/* rtl:begin:remove */\n.text-break {\n  word-wrap: break-word !important;\n  word-break: break-word !important;\n}\n\n/* rtl:end:remove */\n.text-primary {\n  --bs-text-opacity: 1;\n  color: rgba(var(--bs-primary-rgb), var(--bs-text-opacity)) !important;\n}\n\n.text-secondary {\n  --bs-text-opacity: 1;\n  color: rgba(var(--bs-secondary-rgb), var(--bs-text-opacity)) !important;\n}\n\n.text-success {\n  --bs-text-opacity: 1;\n  color: rgba(var(--bs-success-rgb), var(--bs-text-opacity)) !important;\n}\n\n.text-info {\n  --bs-text-opacity: 1;\n  color: rgba(var(--bs-info-rgb), var(--bs-text-opacity)) !important;\n}\n\n.text-warning {\n  --bs-text-opacity: 1;\n  color: rgba(var(--bs-warning-rgb), var(--bs-text-opacity)) !important;\n}\n\n.text-danger {\n  --bs-text-opacity: 1;\n  color: rgba(var(--bs-danger-rgb), var(--bs-text-opacity)) !important;\n}\n\n.text-light {\n  --bs-text-opacity: 1;\n  color: rgba(var(--bs-light-rgb), var(--bs-text-opacity)) !important;\n}\n\n.text-dark {\n  --bs-text-opacity: 1;\n  color: rgba(var(--bs-dark-rgb), var(--bs-text-opacity)) !important;\n}\n\n.text-black {\n  --bs-text-opacity: 1;\n  color: rgba(var(--bs-black-rgb), var(--bs-text-opacity)) !important;\n}\n\n.text-white {\n  --bs-text-opacity: 1;\n  color: rgba(var(--bs-white-rgb), var(--bs-text-opacity)) !important;\n}\n\n.text-body {\n  --bs-text-opacity: 1;\n  color: rgba(var(--bs-body-rgb), var(--bs-text-opacity)) !important;\n}\n\n.text-muted {\n  --bs-text-opacity: 1;\n  color: #6c757d !important;\n}\n\n.text-black-50 {\n  --bs-text-opacity: 1;\n  color: rgba(0, 0, 0, 0.5) !important;\n}\n\n.text-white-50 {\n  --bs-text-opacity: 1;\n  color: rgba(255, 255, 255, 0.5) !important;\n}\n\n.text-reset {\n  --bs-text-opacity: 1;\n  color: inherit !important;\n}\n\n.text-opacity-25 {\n  --bs-text-opacity: 0.25;\n}\n\n.text-opacity-50 {\n  --bs-text-opacity: 0.5;\n}\n\n.text-opacity-75 {\n  --bs-text-opacity: 0.75;\n}\n\n.text-opacity-100 {\n  --bs-text-opacity: 1;\n}\n\n.bg-primary {\n  --bs-bg-opacity: 1;\n  background-color: rgba(var(--bs-primary-rgb), var(--bs-bg-opacity)) !important;\n}\n\n.bg-secondary {\n  --bs-bg-opacity: 1;\n  background-color: rgba(var(--bs-secondary-rgb), var(--bs-bg-opacity)) !important;\n}\n\n.bg-success {\n  --bs-bg-opacity: 1;\n  background-color: rgba(var(--bs-success-rgb), var(--bs-bg-opacity)) !important;\n}\n\n.bg-info {\n  --bs-bg-opacity: 1;\n  background-color: rgba(var(--bs-info-rgb), var(--bs-bg-opacity)) !important;\n}\n\n.bg-warning {\n  --bs-bg-opacity: 1;\n  background-color: rgba(var(--bs-warning-rgb), var(--bs-bg-opacity)) !important;\n}\n\n.bg-danger {\n  --bs-bg-opacity: 1;\n  background-color: rgba(var(--bs-danger-rgb), var(--bs-bg-opacity)) !important;\n}\n\n.bg-light {\n  --bs-bg-opacity: 1;\n  background-color: rgba(var(--bs-light-rgb), var(--bs-bg-opacity)) !important;\n}\n\n.bg-dark {\n  --bs-bg-opacity: 1;\n  background-color: rgba(var(--bs-dark-rgb), var(--bs-bg-opacity)) !important;\n}\n\n.bg-black {\n  --bs-bg-opacity: 1;\n  background-color: rgba(var(--bs-black-rgb), var(--bs-bg-opacity)) !important;\n}\n\n.bg-white {\n  --bs-bg-opacity: 1;\n  background-color: rgba(var(--bs-white-rgb), var(--bs-bg-opacity)) !important;\n}\n\n.bg-body {\n  --bs-bg-opacity: 1;\n  background-color: rgba(var(--bs-body-rgb), var(--bs-bg-opacity)) !important;\n}\n\n.bg-transparent {\n  --bs-bg-opacity: 1;\n  background-color: transparent !important;\n}\n\n.bg-opacity-10 {\n  --bs-bg-opacity: 0.1;\n}\n\n.bg-opacity-25 {\n  --bs-bg-opacity: 0.25;\n}\n\n.bg-opacity-50 {\n  --bs-bg-opacity: 0.5;\n}\n\n.bg-opacity-75 {\n  --bs-bg-opacity: 0.75;\n}\n\n.bg-opacity-100 {\n  --bs-bg-opacity: 1;\n}\n\n.bg-gradient {\n  background-image: var(--bs-gradient) !important;\n}\n\n.user-select-all {\n  -webkit-user-select: all !important;\n  -moz-user-select: all !important;\n  user-select: all !important;\n}\n\n.user-select-auto {\n  -webkit-user-select: auto !important;\n  -moz-user-select: auto !important;\n  user-select: auto !important;\n}\n\n.user-select-none {\n  -webkit-user-select: none !important;\n  -moz-user-select: none !important;\n  user-select: none !important;\n}\n\n.pe-none {\n  pointer-events: none !important;\n}\n\n.pe-auto {\n  pointer-events: auto !important;\n}\n\n.rounded {\n  border-radius: 0.25rem !important;\n}\n\n.rounded-0 {\n  border-radius: 0 !important;\n}\n\n.rounded-1 {\n  border-radius: 0.2rem !important;\n}\n\n.rounded-2 {\n  border-radius: 0.25rem !important;\n}\n\n.rounded-3 {\n  border-radius: 0.3rem !important;\n}\n\n.rounded-circle {\n  border-radius: 50% !important;\n}\n\n.rounded-pill {\n  border-radius: 50rem !important;\n}\n\n.rounded-top {\n  border-top-left-radius: 0.25rem !important;\n  border-top-right-radius: 0.25rem !important;\n}\n\n.rounded-end {\n  border-top-right-radius: 0.25rem !important;\n  border-bottom-right-radius: 0.25rem !important;\n}\n\n.rounded-bottom {\n  border-bottom-right-radius: 0.25rem !important;\n  border-bottom-left-radius: 0.25rem !important;\n}\n\n.rounded-start {\n  border-bottom-left-radius: 0.25rem !important;\n  border-top-left-radius: 0.25rem !important;\n}\n\n.visible {\n  visibility: visible !important;\n}\n\n.invisible {\n  visibility: hidden !important;\n}\n\n@media (min-width: 576px) {\n  .float-sm-start {\n    float: left !important;\n  }\n\n  .float-sm-end {\n    float: right !important;\n  }\n\n  .float-sm-none {\n    float: none !important;\n  }\n\n  .d-sm-inline {\n    display: inline !important;\n  }\n\n  .d-sm-inline-block {\n    display: inline-block !important;\n  }\n\n  .d-sm-block {\n    display: block !important;\n  }\n\n  .d-sm-grid {\n    display: grid !important;\n  }\n\n  .d-sm-table {\n    display: table !important;\n  }\n\n  .d-sm-table-row {\n    display: table-row !important;\n  }\n\n  .d-sm-table-cell {\n    display: table-cell !important;\n  }\n\n  .d-sm-flex {\n    display: flex !important;\n  }\n\n  .d-sm-inline-flex {\n    display: inline-flex !important;\n  }\n\n  .d-sm-none {\n    display: none !important;\n  }\n\n  .flex-sm-fill {\n    flex: 1 1 auto !important;\n  }\n\n  .flex-sm-row {\n    flex-direction: row !important;\n  }\n\n  .flex-sm-column {\n    flex-direction: column !important;\n  }\n\n  .flex-sm-row-reverse {\n    flex-direction: row-reverse !important;\n  }\n\n  .flex-sm-column-reverse {\n    flex-direction: column-reverse !important;\n  }\n\n  .flex-sm-grow-0 {\n    flex-grow: 0 !important;\n  }\n\n  .flex-sm-grow-1 {\n    flex-grow: 1 !important;\n  }\n\n  .flex-sm-shrink-0 {\n    flex-shrink: 0 !important;\n  }\n\n  .flex-sm-shrink-1 {\n    flex-shrink: 1 !important;\n  }\n\n  .flex-sm-wrap {\n    flex-wrap: wrap !important;\n  }\n\n  .flex-sm-nowrap {\n    flex-wrap: nowrap !important;\n  }\n\n  .flex-sm-wrap-reverse {\n    flex-wrap: wrap-reverse !important;\n  }\n\n  .gap-sm-0 {\n    gap: 0 !important;\n  }\n\n  .gap-sm-1 {\n    gap: 0.25rem !important;\n  }\n\n  .gap-sm-2 {\n    gap: 0.5rem !important;\n  }\n\n  .gap-sm-3 {\n    gap: 1rem !important;\n  }\n\n  .gap-sm-4 {\n    gap: 1.5rem !important;\n  }\n\n  .gap-sm-5 {\n    gap: 3rem !important;\n  }\n\n  .justify-content-sm-start {\n    justify-content: flex-start !important;\n  }\n\n  .justify-content-sm-end {\n    justify-content: flex-end !important;\n  }\n\n  .justify-content-sm-center {\n    justify-content: center !important;\n  }\n\n  .justify-content-sm-between {\n    justify-content: space-between !important;\n  }\n\n  .justify-content-sm-around {\n    justify-content: space-around !important;\n  }\n\n  .justify-content-sm-evenly {\n    justify-content: space-evenly !important;\n  }\n\n  .align-items-sm-start {\n    align-items: flex-start !important;\n  }\n\n  .align-items-sm-end {\n    align-items: flex-end !important;\n  }\n\n  .align-items-sm-center {\n    align-items: center !important;\n  }\n\n  .align-items-sm-baseline {\n    align-items: baseline !important;\n  }\n\n  .align-items-sm-stretch {\n    align-items: stretch !important;\n  }\n\n  .align-content-sm-start {\n    align-content: flex-start !important;\n  }\n\n  .align-content-sm-end {\n    align-content: flex-end !important;\n  }\n\n  .align-content-sm-center {\n    align-content: center !important;\n  }\n\n  .align-content-sm-between {\n    align-content: space-between !important;\n  }\n\n  .align-content-sm-around {\n    align-content: space-around !important;\n  }\n\n  .align-content-sm-stretch {\n    align-content: stretch !important;\n  }\n\n  .align-self-sm-auto {\n    align-self: auto !important;\n  }\n\n  .align-self-sm-start {\n    align-self: flex-start !important;\n  }\n\n  .align-self-sm-end {\n    align-self: flex-end !important;\n  }\n\n  .align-self-sm-center {\n    align-self: center !important;\n  }\n\n  .align-self-sm-baseline {\n    align-self: baseline !important;\n  }\n\n  .align-self-sm-stretch {\n    align-self: stretch !important;\n  }\n\n  .order-sm-first {\n    order: -1 !important;\n  }\n\n  .order-sm-0 {\n    order: 0 !important;\n  }\n\n  .order-sm-1 {\n    order: 1 !important;\n  }\n\n  .order-sm-2 {\n    order: 2 !important;\n  }\n\n  .order-sm-3 {\n    order: 3 !important;\n  }\n\n  .order-sm-4 {\n    order: 4 !important;\n  }\n\n  .order-sm-5 {\n    order: 5 !important;\n  }\n\n  .order-sm-last {\n    order: 6 !important;\n  }\n\n  .m-sm-0 {\n    margin: 0 !important;\n  }\n\n  .m-sm-1 {\n    margin: 0.25rem !important;\n  }\n\n  .m-sm-2 {\n    margin: 0.5rem !important;\n  }\n\n  .m-sm-3 {\n    margin: 1rem !important;\n  }\n\n  .m-sm-4 {\n    margin: 1.5rem !important;\n  }\n\n  .m-sm-5 {\n    margin: 3rem !important;\n  }\n\n  .m-sm-auto {\n    margin: auto !important;\n  }\n\n  .mx-sm-0 {\n    margin-right: 0 !important;\n    margin-left: 0 !important;\n  }\n\n  .mx-sm-1 {\n    margin-right: 0.25rem !important;\n    margin-left: 0.25rem !important;\n  }\n\n  .mx-sm-2 {\n    margin-right: 0.5rem !important;\n    margin-left: 0.5rem !important;\n  }\n\n  .mx-sm-3 {\n    margin-right: 1rem !important;\n    margin-left: 1rem !important;\n  }\n\n  .mx-sm-4 {\n    margin-right: 1.5rem !important;\n    margin-left: 1.5rem !important;\n  }\n\n  .mx-sm-5 {\n    margin-right: 3rem !important;\n    margin-left: 3rem !important;\n  }\n\n  .mx-sm-auto {\n    margin-right: auto !important;\n    margin-left: auto !important;\n  }\n\n  .my-sm-0 {\n    margin-top: 0 !important;\n    margin-bottom: 0 !important;\n  }\n\n  .my-sm-1 {\n    margin-top: 0.25rem !important;\n    margin-bottom: 0.25rem !important;\n  }\n\n  .my-sm-2 {\n    margin-top: 0.5rem !important;\n    margin-bottom: 0.5rem !important;\n  }\n\n  .my-sm-3 {\n    margin-top: 1rem !important;\n    margin-bottom: 1rem !important;\n  }\n\n  .my-sm-4 {\n    margin-top: 1.5rem !important;\n    margin-bottom: 1.5rem !important;\n  }\n\n  .my-sm-5 {\n    margin-top: 3rem !important;\n    margin-bottom: 3rem !important;\n  }\n\n  .my-sm-auto {\n    margin-top: auto !important;\n    margin-bottom: auto !important;\n  }\n\n  .mt-sm-0 {\n    margin-top: 0 !important;\n  }\n\n  .mt-sm-1 {\n    margin-top: 0.25rem !important;\n  }\n\n  .mt-sm-2 {\n    margin-top: 0.5rem !important;\n  }\n\n  .mt-sm-3 {\n    margin-top: 1rem !important;\n  }\n\n  .mt-sm-4 {\n    margin-top: 1.5rem !important;\n  }\n\n  .mt-sm-5 {\n    margin-top: 3rem !important;\n  }\n\n  .mt-sm-auto {\n    margin-top: auto !important;\n  }\n\n  .me-sm-0 {\n    margin-right: 0 !important;\n  }\n\n  .me-sm-1 {\n    margin-right: 0.25rem !important;\n  }\n\n  .me-sm-2 {\n    margin-right: 0.5rem !important;\n  }\n\n  .me-sm-3 {\n    margin-right: 1rem !important;\n  }\n\n  .me-sm-4 {\n    margin-right: 1.5rem !important;\n  }\n\n  .me-sm-5 {\n    margin-right: 3rem !important;\n  }\n\n  .me-sm-auto {\n    margin-right: auto !important;\n  }\n\n  .mb-sm-0 {\n    margin-bottom: 0 !important;\n  }\n\n  .mb-sm-1 {\n    margin-bottom: 0.25rem !important;\n  }\n\n  .mb-sm-2 {\n    margin-bottom: 0.5rem !important;\n  }\n\n  .mb-sm-3 {\n    margin-bottom: 1rem !important;\n  }\n\n  .mb-sm-4 {\n    margin-bottom: 1.5rem !important;\n  }\n\n  .mb-sm-5 {\n    margin-bottom: 3rem !important;\n  }\n\n  .mb-sm-auto {\n    margin-bottom: auto !important;\n  }\n\n  .ms-sm-0 {\n    margin-left: 0 !important;\n  }\n\n  .ms-sm-1 {\n    margin-left: 0.25rem !important;\n  }\n\n  .ms-sm-2 {\n    margin-left: 0.5rem !important;\n  }\n\n  .ms-sm-3 {\n    margin-left: 1rem !important;\n  }\n\n  .ms-sm-4 {\n    margin-left: 1.5rem !important;\n  }\n\n  .ms-sm-5 {\n    margin-left: 3rem !important;\n  }\n\n  .ms-sm-auto {\n    margin-left: auto !important;\n  }\n\n  .p-sm-0 {\n    padding: 0 !important;\n  }\n\n  .p-sm-1 {\n    padding: 0.25rem !important;\n  }\n\n  .p-sm-2 {\n    padding: 0.5rem !important;\n  }\n\n  .p-sm-3 {\n    padding: 1rem !important;\n  }\n\n  .p-sm-4 {\n    padding: 1.5rem !important;\n  }\n\n  .p-sm-5 {\n    padding: 3rem !important;\n  }\n\n  .px-sm-0 {\n    padding-right: 0 !important;\n    padding-left: 0 !important;\n  }\n\n  .px-sm-1 {\n    padding-right: 0.25rem !important;\n    padding-left: 0.25rem !important;\n  }\n\n  .px-sm-2 {\n    padding-right: 0.5rem !important;\n    padding-left: 0.5rem !important;\n  }\n\n  .px-sm-3 {\n    padding-right: 1rem !important;\n    padding-left: 1rem !important;\n  }\n\n  .px-sm-4 {\n    padding-right: 1.5rem !important;\n    padding-left: 1.5rem !important;\n  }\n\n  .px-sm-5 {\n    padding-right: 3rem !important;\n    padding-left: 3rem !important;\n  }\n\n  .py-sm-0 {\n    padding-top: 0 !important;\n    padding-bottom: 0 !important;\n  }\n\n  .py-sm-1 {\n    padding-top: 0.25rem !important;\n    padding-bottom: 0.25rem !important;\n  }\n\n  .py-sm-2 {\n    padding-top: 0.5rem !important;\n    padding-bottom: 0.5rem !important;\n  }\n\n  .py-sm-3 {\n    padding-top: 1rem !important;\n    padding-bottom: 1rem !important;\n  }\n\n  .py-sm-4 {\n    padding-top: 1.5rem !important;\n    padding-bottom: 1.5rem !important;\n  }\n\n  .py-sm-5 {\n    padding-top: 3rem !important;\n    padding-bottom: 3rem !important;\n  }\n\n  .pt-sm-0 {\n    padding-top: 0 !important;\n  }\n\n  .pt-sm-1 {\n    padding-top: 0.25rem !important;\n  }\n\n  .pt-sm-2 {\n    padding-top: 0.5rem !important;\n  }\n\n  .pt-sm-3 {\n    padding-top: 1rem !important;\n  }\n\n  .pt-sm-4 {\n    padding-top: 1.5rem !important;\n  }\n\n  .pt-sm-5 {\n    padding-top: 3rem !important;\n  }\n\n  .pe-sm-0 {\n    padding-right: 0 !important;\n  }\n\n  .pe-sm-1 {\n    padding-right: 0.25rem !important;\n  }\n\n  .pe-sm-2 {\n    padding-right: 0.5rem !important;\n  }\n\n  .pe-sm-3 {\n    padding-right: 1rem !important;\n  }\n\n  .pe-sm-4 {\n    padding-right: 1.5rem !important;\n  }\n\n  .pe-sm-5 {\n    padding-right: 3rem !important;\n  }\n\n  .pb-sm-0 {\n    padding-bottom: 0 !important;\n  }\n\n  .pb-sm-1 {\n    padding-bottom: 0.25rem !important;\n  }\n\n  .pb-sm-2 {\n    padding-bottom: 0.5rem !important;\n  }\n\n  .pb-sm-3 {\n    padding-bottom: 1rem !important;\n  }\n\n  .pb-sm-4 {\n    padding-bottom: 1.5rem !important;\n  }\n\n  .pb-sm-5 {\n    padding-bottom: 3rem !important;\n  }\n\n  .ps-sm-0 {\n    padding-left: 0 !important;\n  }\n\n  .ps-sm-1 {\n    padding-left: 0.25rem !important;\n  }\n\n  .ps-sm-2 {\n    padding-left: 0.5rem !important;\n  }\n\n  .ps-sm-3 {\n    padding-left: 1rem !important;\n  }\n\n  .ps-sm-4 {\n    padding-left: 1.5rem !important;\n  }\n\n  .ps-sm-5 {\n    padding-left: 3rem !important;\n  }\n\n  .text-sm-start {\n    text-align: left !important;\n  }\n\n  .text-sm-end {\n    text-align: right !important;\n  }\n\n  .text-sm-center {\n    text-align: center !important;\n  }\n}\n@media (min-width: 768px) {\n  .float-md-start {\n    float: left !important;\n  }\n\n  .float-md-end {\n    float: right !important;\n  }\n\n  .float-md-none {\n    float: none !important;\n  }\n\n  .d-md-inline {\n    display: inline !important;\n  }\n\n  .d-md-inline-block {\n    display: inline-block !important;\n  }\n\n  .d-md-block {\n    display: block !important;\n  }\n\n  .d-md-grid {\n    display: grid !important;\n  }\n\n  .d-md-table {\n    display: table !important;\n  }\n\n  .d-md-table-row {\n    display: table-row !important;\n  }\n\n  .d-md-table-cell {\n    display: table-cell !important;\n  }\n\n  .d-md-flex {\n    display: flex !important;\n  }\n\n  .d-md-inline-flex {\n    display: inline-flex !important;\n  }\n\n  .d-md-none {\n    display: none !important;\n  }\n\n  .flex-md-fill {\n    flex: 1 1 auto !important;\n  }\n\n  .flex-md-row {\n    flex-direction: row !important;\n  }\n\n  .flex-md-column {\n    flex-direction: column !important;\n  }\n\n  .flex-md-row-reverse {\n    flex-direction: row-reverse !important;\n  }\n\n  .flex-md-column-reverse {\n    flex-direction: column-reverse !important;\n  }\n\n  .flex-md-grow-0 {\n    flex-grow: 0 !important;\n  }\n\n  .flex-md-grow-1 {\n    flex-grow: 1 !important;\n  }\n\n  .flex-md-shrink-0 {\n    flex-shrink: 0 !important;\n  }\n\n  .flex-md-shrink-1 {\n    flex-shrink: 1 !important;\n  }\n\n  .flex-md-wrap {\n    flex-wrap: wrap !important;\n  }\n\n  .flex-md-nowrap {\n    flex-wrap: nowrap !important;\n  }\n\n  .flex-md-wrap-reverse {\n    flex-wrap: wrap-reverse !important;\n  }\n\n  .gap-md-0 {\n    gap: 0 !important;\n  }\n\n  .gap-md-1 {\n    gap: 0.25rem !important;\n  }\n\n  .gap-md-2 {\n    gap: 0.5rem !important;\n  }\n\n  .gap-md-3 {\n    gap: 1rem !important;\n  }\n\n  .gap-md-4 {\n    gap: 1.5rem !important;\n  }\n\n  .gap-md-5 {\n    gap: 3rem !important;\n  }\n\n  .justify-content-md-start {\n    justify-content: flex-start !important;\n  }\n\n  .justify-content-md-end {\n    justify-content: flex-end !important;\n  }\n\n  .justify-content-md-center {\n    justify-content: center !important;\n  }\n\n  .justify-content-md-between {\n    justify-content: space-between !important;\n  }\n\n  .justify-content-md-around {\n    justify-content: space-around !important;\n  }\n\n  .justify-content-md-evenly {\n    justify-content: space-evenly !important;\n  }\n\n  .align-items-md-start {\n    align-items: flex-start !important;\n  }\n\n  .align-items-md-end {\n    align-items: flex-end !important;\n  }\n\n  .align-items-md-center {\n    align-items: center !important;\n  }\n\n  .align-items-md-baseline {\n    align-items: baseline !important;\n  }\n\n  .align-items-md-stretch {\n    align-items: stretch !important;\n  }\n\n  .align-content-md-start {\n    align-content: flex-start !important;\n  }\n\n  .align-content-md-end {\n    align-content: flex-end !important;\n  }\n\n  .align-content-md-center {\n    align-content: center !important;\n  }\n\n  .align-content-md-between {\n    align-content: space-between !important;\n  }\n\n  .align-content-md-around {\n    align-content: space-around !important;\n  }\n\n  .align-content-md-stretch {\n    align-content: stretch !important;\n  }\n\n  .align-self-md-auto {\n    align-self: auto !important;\n  }\n\n  .align-self-md-start {\n    align-self: flex-start !important;\n  }\n\n  .align-self-md-end {\n    align-self: flex-end !important;\n  }\n\n  .align-self-md-center {\n    align-self: center !important;\n  }\n\n  .align-self-md-baseline {\n    align-self: baseline !important;\n  }\n\n  .align-self-md-stretch {\n    align-self: stretch !important;\n  }\n\n  .order-md-first {\n    order: -1 !important;\n  }\n\n  .order-md-0 {\n    order: 0 !important;\n  }\n\n  .order-md-1 {\n    order: 1 !important;\n  }\n\n  .order-md-2 {\n    order: 2 !important;\n  }\n\n  .order-md-3 {\n    order: 3 !important;\n  }\n\n  .order-md-4 {\n    order: 4 !important;\n  }\n\n  .order-md-5 {\n    order: 5 !important;\n  }\n\n  .order-md-last {\n    order: 6 !important;\n  }\n\n  .m-md-0 {\n    margin: 0 !important;\n  }\n\n  .m-md-1 {\n    margin: 0.25rem !important;\n  }\n\n  .m-md-2 {\n    margin: 0.5rem !important;\n  }\n\n  .m-md-3 {\n    margin: 1rem !important;\n  }\n\n  .m-md-4 {\n    margin: 1.5rem !important;\n  }\n\n  .m-md-5 {\n    margin: 3rem !important;\n  }\n\n  .m-md-auto {\n    margin: auto !important;\n  }\n\n  .mx-md-0 {\n    margin-right: 0 !important;\n    margin-left: 0 !important;\n  }\n\n  .mx-md-1 {\n    margin-right: 0.25rem !important;\n    margin-left: 0.25rem !important;\n  }\n\n  .mx-md-2 {\n    margin-right: 0.5rem !important;\n    margin-left: 0.5rem !important;\n  }\n\n  .mx-md-3 {\n    margin-right: 1rem !important;\n    margin-left: 1rem !important;\n  }\n\n  .mx-md-4 {\n    margin-right: 1.5rem !important;\n    margin-left: 1.5rem !important;\n  }\n\n  .mx-md-5 {\n    margin-right: 3rem !important;\n    margin-left: 3rem !important;\n  }\n\n  .mx-md-auto {\n    margin-right: auto !important;\n    margin-left: auto !important;\n  }\n\n  .my-md-0 {\n    margin-top: 0 !important;\n    margin-bottom: 0 !important;\n  }\n\n  .my-md-1 {\n    margin-top: 0.25rem !important;\n    margin-bottom: 0.25rem !important;\n  }\n\n  .my-md-2 {\n    margin-top: 0.5rem !important;\n    margin-bottom: 0.5rem !important;\n  }\n\n  .my-md-3 {\n    margin-top: 1rem !important;\n    margin-bottom: 1rem !important;\n  }\n\n  .my-md-4 {\n    margin-top: 1.5rem !important;\n    margin-bottom: 1.5rem !important;\n  }\n\n  .my-md-5 {\n    margin-top: 3rem !important;\n    margin-bottom: 3rem !important;\n  }\n\n  .my-md-auto {\n    margin-top: auto !important;\n    margin-bottom: auto !important;\n  }\n\n  .mt-md-0 {\n    margin-top: 0 !important;\n  }\n\n  .mt-md-1 {\n    margin-top: 0.25rem !important;\n  }\n\n  .mt-md-2 {\n    margin-top: 0.5rem !important;\n  }\n\n  .mt-md-3 {\n    margin-top: 1rem !important;\n  }\n\n  .mt-md-4 {\n    margin-top: 1.5rem !important;\n  }\n\n  .mt-md-5 {\n    margin-top: 3rem !important;\n  }\n\n  .mt-md-auto {\n    margin-top: auto !important;\n  }\n\n  .me-md-0 {\n    margin-right: 0 !important;\n  }\n\n  .me-md-1 {\n    margin-right: 0.25rem !important;\n  }\n\n  .me-md-2 {\n    margin-right: 0.5rem !important;\n  }\n\n  .me-md-3 {\n    margin-right: 1rem !important;\n  }\n\n  .me-md-4 {\n    margin-right: 1.5rem !important;\n  }\n\n  .me-md-5 {\n    margin-right: 3rem !important;\n  }\n\n  .me-md-auto {\n    margin-right: auto !important;\n  }\n\n  .mb-md-0 {\n    margin-bottom: 0 !important;\n  }\n\n  .mb-md-1 {\n    margin-bottom: 0.25rem !important;\n  }\n\n  .mb-md-2 {\n    margin-bottom: 0.5rem !important;\n  }\n\n  .mb-md-3 {\n    margin-bottom: 1rem !important;\n  }\n\n  .mb-md-4 {\n    margin-bottom: 1.5rem !important;\n  }\n\n  .mb-md-5 {\n    margin-bottom: 3rem !important;\n  }\n\n  .mb-md-auto {\n    margin-bottom: auto !important;\n  }\n\n  .ms-md-0 {\n    margin-left: 0 !important;\n  }\n\n  .ms-md-1 {\n    margin-left: 0.25rem !important;\n  }\n\n  .ms-md-2 {\n    margin-left: 0.5rem !important;\n  }\n\n  .ms-md-3 {\n    margin-left: 1rem !important;\n  }\n\n  .ms-md-4 {\n    margin-left: 1.5rem !important;\n  }\n\n  .ms-md-5 {\n    margin-left: 3rem !important;\n  }\n\n  .ms-md-auto {\n    margin-left: auto !important;\n  }\n\n  .p-md-0 {\n    padding: 0 !important;\n  }\n\n  .p-md-1 {\n    padding: 0.25rem !important;\n  }\n\n  .p-md-2 {\n    padding: 0.5rem !important;\n  }\n\n  .p-md-3 {\n    padding: 1rem !important;\n  }\n\n  .p-md-4 {\n    padding: 1.5rem !important;\n  }\n\n  .p-md-5 {\n    padding: 3rem !important;\n  }\n\n  .px-md-0 {\n    padding-right: 0 !important;\n    padding-left: 0 !important;\n  }\n\n  .px-md-1 {\n    padding-right: 0.25rem !important;\n    padding-left: 0.25rem !important;\n  }\n\n  .px-md-2 {\n    padding-right: 0.5rem !important;\n    padding-left: 0.5rem !important;\n  }\n\n  .px-md-3 {\n    padding-right: 1rem !important;\n    padding-left: 1rem !important;\n  }\n\n  .px-md-4 {\n    padding-right: 1.5rem !important;\n    padding-left: 1.5rem !important;\n  }\n\n  .px-md-5 {\n    padding-right: 3rem !important;\n    padding-left: 3rem !important;\n  }\n\n  .py-md-0 {\n    padding-top: 0 !important;\n    padding-bottom: 0 !important;\n  }\n\n  .py-md-1 {\n    padding-top: 0.25rem !important;\n    padding-bottom: 0.25rem !important;\n  }\n\n  .py-md-2 {\n    padding-top: 0.5rem !important;\n    padding-bottom: 0.5rem !important;\n  }\n\n  .py-md-3 {\n    padding-top: 1rem !important;\n    padding-bottom: 1rem !important;\n  }\n\n  .py-md-4 {\n    padding-top: 1.5rem !important;\n    padding-bottom: 1.5rem !important;\n  }\n\n  .py-md-5 {\n    padding-top: 3rem !important;\n    padding-bottom: 3rem !important;\n  }\n\n  .pt-md-0 {\n    padding-top: 0 !important;\n  }\n\n  .pt-md-1 {\n    padding-top: 0.25rem !important;\n  }\n\n  .pt-md-2 {\n    padding-top: 0.5rem !important;\n  }\n\n  .pt-md-3 {\n    padding-top: 1rem !important;\n  }\n\n  .pt-md-4 {\n    padding-top: 1.5rem !important;\n  }\n\n  .pt-md-5 {\n    padding-top: 3rem !important;\n  }\n\n  .pe-md-0 {\n    padding-right: 0 !important;\n  }\n\n  .pe-md-1 {\n    padding-right: 0.25rem !important;\n  }\n\n  .pe-md-2 {\n    padding-right: 0.5rem !important;\n  }\n\n  .pe-md-3 {\n    padding-right: 1rem !important;\n  }\n\n  .pe-md-4 {\n    padding-right: 1.5rem !important;\n  }\n\n  .pe-md-5 {\n    padding-right: 3rem !important;\n  }\n\n  .pb-md-0 {\n    padding-bottom: 0 !important;\n  }\n\n  .pb-md-1 {\n    padding-bottom: 0.25rem !important;\n  }\n\n  .pb-md-2 {\n    padding-bottom: 0.5rem !important;\n  }\n\n  .pb-md-3 {\n    padding-bottom: 1rem !important;\n  }\n\n  .pb-md-4 {\n    padding-bottom: 1.5rem !important;\n  }\n\n  .pb-md-5 {\n    padding-bottom: 3rem !important;\n  }\n\n  .ps-md-0 {\n    padding-left: 0 !important;\n  }\n\n  .ps-md-1 {\n    padding-left: 0.25rem !important;\n  }\n\n  .ps-md-2 {\n    padding-left: 0.5rem !important;\n  }\n\n  .ps-md-3 {\n    padding-left: 1rem !important;\n  }\n\n  .ps-md-4 {\n    padding-left: 1.5rem !important;\n  }\n\n  .ps-md-5 {\n    padding-left: 3rem !important;\n  }\n\n  .text-md-start {\n    text-align: left !important;\n  }\n\n  .text-md-end {\n    text-align: right !important;\n  }\n\n  .text-md-center {\n    text-align: center !important;\n  }\n}\n@media (min-width: 992px) {\n  .float-lg-start {\n    float: left !important;\n  }\n\n  .float-lg-end {\n    float: right !important;\n  }\n\n  .float-lg-none {\n    float: none !important;\n  }\n\n  .d-lg-inline {\n    display: inline !important;\n  }\n\n  .d-lg-inline-block {\n    display: inline-block !important;\n  }\n\n  .d-lg-block {\n    display: block !important;\n  }\n\n  .d-lg-grid {\n    display: grid !important;\n  }\n\n  .d-lg-table {\n    display: table !important;\n  }\n\n  .d-lg-table-row {\n    display: table-row !important;\n  }\n\n  .d-lg-table-cell {\n    display: table-cell !important;\n  }\n\n  .d-lg-flex {\n    display: flex !important;\n  }\n\n  .d-lg-inline-flex {\n    display: inline-flex !important;\n  }\n\n  .d-lg-none {\n    display: none !important;\n  }\n\n  .flex-lg-fill {\n    flex: 1 1 auto !important;\n  }\n\n  .flex-lg-row {\n    flex-direction: row !important;\n  }\n\n  .flex-lg-column {\n    flex-direction: column !important;\n  }\n\n  .flex-lg-row-reverse {\n    flex-direction: row-reverse !important;\n  }\n\n  .flex-lg-column-reverse {\n    flex-direction: column-reverse !important;\n  }\n\n  .flex-lg-grow-0 {\n    flex-grow: 0 !important;\n  }\n\n  .flex-lg-grow-1 {\n    flex-grow: 1 !important;\n  }\n\n  .flex-lg-shrink-0 {\n    flex-shrink: 0 !important;\n  }\n\n  .flex-lg-shrink-1 {\n    flex-shrink: 1 !important;\n  }\n\n  .flex-lg-wrap {\n    flex-wrap: wrap !important;\n  }\n\n  .flex-lg-nowrap {\n    flex-wrap: nowrap !important;\n  }\n\n  .flex-lg-wrap-reverse {\n    flex-wrap: wrap-reverse !important;\n  }\n\n  .gap-lg-0 {\n    gap: 0 !important;\n  }\n\n  .gap-lg-1 {\n    gap: 0.25rem !important;\n  }\n\n  .gap-lg-2 {\n    gap: 0.5rem !important;\n  }\n\n  .gap-lg-3 {\n    gap: 1rem !important;\n  }\n\n  .gap-lg-4 {\n    gap: 1.5rem !important;\n  }\n\n  .gap-lg-5 {\n    gap: 3rem !important;\n  }\n\n  .justify-content-lg-start {\n    justify-content: flex-start !important;\n  }\n\n  .justify-content-lg-end {\n    justify-content: flex-end !important;\n  }\n\n  .justify-content-lg-center {\n    justify-content: center !important;\n  }\n\n  .justify-content-lg-between {\n    justify-content: space-between !important;\n  }\n\n  .justify-content-lg-around {\n    justify-content: space-around !important;\n  }\n\n  .justify-content-lg-evenly {\n    justify-content: space-evenly !important;\n  }\n\n  .align-items-lg-start {\n    align-items: flex-start !important;\n  }\n\n  .align-items-lg-end {\n    align-items: flex-end !important;\n  }\n\n  .align-items-lg-center {\n    align-items: center !important;\n  }\n\n  .align-items-lg-baseline {\n    align-items: baseline !important;\n  }\n\n  .align-items-lg-stretch {\n    align-items: stretch !important;\n  }\n\n  .align-content-lg-start {\n    align-content: flex-start !important;\n  }\n\n  .align-content-lg-end {\n    align-content: flex-end !important;\n  }\n\n  .align-content-lg-center {\n    align-content: center !important;\n  }\n\n  .align-content-lg-between {\n    align-content: space-between !important;\n  }\n\n  .align-content-lg-around {\n    align-content: space-around !important;\n  }\n\n  .align-content-lg-stretch {\n    align-content: stretch !important;\n  }\n\n  .align-self-lg-auto {\n    align-self: auto !important;\n  }\n\n  .align-self-lg-start {\n    align-self: flex-start !important;\n  }\n\n  .align-self-lg-end {\n    align-self: flex-end !important;\n  }\n\n  .align-self-lg-center {\n    align-self: center !important;\n  }\n\n  .align-self-lg-baseline {\n    align-self: baseline !important;\n  }\n\n  .align-self-lg-stretch {\n    align-self: stretch !important;\n  }\n\n  .order-lg-first {\n    order: -1 !important;\n  }\n\n  .order-lg-0 {\n    order: 0 !important;\n  }\n\n  .order-lg-1 {\n    order: 1 !important;\n  }\n\n  .order-lg-2 {\n    order: 2 !important;\n  }\n\n  .order-lg-3 {\n    order: 3 !important;\n  }\n\n  .order-lg-4 {\n    order: 4 !important;\n  }\n\n  .order-lg-5 {\n    order: 5 !important;\n  }\n\n  .order-lg-last {\n    order: 6 !important;\n  }\n\n  .m-lg-0 {\n    margin: 0 !important;\n  }\n\n  .m-lg-1 {\n    margin: 0.25rem !important;\n  }\n\n  .m-lg-2 {\n    margin: 0.5rem !important;\n  }\n\n  .m-lg-3 {\n    margin: 1rem !important;\n  }\n\n  .m-lg-4 {\n    margin: 1.5rem !important;\n  }\n\n  .m-lg-5 {\n    margin: 3rem !important;\n  }\n\n  .m-lg-auto {\n    margin: auto !important;\n  }\n\n  .mx-lg-0 {\n    margin-right: 0 !important;\n    margin-left: 0 !important;\n  }\n\n  .mx-lg-1 {\n    margin-right: 0.25rem !important;\n    margin-left: 0.25rem !important;\n  }\n\n  .mx-lg-2 {\n    margin-right: 0.5rem !important;\n    margin-left: 0.5rem !important;\n  }\n\n  .mx-lg-3 {\n    margin-right: 1rem !important;\n    margin-left: 1rem !important;\n  }\n\n  .mx-lg-4 {\n    margin-right: 1.5rem !important;\n    margin-left: 1.5rem !important;\n  }\n\n  .mx-lg-5 {\n    margin-right: 3rem !important;\n    margin-left: 3rem !important;\n  }\n\n  .mx-lg-auto {\n    margin-right: auto !important;\n    margin-left: auto !important;\n  }\n\n  .my-lg-0 {\n    margin-top: 0 !important;\n    margin-bottom: 0 !important;\n  }\n\n  .my-lg-1 {\n    margin-top: 0.25rem !important;\n    margin-bottom: 0.25rem !important;\n  }\n\n  .my-lg-2 {\n    margin-top: 0.5rem !important;\n    margin-bottom: 0.5rem !important;\n  }\n\n  .my-lg-3 {\n    margin-top: 1rem !important;\n    margin-bottom: 1rem !important;\n  }\n\n  .my-lg-4 {\n    margin-top: 1.5rem !important;\n    margin-bottom: 1.5rem !important;\n  }\n\n  .my-lg-5 {\n    margin-top: 3rem !important;\n    margin-bottom: 3rem !important;\n  }\n\n  .my-lg-auto {\n    margin-top: auto !important;\n    margin-bottom: auto !important;\n  }\n\n  .mt-lg-0 {\n    margin-top: 0 !important;\n  }\n\n  .mt-lg-1 {\n    margin-top: 0.25rem !important;\n  }\n\n  .mt-lg-2 {\n    margin-top: 0.5rem !important;\n  }\n\n  .mt-lg-3 {\n    margin-top: 1rem !important;\n  }\n\n  .mt-lg-4 {\n    margin-top: 1.5rem !important;\n  }\n\n  .mt-lg-5 {\n    margin-top: 3rem !important;\n  }\n\n  .mt-lg-auto {\n    margin-top: auto !important;\n  }\n\n  .me-lg-0 {\n    margin-right: 0 !important;\n  }\n\n  .me-lg-1 {\n    margin-right: 0.25rem !important;\n  }\n\n  .me-lg-2 {\n    margin-right: 0.5rem !important;\n  }\n\n  .me-lg-3 {\n    margin-right: 1rem !important;\n  }\n\n  .me-lg-4 {\n    margin-right: 1.5rem !important;\n  }\n\n  .me-lg-5 {\n    margin-right: 3rem !important;\n  }\n\n  .me-lg-auto {\n    margin-right: auto !important;\n  }\n\n  .mb-lg-0 {\n    margin-bottom: 0 !important;\n  }\n\n  .mb-lg-1 {\n    margin-bottom: 0.25rem !important;\n  }\n\n  .mb-lg-2 {\n    margin-bottom: 0.5rem !important;\n  }\n\n  .mb-lg-3 {\n    margin-bottom: 1rem !important;\n  }\n\n  .mb-lg-4 {\n    margin-bottom: 1.5rem !important;\n  }\n\n  .mb-lg-5 {\n    margin-bottom: 3rem !important;\n  }\n\n  .mb-lg-auto {\n    margin-bottom: auto !important;\n  }\n\n  .ms-lg-0 {\n    margin-left: 0 !important;\n  }\n\n  .ms-lg-1 {\n    margin-left: 0.25rem !important;\n  }\n\n  .ms-lg-2 {\n    margin-left: 0.5rem !important;\n  }\n\n  .ms-lg-3 {\n    margin-left: 1rem !important;\n  }\n\n  .ms-lg-4 {\n    margin-left: 1.5rem !important;\n  }\n\n  .ms-lg-5 {\n    margin-left: 3rem !important;\n  }\n\n  .ms-lg-auto {\n    margin-left: auto !important;\n  }\n\n  .p-lg-0 {\n    padding: 0 !important;\n  }\n\n  .p-lg-1 {\n    padding: 0.25rem !important;\n  }\n\n  .p-lg-2 {\n    padding: 0.5rem !important;\n  }\n\n  .p-lg-3 {\n    padding: 1rem !important;\n  }\n\n  .p-lg-4 {\n    padding: 1.5rem !important;\n  }\n\n  .p-lg-5 {\n    padding: 3rem !important;\n  }\n\n  .px-lg-0 {\n    padding-right: 0 !important;\n    padding-left: 0 !important;\n  }\n\n  .px-lg-1 {\n    padding-right: 0.25rem !important;\n    padding-left: 0.25rem !important;\n  }\n\n  .px-lg-2 {\n    padding-right: 0.5rem !important;\n    padding-left: 0.5rem !important;\n  }\n\n  .px-lg-3 {\n    padding-right: 1rem !important;\n    padding-left: 1rem !important;\n  }\n\n  .px-lg-4 {\n    padding-right: 1.5rem !important;\n    padding-left: 1.5rem !important;\n  }\n\n  .px-lg-5 {\n    padding-right: 3rem !important;\n    padding-left: 3rem !important;\n  }\n\n  .py-lg-0 {\n    padding-top: 0 !important;\n    padding-bottom: 0 !important;\n  }\n\n  .py-lg-1 {\n    padding-top: 0.25rem !important;\n    padding-bottom: 0.25rem !important;\n  }\n\n  .py-lg-2 {\n    padding-top: 0.5rem !important;\n    padding-bottom: 0.5rem !important;\n  }\n\n  .py-lg-3 {\n    padding-top: 1rem !important;\n    padding-bottom: 1rem !important;\n  }\n\n  .py-lg-4 {\n    padding-top: 1.5rem !important;\n    padding-bottom: 1.5rem !important;\n  }\n\n  .py-lg-5 {\n    padding-top: 3rem !important;\n    padding-bottom: 3rem !important;\n  }\n\n  .pt-lg-0 {\n    padding-top: 0 !important;\n  }\n\n  .pt-lg-1 {\n    padding-top: 0.25rem !important;\n  }\n\n  .pt-lg-2 {\n    padding-top: 0.5rem !important;\n  }\n\n  .pt-lg-3 {\n    padding-top: 1rem !important;\n  }\n\n  .pt-lg-4 {\n    padding-top: 1.5rem !important;\n  }\n\n  .pt-lg-5 {\n    padding-top: 3rem !important;\n  }\n\n  .pe-lg-0 {\n    padding-right: 0 !important;\n  }\n\n  .pe-lg-1 {\n    padding-right: 0.25rem !important;\n  }\n\n  .pe-lg-2 {\n    padding-right: 0.5rem !important;\n  }\n\n  .pe-lg-3 {\n    padding-right: 1rem !important;\n  }\n\n  .pe-lg-4 {\n    padding-right: 1.5rem !important;\n  }\n\n  .pe-lg-5 {\n    padding-right: 3rem !important;\n  }\n\n  .pb-lg-0 {\n    padding-bottom: 0 !important;\n  }\n\n  .pb-lg-1 {\n    padding-bottom: 0.25rem !important;\n  }\n\n  .pb-lg-2 {\n    padding-bottom: 0.5rem !important;\n  }\n\n  .pb-lg-3 {\n    padding-bottom: 1rem !important;\n  }\n\n  .pb-lg-4 {\n    padding-bottom: 1.5rem !important;\n  }\n\n  .pb-lg-5 {\n    padding-bottom: 3rem !important;\n  }\n\n  .ps-lg-0 {\n    padding-left: 0 !important;\n  }\n\n  .ps-lg-1 {\n    padding-left: 0.25rem !important;\n  }\n\n  .ps-lg-2 {\n    padding-left: 0.5rem !important;\n  }\n\n  .ps-lg-3 {\n    padding-left: 1rem !important;\n  }\n\n  .ps-lg-4 {\n    padding-left: 1.5rem !important;\n  }\n\n  .ps-lg-5 {\n    padding-left: 3rem !important;\n  }\n\n  .text-lg-start {\n    text-align: left !important;\n  }\n\n  .text-lg-end {\n    text-align: right !important;\n  }\n\n  .text-lg-center {\n    text-align: center !important;\n  }\n}\n@media (min-width: 1200px) {\n  .float-xl-start {\n    float: left !important;\n  }\n\n  .float-xl-end {\n    float: right !important;\n  }\n\n  .float-xl-none {\n    float: none !important;\n  }\n\n  .d-xl-inline {\n    display: inline !important;\n  }\n\n  .d-xl-inline-block {\n    display: inline-block !important;\n  }\n\n  .d-xl-block {\n    display: block !important;\n  }\n\n  .d-xl-grid {\n    display: grid !important;\n  }\n\n  .d-xl-table {\n    display: table !important;\n  }\n\n  .d-xl-table-row {\n    display: table-row !important;\n  }\n\n  .d-xl-table-cell {\n    display: table-cell !important;\n  }\n\n  .d-xl-flex {\n    display: flex !important;\n  }\n\n  .d-xl-inline-flex {\n    display: inline-flex !important;\n  }\n\n  .d-xl-none {\n    display: none !important;\n  }\n\n  .flex-xl-fill {\n    flex: 1 1 auto !important;\n  }\n\n  .flex-xl-row {\n    flex-direction: row !important;\n  }\n\n  .flex-xl-column {\n    flex-direction: column !important;\n  }\n\n  .flex-xl-row-reverse {\n    flex-direction: row-reverse !important;\n  }\n\n  .flex-xl-column-reverse {\n    flex-direction: column-reverse !important;\n  }\n\n  .flex-xl-grow-0 {\n    flex-grow: 0 !important;\n  }\n\n  .flex-xl-grow-1 {\n    flex-grow: 1 !important;\n  }\n\n  .flex-xl-shrink-0 {\n    flex-shrink: 0 !important;\n  }\n\n  .flex-xl-shrink-1 {\n    flex-shrink: 1 !important;\n  }\n\n  .flex-xl-wrap {\n    flex-wrap: wrap !important;\n  }\n\n  .flex-xl-nowrap {\n    flex-wrap: nowrap !important;\n  }\n\n  .flex-xl-wrap-reverse {\n    flex-wrap: wrap-reverse !important;\n  }\n\n  .gap-xl-0 {\n    gap: 0 !important;\n  }\n\n  .gap-xl-1 {\n    gap: 0.25rem !important;\n  }\n\n  .gap-xl-2 {\n    gap: 0.5rem !important;\n  }\n\n  .gap-xl-3 {\n    gap: 1rem !important;\n  }\n\n  .gap-xl-4 {\n    gap: 1.5rem !important;\n  }\n\n  .gap-xl-5 {\n    gap: 3rem !important;\n  }\n\n  .justify-content-xl-start {\n    justify-content: flex-start !important;\n  }\n\n  .justify-content-xl-end {\n    justify-content: flex-end !important;\n  }\n\n  .justify-content-xl-center {\n    justify-content: center !important;\n  }\n\n  .justify-content-xl-between {\n    justify-content: space-between !important;\n  }\n\n  .justify-content-xl-around {\n    justify-content: space-around !important;\n  }\n\n  .justify-content-xl-evenly {\n    justify-content: space-evenly !important;\n  }\n\n  .align-items-xl-start {\n    align-items: flex-start !important;\n  }\n\n  .align-items-xl-end {\n    align-items: flex-end !important;\n  }\n\n  .align-items-xl-center {\n    align-items: center !important;\n  }\n\n  .align-items-xl-baseline {\n    align-items: baseline !important;\n  }\n\n  .align-items-xl-stretch {\n    align-items: stretch !important;\n  }\n\n  .align-content-xl-start {\n    align-content: flex-start !important;\n  }\n\n  .align-content-xl-end {\n    align-content: flex-end !important;\n  }\n\n  .align-content-xl-center {\n    align-content: center !important;\n  }\n\n  .align-content-xl-between {\n    align-content: space-between !important;\n  }\n\n  .align-content-xl-around {\n    align-content: space-around !important;\n  }\n\n  .align-content-xl-stretch {\n    align-content: stretch !important;\n  }\n\n  .align-self-xl-auto {\n    align-self: auto !important;\n  }\n\n  .align-self-xl-start {\n    align-self: flex-start !important;\n  }\n\n  .align-self-xl-end {\n    align-self: flex-end !important;\n  }\n\n  .align-self-xl-center {\n    align-self: center !important;\n  }\n\n  .align-self-xl-baseline {\n    align-self: baseline !important;\n  }\n\n  .align-self-xl-stretch {\n    align-self: stretch !important;\n  }\n\n  .order-xl-first {\n    order: -1 !important;\n  }\n\n  .order-xl-0 {\n    order: 0 !important;\n  }\n\n  .order-xl-1 {\n    order: 1 !important;\n  }\n\n  .order-xl-2 {\n    order: 2 !important;\n  }\n\n  .order-xl-3 {\n    order: 3 !important;\n  }\n\n  .order-xl-4 {\n    order: 4 !important;\n  }\n\n  .order-xl-5 {\n    order: 5 !important;\n  }\n\n  .order-xl-last {\n    order: 6 !important;\n  }\n\n  .m-xl-0 {\n    margin: 0 !important;\n  }\n\n  .m-xl-1 {\n    margin: 0.25rem !important;\n  }\n\n  .m-xl-2 {\n    margin: 0.5rem !important;\n  }\n\n  .m-xl-3 {\n    margin: 1rem !important;\n  }\n\n  .m-xl-4 {\n    margin: 1.5rem !important;\n  }\n\n  .m-xl-5 {\n    margin: 3rem !important;\n  }\n\n  .m-xl-auto {\n    margin: auto !important;\n  }\n\n  .mx-xl-0 {\n    margin-right: 0 !important;\n    margin-left: 0 !important;\n  }\n\n  .mx-xl-1 {\n    margin-right: 0.25rem !important;\n    margin-left: 0.25rem !important;\n  }\n\n  .mx-xl-2 {\n    margin-right: 0.5rem !important;\n    margin-left: 0.5rem !important;\n  }\n\n  .mx-xl-3 {\n    margin-right: 1rem !important;\n    margin-left: 1rem !important;\n  }\n\n  .mx-xl-4 {\n    margin-right: 1.5rem !important;\n    margin-left: 1.5rem !important;\n  }\n\n  .mx-xl-5 {\n    margin-right: 3rem !important;\n    margin-left: 3rem !important;\n  }\n\n  .mx-xl-auto {\n    margin-right: auto !important;\n    margin-left: auto !important;\n  }\n\n  .my-xl-0 {\n    margin-top: 0 !important;\n    margin-bottom: 0 !important;\n  }\n\n  .my-xl-1 {\n    margin-top: 0.25rem !important;\n    margin-bottom: 0.25rem !important;\n  }\n\n  .my-xl-2 {\n    margin-top: 0.5rem !important;\n    margin-bottom: 0.5rem !important;\n  }\n\n  .my-xl-3 {\n    margin-top: 1rem !important;\n    margin-bottom: 1rem !important;\n  }\n\n  .my-xl-4 {\n    margin-top: 1.5rem !important;\n    margin-bottom: 1.5rem !important;\n  }\n\n  .my-xl-5 {\n    margin-top: 3rem !important;\n    margin-bottom: 3rem !important;\n  }\n\n  .my-xl-auto {\n    margin-top: auto !important;\n    margin-bottom: auto !important;\n  }\n\n  .mt-xl-0 {\n    margin-top: 0 !important;\n  }\n\n  .mt-xl-1 {\n    margin-top: 0.25rem !important;\n  }\n\n  .mt-xl-2 {\n    margin-top: 0.5rem !important;\n  }\n\n  .mt-xl-3 {\n    margin-top: 1rem !important;\n  }\n\n  .mt-xl-4 {\n    margin-top: 1.5rem !important;\n  }\n\n  .mt-xl-5 {\n    margin-top: 3rem !important;\n  }\n\n  .mt-xl-auto {\n    margin-top: auto !important;\n  }\n\n  .me-xl-0 {\n    margin-right: 0 !important;\n  }\n\n  .me-xl-1 {\n    margin-right: 0.25rem !important;\n  }\n\n  .me-xl-2 {\n    margin-right: 0.5rem !important;\n  }\n\n  .me-xl-3 {\n    margin-right: 1rem !important;\n  }\n\n  .me-xl-4 {\n    margin-right: 1.5rem !important;\n  }\n\n  .me-xl-5 {\n    margin-right: 3rem !important;\n  }\n\n  .me-xl-auto {\n    margin-right: auto !important;\n  }\n\n  .mb-xl-0 {\n    margin-bottom: 0 !important;\n  }\n\n  .mb-xl-1 {\n    margin-bottom: 0.25rem !important;\n  }\n\n  .mb-xl-2 {\n    margin-bottom: 0.5rem !important;\n  }\n\n  .mb-xl-3 {\n    margin-bottom: 1rem !important;\n  }\n\n  .mb-xl-4 {\n    margin-bottom: 1.5rem !important;\n  }\n\n  .mb-xl-5 {\n    margin-bottom: 3rem !important;\n  }\n\n  .mb-xl-auto {\n    margin-bottom: auto !important;\n  }\n\n  .ms-xl-0 {\n    margin-left: 0 !important;\n  }\n\n  .ms-xl-1 {\n    margin-left: 0.25rem !important;\n  }\n\n  .ms-xl-2 {\n    margin-left: 0.5rem !important;\n  }\n\n  .ms-xl-3 {\n    margin-left: 1rem !important;\n  }\n\n  .ms-xl-4 {\n    margin-left: 1.5rem !important;\n  }\n\n  .ms-xl-5 {\n    margin-left: 3rem !important;\n  }\n\n  .ms-xl-auto {\n    margin-left: auto !important;\n  }\n\n  .p-xl-0 {\n    padding: 0 !important;\n  }\n\n  .p-xl-1 {\n    padding: 0.25rem !important;\n  }\n\n  .p-xl-2 {\n    padding: 0.5rem !important;\n  }\n\n  .p-xl-3 {\n    padding: 1rem !important;\n  }\n\n  .p-xl-4 {\n    padding: 1.5rem !important;\n  }\n\n  .p-xl-5 {\n    padding: 3rem !important;\n  }\n\n  .px-xl-0 {\n    padding-right: 0 !important;\n    padding-left: 0 !important;\n  }\n\n  .px-xl-1 {\n    padding-right: 0.25rem !important;\n    padding-left: 0.25rem !important;\n  }\n\n  .px-xl-2 {\n    padding-right: 0.5rem !important;\n    padding-left: 0.5rem !important;\n  }\n\n  .px-xl-3 {\n    padding-right: 1rem !important;\n    padding-left: 1rem !important;\n  }\n\n  .px-xl-4 {\n    padding-right: 1.5rem !important;\n    padding-left: 1.5rem !important;\n  }\n\n  .px-xl-5 {\n    padding-right: 3rem !important;\n    padding-left: 3rem !important;\n  }\n\n  .py-xl-0 {\n    padding-top: 0 !important;\n    padding-bottom: 0 !important;\n  }\n\n  .py-xl-1 {\n    padding-top: 0.25rem !important;\n    padding-bottom: 0.25rem !important;\n  }\n\n  .py-xl-2 {\n    padding-top: 0.5rem !important;\n    padding-bottom: 0.5rem !important;\n  }\n\n  .py-xl-3 {\n    padding-top: 1rem !important;\n    padding-bottom: 1rem !important;\n  }\n\n  .py-xl-4 {\n    padding-top: 1.5rem !important;\n    padding-bottom: 1.5rem !important;\n  }\n\n  .py-xl-5 {\n    padding-top: 3rem !important;\n    padding-bottom: 3rem !important;\n  }\n\n  .pt-xl-0 {\n    padding-top: 0 !important;\n  }\n\n  .pt-xl-1 {\n    padding-top: 0.25rem !important;\n  }\n\n  .pt-xl-2 {\n    padding-top: 0.5rem !important;\n  }\n\n  .pt-xl-3 {\n    padding-top: 1rem !important;\n  }\n\n  .pt-xl-4 {\n    padding-top: 1.5rem !important;\n  }\n\n  .pt-xl-5 {\n    padding-top: 3rem !important;\n  }\n\n  .pe-xl-0 {\n    padding-right: 0 !important;\n  }\n\n  .pe-xl-1 {\n    padding-right: 0.25rem !important;\n  }\n\n  .pe-xl-2 {\n    padding-right: 0.5rem !important;\n  }\n\n  .pe-xl-3 {\n    padding-right: 1rem !important;\n  }\n\n  .pe-xl-4 {\n    padding-right: 1.5rem !important;\n  }\n\n  .pe-xl-5 {\n    padding-right: 3rem !important;\n  }\n\n  .pb-xl-0 {\n    padding-bottom: 0 !important;\n  }\n\n  .pb-xl-1 {\n    padding-bottom: 0.25rem !important;\n  }\n\n  .pb-xl-2 {\n    padding-bottom: 0.5rem !important;\n  }\n\n  .pb-xl-3 {\n    padding-bottom: 1rem !important;\n  }\n\n  .pb-xl-4 {\n    padding-bottom: 1.5rem !important;\n  }\n\n  .pb-xl-5 {\n    padding-bottom: 3rem !important;\n  }\n\n  .ps-xl-0 {\n    padding-left: 0 !important;\n  }\n\n  .ps-xl-1 {\n    padding-left: 0.25rem !important;\n  }\n\n  .ps-xl-2 {\n    padding-left: 0.5rem !important;\n  }\n\n  .ps-xl-3 {\n    padding-left: 1rem !important;\n  }\n\n  .ps-xl-4 {\n    padding-left: 1.5rem !important;\n  }\n\n  .ps-xl-5 {\n    padding-left: 3rem !important;\n  }\n\n  .text-xl-start {\n    text-align: left !important;\n  }\n\n  .text-xl-end {\n    text-align: right !important;\n  }\n\n  .text-xl-center {\n    text-align: center !important;\n  }\n}\n@media (min-width: 1400px) {\n  .float-xxl-start {\n    float: left !important;\n  }\n\n  .float-xxl-end {\n    float: right !important;\n  }\n\n  .float-xxl-none {\n    float: none !important;\n  }\n\n  .d-xxl-inline {\n    display: inline !important;\n  }\n\n  .d-xxl-inline-block {\n    display: inline-block !important;\n  }\n\n  .d-xxl-block {\n    display: block !important;\n  }\n\n  .d-xxl-grid {\n    display: grid !important;\n  }\n\n  .d-xxl-table {\n    display: table !important;\n  }\n\n  .d-xxl-table-row {\n    display: table-row !important;\n  }\n\n  .d-xxl-table-cell {\n    display: table-cell !important;\n  }\n\n  .d-xxl-flex {\n    display: flex !important;\n  }\n\n  .d-xxl-inline-flex {\n    display: inline-flex !important;\n  }\n\n  .d-xxl-none {\n    display: none !important;\n  }\n\n  .flex-xxl-fill {\n    flex: 1 1 auto !important;\n  }\n\n  .flex-xxl-row {\n    flex-direction: row !important;\n  }\n\n  .flex-xxl-column {\n    flex-direction: column !important;\n  }\n\n  .flex-xxl-row-reverse {\n    flex-direction: row-reverse !important;\n  }\n\n  .flex-xxl-column-reverse {\n    flex-direction: column-reverse !important;\n  }\n\n  .flex-xxl-grow-0 {\n    flex-grow: 0 !important;\n  }\n\n  .flex-xxl-grow-1 {\n    flex-grow: 1 !important;\n  }\n\n  .flex-xxl-shrink-0 {\n    flex-shrink: 0 !important;\n  }\n\n  .flex-xxl-shrink-1 {\n    flex-shrink: 1 !important;\n  }\n\n  .flex-xxl-wrap {\n    flex-wrap: wrap !important;\n  }\n\n  .flex-xxl-nowrap {\n    flex-wrap: nowrap !important;\n  }\n\n  .flex-xxl-wrap-reverse {\n    flex-wrap: wrap-reverse !important;\n  }\n\n  .gap-xxl-0 {\n    gap: 0 !important;\n  }\n\n  .gap-xxl-1 {\n    gap: 0.25rem !important;\n  }\n\n  .gap-xxl-2 {\n    gap: 0.5rem !important;\n  }\n\n  .gap-xxl-3 {\n    gap: 1rem !important;\n  }\n\n  .gap-xxl-4 {\n    gap: 1.5rem !important;\n  }\n\n  .gap-xxl-5 {\n    gap: 3rem !important;\n  }\n\n  .justify-content-xxl-start {\n    justify-content: flex-start !important;\n  }\n\n  .justify-content-xxl-end {\n    justify-content: flex-end !important;\n  }\n\n  .justify-content-xxl-center {\n    justify-content: center !important;\n  }\n\n  .justify-content-xxl-between {\n    justify-content: space-between !important;\n  }\n\n  .justify-content-xxl-around {\n    justify-content: space-around !important;\n  }\n\n  .justify-content-xxl-evenly {\n    justify-content: space-evenly !important;\n  }\n\n  .align-items-xxl-start {\n    align-items: flex-start !important;\n  }\n\n  .align-items-xxl-end {\n    align-items: flex-end !important;\n  }\n\n  .align-items-xxl-center {\n    align-items: center !important;\n  }\n\n  .align-items-xxl-baseline {\n    align-items: baseline !important;\n  }\n\n  .align-items-xxl-stretch {\n    align-items: stretch !important;\n  }\n\n  .align-content-xxl-start {\n    align-content: flex-start !important;\n  }\n\n  .align-content-xxl-end {\n    align-content: flex-end !important;\n  }\n\n  .align-content-xxl-center {\n    align-content: center !important;\n  }\n\n  .align-content-xxl-between {\n    align-content: space-between !important;\n  }\n\n  .align-content-xxl-around {\n    align-content: space-around !important;\n  }\n\n  .align-content-xxl-stretch {\n    align-content: stretch !important;\n  }\n\n  .align-self-xxl-auto {\n    align-self: auto !important;\n  }\n\n  .align-self-xxl-start {\n    align-self: flex-start !important;\n  }\n\n  .align-self-xxl-end {\n    align-self: flex-end !important;\n  }\n\n  .align-self-xxl-center {\n    align-self: center !important;\n  }\n\n  .align-self-xxl-baseline {\n    align-self: baseline !important;\n  }\n\n  .align-self-xxl-stretch {\n    align-self: stretch !important;\n  }\n\n  .order-xxl-first {\n    order: -1 !important;\n  }\n\n  .order-xxl-0 {\n    order: 0 !important;\n  }\n\n  .order-xxl-1 {\n    order: 1 !important;\n  }\n\n  .order-xxl-2 {\n    order: 2 !important;\n  }\n\n  .order-xxl-3 {\n    order: 3 !important;\n  }\n\n  .order-xxl-4 {\n    order: 4 !important;\n  }\n\n  .order-xxl-5 {\n    order: 5 !important;\n  }\n\n  .order-xxl-last {\n    order: 6 !important;\n  }\n\n  .m-xxl-0 {\n    margin: 0 !important;\n  }\n\n  .m-xxl-1 {\n    margin: 0.25rem !important;\n  }\n\n  .m-xxl-2 {\n    margin: 0.5rem !important;\n  }\n\n  .m-xxl-3 {\n    margin: 1rem !important;\n  }\n\n  .m-xxl-4 {\n    margin: 1.5rem !important;\n  }\n\n  .m-xxl-5 {\n    margin: 3rem !important;\n  }\n\n  .m-xxl-auto {\n    margin: auto !important;\n  }\n\n  .mx-xxl-0 {\n    margin-right: 0 !important;\n    margin-left: 0 !important;\n  }\n\n  .mx-xxl-1 {\n    margin-right: 0.25rem !important;\n    margin-left: 0.25rem !important;\n  }\n\n  .mx-xxl-2 {\n    margin-right: 0.5rem !important;\n    margin-left: 0.5rem !important;\n  }\n\n  .mx-xxl-3 {\n    margin-right: 1rem !important;\n    margin-left: 1rem !important;\n  }\n\n  .mx-xxl-4 {\n    margin-right: 1.5rem !important;\n    margin-left: 1.5rem !important;\n  }\n\n  .mx-xxl-5 {\n    margin-right: 3rem !important;\n    margin-left: 3rem !important;\n  }\n\n  .mx-xxl-auto {\n    margin-right: auto !important;\n    margin-left: auto !important;\n  }\n\n  .my-xxl-0 {\n    margin-top: 0 !important;\n    margin-bottom: 0 !important;\n  }\n\n  .my-xxl-1 {\n    margin-top: 0.25rem !important;\n    margin-bottom: 0.25rem !important;\n  }\n\n  .my-xxl-2 {\n    margin-top: 0.5rem !important;\n    margin-bottom: 0.5rem !important;\n  }\n\n  .my-xxl-3 {\n    margin-top: 1rem !important;\n    margin-bottom: 1rem !important;\n  }\n\n  .my-xxl-4 {\n    margin-top: 1.5rem !important;\n    margin-bottom: 1.5rem !important;\n  }\n\n  .my-xxl-5 {\n    margin-top: 3rem !important;\n    margin-bottom: 3rem !important;\n  }\n\n  .my-xxl-auto {\n    margin-top: auto !important;\n    margin-bottom: auto !important;\n  }\n\n  .mt-xxl-0 {\n    margin-top: 0 !important;\n  }\n\n  .mt-xxl-1 {\n    margin-top: 0.25rem !important;\n  }\n\n  .mt-xxl-2 {\n    margin-top: 0.5rem !important;\n  }\n\n  .mt-xxl-3 {\n    margin-top: 1rem !important;\n  }\n\n  .mt-xxl-4 {\n    margin-top: 1.5rem !important;\n  }\n\n  .mt-xxl-5 {\n    margin-top: 3rem !important;\n  }\n\n  .mt-xxl-auto {\n    margin-top: auto !important;\n  }\n\n  .me-xxl-0 {\n    margin-right: 0 !important;\n  }\n\n  .me-xxl-1 {\n    margin-right: 0.25rem !important;\n  }\n\n  .me-xxl-2 {\n    margin-right: 0.5rem !important;\n  }\n\n  .me-xxl-3 {\n    margin-right: 1rem !important;\n  }\n\n  .me-xxl-4 {\n    margin-right: 1.5rem !important;\n  }\n\n  .me-xxl-5 {\n    margin-right: 3rem !important;\n  }\n\n  .me-xxl-auto {\n    margin-right: auto !important;\n  }\n\n  .mb-xxl-0 {\n    margin-bottom: 0 !important;\n  }\n\n  .mb-xxl-1 {\n    margin-bottom: 0.25rem !important;\n  }\n\n  .mb-xxl-2 {\n    margin-bottom: 0.5rem !important;\n  }\n\n  .mb-xxl-3 {\n    margin-bottom: 1rem !important;\n  }\n\n  .mb-xxl-4 {\n    margin-bottom: 1.5rem !important;\n  }\n\n  .mb-xxl-5 {\n    margin-bottom: 3rem !important;\n  }\n\n  .mb-xxl-auto {\n    margin-bottom: auto !important;\n  }\n\n  .ms-xxl-0 {\n    margin-left: 0 !important;\n  }\n\n  .ms-xxl-1 {\n    margin-left: 0.25rem !important;\n  }\n\n  .ms-xxl-2 {\n    margin-left: 0.5rem !important;\n  }\n\n  .ms-xxl-3 {\n    margin-left: 1rem !important;\n  }\n\n  .ms-xxl-4 {\n    margin-left: 1.5rem !important;\n  }\n\n  .ms-xxl-5 {\n    margin-left: 3rem !important;\n  }\n\n  .ms-xxl-auto {\n    margin-left: auto !important;\n  }\n\n  .p-xxl-0 {\n    padding: 0 !important;\n  }\n\n  .p-xxl-1 {\n    padding: 0.25rem !important;\n  }\n\n  .p-xxl-2 {\n    padding: 0.5rem !important;\n  }\n\n  .p-xxl-3 {\n    padding: 1rem !important;\n  }\n\n  .p-xxl-4 {\n    padding: 1.5rem !important;\n  }\n\n  .p-xxl-5 {\n    padding: 3rem !important;\n  }\n\n  .px-xxl-0 {\n    padding-right: 0 !important;\n    padding-left: 0 !important;\n  }\n\n  .px-xxl-1 {\n    padding-right: 0.25rem !important;\n    padding-left: 0.25rem !important;\n  }\n\n  .px-xxl-2 {\n    padding-right: 0.5rem !important;\n    padding-left: 0.5rem !important;\n  }\n\n  .px-xxl-3 {\n    padding-right: 1rem !important;\n    padding-left: 1rem !important;\n  }\n\n  .px-xxl-4 {\n    padding-right: 1.5rem !important;\n    padding-left: 1.5rem !important;\n  }\n\n  .px-xxl-5 {\n    padding-right: 3rem !important;\n    padding-left: 3rem !important;\n  }\n\n  .py-xxl-0 {\n    padding-top: 0 !important;\n    padding-bottom: 0 !important;\n  }\n\n  .py-xxl-1 {\n    padding-top: 0.25rem !important;\n    padding-bottom: 0.25rem !important;\n  }\n\n  .py-xxl-2 {\n    padding-top: 0.5rem !important;\n    padding-bottom: 0.5rem !important;\n  }\n\n  .py-xxl-3 {\n    padding-top: 1rem !important;\n    padding-bottom: 1rem !important;\n  }\n\n  .py-xxl-4 {\n    padding-top: 1.5rem !important;\n    padding-bottom: 1.5rem !important;\n  }\n\n  .py-xxl-5 {\n    padding-top: 3rem !important;\n    padding-bottom: 3rem !important;\n  }\n\n  .pt-xxl-0 {\n    padding-top: 0 !important;\n  }\n\n  .pt-xxl-1 {\n    padding-top: 0.25rem !important;\n  }\n\n  .pt-xxl-2 {\n    padding-top: 0.5rem !important;\n  }\n\n  .pt-xxl-3 {\n    padding-top: 1rem !important;\n  }\n\n  .pt-xxl-4 {\n    padding-top: 1.5rem !important;\n  }\n\n  .pt-xxl-5 {\n    padding-top: 3rem !important;\n  }\n\n  .pe-xxl-0 {\n    padding-right: 0 !important;\n  }\n\n  .pe-xxl-1 {\n    padding-right: 0.25rem !important;\n  }\n\n  .pe-xxl-2 {\n    padding-right: 0.5rem !important;\n  }\n\n  .pe-xxl-3 {\n    padding-right: 1rem !important;\n  }\n\n  .pe-xxl-4 {\n    padding-right: 1.5rem !important;\n  }\n\n  .pe-xxl-5 {\n    padding-right: 3rem !important;\n  }\n\n  .pb-xxl-0 {\n    padding-bottom: 0 !important;\n  }\n\n  .pb-xxl-1 {\n    padding-bottom: 0.25rem !important;\n  }\n\n  .pb-xxl-2 {\n    padding-bottom: 0.5rem !important;\n  }\n\n  .pb-xxl-3 {\n    padding-bottom: 1rem !important;\n  }\n\n  .pb-xxl-4 {\n    padding-bottom: 1.5rem !important;\n  }\n\n  .pb-xxl-5 {\n    padding-bottom: 3rem !important;\n  }\n\n  .ps-xxl-0 {\n    padding-left: 0 !important;\n  }\n\n  .ps-xxl-1 {\n    padding-left: 0.25rem !important;\n  }\n\n  .ps-xxl-2 {\n    padding-left: 0.5rem !important;\n  }\n\n  .ps-xxl-3 {\n    padding-left: 1rem !important;\n  }\n\n  .ps-xxl-4 {\n    padding-left: 1.5rem !important;\n  }\n\n  .ps-xxl-5 {\n    padding-left: 3rem !important;\n  }\n\n  .text-xxl-start {\n    text-align: left !important;\n  }\n\n  .text-xxl-end {\n    text-align: right !important;\n  }\n\n  .text-xxl-center {\n    text-align: center !important;\n  }\n}\n@media (min-width: 1200px) {\n  .fs-1 {\n    font-size: 2.5rem !important;\n  }\n\n  .fs-2 {\n    font-size: 2rem !important;\n  }\n\n  .fs-3 {\n    font-size: 1.75rem !important;\n  }\n\n  .fs-4 {\n    font-size: 1.5rem !important;\n  }\n}\n@media print {\n  .d-print-inline {\n    display: inline !important;\n  }\n\n  .d-print-inline-block {\n    display: inline-block !important;\n  }\n\n  .d-print-block {\n    display: block !important;\n  }\n\n  .d-print-grid {\n    display: grid !important;\n  }\n\n  .d-print-table {\n    display: table !important;\n  }\n\n  .d-print-table-row {\n    display: table-row !important;\n  }\n\n  .d-print-table-cell {\n    display: table-cell !important;\n  }\n\n  .d-print-flex {\n    display: flex !important;\n  }\n\n  .d-print-inline-flex {\n    display: inline-flex !important;\n  }\n\n  .d-print-none {\n    display: none !important;\n  }\n}\n\n/*# sourceMappingURL=bootstrap.css.map */","// stylelint-disable property-blacklist, scss/dollar-variable-default\n\n// SCSS RFS mixin\n//\n// Automated responsive values for font sizes, paddings, margins and much more\n//\n// Licensed under MIT (https://github.com/twbs/rfs/blob/main/LICENSE)\n\n// Configuration\n\n// Base value\n$rfs-base-value: 1.25rem !default;\n$rfs-unit: rem !default;\n\n@if $rfs-unit != rem and $rfs-unit != px {\n  @error \"`#{$rfs-unit}` is not a valid unit for $rfs-unit. Use `px` or `rem`.\";\n}\n\n// Breakpoint at where values start decreasing if screen width is smaller\n$rfs-breakpoint: 1200px !default;\n$rfs-breakpoint-unit: px !default;\n\n@if $rfs-breakpoint-unit != px and $rfs-breakpoint-unit != em and $rfs-breakpoint-unit != rem {\n  @error \"`#{$rfs-breakpoint-unit}` is not a valid unit for $rfs-breakpoint-unit. Use `px`, `em` or `rem`.\";\n}\n\n// Resize values based on screen height and width\n$rfs-two-dimensional: false !default;\n\n// Factor of decrease\n$rfs-factor: 10 !default;\n\n@if type-of($rfs-factor) != number or $rfs-factor <= 1 {\n  @error \"`#{$rfs-factor}` is not a valid  $rfs-factor, it must be greater than 1.\";\n}\n\n// Mode. Possibilities: \"min-media-query\", \"max-media-query\"\n$rfs-mode: min-media-query !default;\n\n// Generate enable or disable classes. Possibilities: false, \"enable\" or \"disable\"\n$rfs-class: false !default;\n\n// 1 rem = $rfs-rem-value px\n$rfs-rem-value: 16 !default;\n\n// Safari iframe resize bug: https://github.com/twbs/rfs/issues/14\n$rfs-safari-iframe-resize-bug-fix: false !default;\n\n// Disable RFS by setting $enable-rfs to false\n$enable-rfs: true !default;\n\n// Cache $rfs-base-value unit\n$rfs-base-value-unit: unit($rfs-base-value);\n\n@function divide($dividend, $divisor, $precision: 10) {\n  $sign: if($dividend > 0 and $divisor > 0 or $dividend < 0 and $divisor < 0, 1, -1);\n  $dividend: abs($dividend);\n  $divisor: abs($divisor);\n  @if $dividend == 0 {\n    @return 0;\n  }\n  @if $divisor == 0 {\n    @error \"Cannot divide by 0\";\n  }\n  $remainder: $dividend;\n  $result: 0;\n  $factor: 10;\n  @while ($remainder > 0 and $precision >= 0) {\n    $quotient: 0;\n    @while ($remainder >= $divisor) {\n      $remainder: $remainder - $divisor;\n      $quotient: $quotient + 1;\n    }\n    $result: $result * 10 + $quotient;\n    $factor: $factor * .1;\n    $remainder: $remainder * 10;\n    $precision: $precision - 1;\n    @if ($precision < 0 and $remainder >= $divisor * 5) {\n      $result: $result + 1;\n    }\n  }\n  $result: $result * $factor * $sign;\n  $dividend-unit: unit($dividend);\n  $divisor-unit: unit($divisor);\n  $unit-map: (\n    \"px\": 1px,\n    \"rem\": 1rem,\n    \"em\": 1em,\n    \"%\": 1%\n  );\n  @if ($dividend-unit != $divisor-unit and map-has-key($unit-map, $dividend-unit)) {\n    $result: $result * map-get($unit-map, $dividend-unit);\n  }\n  @return $result;\n}\n\n// Remove px-unit from $rfs-base-value for calculations\n@if $rfs-base-value-unit == px {\n  $rfs-base-value: divide($rfs-base-value, $rfs-base-value * 0 + 1);\n}\n@else if $rfs-base-value-unit == rem {\n  $rfs-base-value: divide($rfs-base-value, divide($rfs-base-value * 0 + 1, $rfs-rem-value));\n}\n\n// Cache $rfs-breakpoint unit to prevent multiple calls\n$rfs-breakpoint-unit-cache: unit($rfs-breakpoint);\n\n// Remove unit from $rfs-breakpoint for calculations\n@if $rfs-breakpoint-unit-cache == px {\n  $rfs-breakpoint: divide($rfs-breakpoint, $rfs-breakpoint * 0 + 1);\n}\n@else if $rfs-breakpoint-unit-cache == rem or $rfs-breakpoint-unit-cache == \"em\" {\n  $rfs-breakpoint: divide($rfs-breakpoint, divide($rfs-breakpoint * 0 + 1, $rfs-rem-value));\n}\n\n// Calculate the media query value\n$rfs-mq-value: if($rfs-breakpoint-unit == px, #{$rfs-breakpoint}px, #{divide($rfs-breakpoint, $rfs-rem-value)}#{$rfs-breakpoint-unit});\n$rfs-mq-property-width: if($rfs-mode == max-media-query, max-width, min-width);\n$rfs-mq-property-height: if($rfs-mode == max-media-query, max-height, min-height);\n\n// Internal mixin used to determine which media query needs to be used\n@mixin _rfs-media-query {\n  @if $rfs-two-dimensional {\n    @if $rfs-mode == max-media-query {\n      @media (#{$rfs-mq-property-width}: #{$rfs-mq-value}), (#{$rfs-mq-property-height}: #{$rfs-mq-value}) {\n        @content;\n      }\n    }\n    @else {\n      @media (#{$rfs-mq-property-width}: #{$rfs-mq-value}) and (#{$rfs-mq-property-height}: #{$rfs-mq-value}) {\n        @content;\n      }\n    }\n  }\n  @else {\n    @media (#{$rfs-mq-property-width}: #{$rfs-mq-value}) {\n      @content;\n    }\n  }\n}\n\n// Internal mixin that adds disable classes to the selector if needed.\n@mixin _rfs-rule {\n  @if $rfs-class == disable and $rfs-mode == max-media-query {\n    // Adding an extra class increases specificity, which prevents the media query to override the property\n    &,\n    .disable-rfs &,\n    &.disable-rfs {\n      @content;\n    }\n  }\n  @else if $rfs-class == enable and $rfs-mode == min-media-query {\n    .enable-rfs &,\n    &.enable-rfs {\n      @content;\n    }\n  }\n  @else {\n    @content;\n  }\n}\n\n// Internal mixin that adds enable classes to the selector if needed.\n@mixin _rfs-media-query-rule {\n\n  @if $rfs-class == enable {\n    @if $rfs-mode == min-media-query {\n      @content;\n    }\n\n    @include _rfs-media-query {\n      .enable-rfs &,\n      &.enable-rfs {\n        @content;\n      }\n    }\n  }\n  @else {\n    @if $rfs-class == disable and $rfs-mode == min-media-query {\n      .disable-rfs &,\n      &.disable-rfs {\n        @content;\n      }\n    }\n    @include _rfs-media-query {\n      @content;\n    }\n  }\n}\n\n// Helper function to get the formatted non-responsive value\n@function rfs-value($values) {\n  // Convert to list\n  $values: if(type-of($values) != list, ($values,), $values);\n\n  $val: '';\n\n  // Loop over each value and calculate value\n  @each $value in $values {\n    @if $value == 0 {\n      $val: $val + ' 0';\n    }\n    @else {\n      // Cache $value unit\n      $unit: if(type-of($value) == \"number\", unit($value), false);\n\n      @if $unit == px {\n        // Convert to rem if needed\n        $val: $val + ' ' + if($rfs-unit == rem, #{divide($value, $value * 0 + $rfs-rem-value)}rem, $value);\n      }\n      @else if $unit == rem {\n        // Convert to px if needed\n        $val: $val + ' ' + if($rfs-unit == px, #{divide($value, $value * 0 + 1) * $rfs-rem-value}px, $value);\n      }\n      @else {\n        // If $value isn't a number (like inherit) or $value has a unit (not px or rem, like 1.5em) or $ is 0, just print the value\n        $val: $val + ' ' + $value;\n      }\n    }\n  }\n\n  // Remove first space\n  @return unquote(str-slice($val, 2));\n}\n\n// Helper function to get the responsive value calculated by RFS\n@function rfs-fluid-value($values) {\n  // Convert to list\n  $values: if(type-of($values) != list, ($values,), $values);\n\n  $val: '';\n\n  // Loop over each value and calculate value\n  @each $value in $values {\n    @if $value == 0 {\n      $val: $val + ' 0';\n    }\n\n    @else {\n      // Cache $value unit\n      $unit: if(type-of($value) == \"number\", unit($value), false);\n\n      // If $value isn't a number (like inherit) or $value has a unit (not px or rem, like 1.5em) or $ is 0, just print the value\n      @if not $unit or $unit != px and $unit != rem {\n        $val: $val + ' ' + $value;\n      }\n\n      @else {\n        // Remove unit from $value for calculations\n        $value: divide($value, $value * 0 + if($unit == px, 1, divide(1, $rfs-rem-value)));\n\n        // Only add the media query if the value is greater than the minimum value\n        @if abs($value) <= $rfs-base-value or not $enable-rfs {\n          $val: $val + ' ' +  if($rfs-unit == rem, #{divide($value, $rfs-rem-value)}rem, #{$value}px);\n        }\n        @else {\n          // Calculate the minimum value\n          $value-min: $rfs-base-value + divide(abs($value) - $rfs-base-value, $rfs-factor);\n\n          // Calculate difference between $value and the minimum value\n          $value-diff: abs($value) - $value-min;\n\n          // Base value formatting\n          $min-width: if($rfs-unit == rem, #{divide($value-min, $rfs-rem-value)}rem, #{$value-min}px);\n\n          // Use negative value if needed\n          $min-width: if($value < 0, -$min-width, $min-width);\n\n          // Use `vmin` if two-dimensional is enabled\n          $variable-unit: if($rfs-two-dimensional, vmin, vw);\n\n          // Calculate the variable width between 0 and $rfs-breakpoint\n          $variable-width: #{divide($value-diff * 100, $rfs-breakpoint)}#{$variable-unit};\n\n          // Return the calculated value\n          $val: $val + ' calc(' + $min-width + if($value < 0, ' - ', ' + ') + $variable-width + ')';\n        }\n      }\n    }\n  }\n\n  // Remove first space\n  @return unquote(str-slice($val, 2));\n}\n\n// RFS mixin\n@mixin rfs($values, $property: font-size) {\n  @if $values != null {\n    $val: rfs-value($values);\n    $fluidVal: rfs-fluid-value($values);\n\n    // Do not print the media query if responsive & non-responsive values are the same\n    @if $val == $fluidVal {\n      #{$property}: $val;\n    }\n    @else {\n      @include _rfs-rule {\n        #{$property}: if($rfs-mode == max-media-query, $val, $fluidVal);\n\n        // Include safari iframe resize fix if needed\n        min-width: if($rfs-safari-iframe-resize-bug-fix, (0 * 1vw), null);\n      }\n\n      @include _rfs-media-query-rule {\n        #{$property}: if($rfs-mode == max-media-query, $fluidVal, $val);\n      }\n    }\n  }\n}\n\n// Shorthand helper mixins\n@mixin font-size($value) {\n  @include rfs($value);\n}\n\n@mixin padding($value) {\n  @include rfs($value, padding);\n}\n\n@mixin padding-top($value) {\n  @include rfs($value, padding-top);\n}\n\n@mixin padding-right($value) {\n  @include rfs($value, padding-right);\n}\n\n@mixin padding-bottom($value) {\n  @include rfs($value, padding-bottom);\n}\n\n@mixin padding-left($value) {\n  @include rfs($value, padding-left);\n}\n\n@mixin margin($value) {\n  @include rfs($value, margin);\n}\n\n@mixin margin-top($value) {\n  @include rfs($value, margin-top);\n}\n\n@mixin margin-right($value) {\n  @include rfs($value, margin-right);\n}\n\n@mixin margin-bottom($value) {\n  @include rfs($value, margin-bottom);\n}\n\n@mixin margin-left($value) {\n  @include rfs($value, margin-left);\n}\n","// stylelint-disable property-disallowed-list\n// Single side border-radius\n\n// Helper function to replace negative values with 0\n@function valid-radius($radius) {\n  $return: ();\n  @each $value in $radius {\n    @if type-of($value) == number {\n      $return: append($return, max($value, 0));\n    } @else {\n      $return: append($return, $value);\n    }\n  }\n  @return $return;\n}\n\n// scss-docs-start border-radius-mixins\n@mixin border-radius($radius: $border-radius, $fallback-border-radius: false) {\n  @if $enable-rounded {\n    border-radius: valid-radius($radius);\n  }\n  @else if $fallback-border-radius != false {\n    border-radius: $fallback-border-radius;\n  }\n}\n\n@mixin border-top-radius($radius: $border-radius) {\n  @if $enable-rounded {\n    border-top-left-radius: valid-radius($radius);\n    border-top-right-radius: valid-radius($radius);\n  }\n}\n\n@mixin border-end-radius($radius: $border-radius) {\n  @if $enable-rounded {\n    border-top-right-radius: valid-radius($radius);\n    border-bottom-right-radius: valid-radius($radius);\n  }\n}\n\n@mixin border-bottom-radius($radius: $border-radius) {\n  @if $enable-rounded {\n    border-bottom-right-radius: valid-radius($radius);\n    border-bottom-left-radius: valid-radius($radius);\n  }\n}\n\n@mixin border-start-radius($radius: $border-radius) {\n  @if $enable-rounded {\n    border-top-left-radius: valid-radius($radius);\n    border-bottom-left-radius: valid-radius($radius);\n  }\n}\n\n@mixin border-top-start-radius($radius: $border-radius) {\n  @if $enable-rounded {\n    border-top-left-radius: valid-radius($radius);\n  }\n}\n\n@mixin border-top-end-radius($radius: $border-radius) {\n  @if $enable-rounded {\n    border-top-right-radius: valid-radius($radius);\n  }\n}\n\n@mixin border-bottom-end-radius($radius: $border-radius) {\n  @if $enable-rounded {\n    border-bottom-right-radius: valid-radius($radius);\n  }\n}\n\n@mixin border-bottom-start-radius($radius: $border-radius) {\n  @if $enable-rounded {\n    border-bottom-left-radius: valid-radius($radius);\n  }\n}\n// scss-docs-end border-radius-mixins\n","//\n// Headings\n//\n.h1 {\n  @extend h1;\n}\n\n.h2 {\n  @extend h2;\n}\n\n.h3 {\n  @extend h3;\n}\n\n.h4 {\n  @extend h4;\n}\n\n.h5 {\n  @extend h5;\n}\n\n.h6 {\n  @extend h6;\n}\n\n\n.lead {\n  @include font-size($lead-font-size);\n  font-weight: $lead-font-weight;\n}\n\n// Type display classes\n@each $display, $font-size in $display-font-sizes {\n  .display-#{$display} {\n    @include font-size($font-size);\n    font-weight: $display-font-weight;\n    line-height: $display-line-height;\n  }\n}\n\n//\n// Emphasis\n//\n.small {\n  @extend small;\n}\n\n.mark {\n  @extend mark;\n}\n\n//\n// Lists\n//\n\n.list-unstyled {\n  @include list-unstyled();\n}\n\n// Inline turns list items into inline-block\n.list-inline {\n  @include list-unstyled();\n}\n.list-inline-item {\n  display: inline-block;\n\n  &:not(:last-child) {\n    margin-right: $list-inline-padding;\n  }\n}\n\n\n//\n// Misc\n//\n\n// Builds on `abbr`\n.initialism {\n  @include font-size($initialism-font-size);\n  text-transform: uppercase;\n}\n\n// Blockquotes\n.blockquote {\n  margin-bottom: $blockquote-margin-y;\n  @include font-size($blockquote-font-size);\n\n  > :last-child {\n    margin-bottom: 0;\n  }\n}\n\n.blockquote-footer {\n  margin-top: -$blockquote-margin-y;\n  margin-bottom: $blockquote-margin-y;\n  @include font-size($blockquote-footer-font-size);\n  color: $blockquote-footer-color;\n\n  &::before {\n    content: \"\\2014\\00A0\"; // em dash, nbsp\n  }\n}\n","// Lists\n\n// Unstyled keeps list items block level, just removes default browser padding and list-style\n@mixin list-unstyled {\n  padding-left: 0;\n  list-style: none;\n}\n","// Responsive images (ensure images don't scale beyond their parents)\n//\n// This is purposefully opt-in via an explicit class rather than being the default for all `<img>`s.\n// We previously tried the \"images are responsive by default\" approach in Bootstrap v2,\n// and abandoned it in Bootstrap v3 because it breaks lots of third-party widgets (including Google Maps)\n// which weren't expecting the images within themselves to be involuntarily resized.\n// See also https://github.com/twbs/bootstrap/issues/18178\n.img-fluid {\n  @include img-fluid();\n}\n\n\n// Image thumbnails\n.img-thumbnail {\n  padding: $thumbnail-padding;\n  background-color: $thumbnail-bg;\n  border: $thumbnail-border-width solid $thumbnail-border-color;\n  @include border-radius($thumbnail-border-radius);\n  @include box-shadow($thumbnail-box-shadow);\n\n  // Keep them at most 100% wide\n  @include img-fluid();\n}\n\n//\n// Figures\n//\n\n.figure {\n  // Ensures the caption's text aligns with the image.\n  display: inline-block;\n}\n\n.figure-img {\n  margin-bottom: $spacer * .5;\n  line-height: 1;\n}\n\n.figure-caption {\n  @include font-size($figure-caption-font-size);\n  color: $figure-caption-color;\n}\n","// Image Mixins\n// - Responsive image\n// - Retina image\n\n\n// Responsive image\n//\n// Keep images from scaling beyond the width of their parents.\n\n@mixin img-fluid {\n  // Part 1: Set a maximum relative to the parent\n  max-width: 100%;\n  // Part 2: Override the height to auto, otherwise images will be stretched\n  // when setting a width and height attribute on the img element.\n  height: auto;\n}\n","// Container widths\n//\n// Set the container width, and override it for fixed navbars in media queries.\n\n@if $enable-grid-classes {\n  // Single container class with breakpoint max-widths\n  .container,\n  // 100% wide container at all breakpoints\n  .container-fluid {\n    @include make-container();\n  }\n\n  // Responsive containers that are 100% wide until a breakpoint\n  @each $breakpoint, $container-max-width in $container-max-widths {\n    .container-#{$breakpoint} {\n      @extend .container-fluid;\n    }\n\n    @include media-breakpoint-up($breakpoint, $grid-breakpoints) {\n      %responsive-container-#{$breakpoint} {\n        max-width: $container-max-width;\n      }\n\n      // Extend each breakpoint which is smaller or equal to the current breakpoint\n      $extend-breakpoint: true;\n\n      @each $name, $width in $grid-breakpoints {\n        @if ($extend-breakpoint) {\n          .container#{breakpoint-infix($name, $grid-breakpoints)} {\n            @extend %responsive-container-#{$breakpoint};\n          }\n\n          // Once the current breakpoint is reached, stop extending\n          @if ($breakpoint == $name) {\n            $extend-breakpoint: false;\n          }\n        }\n      }\n    }\n  }\n}\n","// Container mixins\n\n@mixin make-container($gutter: $container-padding-x) {\n  width: 100%;\n  padding-right: var(--#{$variable-prefix}gutter-x, #{$gutter});\n  padding-left: var(--#{$variable-prefix}gutter-x, #{$gutter});\n  margin-right: auto;\n  margin-left: auto;\n}\n","// Breakpoint viewport sizes and media queries.\n//\n// Breakpoints are defined as a map of (name: minimum width), order from small to large:\n//\n//    (xs: 0, sm: 576px, md: 768px, lg: 992px, xl: 1200px)\n//\n// The map defined in the `$grid-breakpoints` global variable is used as the `$breakpoints` argument by default.\n\n// Name of the next breakpoint, or null for the last breakpoint.\n//\n//    >> breakpoint-next(sm)\n//    md\n//    >> breakpoint-next(sm, (xs: 0, sm: 576px, md: 768px, lg: 992px, xl: 1200px))\n//    md\n//    >> breakpoint-next(sm, $breakpoint-names: (xs sm md lg xl))\n//    md\n@function breakpoint-next($name, $breakpoints: $grid-breakpoints, $breakpoint-names: map-keys($breakpoints)) {\n  $n: index($breakpoint-names, $name);\n  @if not $n {\n    @error \"breakpoint `#{$name}` not found in `#{$breakpoints}`\";\n  }\n  @return if($n < length($breakpoint-names), nth($breakpoint-names, $n + 1), null);\n}\n\n// Minimum breakpoint width. Null for the smallest (first) breakpoint.\n//\n//    >> breakpoint-min(sm, (xs: 0, sm: 576px, md: 768px, lg: 992px, xl: 1200px))\n//    576px\n@function breakpoint-min($name, $breakpoints: $grid-breakpoints) {\n  $min: map-get($breakpoints, $name);\n  @return if($min != 0, $min, null);\n}\n\n// Maximum breakpoint width.\n// The maximum value is reduced by 0.02px to work around the limitations of\n// `min-` and `max-` prefixes and viewports with fractional widths.\n// See https://www.w3.org/TR/mediaqueries-4/#mq-min-max\n// Uses 0.02px rather than 0.01px to work around a current rounding bug in Safari.\n// See https://bugs.webkit.org/show_bug.cgi?id=178261\n//\n//    >> breakpoint-max(md, (xs: 0, sm: 576px, md: 768px, lg: 992px, xl: 1200px))\n//    767.98px\n@function breakpoint-max($name, $breakpoints: $grid-breakpoints) {\n  $max: map-get($breakpoints, $name);\n  @return if($max and $max > 0, $max - .02, null);\n}\n\n// Returns a blank string if smallest breakpoint, otherwise returns the name with a dash in front.\n// Useful for making responsive utilities.\n//\n//    >> breakpoint-infix(xs, (xs: 0, sm: 576px, md: 768px, lg: 992px, xl: 1200px))\n//    \"\"  (Returns a blank string)\n//    >> breakpoint-infix(sm, (xs: 0, sm: 576px, md: 768px, lg: 992px, xl: 1200px))\n//    \"-sm\"\n@function breakpoint-infix($name, $breakpoints: $grid-breakpoints) {\n  @return if(breakpoint-min($name, $breakpoints) == null, \"\", \"-#{$name}\");\n}\n\n// Media of at least the minimum breakpoint width. No query for the smallest breakpoint.\n// Makes the @content apply to the given breakpoint and wider.\n@mixin media-breakpoint-up($name, $breakpoints: $grid-breakpoints) {\n  $min: breakpoint-min($name, $breakpoints);\n  @if $min {\n    @media (min-width: $min) {\n      @content;\n    }\n  } @else {\n    @content;\n  }\n}\n\n// Media of at most the maximum breakpoint width. No query for the largest breakpoint.\n// Makes the @content apply to the given breakpoint and narrower.\n@mixin media-breakpoint-down($name, $breakpoints: $grid-breakpoints) {\n  $max: breakpoint-max($name, $breakpoints);\n  @if $max {\n    @media (max-width: $max) {\n      @content;\n    }\n  } @else {\n    @content;\n  }\n}\n\n// Media that spans multiple breakpoint widths.\n// Makes the @content apply between the min and max breakpoints\n@mixin media-breakpoint-between($lower, $upper, $breakpoints: $grid-breakpoints) {\n  $min: breakpoint-min($lower, $breakpoints);\n  $max: breakpoint-max($upper, $breakpoints);\n\n  @if $min != null and $max != null {\n    @media (min-width: $min) and (max-width: $max) {\n      @content;\n    }\n  } @else if $max == null {\n    @include media-breakpoint-up($lower, $breakpoints) {\n      @content;\n    }\n  } @else if $min == null {\n    @include media-breakpoint-down($upper, $breakpoints) {\n      @content;\n    }\n  }\n}\n\n// Media between the breakpoint's minimum and maximum widths.\n// No minimum for the smallest breakpoint, and no maximum for the largest one.\n// Makes the @content apply only to the given breakpoint, not viewports any wider or narrower.\n@mixin media-breakpoint-only($name, $breakpoints: $grid-breakpoints) {\n  $min:  breakpoint-min($name, $breakpoints);\n  $next: breakpoint-next($name, $breakpoints);\n  $max:  breakpoint-max($next);\n\n  @if $min != null and $max != null {\n    @media (min-width: $min) and (max-width: $max) {\n      @content;\n    }\n  } @else if $max == null {\n    @include media-breakpoint-up($name, $breakpoints) {\n      @content;\n    }\n  } @else if $min == null {\n    @include media-breakpoint-down($next, $breakpoints) {\n      @content;\n    }\n  }\n}\n","// Row\n//\n// Rows contain your columns.\n\n@if $enable-grid-classes {\n  .row {\n    @include make-row();\n\n    > * {\n      @include make-col-ready();\n    }\n  }\n}\n\n@if $enable-cssgrid {\n  .grid {\n    display: grid;\n    grid-template-rows: repeat(var(--#{$variable-prefix}rows, 1), 1fr);\n    grid-template-columns: repeat(var(--#{$variable-prefix}columns, #{$grid-columns}), 1fr);\n    gap: var(--#{$variable-prefix}gap, #{$grid-gutter-width});\n\n    @include make-cssgrid();\n  }\n}\n\n\n// Columns\n//\n// Common styles for small and large grid columns\n\n@if $enable-grid-classes {\n  @include make-grid-columns();\n}\n","// Grid system\n//\n// Generate semantic grid columns with these mixins.\n\n@mixin make-row($gutter: $grid-gutter-width) {\n  --#{$variable-prefix}gutter-x: #{$gutter};\n  --#{$variable-prefix}gutter-y: 0;\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: calc(var(--#{$variable-prefix}gutter-y) * -1); // stylelint-disable-line function-disallowed-list\n  margin-right: calc(var(--#{$variable-prefix}gutter-x) * -.5); // stylelint-disable-line function-disallowed-list\n  margin-left: calc(var(--#{$variable-prefix}gutter-x) * -.5); // stylelint-disable-line function-disallowed-list\n}\n\n@mixin make-col-ready($gutter: $grid-gutter-width) {\n  // Add box sizing if only the grid is loaded\n  box-sizing: if(variable-exists(include-column-box-sizing) and $include-column-box-sizing, border-box, null);\n  // Prevent columns from becoming too narrow when at smaller grid tiers by\n  // always setting `width: 100%;`. This works because we set the width\n  // later on to override this initial width.\n  flex-shrink: 0;\n  width: 100%;\n  max-width: 100%; // Prevent `.col-auto`, `.col` (& responsive variants) from breaking out the grid\n  padding-right: calc(var(--#{$variable-prefix}gutter-x) * .5); // stylelint-disable-line function-disallowed-list\n  padding-left: calc(var(--#{$variable-prefix}gutter-x) * .5); // stylelint-disable-line function-disallowed-list\n  margin-top: var(--#{$variable-prefix}gutter-y);\n}\n\n@mixin make-col($size: false, $columns: $grid-columns) {\n  @if $size {\n    flex: 0 0 auto;\n    width: percentage(divide($size, $columns));\n\n  } @else {\n    flex: 1 1 0;\n    max-width: 100%;\n  }\n}\n\n@mixin make-col-auto() {\n  flex: 0 0 auto;\n  width: auto;\n}\n\n@mixin make-col-offset($size, $columns: $grid-columns) {\n  $num: divide($size, $columns);\n  margin-left: if($num == 0, 0, percentage($num));\n}\n\n// Row columns\n//\n// Specify on a parent element(e.g., .row) to force immediate children into NN\n// numberof columns. Supports wrapping to new lines, but does not do a Masonry\n// style grid.\n@mixin row-cols($count) {\n  > * {\n    flex: 0 0 auto;\n    width: divide(100%, $count);\n  }\n}\n\n// Framework grid generation\n//\n// Used only by Bootstrap to generate the correct number of grid classes given\n// any value of `$grid-columns`.\n\n@mixin make-grid-columns($columns: $grid-columns, $gutter: $grid-gutter-width, $breakpoints: $grid-breakpoints) {\n  @each $breakpoint in map-keys($breakpoints) {\n    $infix: breakpoint-infix($breakpoint, $breakpoints);\n\n    @include media-breakpoint-up($breakpoint, $breakpoints) {\n      // Provide basic `.col-{bp}` classes for equal-width flexbox columns\n      .col#{$infix} {\n        flex: 1 0 0%; // Flexbugs #4: https://github.com/philipwalton/flexbugs#flexbug-4\n      }\n\n      .row-cols#{$infix}-auto > * {\n        @include make-col-auto();\n      }\n\n      @if $grid-row-columns > 0 {\n        @for $i from 1 through $grid-row-columns {\n          .row-cols#{$infix}-#{$i} {\n            @include row-cols($i);\n          }\n        }\n      }\n\n      .col#{$infix}-auto {\n        @include make-col-auto();\n      }\n\n      @if $columns > 0 {\n        @for $i from 1 through $columns {\n          .col#{$infix}-#{$i} {\n            @include make-col($i, $columns);\n          }\n        }\n\n        // `$columns - 1` because offsetting by the width of an entire row isn't possible\n        @for $i from 0 through ($columns - 1) {\n          @if not ($infix == \"\" and $i == 0) { // Avoid emitting useless .offset-0\n            .offset#{$infix}-#{$i} {\n              @include make-col-offset($i, $columns);\n            }\n          }\n        }\n      }\n\n      // Gutters\n      //\n      // Make use of `.g-*`, `.gx-*` or `.gy-*` utilities to change spacing between the columns.\n      @each $key, $value in $gutters {\n        .g#{$infix}-#{$key},\n        .gx#{$infix}-#{$key} {\n          --#{$variable-prefix}gutter-x: #{$value};\n        }\n\n        .g#{$infix}-#{$key},\n        .gy#{$infix}-#{$key} {\n          --#{$variable-prefix}gutter-y: #{$value};\n        }\n      }\n    }\n  }\n}\n\n@mixin make-cssgrid($columns: $grid-columns, $breakpoints: $grid-breakpoints) {\n  @each $breakpoint in map-keys($breakpoints) {\n    $infix: breakpoint-infix($breakpoint, $breakpoints);\n\n    @include media-breakpoint-up($breakpoint, $breakpoints) {\n      @if $columns > 0 {\n        @for $i from 1 through $columns {\n          .g-col#{$infix}-#{$i} {\n            grid-column: auto / span $i;\n          }\n        }\n\n        // Start with `1` because `0` is and invalid value.\n        // Ends with `$columns - 1` because offsetting by the width of an entire row isn't possible.\n        @for $i from 1 through ($columns - 1) {\n          .g-start#{$infix}-#{$i} {\n            grid-column-start: $i;\n          }\n        }\n      }\n    }\n  }\n}\n","//\n// Basic Bootstrap table\n//\n\n.table {\n  --#{$variable-prefix}table-bg: #{$table-bg};\n  --#{$variable-prefix}table-accent-bg: #{$table-accent-bg};\n  --#{$variable-prefix}table-striped-color: #{$table-striped-color};\n  --#{$variable-prefix}table-striped-bg: #{$table-striped-bg};\n  --#{$variable-prefix}table-active-color: #{$table-active-color};\n  --#{$variable-prefix}table-active-bg: #{$table-active-bg};\n  --#{$variable-prefix}table-hover-color: #{$table-hover-color};\n  --#{$variable-prefix}table-hover-bg: #{$table-hover-bg};\n\n  width: 100%;\n  margin-bottom: $spacer;\n  color: $table-color;\n  vertical-align: $table-cell-vertical-align;\n  border-color: $table-border-color;\n\n  // Target th & td\n  // We need the child combinator to prevent styles leaking to nested tables which doesn't have a `.table` class.\n  // We use the universal selectors here to simplify the selector (else we would need 6 different selectors).\n  // Another advantage is that this generates less code and makes the selector less specific making it easier to override.\n  // stylelint-disable-next-line selector-max-universal\n  > :not(caption) > * > * {\n    padding: $table-cell-padding-y $table-cell-padding-x;\n    background-color: var(--#{$variable-prefix}table-bg);\n    border-bottom-width: $table-border-width;\n    box-shadow: inset 0 0 0 9999px var(--#{$variable-prefix}table-accent-bg);\n  }\n\n  > tbody {\n    vertical-align: inherit;\n  }\n\n  > thead {\n    vertical-align: bottom;\n  }\n\n  // Highlight border color between thead, tbody and tfoot.\n  > :not(:last-child) > :last-child > * {\n    border-bottom-color: $table-group-separator-color;\n  }\n}\n\n\n//\n// Change placement of captions with a class\n//\n\n.caption-top {\n  caption-side: top;\n}\n\n\n//\n// Condensed table w/ half padding\n//\n\n.table-sm {\n  // stylelint-disable-next-line selector-max-universal\n  > :not(caption) > * > * {\n    padding: $table-cell-padding-y-sm $table-cell-padding-x-sm;\n  }\n}\n\n\n// Border versions\n//\n// Add or remove borders all around the table and between all the columns.\n//\n// When borders are added on all sides of the cells, the corners can render odd when\n// these borders do not have the same color or if they are semi-transparent.\n// Therefor we add top and border bottoms to the `tr`s and left and right borders\n// to the `td`s or `th`s\n\n.table-bordered {\n  > :not(caption) > * {\n    border-width: $table-border-width 0;\n\n    // stylelint-disable-next-line selector-max-universal\n    > * {\n      border-width: 0 $table-border-width;\n    }\n  }\n}\n\n.table-borderless {\n  // stylelint-disable-next-line selector-max-universal\n  > :not(caption) > * > * {\n    border-bottom-width: 0;\n  }\n}\n\n// Zebra-striping\n//\n// Default zebra-stripe styles (alternating gray and transparent backgrounds)\n\n.table-striped {\n  > tbody > tr:nth-of-type(#{$table-striped-order}) {\n    --#{$variable-prefix}table-accent-bg: var(--#{$variable-prefix}table-striped-bg);\n    color: var(--#{$variable-prefix}table-striped-color);\n  }\n}\n\n// Active table\n//\n// The `.table-active` class can be added to highlight rows or cells\n\n.table-active {\n  --#{$variable-prefix}table-accent-bg: var(--#{$variable-prefix}table-active-bg);\n  color: var(--#{$variable-prefix}table-active-color);\n}\n\n// Hover effect\n//\n// Placed here since it has to come after the potential zebra striping\n\n.table-hover {\n  > tbody > tr:hover {\n    --#{$variable-prefix}table-accent-bg: var(--#{$variable-prefix}table-hover-bg);\n    color: var(--#{$variable-prefix}table-hover-color);\n  }\n}\n\n\n// Table variants\n//\n// Table variants set the table cell backgrounds, border colors\n// and the colors of the striped, hovered & active tables\n\n@each $color, $value in $table-variants {\n  @include table-variant($color, $value);\n}\n\n// Responsive tables\n//\n// Generate series of `.table-responsive-*` classes for configuring the screen\n// size of where your table will overflow.\n\n@each $breakpoint in map-keys($grid-breakpoints) {\n  $infix: breakpoint-infix($breakpoint, $grid-breakpoints);\n\n  @include media-breakpoint-down($breakpoint) {\n    .table-responsive#{$infix} {\n      overflow-x: auto;\n      -webkit-overflow-scrolling: touch;\n    }\n  }\n}\n","// scss-docs-start table-variant\n@mixin table-variant($state, $background) {\n  .table-#{$state} {\n    $color: color-contrast(opaque($body-bg, $background));\n    $hover-bg: mix($color, $background, percentage($table-hover-bg-factor));\n    $striped-bg: mix($color, $background, percentage($table-striped-bg-factor));\n    $active-bg: mix($color, $background, percentage($table-active-bg-factor));\n\n    --#{$variable-prefix}table-bg: #{$background};\n    --#{$variable-prefix}table-striped-bg: #{$striped-bg};\n    --#{$variable-prefix}table-striped-color: #{color-contrast($striped-bg)};\n    --#{$variable-prefix}table-active-bg: #{$active-bg};\n    --#{$variable-prefix}table-active-color: #{color-contrast($active-bg)};\n    --#{$variable-prefix}table-hover-bg: #{$hover-bg};\n    --#{$variable-prefix}table-hover-color: #{color-contrast($hover-bg)};\n\n    color: $color;\n    border-color: mix($color, $background, percentage($table-border-factor));\n  }\n}\n// scss-docs-end table-variant\n","//\n// Labels\n//\n\n.form-label {\n  margin-bottom: $form-label-margin-bottom;\n  @include font-size($form-label-font-size);\n  font-style: $form-label-font-style;\n  font-weight: $form-label-font-weight;\n  color: $form-label-color;\n}\n\n// For use with horizontal and inline forms, when you need the label (or legend)\n// text to align with the form controls.\n.col-form-label {\n  padding-top: add($input-padding-y, $input-border-width);\n  padding-bottom: add($input-padding-y, $input-border-width);\n  margin-bottom: 0; // Override the `<legend>` default\n  @include font-size(inherit); // Override the `<legend>` default\n  font-style: $form-label-font-style;\n  font-weight: $form-label-font-weight;\n  line-height: $input-line-height;\n  color: $form-label-color;\n}\n\n.col-form-label-lg {\n  padding-top: add($input-padding-y-lg, $input-border-width);\n  padding-bottom: add($input-padding-y-lg, $input-border-width);\n  @include font-size($input-font-size-lg);\n}\n\n.col-form-label-sm {\n  padding-top: add($input-padding-y-sm, $input-border-width);\n  padding-bottom: add($input-padding-y-sm, $input-border-width);\n  @include font-size($input-font-size-sm);\n}\n","//\n// Form text\n//\n\n.form-text {\n  margin-top: $form-text-margin-top;\n  @include font-size($form-text-font-size);\n  font-style: $form-text-font-style;\n  font-weight: $form-text-font-weight;\n  color: $form-text-color;\n}\n","//\n// General form controls (plus a few specific high-level interventions)\n//\n\n.form-control {\n  display: block;\n  width: 100%;\n  padding: $input-padding-y $input-padding-x;\n  font-family: $input-font-family;\n  @include font-size($input-font-size);\n  font-weight: $input-font-weight;\n  line-height: $input-line-height;\n  color: $input-color;\n  background-color: $input-bg;\n  background-clip: padding-box;\n  border: $input-border-width solid $input-border-color;\n  appearance: none; // Fix appearance for date inputs in Safari\n\n  // Note: This has no effect on <select>s in some browsers, due to the limited stylability of `<select>`s in CSS.\n  @include border-radius($input-border-radius, 0);\n\n  @include box-shadow($input-box-shadow);\n  @include transition($input-transition);\n\n  &[type=\"file\"] {\n    overflow: hidden; // prevent pseudo element button overlap\n\n    &:not(:disabled):not([readonly]) {\n      cursor: pointer;\n    }\n  }\n\n  // Customize the `:focus` state to imitate native WebKit styles.\n  &:focus {\n    color: $input-focus-color;\n    background-color: $input-focus-bg;\n    border-color: $input-focus-border-color;\n    outline: 0;\n    @if $enable-shadows {\n      @include box-shadow($input-box-shadow, $input-focus-box-shadow);\n    } @else {\n      // Avoid using mixin so we can pass custom focus shadow properly\n      box-shadow: $input-focus-box-shadow;\n    }\n  }\n\n  // Add some height to date inputs on iOS\n  // https://github.com/twbs/bootstrap/issues/23307\n  // TODO: we can remove this workaround once https://bugs.webkit.org/show_bug.cgi?id=198959 is resolved\n  &::-webkit-date-and-time-value {\n    // Multiply line-height by 1em if it has no unit\n    height: if(unit($input-line-height) == \"\", $input-line-height * 1em, $input-line-height);\n  }\n\n  // Placeholder\n  &::placeholder {\n    color: $input-placeholder-color;\n    // Override Firefox's unusual default opacity; see https://github.com/twbs/bootstrap/pull/11526.\n    opacity: 1;\n  }\n\n  // Disabled and read-only inputs\n  //\n  // HTML5 says that controls under a fieldset > legend:first-child won't be\n  // disabled if the fieldset is disabled. Due to implementation difficulty, we\n  // don't honor that edge case; we style them as disabled anyway.\n  &:disabled,\n  &[readonly] {\n    background-color: $input-disabled-bg;\n    border-color: $input-disabled-border-color;\n    // iOS fix for unreadable disabled content; see https://github.com/twbs/bootstrap/issues/11655.\n    opacity: 1;\n  }\n\n  // File input buttons theming\n  &::file-selector-button {\n    padding: $input-padding-y $input-padding-x;\n    margin: (-$input-padding-y) (-$input-padding-x);\n    margin-inline-end: $input-padding-x;\n    color: $form-file-button-color;\n    @include gradient-bg($form-file-button-bg);\n    pointer-events: none;\n    border-color: inherit;\n    border-style: solid;\n    border-width: 0;\n    border-inline-end-width: $input-border-width;\n    border-radius: 0; // stylelint-disable-line property-disallowed-list\n    @include transition($btn-transition);\n  }\n\n  &:hover:not(:disabled):not([readonly])::file-selector-button {\n    background-color: $form-file-button-hover-bg;\n  }\n\n  &::-webkit-file-upload-button {\n    padding: $input-padding-y $input-padding-x;\n    margin: (-$input-padding-y) (-$input-padding-x);\n    margin-inline-end: $input-padding-x;\n    color: $form-file-button-color;\n    @include gradient-bg($form-file-button-bg);\n    pointer-events: none;\n    border-color: inherit;\n    border-style: solid;\n    border-width: 0;\n    border-inline-end-width: $input-border-width;\n    border-radius: 0; // stylelint-disable-line property-disallowed-list\n    @include transition($btn-transition);\n  }\n\n  &:hover:not(:disabled):not([readonly])::-webkit-file-upload-button {\n    background-color: $form-file-button-hover-bg;\n  }\n}\n\n// Readonly controls as plain text\n//\n// Apply class to a readonly input to make it appear like regular plain\n// text (without any border, background color, focus indicator)\n\n.form-control-plaintext {\n  display: block;\n  width: 100%;\n  padding: $input-padding-y 0;\n  margin-bottom: 0; // match inputs if this class comes on inputs with default margins\n  line-height: $input-line-height;\n  color: $input-plaintext-color;\n  background-color: transparent;\n  border: solid transparent;\n  border-width: $input-border-width 0;\n\n  &.form-control-sm,\n  &.form-control-lg {\n    padding-right: 0;\n    padding-left: 0;\n  }\n}\n\n// Form control sizing\n//\n// Build on `.form-control` with modifier classes to decrease or increase the\n// height and font-size of form controls.\n//\n// Repeated in `_input_group.scss` to avoid Sass extend issues.\n\n.form-control-sm {\n  min-height: $input-height-sm;\n  padding: $input-padding-y-sm $input-padding-x-sm;\n  @include font-size($input-font-size-sm);\n  @include border-radius($input-border-radius-sm);\n\n  &::file-selector-button {\n    padding: $input-padding-y-sm $input-padding-x-sm;\n    margin: (-$input-padding-y-sm) (-$input-padding-x-sm);\n    margin-inline-end: $input-padding-x-sm;\n  }\n\n  &::-webkit-file-upload-button {\n    padding: $input-padding-y-sm $input-padding-x-sm;\n    margin: (-$input-padding-y-sm) (-$input-padding-x-sm);\n    margin-inline-end: $input-padding-x-sm;\n  }\n}\n\n.form-control-lg {\n  min-height: $input-height-lg;\n  padding: $input-padding-y-lg $input-padding-x-lg;\n  @include font-size($input-font-size-lg);\n  @include border-radius($input-border-radius-lg);\n\n  &::file-selector-button {\n    padding: $input-padding-y-lg $input-padding-x-lg;\n    margin: (-$input-padding-y-lg) (-$input-padding-x-lg);\n    margin-inline-end: $input-padding-x-lg;\n  }\n\n  &::-webkit-file-upload-button {\n    padding: $input-padding-y-lg $input-padding-x-lg;\n    margin: (-$input-padding-y-lg) (-$input-padding-x-lg);\n    margin-inline-end: $input-padding-x-lg;\n  }\n}\n\n// Make sure textareas don't shrink too much when resized\n// https://github.com/twbs/bootstrap/pull/29124\n// stylelint-disable selector-no-qualifying-type\ntextarea {\n  &.form-control {\n    min-height: $input-height;\n  }\n\n  &.form-control-sm {\n    min-height: $input-height-sm;\n  }\n\n  &.form-control-lg {\n    min-height: $input-height-lg;\n  }\n}\n// stylelint-enable selector-no-qualifying-type\n\n.form-control-color {\n  width: $form-color-width;\n  height: auto; // Override fixed browser height\n  padding: $input-padding-y;\n\n  &:not(:disabled):not([readonly]) {\n    cursor: pointer;\n  }\n\n  &::-moz-color-swatch {\n    height: if(unit($input-line-height) == \"\", $input-line-height * 1em, $input-line-height);\n    @include border-radius($input-border-radius);\n  }\n\n  &::-webkit-color-swatch {\n    height: if(unit($input-line-height) == \"\", $input-line-height * 1em, $input-line-height);\n    @include border-radius($input-border-radius);\n  }\n}\n","// stylelint-disable property-disallowed-list\n@mixin transition($transition...) {\n  @if length($transition) == 0 {\n    $transition: $transition-base;\n  }\n\n  @if length($transition) > 1 {\n    @each $value in $transition {\n      @if $value == null or $value == none {\n        @warn \"The keyword 'none' or 'null' must be used as a single argument.\";\n      }\n    }\n  }\n\n  @if $enable-transitions {\n    @if nth($transition, 1) != null {\n      transition: $transition;\n    }\n\n    @if $enable-reduced-motion and nth($transition, 1) != null and nth($transition, 1) != none {\n      @media (prefers-reduced-motion: reduce) {\n        transition: none;\n      }\n    }\n  }\n}\n","// Gradients\n\n// scss-docs-start gradient-bg-mixin\n@mixin gradient-bg($color: null) {\n  background-color: $color;\n\n  @if $enable-gradients {\n    background-image: var(--#{$variable-prefix}gradient);\n  }\n}\n// scss-docs-end gradient-bg-mixin\n\n// scss-docs-start gradient-mixins\n// Horizontal gradient, from left to right\n//\n// Creates two color stops, start and end, by specifying a color and position for each color stop.\n@mixin gradient-x($start-color: $gray-700, $end-color: $gray-800, $start-percent: 0%, $end-percent: 100%) {\n  background-image: linear-gradient(to right, $start-color $start-percent, $end-color $end-percent);\n}\n\n// Vertical gradient, from top to bottom\n//\n// Creates two color stops, start and end, by specifying a color and position for each color stop.\n@mixin gradient-y($start-color: $gray-700, $end-color: $gray-800, $start-percent: null, $end-percent: null) {\n  background-image: linear-gradient(to bottom, $start-color $start-percent, $end-color $end-percent);\n}\n\n@mixin gradient-directional($start-color: $gray-700, $end-color: $gray-800, $deg: 45deg) {\n  background-image: linear-gradient($deg, $start-color, $end-color);\n}\n\n@mixin gradient-x-three-colors($start-color: $blue, $mid-color: $purple, $color-stop: 50%, $end-color: $red) {\n  background-image: linear-gradient(to right, $start-color, $mid-color $color-stop, $end-color);\n}\n\n@mixin gradient-y-three-colors($start-color: $blue, $mid-color: $purple, $color-stop: 50%, $end-color: $red) {\n  background-image: linear-gradient($start-color, $mid-color $color-stop, $end-color);\n}\n\n@mixin gradient-radial($inner-color: $gray-700, $outer-color: $gray-800) {\n  background-image: radial-gradient(circle, $inner-color, $outer-color);\n}\n\n@mixin gradient-striped($color: rgba($white, .15), $angle: 45deg) {\n  background-image: linear-gradient($angle, $color 25%, transparent 25%, transparent 50%, $color 50%, $color 75%, transparent 75%, transparent);\n}\n// scss-docs-end gradient-mixins\n","// Select\n//\n// Replaces the browser default select with a custom one, mostly pulled from\n// https://primer.github.io/.\n\n.form-select {\n  display: block;\n  width: 100%;\n  padding: $form-select-padding-y $form-select-indicator-padding $form-select-padding-y $form-select-padding-x;\n  // stylelint-disable-next-line property-no-vendor-prefix\n  -moz-padding-start: subtract($form-select-padding-x, 3px); // See https://github.com/twbs/bootstrap/issues/32636\n  font-family: $form-select-font-family;\n  @include font-size($form-select-font-size);\n  font-weight: $form-select-font-weight;\n  line-height: $form-select-line-height;\n  color: $form-select-color;\n  background-color: $form-select-bg;\n  background-image: escape-svg($form-select-indicator);\n  background-repeat: no-repeat;\n  background-position: $form-select-bg-position;\n  background-size: $form-select-bg-size;\n  border: $form-select-border-width solid $form-select-border-color;\n  @include border-radius($form-select-border-radius, 0);\n  @include box-shadow($form-select-box-shadow);\n  @include transition($form-select-transition);\n  appearance: none;\n\n  &:focus {\n    border-color: $form-select-focus-border-color;\n    outline: 0;\n    @if $enable-shadows {\n      @include box-shadow($form-select-box-shadow, $form-select-focus-box-shadow);\n    } @else {\n      // Avoid using mixin so we can pass custom focus shadow properly\n      box-shadow: $form-select-focus-box-shadow;\n    }\n  }\n\n  &[multiple],\n  &[size]:not([size=\"1\"]) {\n    padding-right: $form-select-padding-x;\n    background-image: none;\n  }\n\n  &:disabled {\n    color: $form-select-disabled-color;\n    background-color: $form-select-disabled-bg;\n    border-color: $form-select-disabled-border-color;\n  }\n\n  // Remove outline from select box in FF\n  &:-moz-focusring {\n    color: transparent;\n    text-shadow: 0 0 0 $form-select-color;\n  }\n}\n\n.form-select-sm {\n  padding-top: $form-select-padding-y-sm;\n  padding-bottom: $form-select-padding-y-sm;\n  padding-left: $form-select-padding-x-sm;\n  @include font-size($form-select-font-size-sm);\n}\n\n.form-select-lg {\n  padding-top: $form-select-padding-y-lg;\n  padding-bottom: $form-select-padding-y-lg;\n  padding-left: $form-select-padding-x-lg;\n  @include font-size($form-select-font-size-lg);\n}\n","//\n// Check/radio\n//\n\n.form-check {\n  display: block;\n  min-height: $form-check-min-height;\n  padding-left: $form-check-padding-start;\n  margin-bottom: $form-check-margin-bottom;\n\n  .form-check-input {\n    float: left;\n    margin-left: $form-check-padding-start * -1;\n  }\n}\n\n.form-check-input {\n  width: $form-check-input-width;\n  height: $form-check-input-width;\n  margin-top: ($line-height-base - $form-check-input-width) * .5; // line-height minus check height\n  vertical-align: top;\n  background-color: $form-check-input-bg;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: contain;\n  border: $form-check-input-border;\n  appearance: none;\n  color-adjust: exact; // Keep themed appearance for print\n  @include transition($form-check-transition);\n\n  &[type=\"checkbox\"] {\n    @include border-radius($form-check-input-border-radius);\n  }\n\n  &[type=\"radio\"] {\n    // stylelint-disable-next-line property-disallowed-list\n    border-radius: $form-check-radio-border-radius;\n  }\n\n  &:active {\n    filter: $form-check-input-active-filter;\n  }\n\n  &:focus {\n    border-color: $form-check-input-focus-border;\n    outline: 0;\n    box-shadow: $form-check-input-focus-box-shadow;\n  }\n\n  &:checked {\n    background-color: $form-check-input-checked-bg-color;\n    border-color: $form-check-input-checked-border-color;\n\n    &[type=\"checkbox\"] {\n      @if $enable-gradients {\n        background-image: escape-svg($form-check-input-checked-bg-image), var(--#{$variable-prefix}gradient);\n      } @else {\n        background-image: escape-svg($form-check-input-checked-bg-image);\n      }\n    }\n\n    &[type=\"radio\"] {\n      @if $enable-gradients {\n        background-image: escape-svg($form-check-radio-checked-bg-image), var(--#{$variable-prefix}gradient);\n      } @else {\n        background-image: escape-svg($form-check-radio-checked-bg-image);\n      }\n    }\n  }\n\n  &[type=\"checkbox\"]:indeterminate {\n    background-color: $form-check-input-indeterminate-bg-color;\n    border-color: $form-check-input-indeterminate-border-color;\n\n    @if $enable-gradients {\n      background-image: escape-svg($form-check-input-indeterminate-bg-image), var(--#{$variable-prefix}gradient);\n    } @else {\n      background-image: escape-svg($form-check-input-indeterminate-bg-image);\n    }\n  }\n\n  &:disabled {\n    pointer-events: none;\n    filter: none;\n    opacity: $form-check-input-disabled-opacity;\n  }\n\n  // Use disabled attribute in addition of :disabled pseudo-class\n  // See: https://github.com/twbs/bootstrap/issues/28247\n  &[disabled],\n  &:disabled {\n    ~ .form-check-label {\n      opacity: $form-check-label-disabled-opacity;\n    }\n  }\n}\n\n.form-check-label {\n  color: $form-check-label-color;\n  cursor: $form-check-label-cursor;\n}\n\n//\n// Switch\n//\n\n.form-switch {\n  padding-left: $form-switch-padding-start;\n\n  .form-check-input {\n    width: $form-switch-width;\n    margin-left: $form-switch-padding-start * -1;\n    background-image: escape-svg($form-switch-bg-image);\n    background-position: left center;\n    @include border-radius($form-switch-border-radius);\n    @include transition($form-switch-transition);\n\n    &:focus {\n      background-image: escape-svg($form-switch-focus-bg-image);\n    }\n\n    &:checked {\n      background-position: $form-switch-checked-bg-position;\n\n      @if $enable-gradients {\n        background-image: escape-svg($form-switch-checked-bg-image), var(--#{$variable-prefix}gradient);\n      } @else {\n        background-image: escape-svg($form-switch-checked-bg-image);\n      }\n    }\n  }\n}\n\n.form-check-inline {\n  display: inline-block;\n  margin-right: $form-check-inline-margin-end;\n}\n\n.btn-check {\n  position: absolute;\n  clip: rect(0, 0, 0, 0);\n  pointer-events: none;\n\n  &[disabled],\n  &:disabled {\n    + .btn {\n      pointer-events: none;\n      filter: none;\n      opacity: $form-check-btn-check-disabled-opacity;\n    }\n  }\n}\n","// Range\n//\n// Style range inputs the same across browsers. Vendor-specific rules for pseudo\n// elements cannot be mixed. As such, there are no shared styles for focus or\n// active states on prefixed selectors.\n\n.form-range {\n  width: 100%;\n  height: add($form-range-thumb-height, $form-range-thumb-focus-box-shadow-width * 2);\n  padding: 0; // Need to reset padding\n  background-color: transparent;\n  appearance: none;\n\n  &:focus {\n    outline: 0;\n\n    // Pseudo-elements must be split across multiple rulesets to have an effect.\n    // No box-shadow() mixin for focus accessibility.\n    &::-webkit-slider-thumb { box-shadow: $form-range-thumb-focus-box-shadow; }\n    &::-moz-range-thumb     { box-shadow: $form-range-thumb-focus-box-shadow; }\n  }\n\n  &::-moz-focus-outer {\n    border: 0;\n  }\n\n  &::-webkit-slider-thumb {\n    width: $form-range-thumb-width;\n    height: $form-range-thumb-height;\n    margin-top: ($form-range-track-height - $form-range-thumb-height) * .5; // Webkit specific\n    @include gradient-bg($form-range-thumb-bg);\n    border: $form-range-thumb-border;\n    @include border-radius($form-range-thumb-border-radius);\n    @include box-shadow($form-range-thumb-box-shadow);\n    @include transition($form-range-thumb-transition);\n    appearance: none;\n\n    &:active {\n      @include gradient-bg($form-range-thumb-active-bg);\n    }\n  }\n\n  &::-webkit-slider-runnable-track {\n    width: $form-range-track-width;\n    height: $form-range-track-height;\n    color: transparent; // Why?\n    cursor: $form-range-track-cursor;\n    background-color: $form-range-track-bg;\n    border-color: transparent;\n    @include border-radius($form-range-track-border-radius);\n    @include box-shadow($form-range-track-box-shadow);\n  }\n\n  &::-moz-range-thumb {\n    width: $form-range-thumb-width;\n    height: $form-range-thumb-height;\n    @include gradient-bg($form-range-thumb-bg);\n    border: $form-range-thumb-border;\n    @include border-radius($form-range-thumb-border-radius);\n    @include box-shadow($form-range-thumb-box-shadow);\n    @include transition($form-range-thumb-transition);\n    appearance: none;\n\n    &:active {\n      @include gradient-bg($form-range-thumb-active-bg);\n    }\n  }\n\n  &::-moz-range-track {\n    width: $form-range-track-width;\n    height: $form-range-track-height;\n    color: transparent;\n    cursor: $form-range-track-cursor;\n    background-color: $form-range-track-bg;\n    border-color: transparent; // Firefox specific?\n    @include border-radius($form-range-track-border-radius);\n    @include box-shadow($form-range-track-box-shadow);\n  }\n\n  &:disabled {\n    pointer-events: none;\n\n    &::-webkit-slider-thumb {\n      background-color: $form-range-thumb-disabled-bg;\n    }\n\n    &::-moz-range-thumb {\n      background-color: $form-range-thumb-disabled-bg;\n    }\n  }\n}\n",".form-floating {\n  position: relative;\n\n  > .form-control,\n  > .form-select {\n    height: $form-floating-height;\n    line-height: $form-floating-line-height;\n  }\n\n  > label {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%; // allow textareas\n    padding: $form-floating-padding-y $form-floating-padding-x;\n    pointer-events: none;\n    border: $input-border-width solid transparent; // Required for aligning label's text with the input as it affects inner box model\n    transform-origin: 0 0;\n    @include transition($form-floating-transition);\n  }\n\n  // stylelint-disable no-duplicate-selectors\n  > .form-control {\n    padding: $form-floating-padding-y $form-floating-padding-x;\n\n    &::placeholder {\n      color: transparent;\n    }\n\n    &:focus,\n    &:not(:placeholder-shown) {\n      padding-top: $form-floating-input-padding-t;\n      padding-bottom: $form-floating-input-padding-b;\n    }\n    // Duplicated because `:-webkit-autofill` invalidates other selectors when grouped\n    &:-webkit-autofill {\n      padding-top: $form-floating-input-padding-t;\n      padding-bottom: $form-floating-input-padding-b;\n    }\n  }\n\n  > .form-select {\n    padding-top: $form-floating-input-padding-t;\n    padding-bottom: $form-floating-input-padding-b;\n  }\n\n  > .form-control:focus,\n  > .form-control:not(:placeholder-shown),\n  > .form-select {\n    ~ label {\n      opacity: $form-floating-label-opacity;\n      transform: $form-floating-label-transform;\n    }\n  }\n  // Duplicated because `:-webkit-autofill` invalidates other selectors when grouped\n  > .form-control:-webkit-autofill {\n    ~ label {\n      opacity: $form-floating-label-opacity;\n      transform: $form-floating-label-transform;\n    }\n  }\n  // stylelint-enable no-duplicate-selectors\n}\n","//\n// Base styles\n//\n\n.input-group {\n  position: relative;\n  display: flex;\n  flex-wrap: wrap; // For form validation feedback\n  align-items: stretch;\n  width: 100%;\n\n  > .form-control,\n  > .form-select {\n    position: relative; // For focus state's z-index\n    flex: 1 1 auto;\n    width: 1%;\n    min-width: 0; // https://stackoverflow.com/questions/36247140/why-dont-flex-items-shrink-past-content-size\n  }\n\n  // Bring the \"active\" form control to the top of surrounding elements\n  > .form-control:focus,\n  > .form-select:focus {\n    z-index: 3;\n  }\n\n  // Ensure buttons are always above inputs for more visually pleasing borders.\n  // This isn't needed for `.input-group-text` since it shares the same border-color\n  // as our inputs.\n  .btn {\n    position: relative;\n    z-index: 2;\n\n    &:focus {\n      z-index: 3;\n    }\n  }\n}\n\n\n// Textual addons\n//\n// Serves as a catch-all element for any text or radio/checkbox input you wish\n// to prepend or append to an input.\n\n.input-group-text {\n  display: flex;\n  align-items: center;\n  padding: $input-group-addon-padding-y $input-group-addon-padding-x;\n  @include font-size($input-font-size); // Match inputs\n  font-weight: $input-group-addon-font-weight;\n  line-height: $input-line-height;\n  color: $input-group-addon-color;\n  text-align: center;\n  white-space: nowrap;\n  background-color: $input-group-addon-bg;\n  border: $input-border-width solid $input-group-addon-border-color;\n  @include border-radius($input-border-radius);\n}\n\n\n// Sizing\n//\n// Remix the default form control sizing classes into new ones for easier\n// manipulation.\n\n.input-group-lg > .form-control,\n.input-group-lg > .form-select,\n.input-group-lg > .input-group-text,\n.input-group-lg > .btn {\n  padding: $input-padding-y-lg $input-padding-x-lg;\n  @include font-size($input-font-size-lg);\n  @include border-radius($input-border-radius-lg);\n}\n\n.input-group-sm > .form-control,\n.input-group-sm > .form-select,\n.input-group-sm > .input-group-text,\n.input-group-sm > .btn {\n  padding: $input-padding-y-sm $input-padding-x-sm;\n  @include font-size($input-font-size-sm);\n  @include border-radius($input-border-radius-sm);\n}\n\n.input-group-lg > .form-select,\n.input-group-sm > .form-select {\n  padding-right: $form-select-padding-x + $form-select-indicator-padding;\n}\n\n\n// Rounded corners\n//\n// These rulesets must come after the sizing ones to properly override sm and lg\n// border-radius values when extending. They're more specific than we'd like\n// with the `.input-group >` part, but without it, we cannot override the sizing.\n\n// stylelint-disable-next-line no-duplicate-selectors\n.input-group {\n  &:not(.has-validation) {\n    > :not(:last-child):not(.dropdown-toggle):not(.dropdown-menu),\n    > .dropdown-toggle:nth-last-child(n + 3) {\n      @include border-end-radius(0);\n    }\n  }\n\n  &.has-validation {\n    > :nth-last-child(n + 3):not(.dropdown-toggle):not(.dropdown-menu),\n    > .dropdown-toggle:nth-last-child(n + 4) {\n      @include border-end-radius(0);\n    }\n  }\n\n  $validation-messages: \"\";\n  @each $state in map-keys($form-validation-states) {\n    $validation-messages: $validation-messages + \":not(.\" + unquote($state) + \"-tooltip)\" + \":not(.\" + unquote($state) + \"-feedback)\";\n  }\n\n  > :not(:first-child):not(.dropdown-menu)#{$validation-messages} {\n    margin-left: -$input-border-width;\n    @include border-start-radius(0);\n  }\n}\n","// This mixin uses an `if()` technique to be compatible with Dart Sass\n// See https://github.com/sass/sass/issues/1873#issuecomment-152293725 for more details\n\n// scss-docs-start form-validation-mixins\n@mixin form-validation-state-selector($state) {\n  @if ($state == \"valid\" or $state == \"invalid\") {\n    .was-validated #{if(&, \"&\", \"\")}:#{$state},\n    #{if(&, \"&\", \"\")}.is-#{$state} {\n      @content;\n    }\n  } @else {\n    #{if(&, \"&\", \"\")}.is-#{$state} {\n      @content;\n    }\n  }\n}\n\n@mixin form-validation-state(\n  $state,\n  $color,\n  $icon,\n  $tooltip-color: color-contrast($color),\n  $tooltip-bg-color: rgba($color, $form-feedback-tooltip-opacity),\n  $focus-box-shadow: 0 0 $input-btn-focus-blur $input-focus-width rgba($color, $input-btn-focus-color-opacity)\n) {\n  .#{$state}-feedback {\n    display: none;\n    width: 100%;\n    margin-top: $form-feedback-margin-top;\n    @include font-size($form-feedback-font-size);\n    font-style: $form-feedback-font-style;\n    color: $color;\n  }\n\n  .#{$state}-tooltip {\n    position: absolute;\n    top: 100%;\n    z-index: 5;\n    display: none;\n    max-width: 100%; // Contain to parent when possible\n    padding: $form-feedback-tooltip-padding-y $form-feedback-tooltip-padding-x;\n    margin-top: .1rem;\n    @include font-size($form-feedback-tooltip-font-size);\n    line-height: $form-feedback-tooltip-line-height;\n    color: $tooltip-color;\n    background-color: $tooltip-bg-color;\n    @include border-radius($form-feedback-tooltip-border-radius);\n  }\n\n  @include form-validation-state-selector($state) {\n    ~ .#{$state}-feedback,\n    ~ .#{$state}-tooltip {\n      display: block;\n    }\n  }\n\n  .form-control {\n    @include form-validation-state-selector($state) {\n      border-color: $color;\n\n      @if $enable-validation-icons {\n        padding-right: $input-height-inner;\n        background-image: escape-svg($icon);\n        background-repeat: no-repeat;\n        background-position: right $input-height-inner-quarter center;\n        background-size: $input-height-inner-half $input-height-inner-half;\n      }\n\n      &:focus {\n        border-color: $color;\n        box-shadow: $focus-box-shadow;\n      }\n    }\n  }\n\n  // stylelint-disable-next-line selector-no-qualifying-type\n  textarea.form-control {\n    @include form-validation-state-selector($state) {\n      @if $enable-validation-icons {\n        padding-right: $input-height-inner;\n        background-position: top $input-height-inner-quarter right $input-height-inner-quarter;\n      }\n    }\n  }\n\n  .form-select {\n    @include form-validation-state-selector($state) {\n      border-color: $color;\n\n      @if $enable-validation-icons {\n        &:not([multiple]):not([size]),\n        &:not([multiple])[size=\"1\"] {\n          padding-right: $form-select-feedback-icon-padding-end;\n          background-image: escape-svg($form-select-indicator), escape-svg($icon);\n          background-position: $form-select-bg-position, $form-select-feedback-icon-position;\n          background-size: $form-select-bg-size, $form-select-feedback-icon-size;\n        }\n      }\n\n      &:focus {\n        border-color: $color;\n        box-shadow: $focus-box-shadow;\n      }\n    }\n  }\n\n  .form-check-input {\n    @include form-validation-state-selector($state) {\n      border-color: $color;\n\n      &:checked {\n        background-color: $color;\n      }\n\n      &:focus {\n        box-shadow: $focus-box-shadow;\n      }\n\n      ~ .form-check-label {\n        color: $color;\n      }\n    }\n  }\n  .form-check-inline .form-check-input {\n    ~ .#{$state}-feedback {\n      margin-left: .5em;\n    }\n  }\n\n  .input-group .form-control,\n  .input-group .form-select {\n    @include form-validation-state-selector($state) {\n      @if $state == \"valid\" {\n        z-index: 1;\n      } @else if $state == \"invalid\" {\n        z-index: 2;\n      }\n      &:focus {\n        z-index: 3;\n      }\n    }\n  }\n}\n// scss-docs-end form-validation-mixins\n","//\n// Base styles\n//\n\n.btn {\n  display: inline-block;\n  font-family: $btn-font-family;\n  font-weight: $btn-font-weight;\n  line-height: $btn-line-height;\n  color: $body-color;\n  text-align: center;\n  text-decoration: if($link-decoration == none, null, none);\n  white-space: $btn-white-space;\n  vertical-align: middle;\n  cursor: if($enable-button-pointers, pointer, null);\n  user-select: none;\n  background-color: transparent;\n  border: $btn-border-width solid transparent;\n  @include button-size($btn-padding-y, $btn-padding-x, $btn-font-size, $btn-border-radius);\n  @include transition($btn-transition);\n\n  &:hover {\n    color: $body-color;\n    text-decoration: if($link-hover-decoration == underline, none, null);\n  }\n\n  .btn-check:focus + &,\n  &:focus {\n    outline: 0;\n    box-shadow: $btn-focus-box-shadow;\n  }\n\n  .btn-check:checked + &,\n  .btn-check:active + &,\n  &:active,\n  &.active {\n    @include box-shadow($btn-active-box-shadow);\n\n    &:focus {\n      @include box-shadow($btn-focus-box-shadow, $btn-active-box-shadow);\n    }\n  }\n\n  &:disabled,\n  &.disabled,\n  fieldset:disabled & {\n    pointer-events: none;\n    opacity: $btn-disabled-opacity;\n    @include box-shadow(none);\n  }\n}\n\n\n//\n// Alternate buttons\n//\n\n// scss-docs-start btn-variant-loops\n@each $color, $value in $theme-colors {\n  .btn-#{$color} {\n    @include button-variant($value, $value);\n  }\n}\n\n@each $color, $value in $theme-colors {\n  .btn-outline-#{$color} {\n    @include button-outline-variant($value);\n  }\n}\n// scss-docs-end btn-variant-loops\n\n\n//\n// Link buttons\n//\n\n// Make a button look and behave like a link\n.btn-link {\n  font-weight: $font-weight-normal;\n  color: $btn-link-color;\n  text-decoration: $link-decoration;\n\n  &:hover {\n    color: $btn-link-hover-color;\n    text-decoration: $link-hover-decoration;\n  }\n\n  &:focus {\n    text-decoration: $link-hover-decoration;\n  }\n\n  &:disabled,\n  &.disabled {\n    color: $btn-link-disabled-color;\n  }\n\n  // No need for an active state here\n}\n\n\n//\n// Button Sizes\n//\n\n.btn-lg {\n  @include button-size($btn-padding-y-lg, $btn-padding-x-lg, $btn-font-size-lg, $btn-border-radius-lg);\n}\n\n.btn-sm {\n  @include button-size($btn-padding-y-sm, $btn-padding-x-sm, $btn-font-size-sm, $btn-border-radius-sm);\n}\n","// Button variants\n//\n// Easily pump out default styles, as well as :hover, :focus, :active,\n// and disabled options for all buttons\n\n// scss-docs-start btn-variant-mixin\n@mixin button-variant(\n  $background,\n  $border,\n  $color: color-contrast($background),\n  $hover-background: if($color == $color-contrast-light, shade-color($background, $btn-hover-bg-shade-amount), tint-color($background, $btn-hover-bg-tint-amount)),\n  $hover-border: if($color == $color-contrast-light, shade-color($border, $btn-hover-border-shade-amount), tint-color($border, $btn-hover-border-tint-amount)),\n  $hover-color: color-contrast($hover-background),\n  $active-background: if($color == $color-contrast-light, shade-color($background, $btn-active-bg-shade-amount), tint-color($background, $btn-active-bg-tint-amount)),\n  $active-border: if($color == $color-contrast-light, shade-color($border, $btn-active-border-shade-amount), tint-color($border, $btn-active-border-tint-amount)),\n  $active-color: color-contrast($active-background),\n  $disabled-background: $background,\n  $disabled-border: $border,\n  $disabled-color: color-contrast($disabled-background)\n) {\n  color: $color;\n  @include gradient-bg($background);\n  border-color: $border;\n  @include box-shadow($btn-box-shadow);\n\n  &:hover {\n    color: $hover-color;\n    @include gradient-bg($hover-background);\n    border-color: $hover-border;\n  }\n\n  .btn-check:focus + &,\n  &:focus {\n    color: $hover-color;\n    @include gradient-bg($hover-background);\n    border-color: $hover-border;\n    @if $enable-shadows {\n      @include box-shadow($btn-box-shadow, 0 0 0 $btn-focus-width rgba(mix($color, $border, 15%), .5));\n    } @else {\n      // Avoid using mixin so we can pass custom focus shadow properly\n      box-shadow: 0 0 0 $btn-focus-width rgba(mix($color, $border, 15%), .5);\n    }\n  }\n\n  .btn-check:checked + &,\n  .btn-check:active + &,\n  &:active,\n  &.active,\n  .show > &.dropdown-toggle {\n    color: $active-color;\n    background-color: $active-background;\n    // Remove CSS gradients if they're enabled\n    background-image: if($enable-gradients, none, null);\n    border-color: $active-border;\n\n    &:focus {\n      @if $enable-shadows {\n        @include box-shadow($btn-active-box-shadow, 0 0 0 $btn-focus-width rgba(mix($color, $border, 15%), .5));\n      } @else {\n        // Avoid using mixin so we can pass custom focus shadow properly\n        box-shadow: 0 0 0 $btn-focus-width rgba(mix($color, $border, 15%), .5);\n      }\n    }\n  }\n\n  &:disabled,\n  &.disabled {\n    color: $disabled-color;\n    background-color: $disabled-background;\n    // Remove CSS gradients if they're enabled\n    background-image: if($enable-gradients, none, null);\n    border-color: $disabled-border;\n  }\n}\n// scss-docs-end btn-variant-mixin\n\n// scss-docs-start btn-outline-variant-mixin\n@mixin button-outline-variant(\n  $color,\n  $color-hover: color-contrast($color),\n  $active-background: $color,\n  $active-border: $color,\n  $active-color: color-contrast($active-background)\n) {\n  color: $color;\n  border-color: $color;\n\n  &:hover {\n    color: $color-hover;\n    background-color: $active-background;\n    border-color: $active-border;\n  }\n\n  .btn-check:focus + &,\n  &:focus {\n    box-shadow: 0 0 0 $btn-focus-width rgba($color, .5);\n  }\n\n  .btn-check:checked + &,\n  .btn-check:active + &,\n  &:active,\n  &.active,\n  &.dropdown-toggle.show {\n    color: $active-color;\n    background-color: $active-background;\n    border-color: $active-border;\n\n    &:focus {\n      @if $enable-shadows {\n        @include box-shadow($btn-active-box-shadow, 0 0 0 $btn-focus-width rgba($color, .5));\n      } @else {\n        // Avoid using mixin so we can pass custom focus shadow properly\n        box-shadow: 0 0 0 $btn-focus-width rgba($color, .5);\n      }\n    }\n  }\n\n  &:disabled,\n  &.disabled {\n    color: $color;\n    background-color: transparent;\n  }\n}\n// scss-docs-end btn-outline-variant-mixin\n\n// scss-docs-start btn-size-mixin\n@mixin button-size($padding-y, $padding-x, $font-size, $border-radius) {\n  padding: $padding-y $padding-x;\n  @include font-size($font-size);\n  // Manually declare to provide an override to the browser default\n  @include border-radius($border-radius, 0);\n}\n// scss-docs-end btn-size-mixin\n",".fade {\n  @include transition($transition-fade);\n\n  &:not(.show) {\n    opacity: 0;\n  }\n}\n\n// scss-docs-start collapse-classes\n.collapse {\n  &:not(.show) {\n    display: none;\n  }\n}\n\n.collapsing {\n  height: 0;\n  overflow: hidden;\n  @include transition($transition-collapse);\n\n  &.collapse-horizontal {\n    width: 0;\n    height: auto;\n    @include transition($transition-collapse-width);\n  }\n}\n// scss-docs-end collapse-classes\n","// The dropdown wrapper (`<div>`)\n.dropup,\n.dropend,\n.dropdown,\n.dropstart {\n  position: relative;\n}\n\n.dropdown-toggle {\n  white-space: nowrap;\n\n  // Generate the caret automatically\n  @include caret();\n}\n\n// The dropdown menu\n.dropdown-menu {\n  position: absolute;\n  z-index: $zindex-dropdown;\n  display: none; // none by default, but block on \"open\" of the menu\n  min-width: $dropdown-min-width;\n  padding: $dropdown-padding-y $dropdown-padding-x;\n  margin: 0; // Override default margin of ul\n  @include font-size($dropdown-font-size);\n  color: $dropdown-color;\n  text-align: left; // Ensures proper alignment if parent has it changed (e.g., modal footer)\n  list-style: none;\n  background-color: $dropdown-bg;\n  background-clip: padding-box;\n  border: $dropdown-border-width solid $dropdown-border-color;\n  @include border-radius($dropdown-border-radius);\n  @include box-shadow($dropdown-box-shadow);\n\n  &[data-bs-popper] {\n    top: 100%;\n    left: 0;\n    margin-top: $dropdown-spacer;\n  }\n}\n\n// scss-docs-start responsive-breakpoints\n// We deliberately hardcode the `bs-` prefix because we check\n// this custom property in JS to determine Popper's positioning\n\n@each $breakpoint in map-keys($grid-breakpoints) {\n  @include media-breakpoint-up($breakpoint) {\n    $infix: breakpoint-infix($breakpoint, $grid-breakpoints);\n\n    .dropdown-menu#{$infix}-start {\n      --bs-position: start;\n\n      &[data-bs-popper] {\n        right: auto;\n        left: 0;\n      }\n    }\n\n    .dropdown-menu#{$infix}-end {\n      --bs-position: end;\n\n      &[data-bs-popper] {\n        right: 0;\n        left: auto;\n      }\n    }\n  }\n}\n// scss-docs-end responsive-breakpoints\n\n// Allow for dropdowns to go bottom up (aka, dropup-menu)\n// Just add .dropup after the standard .dropdown class and you're set.\n.dropup {\n  .dropdown-menu[data-bs-popper] {\n    top: auto;\n    bottom: 100%;\n    margin-top: 0;\n    margin-bottom: $dropdown-spacer;\n  }\n\n  .dropdown-toggle {\n    @include caret(up);\n  }\n}\n\n.dropend {\n  .dropdown-menu[data-bs-popper] {\n    top: 0;\n    right: auto;\n    left: 100%;\n    margin-top: 0;\n    margin-left: $dropdown-spacer;\n  }\n\n  .dropdown-toggle {\n    @include caret(end);\n    &::after {\n      vertical-align: 0;\n    }\n  }\n}\n\n.dropstart {\n  .dropdown-menu[data-bs-popper] {\n    top: 0;\n    right: 100%;\n    left: auto;\n    margin-top: 0;\n    margin-right: $dropdown-spacer;\n  }\n\n  .dropdown-toggle {\n    @include caret(start);\n    &::before {\n      vertical-align: 0;\n    }\n  }\n}\n\n\n// Dividers (basically an `<hr>`) within the dropdown\n.dropdown-divider {\n  height: 0;\n  margin: $dropdown-divider-margin-y 0;\n  overflow: hidden;\n  border-top: 1px solid $dropdown-divider-bg;\n}\n\n// Links, buttons, and more within the dropdown menu\n//\n// `<button>`-specific styles are denoted with `// For <button>s`\n.dropdown-item {\n  display: block;\n  width: 100%; // For `<button>`s\n  padding: $dropdown-item-padding-y $dropdown-item-padding-x;\n  clear: both;\n  font-weight: $font-weight-normal;\n  color: $dropdown-link-color;\n  text-align: inherit; // For `<button>`s\n  text-decoration: if($link-decoration == none, null, none);\n  white-space: nowrap; // prevent links from randomly breaking onto new lines\n  background-color: transparent; // For `<button>`s\n  border: 0; // For `<button>`s\n\n  // Prevent dropdown overflow if there's no padding\n  // See https://github.com/twbs/bootstrap/pull/27703\n  @if $dropdown-padding-y == 0 {\n    &:first-child {\n      @include border-top-radius($dropdown-inner-border-radius);\n    }\n\n    &:last-child {\n      @include border-bottom-radius($dropdown-inner-border-radius);\n    }\n  }\n\n  &:hover,\n  &:focus {\n    color: $dropdown-link-hover-color;\n    text-decoration: if($link-hover-decoration == underline, none, null);\n    @include gradient-bg($dropdown-link-hover-bg);\n  }\n\n  &.active,\n  &:active {\n    color: $dropdown-link-active-color;\n    text-decoration: none;\n    @include gradient-bg($dropdown-link-active-bg);\n  }\n\n  &.disabled,\n  &:disabled {\n    color: $dropdown-link-disabled-color;\n    pointer-events: none;\n    background-color: transparent;\n    // Remove CSS gradients if they're enabled\n    background-image: if($enable-gradients, none, null);\n  }\n}\n\n.dropdown-menu.show {\n  display: block;\n}\n\n// Dropdown section headers\n.dropdown-header {\n  display: block;\n  padding: $dropdown-header-padding;\n  margin-bottom: 0; // for use with heading elements\n  @include font-size($font-size-sm);\n  color: $dropdown-header-color;\n  white-space: nowrap; // as with > li > a\n}\n\n// Dropdown text\n.dropdown-item-text {\n  display: block;\n  padding: $dropdown-item-padding-y $dropdown-item-padding-x;\n  color: $dropdown-link-color;\n}\n\n// Dark dropdowns\n.dropdown-menu-dark {\n  color: $dropdown-dark-color;\n  background-color: $dropdown-dark-bg;\n  border-color: $dropdown-dark-border-color;\n  @include box-shadow($dropdown-dark-box-shadow);\n\n  .dropdown-item {\n    color: $dropdown-dark-link-color;\n\n    &:hover,\n    &:focus {\n      color: $dropdown-dark-link-hover-color;\n      @include gradient-bg($dropdown-dark-link-hover-bg);\n    }\n\n    &.active,\n    &:active {\n      color: $dropdown-dark-link-active-color;\n      @include gradient-bg($dropdown-dark-link-active-bg);\n    }\n\n    &.disabled,\n    &:disabled {\n      color: $dropdown-dark-link-disabled-color;\n    }\n  }\n\n  .dropdown-divider {\n    border-color: $dropdown-dark-divider-bg;\n  }\n\n  .dropdown-item-text {\n    color: $dropdown-dark-link-color;\n  }\n\n  .dropdown-header {\n    color: $dropdown-dark-header-color;\n  }\n}\n","// scss-docs-start caret-mixins\n@mixin caret-down {\n  border-top: $caret-width solid;\n  border-right: $caret-width solid transparent;\n  border-bottom: 0;\n  border-left: $caret-width solid transparent;\n}\n\n@mixin caret-up {\n  border-top: 0;\n  border-right: $caret-width solid transparent;\n  border-bottom: $caret-width solid;\n  border-left: $caret-width solid transparent;\n}\n\n@mixin caret-end {\n  border-top: $caret-width solid transparent;\n  border-right: 0;\n  border-bottom: $caret-width solid transparent;\n  border-left: $caret-width solid;\n}\n\n@mixin caret-start {\n  border-top: $caret-width solid transparent;\n  border-right: $caret-width solid;\n  border-bottom: $caret-width solid transparent;\n}\n\n@mixin caret($direction: down) {\n  @if $enable-caret {\n    &::after {\n      display: inline-block;\n      margin-left: $caret-spacing;\n      vertical-align: $caret-vertical-align;\n      content: \"\";\n      @if $direction == down {\n        @include caret-down();\n      } @else if $direction == up {\n        @include caret-up();\n      } @else if $direction == end {\n        @include caret-end();\n      }\n    }\n\n    @if $direction == start {\n      &::after {\n        display: none;\n      }\n\n      &::before {\n        display: inline-block;\n        margin-right: $caret-spacing;\n        vertical-align: $caret-vertical-align;\n        content: \"\";\n        @include caret-start();\n      }\n    }\n\n    &:empty::after {\n      margin-left: 0;\n    }\n  }\n}\n// scss-docs-end caret-mixins\n","// Make the div behave like a button\n.btn-group,\n.btn-group-vertical {\n  position: relative;\n  display: inline-flex;\n  vertical-align: middle; // match .btn alignment given font-size hack above\n\n  > .btn {\n    position: relative;\n    flex: 1 1 auto;\n  }\n\n  // Bring the hover, focused, and \"active\" buttons to the front to overlay\n  // the borders properly\n  > .btn-check:checked + .btn,\n  > .btn-check:focus + .btn,\n  > .btn:hover,\n  > .btn:focus,\n  > .btn:active,\n  > .btn.active {\n    z-index: 1;\n  }\n}\n\n// Optional: Group multiple button groups together for a toolbar\n.btn-toolbar {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n\n  .input-group {\n    width: auto;\n  }\n}\n\n.btn-group {\n  // Prevent double borders when buttons are next to each other\n  > .btn:not(:first-child),\n  > .btn-group:not(:first-child) {\n    margin-left: -$btn-border-width;\n  }\n\n  // Reset rounded corners\n  > .btn:not(:last-child):not(.dropdown-toggle),\n  > .btn-group:not(:last-child) > .btn {\n    @include border-end-radius(0);\n  }\n\n  // The left radius should be 0 if the button is:\n  // - the \"third or more\" child\n  // - the second child and the previous element isn't `.btn-check` (making it the first child visually)\n  // - part of a btn-group which isn't the first child\n  > .btn:nth-child(n + 3),\n  > :not(.btn-check) + .btn,\n  > .btn-group:not(:first-child) > .btn {\n    @include border-start-radius(0);\n  }\n}\n\n// Sizing\n//\n// Remix the default button sizing classes into new ones for easier manipulation.\n\n.btn-group-sm > .btn { @extend .btn-sm; }\n.btn-group-lg > .btn { @extend .btn-lg; }\n\n\n//\n// Split button dropdowns\n//\n\n.dropdown-toggle-split {\n  padding-right: $btn-padding-x * .75;\n  padding-left: $btn-padding-x * .75;\n\n  &::after,\n  .dropup &::after,\n  .dropend &::after {\n    margin-left: 0;\n  }\n\n  .dropstart &::before {\n    margin-right: 0;\n  }\n}\n\n.btn-sm + .dropdown-toggle-split {\n  padding-right: $btn-padding-x-sm * .75;\n  padding-left: $btn-padding-x-sm * .75;\n}\n\n.btn-lg + .dropdown-toggle-split {\n  padding-right: $btn-padding-x-lg * .75;\n  padding-left: $btn-padding-x-lg * .75;\n}\n\n\n// The clickable button for toggling the menu\n// Set the same inset shadow as the :active state\n.btn-group.show .dropdown-toggle {\n  @include box-shadow($btn-active-box-shadow);\n\n  // Show no shadow for `.btn-link` since it has no other button styles.\n  &.btn-link {\n    @include box-shadow(none);\n  }\n}\n\n\n//\n// Vertical button groups\n//\n\n.btn-group-vertical {\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n\n  > .btn,\n  > .btn-group {\n    width: 100%;\n  }\n\n  > .btn:not(:first-child),\n  > .btn-group:not(:first-child) {\n    margin-top: -$btn-border-width;\n  }\n\n  // Reset rounded corners\n  > .btn:not(:last-child):not(.dropdown-toggle),\n  > .btn-group:not(:last-child) > .btn {\n    @include border-bottom-radius(0);\n  }\n\n  > .btn ~ .btn,\n  > .btn-group:not(:first-child) > .btn {\n    @include border-top-radius(0);\n  }\n}\n","// Base class\n//\n// Kickstart any navigation component with a set of style resets. Works with\n// `<nav>`s, `<ul>`s or `<ol>`s.\n\n.nav {\n  display: flex;\n  flex-wrap: wrap;\n  padding-left: 0;\n  margin-bottom: 0;\n  list-style: none;\n}\n\n.nav-link {\n  display: block;\n  padding: $nav-link-padding-y $nav-link-padding-x;\n  @include font-size($nav-link-font-size);\n  font-weight: $nav-link-font-weight;\n  color: $nav-link-color;\n  text-decoration: if($link-decoration == none, null, none);\n  @include transition($nav-link-transition);\n\n  &:hover,\n  &:focus {\n    color: $nav-link-hover-color;\n    text-decoration: if($link-hover-decoration == underline, none, null);\n  }\n\n  // Disabled state lightens text\n  &.disabled {\n    color: $nav-link-disabled-color;\n    pointer-events: none;\n    cursor: default;\n  }\n}\n\n//\n// Tabs\n//\n\n.nav-tabs {\n  border-bottom: $nav-tabs-border-width solid $nav-tabs-border-color;\n\n  .nav-link {\n    margin-bottom: -$nav-tabs-border-width;\n    background: none;\n    border: $nav-tabs-border-width solid transparent;\n    @include border-top-radius($nav-tabs-border-radius);\n\n    &:hover,\n    &:focus {\n      border-color: $nav-tabs-link-hover-border-color;\n      // Prevents active .nav-link tab overlapping focus outline of previous/next .nav-link\n      isolation: isolate;\n    }\n\n    &.disabled {\n      color: $nav-link-disabled-color;\n      background-color: transparent;\n      border-color: transparent;\n    }\n  }\n\n  .nav-link.active,\n  .nav-item.show .nav-link {\n    color: $nav-tabs-link-active-color;\n    background-color: $nav-tabs-link-active-bg;\n    border-color: $nav-tabs-link-active-border-color;\n  }\n\n  .dropdown-menu {\n    // Make dropdown border overlap tab border\n    margin-top: -$nav-tabs-border-width;\n    // Remove the top rounded corners here since there is a hard edge above the menu\n    @include border-top-radius(0);\n  }\n}\n\n\n//\n// Pills\n//\n\n.nav-pills {\n  .nav-link {\n    background: none;\n    border: 0;\n    @include border-radius($nav-pills-border-radius);\n  }\n\n  .nav-link.active,\n  .show > .nav-link {\n    color: $nav-pills-link-active-color;\n    @include gradient-bg($nav-pills-link-active-bg);\n  }\n}\n\n\n//\n// Justified variants\n//\n\n.nav-fill {\n  > .nav-link,\n  .nav-item {\n    flex: 1 1 auto;\n    text-align: center;\n  }\n}\n\n.nav-justified {\n  > .nav-link,\n  .nav-item {\n    flex-basis: 0;\n    flex-grow: 1;\n    text-align: center;\n  }\n}\n\n.nav-fill,\n.nav-justified {\n  .nav-item .nav-link {\n    width: 100%; // Make sure button will grow\n  }\n}\n\n\n// Tabbable tabs\n//\n// Hide tabbable panes to start, show them when `.active`\n\n.tab-content {\n  > .tab-pane {\n    display: none;\n  }\n  > .active {\n    display: block;\n  }\n}\n","// Contents\n//\n// Navbar\n// Navbar brand\n// Navbar nav\n// Navbar text\n// Responsive navbar\n// Navbar position\n// Navbar themes\n\n\n// Navbar\n//\n// Provide a static navbar from which we expand to create full-width, fixed, and\n// other navbar variations.\n\n.navbar {\n  position: relative;\n  display: flex;\n  flex-wrap: wrap; // allow us to do the line break for collapsing content\n  align-items: center;\n  justify-content: space-between; // space out brand from logo\n  padding-top: $navbar-padding-y;\n  padding-right: $navbar-padding-x; // default: null\n  padding-bottom: $navbar-padding-y;\n  padding-left: $navbar-padding-x; // default: null\n  @include gradient-bg();\n\n  // Because flex properties aren't inherited, we need to redeclare these first\n  // few properties so that content nested within behave properly.\n  // The `flex-wrap` property is inherited to simplify the expanded navbars\n  %container-flex-properties {\n    display: flex;\n    flex-wrap: inherit;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  > .container,\n  > .container-fluid {\n    @extend %container-flex-properties;\n  }\n\n  @each $breakpoint, $container-max-width in $container-max-widths {\n    > .container#{breakpoint-infix($breakpoint, $container-max-widths)} {\n      @extend %container-flex-properties;\n    }\n  }\n}\n\n\n// Navbar brand\n//\n// Used for brand, project, or site names.\n\n.navbar-brand {\n  padding-top: $navbar-brand-padding-y;\n  padding-bottom: $navbar-brand-padding-y;\n  margin-right: $navbar-brand-margin-end;\n  @include font-size($navbar-brand-font-size);\n  text-decoration: if($link-decoration == none, null, none);\n  white-space: nowrap;\n\n  &:hover,\n  &:focus {\n    text-decoration: if($link-hover-decoration == underline, none, null);\n  }\n}\n\n\n// Navbar nav\n//\n// Custom navbar navigation (doesn't require `.nav`, but does make use of `.nav-link`).\n\n.navbar-nav {\n  display: flex;\n  flex-direction: column; // cannot use `inherit` to get the `.navbar`s value\n  padding-left: 0;\n  margin-bottom: 0;\n  list-style: none;\n\n  .nav-link {\n    padding-right: 0;\n    padding-left: 0;\n  }\n\n  .dropdown-menu {\n    position: static;\n  }\n}\n\n\n// Navbar text\n//\n//\n\n.navbar-text {\n  padding-top: $nav-link-padding-y;\n  padding-bottom: $nav-link-padding-y;\n}\n\n\n// Responsive navbar\n//\n// Custom styles for responsive collapsing and toggling of navbar contents.\n// Powered by the collapse Bootstrap JavaScript plugin.\n\n// When collapsed, prevent the toggleable navbar contents from appearing in\n// the default flexbox row orientation. Requires the use of `flex-wrap: wrap`\n// on the `.navbar` parent.\n.navbar-collapse {\n  flex-basis: 100%;\n  flex-grow: 1;\n  // For always expanded or extra full navbars, ensure content aligns itself\n  // properly vertically. Can be easily overridden with flex utilities.\n  align-items: center;\n}\n\n// Button for toggling the navbar when in its collapsed state\n.navbar-toggler {\n  padding: $navbar-toggler-padding-y $navbar-toggler-padding-x;\n  @include font-size($navbar-toggler-font-size);\n  line-height: 1;\n  background-color: transparent; // remove default button style\n  border: $border-width solid transparent; // remove default button style\n  @include border-radius($navbar-toggler-border-radius);\n  @include transition($navbar-toggler-transition);\n\n  &:hover {\n    text-decoration: none;\n  }\n\n  &:focus {\n    text-decoration: none;\n    outline: 0;\n    box-shadow: 0 0 0 $navbar-toggler-focus-width;\n  }\n}\n\n// Keep as a separate element so folks can easily override it with another icon\n// or image file as needed.\n.navbar-toggler-icon {\n  display: inline-block;\n  width: 1.5em;\n  height: 1.5em;\n  vertical-align: middle;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 100%;\n}\n\n.navbar-nav-scroll {\n  max-height: var(--#{$variable-prefix}scroll-height, 75vh);\n  overflow-y: auto;\n}\n\n// scss-docs-start navbar-expand-loop\n// Generate series of `.navbar-expand-*` responsive classes for configuring\n// where your navbar collapses.\n.navbar-expand {\n  @each $breakpoint in map-keys($grid-breakpoints) {\n    $next: breakpoint-next($breakpoint, $grid-breakpoints);\n    $infix: breakpoint-infix($next, $grid-breakpoints);\n\n    // stylelint-disable-next-line scss/selector-no-union-class-name\n    &#{$infix} {\n      @include media-breakpoint-up($next) {\n        flex-wrap: nowrap;\n        justify-content: flex-start;\n\n        .navbar-nav {\n          flex-direction: row;\n\n          .dropdown-menu {\n            position: absolute;\n          }\n\n          .nav-link {\n            padding-right: $navbar-nav-link-padding-x;\n            padding-left: $navbar-nav-link-padding-x;\n          }\n        }\n\n        .navbar-nav-scroll {\n          overflow: visible;\n        }\n\n        .navbar-collapse {\n          display: flex !important; // stylelint-disable-line declaration-no-important\n          flex-basis: auto;\n        }\n\n        .navbar-toggler {\n          display: none;\n        }\n\n        .offcanvas-header {\n          display: none;\n        }\n\n        .offcanvas {\n          position: inherit;\n          bottom: 0;\n          z-index: 1000;\n          flex-grow: 1;\n          visibility: visible !important; // stylelint-disable-line declaration-no-important\n          background-color: transparent;\n          border-right: 0;\n          border-left: 0;\n          @include transition(none);\n          transform: none;\n        }\n        .offcanvas-top,\n        .offcanvas-bottom {\n          height: auto;\n          border-top: 0;\n          border-bottom: 0;\n        }\n\n        .offcanvas-body {\n          display: flex;\n          flex-grow: 0;\n          padding: 0;\n          overflow-y: visible;\n        }\n      }\n    }\n  }\n}\n// scss-docs-end navbar-expand-loop\n\n// Navbar themes\n//\n// Styles for switching between navbars with light or dark background.\n\n// Dark links against a light background\n.navbar-light {\n  .navbar-brand {\n    color: $navbar-light-brand-color;\n\n    &:hover,\n    &:focus {\n      color: $navbar-light-brand-hover-color;\n    }\n  }\n\n  .navbar-nav {\n    .nav-link {\n      color: $navbar-light-color;\n\n      &:hover,\n      &:focus {\n        color: $navbar-light-hover-color;\n      }\n\n      &.disabled {\n        color: $navbar-light-disabled-color;\n      }\n    }\n\n    .show > .nav-link,\n    .nav-link.active {\n      color: $navbar-light-active-color;\n    }\n  }\n\n  .navbar-toggler {\n    color: $navbar-light-color;\n    border-color: $navbar-light-toggler-border-color;\n  }\n\n  .navbar-toggler-icon {\n    background-image: escape-svg($navbar-light-toggler-icon-bg);\n  }\n\n  .navbar-text {\n    color: $navbar-light-color;\n\n    a,\n    a:hover,\n    a:focus  {\n      color: $navbar-light-active-color;\n    }\n  }\n}\n\n// White links against a dark background\n.navbar-dark {\n  .navbar-brand {\n    color: $navbar-dark-brand-color;\n\n    &:hover,\n    &:focus {\n      color: $navbar-dark-brand-hover-color;\n    }\n  }\n\n  .navbar-nav {\n    .nav-link {\n      color: $navbar-dark-color;\n\n      &:hover,\n      &:focus {\n        color: $navbar-dark-hover-color;\n      }\n\n      &.disabled {\n        color: $navbar-dark-disabled-color;\n      }\n    }\n\n    .show > .nav-link,\n    .nav-link.active {\n      color: $navbar-dark-active-color;\n    }\n  }\n\n  .navbar-toggler {\n    color: $navbar-dark-color;\n    border-color: $navbar-dark-toggler-border-color;\n  }\n\n  .navbar-toggler-icon {\n    background-image: escape-svg($navbar-dark-toggler-icon-bg);\n  }\n\n  .navbar-text {\n    color: $navbar-dark-color;\n    a,\n    a:hover,\n    a:focus {\n      color: $navbar-dark-active-color;\n    }\n  }\n}\n","//\n// Base styles\n//\n\n.card {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  min-width: 0; // See https://github.com/twbs/bootstrap/pull/22740#issuecomment-305868106\n  height: $card-height;\n  word-wrap: break-word;\n  background-color: $card-bg;\n  background-clip: border-box;\n  border: $card-border-width solid $card-border-color;\n  @include border-radius($card-border-radius);\n  @include box-shadow($card-box-shadow);\n\n  > hr {\n    margin-right: 0;\n    margin-left: 0;\n  }\n\n  > .list-group {\n    border-top: inherit;\n    border-bottom: inherit;\n\n    &:first-child {\n      border-top-width: 0;\n      @include border-top-radius($card-inner-border-radius);\n    }\n\n    &:last-child  {\n      border-bottom-width: 0;\n      @include border-bottom-radius($card-inner-border-radius);\n    }\n  }\n\n  // Due to specificity of the above selector (`.card > .list-group`), we must\n  // use a child selector here to prevent double borders.\n  > .card-header + .list-group,\n  > .list-group + .card-footer {\n    border-top: 0;\n  }\n}\n\n.card-body {\n  // Enable `flex-grow: 1` for decks and groups so that card blocks take up\n  // as much space as possible, ensuring footers are aligned to the bottom.\n  flex: 1 1 auto;\n  padding: $card-spacer-y $card-spacer-x;\n  color: $card-color;\n}\n\n.card-title {\n  margin-bottom: $card-title-spacer-y;\n}\n\n.card-subtitle {\n  margin-top: -$card-title-spacer-y * .5;\n  margin-bottom: 0;\n}\n\n.card-text:last-child {\n  margin-bottom: 0;\n}\n\n.card-link {\n  &:hover {\n    text-decoration: if($link-hover-decoration == underline, none, null);\n  }\n\n  + .card-link {\n    margin-left: $card-spacer-x;\n  }\n}\n\n//\n// Optional textual caps\n//\n\n.card-header {\n  padding: $card-cap-padding-y $card-cap-padding-x;\n  margin-bottom: 0; // Removes the default margin-bottom of <hN>\n  color: $card-cap-color;\n  background-color: $card-cap-bg;\n  border-bottom: $card-border-width solid $card-border-color;\n\n  &:first-child {\n    @include border-radius($card-inner-border-radius $card-inner-border-radius 0 0);\n  }\n}\n\n.card-footer {\n  padding: $card-cap-padding-y $card-cap-padding-x;\n  color: $card-cap-color;\n  background-color: $card-cap-bg;\n  border-top: $card-border-width solid $card-border-color;\n\n  &:last-child {\n    @include border-radius(0 0 $card-inner-border-radius $card-inner-border-radius);\n  }\n}\n\n\n//\n// Header navs\n//\n\n.card-header-tabs {\n  margin-right: -$card-cap-padding-x * .5;\n  margin-bottom: -$card-cap-padding-y;\n  margin-left: -$card-cap-padding-x * .5;\n  border-bottom: 0;\n\n  @if $nav-tabs-link-active-bg != $card-bg {\n    .nav-link.active {\n      background-color: $card-bg;\n      border-bottom-color: $card-bg;\n    }\n  }\n}\n\n.card-header-pills {\n  margin-right: -$card-cap-padding-x * .5;\n  margin-left: -$card-cap-padding-x * .5;\n}\n\n// Card image\n.card-img-overlay {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  padding: $card-img-overlay-padding;\n  @include border-radius($card-inner-border-radius);\n}\n\n.card-img,\n.card-img-top,\n.card-img-bottom {\n  width: 100%; // Required because we use flexbox and this inherently applies align-self: stretch\n}\n\n.card-img,\n.card-img-top {\n  @include border-top-radius($card-inner-border-radius);\n}\n\n.card-img,\n.card-img-bottom {\n  @include border-bottom-radius($card-inner-border-radius);\n}\n\n\n//\n// Card groups\n//\n\n.card-group {\n  // The child selector allows nested `.card` within `.card-group`\n  // to display properly.\n  > .card {\n    margin-bottom: $card-group-margin;\n  }\n\n  @include media-breakpoint-up(sm) {\n    display: flex;\n    flex-flow: row wrap;\n    // The child selector allows nested `.card` within `.card-group`\n    // to display properly.\n    > .card {\n      // Flexbugs #4: https://github.com/philipwalton/flexbugs#flexbug-4\n      flex: 1 0 0%;\n      margin-bottom: 0;\n\n      + .card {\n        margin-left: 0;\n        border-left: 0;\n      }\n\n      // Handle rounded corners\n      @if $enable-rounded {\n        &:not(:last-child) {\n          @include border-end-radius(0);\n\n          .card-img-top,\n          .card-header {\n            // stylelint-disable-next-line property-disallowed-list\n            border-top-right-radius: 0;\n          }\n          .card-img-bottom,\n          .card-footer {\n            // stylelint-disable-next-line property-disallowed-list\n            border-bottom-right-radius: 0;\n          }\n        }\n\n        &:not(:first-child) {\n          @include border-start-radius(0);\n\n          .card-img-top,\n          .card-header {\n            // stylelint-disable-next-line property-disallowed-list\n            border-top-left-radius: 0;\n          }\n          .card-img-bottom,\n          .card-footer {\n            // stylelint-disable-next-line property-disallowed-list\n            border-bottom-left-radius: 0;\n          }\n        }\n      }\n    }\n  }\n}\n","//\n// Base styles\n//\n\n.accordion-button {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: $accordion-button-padding-y $accordion-button-padding-x;\n  @include font-size($font-size-base);\n  color: $accordion-button-color;\n  text-align: left; // Reset button style\n  background-color: $accordion-button-bg;\n  border: 0;\n  @include border-radius(0);\n  overflow-anchor: none;\n  @include transition($accordion-transition);\n\n  &:not(.collapsed) {\n    color: $accordion-button-active-color;\n    background-color: $accordion-button-active-bg;\n    box-shadow: inset 0 ($accordion-border-width * -1) 0 $accordion-border-color;\n\n    &::after {\n      background-image: escape-svg($accordion-button-active-icon);\n      transform: $accordion-icon-transform;\n    }\n  }\n\n  // Accordion icon\n  &::after {\n    flex-shrink: 0;\n    width: $accordion-icon-width;\n    height: $accordion-icon-width;\n    margin-left: auto;\n    content: \"\";\n    background-image: escape-svg($accordion-button-icon);\n    background-repeat: no-repeat;\n    background-size: $accordion-icon-width;\n    @include transition($accordion-icon-transition);\n  }\n\n  &:hover {\n    z-index: 2;\n  }\n\n  &:focus {\n    z-index: 3;\n    border-color: $accordion-button-focus-border-color;\n    outline: 0;\n    box-shadow: $accordion-button-focus-box-shadow;\n  }\n}\n\n.accordion-header {\n  margin-bottom: 0;\n}\n\n.accordion-item {\n  background-color: $accordion-bg;\n  border: $accordion-border-width solid $accordion-border-color;\n\n  &:first-of-type {\n    @include border-top-radius($accordion-border-radius);\n\n    .accordion-button {\n      @include border-top-radius($accordion-inner-border-radius);\n    }\n  }\n\n  &:not(:first-of-type) {\n    border-top: 0;\n  }\n\n  // Only set a border-radius on the last item if the accordion is collapsed\n  &:last-of-type {\n    @include border-bottom-radius($accordion-border-radius);\n\n    .accordion-button {\n      &.collapsed {\n        @include border-bottom-radius($accordion-inner-border-radius);\n      }\n    }\n\n    .accordion-collapse {\n      @include border-bottom-radius($accordion-border-radius);\n    }\n  }\n}\n\n.accordion-body {\n  padding: $accordion-body-padding-y $accordion-body-padding-x;\n}\n\n\n// Flush accordion items\n//\n// Remove borders and border-radius to keep accordion items edge-to-edge.\n\n.accordion-flush {\n  .accordion-collapse {\n    border-width: 0;\n  }\n\n  .accordion-item {\n    border-right: 0;\n    border-left: 0;\n    @include border-radius(0);\n\n    &:first-child { border-top: 0; }\n    &:last-child { border-bottom: 0; }\n\n    .accordion-button {\n      @include border-radius(0);\n    }\n  }\n}\n",".breadcrumb {\n  display: flex;\n  flex-wrap: wrap;\n  padding: $breadcrumb-padding-y $breadcrumb-padding-x;\n  margin-bottom: $breadcrumb-margin-bottom;\n  @include font-size($breadcrumb-font-size);\n  list-style: none;\n  background-color: $breadcrumb-bg;\n  @include border-radius($breadcrumb-border-radius);\n}\n\n.breadcrumb-item {\n  // The separator between breadcrumbs (by default, a forward-slash: \"/\")\n  + .breadcrumb-item {\n    padding-left: $breadcrumb-item-padding-x;\n\n    &::before {\n      float: left; // Suppress inline spacings and underlining of the separator\n      padding-right: $breadcrumb-item-padding-x;\n      color: $breadcrumb-divider-color;\n      content: var(--#{$variable-prefix}breadcrumb-divider, escape-svg($breadcrumb-divider)) #{\"/* rtl:\"} var(--#{$variable-prefix}breadcrumb-divider, escape-svg($breadcrumb-divider-flipped)) #{\"*/\"};\n    }\n  }\n\n  &.active {\n    color: $breadcrumb-active-color;\n  }\n}\n",".pagination {\n  display: flex;\n  @include list-unstyled();\n}\n\n.page-link {\n  position: relative;\n  display: block;\n  color: $pagination-color;\n  text-decoration: if($link-decoration == none, null, none);\n  background-color: $pagination-bg;\n  border: $pagination-border-width solid $pagination-border-color;\n  @include transition($pagination-transition);\n\n  &:hover {\n    z-index: 2;\n    color: $pagination-hover-color;\n    text-decoration: if($link-hover-decoration == underline, none, null);\n    background-color: $pagination-hover-bg;\n    border-color: $pagination-hover-border-color;\n  }\n\n  &:focus {\n    z-index: 3;\n    color: $pagination-focus-color;\n    background-color: $pagination-focus-bg;\n    outline: $pagination-focus-outline;\n    box-shadow: $pagination-focus-box-shadow;\n  }\n}\n\n.page-item {\n  &:not(:first-child) .page-link {\n    margin-left: $pagination-margin-start;\n  }\n\n  &.active .page-link {\n    z-index: 3;\n    color: $pagination-active-color;\n    @include gradient-bg($pagination-active-bg);\n    border-color: $pagination-active-border-color;\n  }\n\n  &.disabled .page-link {\n    color: $pagination-disabled-color;\n    pointer-events: none;\n    background-color: $pagination-disabled-bg;\n    border-color: $pagination-disabled-border-color;\n  }\n}\n\n\n//\n// Sizing\n//\n@include pagination-size($pagination-padding-y, $pagination-padding-x, null, $pagination-border-radius);\n\n.pagination-lg {\n  @include pagination-size($pagination-padding-y-lg, $pagination-padding-x-lg, $font-size-lg, $pagination-border-radius-lg);\n}\n\n.pagination-sm {\n  @include pagination-size($pagination-padding-y-sm, $pagination-padding-x-sm, $font-size-sm, $pagination-border-radius-sm);\n}\n","// Pagination\n\n// scss-docs-start pagination-mixin\n@mixin pagination-size($padding-y, $padding-x, $font-size, $border-radius) {\n  .page-link {\n    padding: $padding-y $padding-x;\n    @include font-size($font-size);\n  }\n\n  .page-item {\n    @if $pagination-margin-start == (-$pagination-border-width) {\n      &:first-child {\n        .page-link {\n          @include border-start-radius($border-radius);\n        }\n      }\n\n      &:last-child {\n        .page-link {\n          @include border-end-radius($border-radius);\n        }\n      }\n    } @else {\n      //Add border-radius to all pageLinks in case they have left margin\n      .page-link {\n        @include border-radius($border-radius);\n      }\n    }\n  }\n}\n// scss-docs-end pagination-mixin\n","// Base class\n//\n// Requires one of the contextual, color modifier classes for `color` and\n// `background-color`.\n\n.badge {\n  display: inline-block;\n  padding: $badge-padding-y $badge-padding-x;\n  @include font-size($badge-font-size);\n  font-weight: $badge-font-weight;\n  line-height: 1;\n  color: $badge-color;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: baseline;\n  @include border-radius($badge-border-radius);\n  @include gradient-bg();\n\n  // Empty badges collapse automatically\n  &:empty {\n    display: none;\n  }\n}\n\n// Quick fix for badges in buttons\n.btn .badge {\n  position: relative;\n  top: -1px;\n}\n","//\n// Base styles\n//\n\n.alert {\n  position: relative;\n  padding: $alert-padding-y $alert-padding-x;\n  margin-bottom: $alert-margin-bottom;\n  border: $alert-border-width solid transparent;\n  @include border-radius($alert-border-radius);\n}\n\n// Headings for larger alerts\n.alert-heading {\n  // Specified to prevent conflicts of changing $headings-color\n  color: inherit;\n}\n\n// Provide class for links that match alerts\n.alert-link {\n  font-weight: $alert-link-font-weight;\n}\n\n\n// Dismissible alerts\n//\n// Expand the right padding and account for the close button's positioning.\n\n.alert-dismissible {\n  padding-right: $alert-dismissible-padding-r;\n\n  // Adjust close link position\n  .btn-close {\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: $stretched-link-z-index + 1;\n    padding: $alert-padding-y * 1.25 $alert-padding-x;\n  }\n}\n\n\n// scss-docs-start alert-modifiers\n// Generate contextual modifier classes for colorizing the alert.\n\n@each $state, $value in $theme-colors {\n  $alert-background: shift-color($value, $alert-bg-scale);\n  $alert-border: shift-color($value, $alert-border-scale);\n  $alert-color: shift-color($value, $alert-color-scale);\n  @if (contrast-ratio($alert-background, $alert-color) < $min-contrast-ratio) {\n    $alert-color: mix($value, color-contrast($alert-background), abs($alert-color-scale));\n  }\n  .alert-#{$state} {\n    @include alert-variant($alert-background, $alert-border, $alert-color);\n  }\n}\n// scss-docs-end alert-modifiers\n","// scss-docs-start alert-variant-mixin\n@mixin alert-variant($background, $border, $color) {\n  color: $color;\n  @include gradient-bg($background);\n  border-color: $border;\n\n  .alert-link {\n    color: shade-color($color, 20%);\n  }\n}\n// scss-docs-end alert-variant-mixin\n","// Disable animation if transitions are disabled\n\n// scss-docs-start progress-keyframes\n@if $enable-transitions {\n  @keyframes progress-bar-stripes {\n    0% { background-position-x: $progress-height; }\n  }\n}\n// scss-docs-end progress-keyframes\n\n.progress {\n  display: flex;\n  height: $progress-height;\n  overflow: hidden; // force rounded corners by cropping it\n  @include font-size($progress-font-size);\n  background-color: $progress-bg;\n  @include border-radius($progress-border-radius);\n  @include box-shadow($progress-box-shadow);\n}\n\n.progress-bar {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  overflow: hidden;\n  color: $progress-bar-color;\n  text-align: center;\n  white-space: nowrap;\n  background-color: $progress-bar-bg;\n  @include transition($progress-bar-transition);\n}\n\n.progress-bar-striped {\n  @include gradient-striped();\n  background-size: $progress-height $progress-height;\n}\n\n@if $enable-transitions {\n  .progress-bar-animated {\n    animation: $progress-bar-animation-timing progress-bar-stripes;\n\n    @if $enable-reduced-motion {\n      @media (prefers-reduced-motion: reduce) {\n        animation: none;\n      }\n    }\n  }\n}\n","// Base class\n//\n// Easily usable on <ul>, <ol>, or <div>.\n\n.list-group {\n  display: flex;\n  flex-direction: column;\n\n  // No need to set list-style: none; since .list-group-item is block level\n  padding-left: 0; // reset padding because ul and ol\n  margin-bottom: 0;\n  @include border-radius($list-group-border-radius);\n}\n\n.list-group-numbered {\n  list-style-type: none;\n  counter-reset: section;\n\n  > li::before {\n    // Increments only this instance of the section counter\n    content: counters(section, \".\") \". \";\n    counter-increment: section;\n  }\n}\n\n\n// Interactive list items\n//\n// Use anchor or button elements instead of `li`s or `div`s to create interactive\n// list items. Includes an extra `.active` modifier class for selected items.\n\n.list-group-item-action {\n  width: 100%; // For `<button>`s (anchors become 100% by default though)\n  color: $list-group-action-color;\n  text-align: inherit; // For `<button>`s (anchors inherit)\n\n  // Hover state\n  &:hover,\n  &:focus {\n    z-index: 1; // Place hover/focus items above their siblings for proper border styling\n    color: $list-group-action-hover-color;\n    text-decoration: none;\n    background-color: $list-group-hover-bg;\n  }\n\n  &:active {\n    color: $list-group-action-active-color;\n    background-color: $list-group-action-active-bg;\n  }\n}\n\n\n// Individual list items\n//\n// Use on `li`s or `div`s within the `.list-group` parent.\n\n.list-group-item {\n  position: relative;\n  display: block;\n  padding: $list-group-item-padding-y $list-group-item-padding-x;\n  color: $list-group-color;\n  text-decoration: if($link-decoration == none, null, none);\n  background-color: $list-group-bg;\n  border: $list-group-border-width solid $list-group-border-color;\n\n  &:first-child {\n    @include border-top-radius(inherit);\n  }\n\n  &:last-child {\n    @include border-bottom-radius(inherit);\n  }\n\n  &.disabled,\n  &:disabled {\n    color: $list-group-disabled-color;\n    pointer-events: none;\n    background-color: $list-group-disabled-bg;\n  }\n\n  // Include both here for `<a>`s and `<button>`s\n  &.active {\n    z-index: 2; // Place active items above their siblings for proper border styling\n    color: $list-group-active-color;\n    background-color: $list-group-active-bg;\n    border-color: $list-group-active-border-color;\n  }\n\n  & + & {\n    border-top-width: 0;\n\n    &.active {\n      margin-top: -$list-group-border-width;\n      border-top-width: $list-group-border-width;\n    }\n  }\n}\n\n\n// Horizontal\n//\n// Change the layout of list group items from vertical (default) to horizontal.\n\n@each $breakpoint in map-keys($grid-breakpoints) {\n  @include media-breakpoint-up($breakpoint) {\n    $infix: breakpoint-infix($breakpoint, $grid-breakpoints);\n\n    .list-group-horizontal#{$infix} {\n      flex-direction: row;\n\n      > .list-group-item {\n        &:first-child {\n          @include border-bottom-start-radius($list-group-border-radius);\n          @include border-top-end-radius(0);\n        }\n\n        &:last-child {\n          @include border-top-end-radius($list-group-border-radius);\n          @include border-bottom-start-radius(0);\n        }\n\n        &.active {\n          margin-top: 0;\n        }\n\n        + .list-group-item {\n          border-top-width: $list-group-border-width;\n          border-left-width: 0;\n\n          &.active {\n            margin-left: -$list-group-border-width;\n            border-left-width: $list-group-border-width;\n          }\n        }\n      }\n    }\n  }\n}\n\n\n// Flush list items\n//\n// Remove borders and border-radius to keep list group items edge-to-edge. Most\n// useful within other components (e.g., cards).\n\n.list-group-flush {\n  @include border-radius(0);\n\n  > .list-group-item {\n    border-width: 0 0 $list-group-border-width;\n\n    &:last-child {\n      border-bottom-width: 0;\n    }\n  }\n}\n\n\n// scss-docs-start list-group-modifiers\n// List group contextual variants\n//\n// Add modifier classes to change text and background color on individual items.\n// Organizationally, this must come after the `:hover` states.\n\n@each $state, $value in $theme-colors {\n  $list-group-variant-bg: shift-color($value, $list-group-item-bg-scale);\n  $list-group-variant-color: shift-color($value, $list-group-item-color-scale);\n  @if (contrast-ratio($list-group-variant-bg, $list-group-variant-color) < $min-contrast-ratio) {\n    $list-group-variant-color: mix($value, color-contrast($list-group-variant-bg), abs($list-group-item-color-scale));\n  }\n\n  @include list-group-item-variant($state, $list-group-variant-bg, $list-group-variant-color);\n}\n// scss-docs-end list-group-modifiers\n","// List Groups\n\n// scss-docs-start list-group-mixin\n@mixin list-group-item-variant($state, $background, $color) {\n  .list-group-item-#{$state} {\n    color: $color;\n    background-color: $background;\n\n    &.list-group-item-action {\n      &:hover,\n      &:focus {\n        color: $color;\n        background-color: shade-color($background, 10%);\n      }\n\n      &.active {\n        color: $white;\n        background-color: $color;\n        border-color: $color;\n      }\n    }\n  }\n}\n// scss-docs-end list-group-mixin\n","// transparent background and border properties included for button version.\n// iOS requires the button element instead of an anchor tag.\n// If you want the anchor version, it requires `href=\"#\"`.\n// See https://developer.mozilla.org/en-US/docs/Web/Events/click#Safari_Mobile\n\n.btn-close {\n  box-sizing: content-box;\n  width: $btn-close-width;\n  height: $btn-close-height;\n  padding: $btn-close-padding-y $btn-close-padding-x;\n  color: $btn-close-color;\n  background: transparent escape-svg($btn-close-bg) center / $btn-close-width auto no-repeat; // include transparent for button elements\n  border: 0; // for button elements\n  @include border-radius();\n  opacity: $btn-close-opacity;\n\n  // Override <a>'s hover style\n  &:hover {\n    color: $btn-close-color;\n    text-decoration: none;\n    opacity: $btn-close-hover-opacity;\n  }\n\n  &:focus {\n    outline: 0;\n    box-shadow: $btn-close-focus-shadow;\n    opacity: $btn-close-focus-opacity;\n  }\n\n  &:disabled,\n  &.disabled {\n    pointer-events: none;\n    user-select: none;\n    opacity: $btn-close-disabled-opacity;\n  }\n}\n\n.btn-close-white {\n  filter: $btn-close-white-filter;\n}\n",".toast {\n  width: $toast-max-width;\n  max-width: 100%;\n  @include font-size($toast-font-size);\n  color: $toast-color;\n  pointer-events: auto;\n  background-color: $toast-background-color;\n  background-clip: padding-box;\n  border: $toast-border-width solid $toast-border-color;\n  box-shadow: $toast-box-shadow;\n  @include border-radius($toast-border-radius);\n\n  &.showing {\n    opacity: 0;\n  }\n\n  &:not(.show) {\n    display: none;\n  }\n}\n\n.toast-container {\n  width: max-content;\n  max-width: 100%;\n  pointer-events: none;\n\n  > :not(:last-child) {\n    margin-bottom: $toast-spacing;\n  }\n}\n\n.toast-header {\n  display: flex;\n  align-items: center;\n  padding: $toast-padding-y $toast-padding-x;\n  color: $toast-header-color;\n  background-color: $toast-header-background-color;\n  background-clip: padding-box;\n  border-bottom: $toast-border-width solid $toast-header-border-color;\n  @include border-top-radius(subtract($toast-border-radius, $toast-border-width));\n\n  .btn-close {\n    margin-right: $toast-padding-x * -.5;\n    margin-left: $toast-padding-x;\n  }\n}\n\n.toast-body {\n  padding: $toast-padding-x; // apply to both vertical and horizontal\n  word-wrap: break-word;\n}\n","// .modal-open      - body class for killing the scroll\n// .modal           - container to scroll within\n// .modal-dialog    - positioning shell for the actual modal\n// .modal-content   - actual modal w/ bg and corners and stuff\n\n\n// Container that the modal scrolls within\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: $zindex-modal;\n  display: none;\n  width: 100%;\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n  // Prevent Chrome on Windows from adding a focus outline. For details, see\n  // https://github.com/twbs/bootstrap/pull/10951.\n  outline: 0;\n  // We deliberately don't use `-webkit-overflow-scrolling: touch;` due to a\n  // gnarly iOS Safari bug: https://bugs.webkit.org/show_bug.cgi?id=158342\n  // See also https://github.com/twbs/bootstrap/issues/17695\n}\n\n// Shell div to position the modal with bottom padding\n.modal-dialog {\n  position: relative;\n  width: auto;\n  margin: $modal-dialog-margin;\n  // allow clicks to pass through for custom click handling to close modal\n  pointer-events: none;\n\n  // When fading in the modal, animate it to slide down\n  .modal.fade & {\n    @include transition($modal-transition);\n    transform: $modal-fade-transform;\n  }\n  .modal.show & {\n    transform: $modal-show-transform;\n  }\n\n  // When trying to close, animate focus to scale\n  .modal.modal-static & {\n    transform: $modal-scale-transform;\n  }\n}\n\n.modal-dialog-scrollable {\n  height: subtract(100%, $modal-dialog-margin * 2);\n\n  .modal-content {\n    max-height: 100%;\n    overflow: hidden;\n  }\n\n  .modal-body {\n    overflow-y: auto;\n  }\n}\n\n.modal-dialog-centered {\n  display: flex;\n  align-items: center;\n  min-height: subtract(100%, $modal-dialog-margin * 2);\n}\n\n// Actual modal\n.modal-content {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%; // Ensure `.modal-content` extends the full width of the parent `.modal-dialog`\n  // counteract the pointer-events: none; in the .modal-dialog\n  color: $modal-content-color;\n  pointer-events: auto;\n  background-color: $modal-content-bg;\n  background-clip: padding-box;\n  border: $modal-content-border-width solid $modal-content-border-color;\n  @include border-radius($modal-content-border-radius);\n  @include box-shadow($modal-content-box-shadow-xs);\n  // Remove focus outline from opened modal\n  outline: 0;\n}\n\n// Modal background\n.modal-backdrop {\n  @include overlay-backdrop($zindex-modal-backdrop, $modal-backdrop-bg, $modal-backdrop-opacity);\n}\n\n// Modal header\n// Top section of the modal w/ title and dismiss\n.modal-header {\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  justify-content: space-between; // Put modal header elements (title and dismiss) on opposite ends\n  padding: $modal-header-padding;\n  border-bottom: $modal-header-border-width solid $modal-header-border-color;\n  @include border-top-radius($modal-content-inner-border-radius);\n\n  .btn-close {\n    padding: ($modal-header-padding-y * .5) ($modal-header-padding-x * .5);\n    margin: ($modal-header-padding-y * -.5) ($modal-header-padding-x * -.5) ($modal-header-padding-y * -.5) auto;\n  }\n}\n\n// Title text within header\n.modal-title {\n  margin-bottom: 0;\n  line-height: $modal-title-line-height;\n}\n\n// Modal body\n// Where all modal content resides (sibling of .modal-header and .modal-footer)\n.modal-body {\n  position: relative;\n  // Enable `flex-grow: 1` so that the body take up as much space as possible\n  // when there should be a fixed height on `.modal-dialog`.\n  flex: 1 1 auto;\n  padding: $modal-inner-padding;\n}\n\n// Footer (for actions)\n.modal-footer {\n  display: flex;\n  flex-wrap: wrap;\n  flex-shrink: 0;\n  align-items: center; // vertically center\n  justify-content: flex-end; // Right align buttons with flex property because text-align doesn't work on flex items\n  padding: $modal-inner-padding - $modal-footer-margin-between * .5;\n  border-top: $modal-footer-border-width solid $modal-footer-border-color;\n  @include border-bottom-radius($modal-content-inner-border-radius);\n\n  // Place margin between footer elements\n  // This solution is far from ideal because of the universal selector usage,\n  // but is needed to fix https://github.com/twbs/bootstrap/issues/24800\n  > * {\n    margin: $modal-footer-margin-between * .5;\n  }\n}\n\n// Scale up the modal\n@include media-breakpoint-up(sm) {\n  // Automatically set modal's width for larger viewports\n  .modal-dialog {\n    max-width: $modal-md;\n    margin: $modal-dialog-margin-y-sm-up auto;\n  }\n\n  .modal-dialog-scrollable {\n    height: subtract(100%, $modal-dialog-margin-y-sm-up * 2);\n  }\n\n  .modal-dialog-centered {\n    min-height: subtract(100%, $modal-dialog-margin-y-sm-up * 2);\n  }\n\n  .modal-content {\n    @include box-shadow($modal-content-box-shadow-sm-up);\n  }\n\n  .modal-sm { max-width: $modal-sm; }\n}\n\n@include media-breakpoint-up(lg) {\n  .modal-lg,\n  .modal-xl {\n    max-width: $modal-lg;\n  }\n}\n\n@include media-breakpoint-up(xl) {\n  .modal-xl { max-width: $modal-xl; }\n}\n\n// scss-docs-start modal-fullscreen-loop\n@each $breakpoint in map-keys($grid-breakpoints) {\n  $infix: breakpoint-infix($breakpoint, $grid-breakpoints);\n  $postfix: if($infix != \"\", $infix + \"-down\", \"\");\n\n  @include media-breakpoint-down($breakpoint) {\n    .modal-fullscreen#{$postfix} {\n      width: 100vw;\n      max-width: none;\n      height: 100%;\n      margin: 0;\n\n      .modal-content {\n        height: 100%;\n        border: 0;\n        @include border-radius(0);\n      }\n\n      .modal-header {\n        @include border-radius(0);\n      }\n\n      .modal-body {\n        overflow-y: auto;\n      }\n\n      .modal-footer {\n        @include border-radius(0);\n      }\n    }\n  }\n}\n// scss-docs-end modal-fullscreen-loop\n","// Shared between modals and offcanvases\n@mixin overlay-backdrop($zindex, $backdrop-bg, $backdrop-opacity) {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: $zindex;\n  width: 100vw;\n  height: 100vh;\n  background-color: $backdrop-bg;\n\n  // Fade for backdrop\n  &.fade { opacity: 0; }\n  &.show { opacity: $backdrop-opacity; }\n}\n","// Base class\n.tooltip {\n  position: absolute;\n  z-index: $zindex-tooltip;\n  display: block;\n  margin: $tooltip-margin;\n  // Our parent element can be arbitrary since tooltips are by default inserted as a sibling of their target element.\n  // So reset our font and text properties to avoid inheriting weird values.\n  @include reset-text();\n  @include font-size($tooltip-font-size);\n  // Allow breaking very long words so they don't overflow the tooltip's bounds\n  word-wrap: break-word;\n  opacity: 0;\n\n  &.show { opacity: $tooltip-opacity; }\n\n  .tooltip-arrow {\n    position: absolute;\n    display: block;\n    width: $tooltip-arrow-width;\n    height: $tooltip-arrow-height;\n\n    &::before {\n      position: absolute;\n      content: \"\";\n      border-color: transparent;\n      border-style: solid;\n    }\n  }\n}\n\n.bs-tooltip-top {\n  padding: $tooltip-arrow-height 0;\n\n  .tooltip-arrow {\n    bottom: 0;\n\n    &::before {\n      top: -1px;\n      border-width: $tooltip-arrow-height ($tooltip-arrow-width * .5) 0;\n      border-top-color: $tooltip-arrow-color;\n    }\n  }\n}\n\n.bs-tooltip-end {\n  padding: 0 $tooltip-arrow-height;\n\n  .tooltip-arrow {\n    left: 0;\n    width: $tooltip-arrow-height;\n    height: $tooltip-arrow-width;\n\n    &::before {\n      right: -1px;\n      border-width: ($tooltip-arrow-width * .5) $tooltip-arrow-height ($tooltip-arrow-width * .5) 0;\n      border-right-color: $tooltip-arrow-color;\n    }\n  }\n}\n\n.bs-tooltip-bottom {\n  padding: $tooltip-arrow-height 0;\n\n  .tooltip-arrow {\n    top: 0;\n\n    &::before {\n      bottom: -1px;\n      border-width: 0 ($tooltip-arrow-width * .5) $tooltip-arrow-height;\n      border-bottom-color: $tooltip-arrow-color;\n    }\n  }\n}\n\n.bs-tooltip-start {\n  padding: 0 $tooltip-arrow-height;\n\n  .tooltip-arrow {\n    right: 0;\n    width: $tooltip-arrow-height;\n    height: $tooltip-arrow-width;\n\n    &::before {\n      left: -1px;\n      border-width: ($tooltip-arrow-width * .5) 0 ($tooltip-arrow-width * .5) $tooltip-arrow-height;\n      border-left-color: $tooltip-arrow-color;\n    }\n  }\n}\n\n.bs-tooltip-auto {\n  &[data-popper-placement^=\"top\"] {\n    @extend .bs-tooltip-top;\n  }\n  &[data-popper-placement^=\"right\"] {\n    @extend .bs-tooltip-end;\n  }\n  &[data-popper-placement^=\"bottom\"] {\n    @extend .bs-tooltip-bottom;\n  }\n  &[data-popper-placement^=\"left\"] {\n    @extend .bs-tooltip-start;\n  }\n}\n\n// Wrapper for the tooltip content\n.tooltip-inner {\n  max-width: $tooltip-max-width;\n  padding: $tooltip-padding-y $tooltip-padding-x;\n  color: $tooltip-color;\n  text-align: center;\n  background-color: $tooltip-bg;\n  @include border-radius($tooltip-border-radius);\n}\n","@mixin reset-text {\n  font-family: $font-family-base;\n  // We deliberately do NOT reset font-size or overflow-wrap / word-wrap.\n  font-style: normal;\n  font-weight: $font-weight-normal;\n  line-height: $line-height-base;\n  text-align: left; // Fallback for where `start` is not supported\n  text-align: start;\n  text-decoration: none;\n  text-shadow: none;\n  text-transform: none;\n  letter-spacing: normal;\n  word-break: normal;\n  word-spacing: normal;\n  white-space: normal;\n  line-break: auto;\n}\n",".popover {\n  position: absolute;\n  top: 0;\n  left: 0 #{\"/* rtl:ignore */\"};\n  z-index: $zindex-popover;\n  display: block;\n  max-width: $popover-max-width;\n  // Our parent element can be arbitrary since tooltips are by default inserted as a sibling of their target element.\n  // So reset our font and text properties to avoid inheriting weird values.\n  @include reset-text();\n  @include font-size($popover-font-size);\n  // Allow breaking very long words so they don't overflow the popover's bounds\n  word-wrap: break-word;\n  background-color: $popover-bg;\n  background-clip: padding-box;\n  border: $popover-border-width solid $popover-border-color;\n  @include border-radius($popover-border-radius);\n  @include box-shadow($popover-box-shadow);\n\n  .popover-arrow {\n    position: absolute;\n    display: block;\n    width: $popover-arrow-width;\n    height: $popover-arrow-height;\n\n    &::before,\n    &::after {\n      position: absolute;\n      display: block;\n      content: \"\";\n      border-color: transparent;\n      border-style: solid;\n    }\n  }\n}\n\n.bs-popover-top {\n  > .popover-arrow {\n    bottom: subtract(-$popover-arrow-height, $popover-border-width);\n\n    &::before {\n      bottom: 0;\n      border-width: $popover-arrow-height ($popover-arrow-width * .5) 0;\n      border-top-color: $popover-arrow-outer-color;\n    }\n\n    &::after {\n      bottom: $popover-border-width;\n      border-width: $popover-arrow-height ($popover-arrow-width * .5) 0;\n      border-top-color: $popover-arrow-color;\n    }\n  }\n}\n\n.bs-popover-end {\n  > .popover-arrow {\n    left: subtract(-$popover-arrow-height, $popover-border-width);\n    width: $popover-arrow-height;\n    height: $popover-arrow-width;\n\n    &::before {\n      left: 0;\n      border-width: ($popover-arrow-width * .5) $popover-arrow-height ($popover-arrow-width * .5) 0;\n      border-right-color: $popover-arrow-outer-color;\n    }\n\n    &::after {\n      left: $popover-border-width;\n      border-width: ($popover-arrow-width * .5) $popover-arrow-height ($popover-arrow-width * .5) 0;\n      border-right-color: $popover-arrow-color;\n    }\n  }\n}\n\n.bs-popover-bottom {\n  > .popover-arrow {\n    top: subtract(-$popover-arrow-height, $popover-border-width);\n\n    &::before {\n      top: 0;\n      border-width: 0 ($popover-arrow-width * .5) $popover-arrow-height ($popover-arrow-width * .5);\n      border-bottom-color: $popover-arrow-outer-color;\n    }\n\n    &::after {\n      top: $popover-border-width;\n      border-width: 0 ($popover-arrow-width * .5) $popover-arrow-height ($popover-arrow-width * .5);\n      border-bottom-color: $popover-arrow-color;\n    }\n  }\n\n  // This will remove the popover-header's border just below the arrow\n  .popover-header::before {\n    position: absolute;\n    top: 0;\n    left: 50%;\n    display: block;\n    width: $popover-arrow-width;\n    margin-left: -$popover-arrow-width * .5;\n    content: \"\";\n    border-bottom: $popover-border-width solid $popover-header-bg;\n  }\n}\n\n.bs-popover-start {\n  > .popover-arrow {\n    right: subtract(-$popover-arrow-height, $popover-border-width);\n    width: $popover-arrow-height;\n    height: $popover-arrow-width;\n\n    &::before {\n      right: 0;\n      border-width: ($popover-arrow-width * .5) 0 ($popover-arrow-width * .5) $popover-arrow-height;\n      border-left-color: $popover-arrow-outer-color;\n    }\n\n    &::after {\n      right: $popover-border-width;\n      border-width: ($popover-arrow-width * .5) 0 ($popover-arrow-width * .5) $popover-arrow-height;\n      border-left-color: $popover-arrow-color;\n    }\n  }\n}\n\n.bs-popover-auto {\n  &[data-popper-placement^=\"top\"] {\n    @extend .bs-popover-top;\n  }\n  &[data-popper-placement^=\"right\"] {\n    @extend .bs-popover-end;\n  }\n  &[data-popper-placement^=\"bottom\"] {\n    @extend .bs-popover-bottom;\n  }\n  &[data-popper-placement^=\"left\"] {\n    @extend .bs-popover-start;\n  }\n}\n\n// Offset the popover to account for the popover arrow\n.popover-header {\n  padding: $popover-header-padding-y $popover-header-padding-x;\n  margin-bottom: 0; // Reset the default from Reboot\n  @include font-size($font-size-base);\n  color: $popover-header-color;\n  background-color: $popover-header-bg;\n  border-bottom: $popover-border-width solid $popover-border-color;\n  @include border-top-radius($popover-inner-border-radius);\n\n  &:empty {\n    display: none;\n  }\n}\n\n.popover-body {\n  padding: $popover-body-padding-y $popover-body-padding-x;\n  color: $popover-body-color;\n}\n","// Notes on the classes:\n//\n// 1. .carousel.pointer-event should ideally be pan-y (to allow for users to scroll vertically)\n//    even when their scroll action started on a carousel, but for compatibility (with Firefox)\n//    we're preventing all actions instead\n// 2. The .carousel-item-start and .carousel-item-end is used to indicate where\n//    the active slide is heading.\n// 3. .active.carousel-item is the current slide.\n// 4. .active.carousel-item-start and .active.carousel-item-end is the current\n//    slide in its in-transition state. Only one of these occurs at a time.\n// 5. .carousel-item-next.carousel-item-start and .carousel-item-prev.carousel-item-end\n//    is the upcoming slide in transition.\n\n.carousel {\n  position: relative;\n}\n\n.carousel.pointer-event {\n  touch-action: pan-y;\n}\n\n.carousel-inner {\n  position: relative;\n  width: 100%;\n  overflow: hidden;\n  @include clearfix();\n}\n\n.carousel-item {\n  position: relative;\n  display: none;\n  float: left;\n  width: 100%;\n  margin-right: -100%;\n  backface-visibility: hidden;\n  @include transition($carousel-transition);\n}\n\n.carousel-item.active,\n.carousel-item-next,\n.carousel-item-prev {\n  display: block;\n}\n\n/* rtl:begin:ignore */\n.carousel-item-next:not(.carousel-item-start),\n.active.carousel-item-end {\n  transform: translateX(100%);\n}\n\n.carousel-item-prev:not(.carousel-item-end),\n.active.carousel-item-start {\n  transform: translateX(-100%);\n}\n\n/* rtl:end:ignore */\n\n\n//\n// Alternate transitions\n//\n\n.carousel-fade {\n  .carousel-item {\n    opacity: 0;\n    transition-property: opacity;\n    transform: none;\n  }\n\n  .carousel-item.active,\n  .carousel-item-next.carousel-item-start,\n  .carousel-item-prev.carousel-item-end {\n    z-index: 1;\n    opacity: 1;\n  }\n\n  .active.carousel-item-start,\n  .active.carousel-item-end {\n    z-index: 0;\n    opacity: 0;\n    @include transition(opacity 0s $carousel-transition-duration);\n  }\n}\n\n\n//\n// Left/right controls for nav\n//\n\n.carousel-control-prev,\n.carousel-control-next {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 1;\n  // Use flex for alignment (1-3)\n  display: flex; // 1. allow flex styles\n  align-items: center; // 2. vertically center contents\n  justify-content: center; // 3. horizontally center contents\n  width: $carousel-control-width;\n  padding: 0;\n  color: $carousel-control-color;\n  text-align: center;\n  background: none;\n  border: 0;\n  opacity: $carousel-control-opacity;\n  @include transition($carousel-control-transition);\n\n  // Hover/focus state\n  &:hover,\n  &:focus {\n    color: $carousel-control-color;\n    text-decoration: none;\n    outline: 0;\n    opacity: $carousel-control-hover-opacity;\n  }\n}\n.carousel-control-prev {\n  left: 0;\n  background-image: if($enable-gradients, linear-gradient(90deg, rgba($black, .25), rgba($black, .001)), null);\n}\n.carousel-control-next {\n  right: 0;\n  background-image: if($enable-gradients, linear-gradient(270deg, rgba($black, .25), rgba($black, .001)), null);\n}\n\n// Icons for within\n.carousel-control-prev-icon,\n.carousel-control-next-icon {\n  display: inline-block;\n  width: $carousel-control-icon-width;\n  height: $carousel-control-icon-width;\n  background-repeat: no-repeat;\n  background-position: 50%;\n  background-size: 100% 100%;\n}\n\n/* rtl:options: {\n  \"autoRename\": true,\n  \"stringMap\":[ {\n    \"name\"    : \"prev-next\",\n    \"search\"  : \"prev\",\n    \"replace\" : \"next\"\n  } ]\n} */\n.carousel-control-prev-icon {\n  background-image: escape-svg($carousel-control-prev-icon-bg);\n}\n.carousel-control-next-icon {\n  background-image: escape-svg($carousel-control-next-icon-bg);\n}\n\n// Optional indicator pips/controls\n//\n// Add a container (such as a list) with the following class and add an item (ideally a focusable control,\n// like a button) with data-bs-target for each slide your carousel holds.\n\n.carousel-indicators {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 2;\n  display: flex;\n  justify-content: center;\n  padding: 0;\n  // Use the .carousel-control's width as margin so we don't overlay those\n  margin-right: $carousel-control-width;\n  margin-bottom: 1rem;\n  margin-left: $carousel-control-width;\n  list-style: none;\n\n  [data-bs-target] {\n    box-sizing: content-box;\n    flex: 0 1 auto;\n    width: $carousel-indicator-width;\n    height: $carousel-indicator-height;\n    padding: 0;\n    margin-right: $carousel-indicator-spacer;\n    margin-left: $carousel-indicator-spacer;\n    text-indent: -999px;\n    cursor: pointer;\n    background-color: $carousel-indicator-active-bg;\n    background-clip: padding-box;\n    border: 0;\n    // Use transparent borders to increase the hit area by 10px on top and bottom.\n    border-top: $carousel-indicator-hit-area-height solid transparent;\n    border-bottom: $carousel-indicator-hit-area-height solid transparent;\n    opacity: $carousel-indicator-opacity;\n    @include transition($carousel-indicator-transition);\n  }\n\n  .active {\n    opacity: $carousel-indicator-active-opacity;\n  }\n}\n\n\n// Optional captions\n//\n//\n\n.carousel-caption {\n  position: absolute;\n  right: (100% - $carousel-caption-width) * .5;\n  bottom: $carousel-caption-spacer;\n  left: (100% - $carousel-caption-width) * .5;\n  padding-top: $carousel-caption-padding-y;\n  padding-bottom: $carousel-caption-padding-y;\n  color: $carousel-caption-color;\n  text-align: center;\n}\n\n// Dark mode carousel\n\n.carousel-dark {\n  .carousel-control-prev-icon,\n  .carousel-control-next-icon {\n    filter: $carousel-dark-control-icon-filter;\n  }\n\n  .carousel-indicators [data-bs-target] {\n    background-color: $carousel-dark-indicator-active-bg;\n  }\n\n  .carousel-caption {\n    color: $carousel-dark-caption-color;\n  }\n}\n","// scss-docs-start clearfix\n@mixin clearfix() {\n  &::after {\n    display: block;\n    clear: both;\n    content: \"\";\n  }\n}\n// scss-docs-end clearfix\n","//\n// Rotating border\n//\n\n// scss-docs-start spinner-border-keyframes\n@keyframes spinner-border {\n  to { transform: rotate(360deg) #{\"/* rtl:ignore */\"}; }\n}\n// scss-docs-end spinner-border-keyframes\n\n.spinner-border {\n  display: inline-block;\n  width: $spinner-width;\n  height: $spinner-height;\n  vertical-align: $spinner-vertical-align;\n  border: $spinner-border-width solid currentColor;\n  border-right-color: transparent;\n  // stylelint-disable-next-line property-disallowed-list\n  border-radius: 50%;\n  animation: $spinner-animation-speed linear infinite spinner-border;\n}\n\n.spinner-border-sm {\n  width: $spinner-width-sm;\n  height: $spinner-height-sm;\n  border-width: $spinner-border-width-sm;\n}\n\n//\n// Growing circle\n//\n\n// scss-docs-start spinner-grow-keyframes\n@keyframes spinner-grow {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    opacity: 1;\n    transform: none;\n  }\n}\n// scss-docs-end spinner-grow-keyframes\n\n.spinner-grow {\n  display: inline-block;\n  width: $spinner-width;\n  height: $spinner-height;\n  vertical-align: $spinner-vertical-align;\n  background-color: currentColor;\n  // stylelint-disable-next-line property-disallowed-list\n  border-radius: 50%;\n  opacity: 0;\n  animation: $spinner-animation-speed linear infinite spinner-grow;\n}\n\n.spinner-grow-sm {\n  width: $spinner-width-sm;\n  height: $spinner-height-sm;\n}\n\n@if $enable-reduced-motion {\n  @media (prefers-reduced-motion: reduce) {\n    .spinner-border,\n    .spinner-grow {\n      animation-duration: $spinner-animation-speed * 2;\n    }\n  }\n}\n",".offcanvas {\n  position: fixed;\n  bottom: 0;\n  z-index: $zindex-offcanvas;\n  display: flex;\n  flex-direction: column;\n  max-width: 100%;\n  color: $offcanvas-color;\n  visibility: hidden;\n  background-color: $offcanvas-bg-color;\n  background-clip: padding-box;\n  outline: 0;\n  @include box-shadow($offcanvas-box-shadow);\n  @include transition(transform $offcanvas-transition-duration ease-in-out);\n}\n\n.offcanvas-backdrop {\n  @include overlay-backdrop($zindex-offcanvas-backdrop, $offcanvas-backdrop-bg, $offcanvas-backdrop-opacity);\n}\n\n.offcanvas-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: $offcanvas-padding-y $offcanvas-padding-x;\n\n  .btn-close {\n    padding: ($offcanvas-padding-y * .5) ($offcanvas-padding-x * .5);\n    margin-top: $offcanvas-padding-y * -.5;\n    margin-right: $offcanvas-padding-x * -.5;\n    margin-bottom: $offcanvas-padding-y * -.5;\n  }\n}\n\n.offcanvas-title {\n  margin-bottom: 0;\n  line-height: $offcanvas-title-line-height;\n}\n\n.offcanvas-body {\n  flex-grow: 1;\n  padding: $offcanvas-padding-y $offcanvas-padding-x;\n  overflow-y: auto;\n}\n\n.offcanvas-start {\n  top: 0;\n  left: 0;\n  width: $offcanvas-horizontal-width;\n  border-right: $offcanvas-border-width solid $offcanvas-border-color;\n  transform: translateX(-100%);\n}\n\n.offcanvas-end {\n  top: 0;\n  right: 0;\n  width: $offcanvas-horizontal-width;\n  border-left: $offcanvas-border-width solid $offcanvas-border-color;\n  transform: translateX(100%);\n}\n\n.offcanvas-top {\n  top: 0;\n  right: 0;\n  left: 0;\n  height: $offcanvas-vertical-height;\n  max-height: 100%;\n  border-bottom: $offcanvas-border-width solid $offcanvas-border-color;\n  transform: translateY(-100%);\n}\n\n.offcanvas-bottom {\n  right: 0;\n  left: 0;\n  height: $offcanvas-vertical-height;\n  max-height: 100%;\n  border-top: $offcanvas-border-width solid $offcanvas-border-color;\n  transform: translateY(100%);\n}\n\n.offcanvas.show {\n  transform: none;\n}\n",".placeholder {\n  display: inline-block;\n  min-height: 1em;\n  vertical-align: middle;\n  cursor: wait;\n  background-color: currentColor;\n  opacity: $placeholder-opacity-max;\n\n  &.btn::before {\n    display: inline-block;\n    content: \"\";\n  }\n}\n\n// Sizing\n.placeholder-xs {\n  min-height: .6em;\n}\n\n.placeholder-sm {\n  min-height: .8em;\n}\n\n.placeholder-lg {\n  min-height: 1.2em;\n}\n\n// Animation\n.placeholder-glow {\n  .placeholder {\n    animation: placeholder-glow 2s ease-in-out infinite;\n  }\n}\n\n@keyframes placeholder-glow {\n  50% {\n    opacity: $placeholder-opacity-min;\n  }\n}\n\n.placeholder-wave {\n  mask-image: linear-gradient(130deg, $black 55%, rgba(0, 0, 0, (1 - $placeholder-opacity-min)) 75%, $black 95%);\n  mask-size: 200% 100%;\n  animation: placeholder-wave 2s linear infinite;\n}\n\n@keyframes placeholder-wave {\n  100% {\n    mask-position: -200% 0%;\n  }\n}\n","@each $color, $value in $theme-colors {\n  .link-#{$color} {\n    color: $value;\n\n    @if $link-shade-percentage != 0 {\n      &:hover,\n      &:focus {\n        color: if(color-contrast($value) == $color-contrast-light, shade-color($value, $link-shade-percentage), tint-color($value, $link-shade-percentage));\n      }\n    }\n  }\n}\n","// Credit: Nicolas Gallagher and SUIT CSS.\n\n.ratio {\n  position: relative;\n  width: 100%;\n\n  &::before {\n    display: block;\n    padding-top: var(--#{$variable-prefix}aspect-ratio);\n    content: \"\";\n  }\n\n  > * {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n}\n\n@each $key, $ratio in $aspect-ratios {\n  .ratio-#{$key} {\n    --#{$variable-prefix}aspect-ratio: #{$ratio};\n  }\n}\n","// Shorthand\n\n.fixed-top {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  z-index: $zindex-fixed;\n}\n\n.fixed-bottom {\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: $zindex-fixed;\n}\n\n// Responsive sticky top\n@each $breakpoint in map-keys($grid-breakpoints) {\n  @include media-breakpoint-up($breakpoint) {\n    $infix: breakpoint-infix($breakpoint, $grid-breakpoints);\n\n    .sticky#{$infix}-top {\n      position: sticky;\n      top: 0;\n      z-index: $zindex-sticky;\n    }\n  }\n}\n","// scss-docs-start stacks\n.hstack {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  align-self: stretch;\n}\n\n.vstack {\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  align-self: stretch;\n}\n// scss-docs-end stacks\n","//\n// Visually hidden\n//\n\n.visually-hidden,\n.visually-hidden-focusable:not(:focus):not(:focus-within) {\n  @include visually-hidden();\n}\n","// stylelint-disable declaration-no-important\n\n// Hide content visually while keeping it accessible to assistive technologies\n//\n// See: https://www.a11yproject.com/posts/2013-01-11-how-to-hide-content/\n// See: https://hugogiraudel.com/2016/10/13/css-hide-and-seek/\n\n@mixin visually-hidden() {\n  position: absolute !important;\n  width: 1px !important;\n  height: 1px !important;\n  padding: 0 !important;\n  margin: -1px !important; // Fix for https://github.com/twbs/bootstrap/issues/25686\n  overflow: hidden !important;\n  clip: rect(0, 0, 0, 0) !important;\n  white-space: nowrap !important;\n  border: 0 !important;\n}\n\n// Use to only display content when it's focused, or one of its child elements is focused\n// (i.e. when focus is within the element/container that the class was applied to)\n//\n// Useful for \"Skip to main content\" links; see https://www.w3.org/TR/2013/NOTE-WCAG20-TECHS-20130905/G1\n\n@mixin visually-hidden-focusable() {\n  &:not(:focus):not(:focus-within) {\n    @include visually-hidden();\n  }\n}\n","//\n// Stretched link\n//\n\n.stretched-link {\n  &::#{$stretched-link-pseudo-element} {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: $stretched-link-z-index;\n    content: \"\";\n  }\n}\n","//\n// Text truncation\n//\n\n.text-truncate {\n  @include text-truncate();\n}\n","// Text truncate\n// Requires inline-block or block for proper styling\n\n@mixin text-truncate() {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n",".vr {\n  display: inline-block;\n  align-self: stretch;\n  width: 1px;\n  min-height: 1em;\n  background-color: currentColor;\n  opacity: $hr-opacity;\n}\n","// Utility generator\n// Used to generate utilities & print utilities\n@mixin generate-utility($utility, $infix, $is-rfs-media-query: false) {\n  $values: map-get($utility, values);\n\n  // If the values are a list or string, convert it into a map\n  @if type-of($values) == \"string\" or type-of(nth($values, 1)) != \"list\" {\n    $values: zip($values, $values);\n  }\n\n  @each $key, $value in $values {\n    $properties: map-get($utility, property);\n\n    // Multiple properties are possible, for example with vertical or horizontal margins or paddings\n    @if type-of($properties) == \"string\" {\n      $properties: append((), $properties);\n    }\n\n    // Use custom class if present\n    $property-class: if(map-has-key($utility, class), map-get($utility, class), nth($properties, 1));\n    $property-class: if($property-class == null, \"\", $property-class);\n\n    // State params to generate pseudo-classes\n    $state: if(map-has-key($utility, state), map-get($utility, state), ());\n\n    $infix: if($property-class == \"\" and str-slice($infix, 1, 1) == \"-\", str-slice($infix, 2), $infix);\n\n    // Don't prefix if value key is null (eg. with shadow class)\n    $property-class-modifier: if($key, if($property-class == \"\" and $infix == \"\", \"\", \"-\") + $key, \"\");\n\n    @if map-get($utility, rfs) {\n      // Inside the media query\n      @if $is-rfs-media-query {\n        $val: rfs-value($value);\n\n        // Do not render anything if fluid and non fluid values are the same\n        $value: if($val == rfs-fluid-value($value), null, $val);\n      }\n      @else {\n        $value: rfs-fluid-value($value);\n      }\n    }\n\n    $is-css-var: map-get($utility, css-var);\n    $is-local-vars: map-get($utility, local-vars);\n    $is-rtl: map-get($utility, rtl);\n\n    @if $value != null {\n      @if $is-rtl == false {\n        /* rtl:begin:remove */\n      }\n\n      @if $is-css-var {\n        .#{$property-class + $infix + $property-class-modifier} {\n          --#{$variable-prefix}#{$property-class}: #{$value};\n        }\n\n        @each $pseudo in $state {\n          .#{$property-class + $infix + $property-class-modifier}-#{$pseudo}:#{$pseudo} {\n            --#{$variable-prefix}#{$property-class}: #{$value};\n          }\n        }\n      } @else {\n        .#{$property-class + $infix + $property-class-modifier} {\n          @each $property in $properties {\n            @if $is-local-vars {\n              @each $local-var, $value in $is-local-vars {\n                --#{$variable-prefix}#{$local-var}: #{$value};\n              }\n            }\n            #{$property}: $value if($enable-important-utilities, !important, null);\n          }\n        }\n\n        @each $pseudo in $state {\n          .#{$property-class + $infix + $property-class-modifier}-#{$pseudo}:#{$pseudo} {\n            @each $property in $properties {\n              #{$property}: $value if($enable-important-utilities, !important, null);\n            }\n          }\n        }\n      }\n\n      @if $is-rtl == false {\n        /* rtl:end:remove */\n      }\n    }\n  }\n}\n","// Loop over each breakpoint\n@each $breakpoint in map-keys($grid-breakpoints) {\n\n  // Generate media query if needed\n  @include media-breakpoint-up($breakpoint) {\n    $infix: breakpoint-infix($breakpoint, $grid-breakpoints);\n\n    // Loop over each utility property\n    @each $key, $utility in $utilities {\n      // The utility can be disabled with `false`, thus check if the utility is a map first\n      // Only proceed if responsive media queries are enabled or if it's the base media query\n      @if type-of($utility) == \"map\" and (map-get($utility, responsive) or $infix == \"\") {\n        @include generate-utility($utility, $infix);\n      }\n    }\n  }\n}\n\n// RFS rescaling\n@media (min-width: $rfs-mq-value) {\n  @each $breakpoint in map-keys($grid-breakpoints) {\n    $infix: breakpoint-infix($breakpoint, $grid-breakpoints);\n\n    @if (map-get($grid-breakpoints, $breakpoint) < $rfs-breakpoint) {\n      // Loop over each utility property\n      @each $key, $utility in $utilities {\n        // The utility can be disabled with `false`, thus check if the utility is a map first\n        // Only proceed if responsive media queries are enabled or if it's the base media query\n        @if type-of($utility) == \"map\" and map-get($utility, rfs) and (map-get($utility, responsive) or $infix == \"\") {\n          @include generate-utility($utility, $infix, true);\n        }\n      }\n    }\n  }\n}\n\n\n// Print utilities\n@media print {\n  @each $key, $utility in $utilities {\n    // The utility can be disabled with `false`, thus check if the utility is a map first\n    // Then check if the utility needs print styles\n    @if type-of($utility) == \"map\" and map-get($utility, print) == true {\n      @include generate-utility($utility, \"-print\");\n    }\n  }\n}\n"]}
</file>

<file path="MegaMarket.Data/Models/Attendance.cs">
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace MegaMarket.Data.Models;

public class Attendance
{
    [Key]
    [Column("attendance_id")]
    public int AttendanceId { get; set; }

    [ForeignKey("User")]
    [Column("user_id")]
    public int UserId { get; set; }

    [ForeignKey("ShiftType")]
    [Column("shift_type_id")]
    public int ShiftTypeId { get; set; }

    [Column("date")]
    public DateTime Date { get; set; }

    [Column("check_in")]
    public DateTime? CheckIn { get; set; }

    [Column("check_out")]
    public DateTime? CheckOut { get; set; }

    [Column("is_late")]
    public bool IsLate { get; set; } = false;

    [Column("note")]
    public string? Note { get; set; }

    // Navigation properties
    public User User { get; set; } = null!;
    public ShiftType ShiftType { get; set; } = null!;
}
</file>

<file path="MegaMarket.Data/Models/CustomerReward.cs">
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace MegaMarket.Data.Models;

public class CustomerReward
{
    [Key]
    [Column("redemption_id")]
    public int RedemptionId { get; set; }

    [ForeignKey("Customer")]
    [Column("customer_id")]
    public int CustomerId { get; set; }

    [ForeignKey("Reward")]
    [Column("reward_id")]
    public int RewardId { get; set; }

    [ForeignKey("Invoice")]
    [Column("invoice_id")]
    public int? InvoiceId { get; set; }

    [Column("redeemed_at")]
    public DateTime RedeemedAt { get; set; } = DateTime.Now;

    [StringLength(20)]
    [Column("status")]
    public string Status { get; set; } = "Pending"; // Pending / Claimed / Used

    [Column("used_at")]
    public DateTime? UsedAt { get; set; }

    // Navigation properties
    public Customer Customer { get; set; } = null!;
    public Reward Reward { get; set; } = null!;
    public Invoice? Invoice { get; set; }
}
</file>

<file path="MegaMarket.Data/Models/Import.cs">
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace MegaMarket.Data.Models;

public class Import
{
    [Key]
    [Column("import_id")]
    public int ImportId { get; set; }

    [ForeignKey("User")]
    [Column("user_id")]
    public int UserId { get; set; }

    [ForeignKey("Supplier")]
    [Column("supplier_id")]
    public int SupplierId { get; set; }

    [Column("import_date")]
    public DateTime ImportDate { get; set; } = DateTime.Now;

    [Column("total_cost", TypeName = "decimal(12,2)")]
    public decimal TotalCost { get; set; }

    [StringLength(20)]
    [Column("status")]
    public string Status { get; set; } = "Pending"; // Pending / Completed

    // Navigation properties
    public User User { get; set; } = null!;
    public Supplier Supplier { get; set; } = null!;
    public ICollection<ImportDetail> ImportDetails { get; set; } = new List<ImportDetail>();
}
</file>

<file path="MegaMarket.Data/Models/ImportDetail.cs">
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace MegaMarket.Data.Models;

public class ImportDetail
{
    [Key, Column("import_id", Order = 0)]
    [ForeignKey("Import")]
    public int ImportId { get; set; }

    [Key, Column("product_id", Order = 1)]
    [ForeignKey("Product")]
    public int ProductId { get; set; }

    [Column("quantity")]
    public int Quantity { get; set; }

    [Column("unit_price", TypeName = "decimal(10,2)")]
    public decimal UnitPrice { get; set; }

    [Column("expiry_date")]
    public DateTime? ExpiryDate { get; set; }

    // Navigation properties
    public Import Import { get; set; } = null!;
    public Product Product { get; set; } = null!;
}
</file>

<file path="MegaMarket.Data/Models/Invoice.cs">
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace MegaMarket.Data.Models;

public class Invoice
{
    [Key]
    [Column("invoice_id")]
    public int InvoiceId { get; set; }

    [ForeignKey("User")]
    [Column("user_id")]
    public int UserId { get; set; }

    [ForeignKey("Customer")]
    [Column("customer_id")]
    public int? CustomerId { get; set; }

    [Column("created_at")]
    public DateTime CreatedAt { get; set; } = DateTime.Now;

    [Column("total_before_discount", TypeName = "decimal(12,2)")]
    public decimal TotalBeforeDiscount { get; set; }

    [Column("total_amount", TypeName = "decimal(12,2)")]
    public decimal TotalAmount { get; set; }

    [StringLength(50)]
    [Column("payment_method")]
    public string PaymentMethod { get; set; } = "cash"; // cash / bank_transfer / card

    [Column("received_amount", TypeName = "decimal(12,2)")]
    public decimal ReceivedAmount { get; set; }

    [Column("change_amount", TypeName = "decimal(12,2)")]
    public decimal ChangeAmount { get; set; }

    [StringLength(20)]
    [Column("status")]
    public string Status { get; set; } = "Pending"; // Paid / Pending

    [ForeignKey("Promotion")]
    [Column("promotion_id")]
    public int? PromotionId { get; set; }

    // Navigation properties
    public User User { get; set; } = null!;
    public Customer? Customer { get; set; }
    public Promotion? Promotion { get; set; }
    public ICollection<InvoiceDetail> InvoiceDetails { get; set; } = new List<InvoiceDetail>();
    public ICollection<PointTransaction> PointTransactions { get; set; } = new List<PointTransaction>();
}
</file>

<file path="MegaMarket.Data/Models/InvoiceDetail.cs">
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace MegaMarket.Data.Models;

public class InvoiceDetail
{
    [Key, Column("invoice_id", Order = 0)]
    [ForeignKey("Invoice")]
    public int InvoiceId { get; set; }

    [Key, Column("product_id", Order = 1)]
    [ForeignKey("Product")]
    public int ProductId { get; set; }

    [Column("quantity")]
    public int Quantity { get; set; }

    [Column("unit_price", TypeName = "decimal(10,2)")]
    public decimal UnitPrice { get; set; }

    [Column("discount_per_unit", TypeName = "decimal(10,2)")]
    public decimal DiscountPerUnit { get; set; } = 0;

    [ForeignKey("Promotion")]
    [Column("promotion_id")]
    public int? PromotionId { get; set; }

    // Navigation properties
    public Invoice Invoice { get; set; } = null!;
    public Product Product { get; set; } = null!;
    public Promotion? Promotion { get; set; }
}
</file>

<file path="MegaMarket.Data/Models/OrderRequest.cs">
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace MegaMarket.Data.Models;

public class OrderRequest
{
    [Key]
    [Column("order_id")]
    public int OrderId { get; set; }

    [ForeignKey("Product")]
    [Column("product_id")]
    public int ProductId { get; set; }

    [Column("requested_quantity")]
    public int RequestedQuantity { get; set; }

    [Column("request_date")]
    public DateTime RequestDate { get; set; } = DateTime.Now;

    [StringLength(20)]
    [Column("status")]
    public string Status { get; set; } = "Pending"; // Pending / Ordered / Received

    // Navigation properties
    public Product Product { get; set; } = null!;
}
</file>

<file path="MegaMarket.Data/Models/PointTransaction.cs">
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace MegaMarket.Data.Models;

public class PointTransaction
{
    [Key]
    [Column("transaction_id")]
    public int TransactionId { get; set; }

    [ForeignKey("Invoice")]
    [Column("invoice_id")]
    public int? InvoiceId { get; set; }

    [ForeignKey("Customer")]
    [Column("customer_id")]
    public int CustomerId { get; set; }

    [Column("point_change")]
    public int PointChange { get; set; } // Can be positive or negative

    [StringLength(50)]
    [Column("transaction_type")]
    public string TransactionType { get; set; } = "Earn"; // Earn / Redeem / Adjust

    [Column("created_at")]
    public DateTime CreatedAt { get; set; } = DateTime.Now;

    [Column("description")]
    public string? Description { get; set; }

    // Navigation properties
    public Invoice? Invoice { get; set; }
    public Customer Customer { get; set; } = null!;
}
</file>

<file path="MegaMarket.Data/Models/PromotionProduct.cs">
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace MegaMarket.Data.Models;

public class PromotionProduct
{
    [Key, Column("promotion_id", Order = 0)]
    [ForeignKey("Promotion")]
    public int PromotionId { get; set; }

    [Key, Column("product_id", Order = 1)]
    [ForeignKey("Product")]
    public int ProductId { get; set; }

    // Navigation properties
    public Promotion Promotion { get; set; } = null!;
    public Product Product { get; set; } = null!;
}
</file>

<file path="MegaMarket.Data/Models/Reward.cs">
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace MegaMarket.Data.Models;

public class Reward
{
    [Key]
    [Column("reward_id")]
    public int RewardId { get; set; }

    [Required]
    [StringLength(200)]
    [Column("name")]
    public string Name { get; set; } = string.Empty;

    [Column("description")]
    public string? Description { get; set; }

    [Column("point_cost")]
    public int PointCost { get; set; }

    [StringLength(20)]
    [Column("reward_type")]
    public string RewardType { get; set; } = "Gift"; // Gift / Voucher / Discount

    [Column("value", TypeName = "decimal(10,2)")]
    public decimal? Value { get; set; }

    [Column("quantity_available")]
    public int QuantityAvailable { get; set; }

    [Column("is_active")]
    public bool IsActive { get; set; } = true;

    // Navigation properties
    public ICollection<CustomerReward> CustomerRewards { get; set; } = new List<CustomerReward>();
}
</file>

<file path="MegaMarket.Data/Models/ShiftType.cs">
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace MegaMarket.Data.Models;

public class ShiftType
{
    [Key]
    [Column("shift_type_id")]
    public int ShiftTypeId { get; set; }

    [Required]
    [StringLength(50)]
    [Column("name")]
    public string Name { get; set; } = string.Empty;

    [Column("start_time")]
    public TimeSpan StartTime { get; set; }

    [Column("end_time")]
    public TimeSpan EndTime { get; set; }

    [Column("wage_per_hour", TypeName = "decimal(10,2)")]
    public decimal WagePerHour { get; set; }

    // Navigation properties
    public ICollection<Attendance> Attendances { get; set; } = new List<Attendance>();
}
</file>

<file path="MegaMarket.Data/Models/Supplier.cs">
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace MegaMarket.Data.Models;

public class Supplier
{
    [Key]
    [Column("supplier_id")]
    public int SupplierId { get; set; }

    [Required]
    [StringLength(200)]
    [Column("name")]
    public string Name { get; set; } = string.Empty;

    [StringLength(255)]
    [Column("address")]
    public string? Address { get; set; }

    [StringLength(100)]
    [Column("email")]
    public string? Email { get; set; }

    [StringLength(15)]
    [Column("phone")]
    public string? Phone { get; set; }

    // Navigation properties
    public ICollection<Import> Imports { get; set; } = new List<Import>();
}
</file>

<file path="MegaMarket.Data/Models/User.cs">
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace MegaMarket.Data.Models;

public class User
{
    [Key]
    [Column("user_id")]
    public int UserId { get; set; }

    [Required]
    [StringLength(100)]
    [Column("full_name")]
    public string FullName { get; set; } = string.Empty;

    [Required]
    [StringLength(50)]
    [Column("username")]
    public string Username { get; set; } = string.Empty;

    [Required]
    [StringLength(255)]
    [Column("password")]
    public string Password { get; set; } = string.Empty;

    [Required]
    [StringLength(20)]
    [Column("role")]
    public string Role { get; set; } = "Employee"; // Admin / Employee

    [StringLength(15)]
    [Column("phone")]
    public string? Phone { get; set; }

    [StringLength(100)]
    [Column("email")]
    public string? Email { get; set; }

    // Navigation properties
    public ICollection<Import> Imports { get; set; } = new List<Import>();
    public ICollection<Invoice> Invoices { get; set; } = new List<Invoice>();
    public ICollection<Attendance> Attendances { get; set; } = new List<Attendance>();
}
</file>

<file path="MegaMarket.API/Controllers/ExportsController.cs">
namespace MegaMarket.API.Controllers
{
    public class ExportsController
    {
    }
}
</file>

<file path="MegaMarket.API/Controllers/InventoryController.cs">
namespace MegaMarket.API.Controllers
{
    public class InventoryController
    {
    }
}
</file>

<file path="MegaMarket.API/Controllers/SuppliersController.cs">
namespace MegaMarket.API.Controllers
{
    public class SuppliersController
    {
    }
}
</file>

<file path="MegaMarket.API/DTOs/CustomerRewards/CustomerRewardResponseDto.cs">
namespace MegaMarket.API.DTOs.CustomerRewards
{
    public class CustomerRewardResponseDto
    {
        public int RedemptionId { get; set; }
        public int CustomerId { get; set; }
        public string CustomerName { get; set; } = string.Empty;

        public int RewardId { get; set; }
        public string RewardName { get; set; } = string.Empty;

        public int? InvoiceId { get; set; }
        public DateTime RedeemedAt { get; set; }

        public string Status { get; set; } = string.Empty;   // Pending / Claimed / Used
        public DateTime? UsedAt { get; set; }
    }

}
</file>

<file path="MegaMarket.API/DTOs/CustomerRewards/UseRewardRequestDto.cs">
namespace MegaMarket.API.DTOs.CustomerRewards
{
    public class UseRewardRequestDto
    {
        public int? InvoiceId { get; set; }
    }

}
</file>

<file path="MegaMarket.API/DTOs/Customers/CreateCustomerRequestDto.cs">
using System.ComponentModel.DataAnnotations;

namespace MegaMarket.API.DTOs.Customers
{
    public class CreateCustomerRequestDto
    {
        public string? FullName { get; set; }
        public string? Phone { get; set; }
        [EmailAddress]
        public string? Email { get; set; }
        [Range(0, int.MaxValue)]
        public int Points { get; set; } = 0;
    }
}
</file>

<file path="MegaMarket.API/DTOs/Customers/CustomerResponseDto.cs">
using System.Runtime.CompilerServices;

namespace MegaMarket.API.DTOs.Customers
{
    public class CustomerResponseDto
    {
        public int CustomerId { get; set; }
        public string? FullName { get; set; }
        public string? Phone {  get; set; }
        public string? Email { get; set; }
        public int Points { get; set; }
        public string? Rank { get; set; }
    }
}
</file>

<file path="MegaMarket.API/DTOs/Customers/FilterCustomerRequestDto.cs">
namespace MegaMarket.API.DTOs.Customers
{
    public class FilterCustomerRequestDto
    {
        public string? FullName { get; set; }
        public string? Phone { get; set; }
        public string? Rank { get; set; } // Silver / Gold / Platinum
    }
}
</file>

<file path="MegaMarket.API/DTOs/Customers/UpdateCustomerRequestDto.cs">
using System.ComponentModel.DataAnnotations;

namespace MegaMarket.API.DTOs.Customers
{
    public class UpdateCustomerRequestDto
    {
        public string? FullName { get; set; }
        [EmailAddress]
        public string? Email { get; set; }
        public string? Phone { get; set; }
        public int Points { get; set; }
        public string? Rank { get; set; }
    }
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Common/DateRangeInputDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Common;

/// <summary>
/// Enum cho các khoảng thời gian cố định
/// </summary>
public enum DateRangeEnum
{
    Today,
    ThisWeek,
    ThisMonth,
    ThisYear
}

/// <summary>
/// Khoảng thời gian với ngày bắt đầu và kết thúc cụ thể
/// </summary>
public class DateRangePeriod
{
    public DateTime StartDate { get; set; }
    public DateTime EndDate { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Customer/CustomerDashboardDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Customer;

/// <summary>
/// DTO cho tổng quan dashboard khách hàng
/// </summary>
public class CustomerDashboardDto
{
    public int TotalCustomers { get; set; }
    public int NewCustomers { get; set; } // Khách hàng mới trong khoảng thời gian
    public List<CustomerRankDistributionDto> RankDistribution { get; set; } = new();
    public LoyaltyPointsSummaryDto? LoyaltyPointsSummary { get; set; } // Null cho Employee
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Customer/CustomerRankDistributionDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Customer;

/// <summary>
/// DTO cho phân bố xếp hạng khách hàng
/// </summary>
public class CustomerRankDistributionDto
{
    public string Rank { get; set; } = string.Empty;
    public int Count { get; set; }
    public decimal Percentage { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Customer/LoyaltyPointsSummaryDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Customer;

/// <summary>
/// DTO cho tổng kết điểm thưởng và loyalty program
/// </summary>
public class LoyaltyPointsSummaryDto
{
    public int TotalPointsInSystem { get; set; }
    public int PointsEarnedInPeriod { get; set; }
    public int PointsRedeemedInPeriod { get; set; }
    public int ActiveRewardsCount { get; set; }
    public int RewardsRedeemedInPeriod { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Customer/TopCustomerDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Customer;

/// <summary>
/// DTO cho top khách hàng theo doanh thu
/// </summary>
public class TopCustomerDto
{
    public int CustomerId { get; set; }
    public string FullName { get; set; } = string.Empty;
    public string? Phone { get; set; }
    public string Rank { get; set; } = string.Empty;
    public decimal TotalSpent { get; set; }
    public int InvoiceCount { get; set; }
    public decimal AvgOrderValue { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Employee/AttendanceByShiftDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Employee;

public class AttendanceByShiftDto
{
    public string ShiftName { get; set; } = string.Empty;
    public int AttendanceCount { get; set; }
    public int OnTimeCount { get; set; }
    public int LateCount { get; set; }
    public double TotalHoursWorked { get; set; }
    public decimal TotalWages { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Employee/AttendanceRateDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Employee;

public class AttendanceRateDto
{
    public int TotalAttendances { get; set; }
    public int OnTimeCount { get; set; }
    public int LateCount { get; set; }
    public double OnTimePercentage { get; set; }
    public double LatePercentage { get; set; }
    public double TotalHoursWorked { get; set; }
    public double TotalWages { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Employee/EmployeeDashboardDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Employee;

public class EmployeeDashboardDto
{
    public int? TotalEmployees { get; set; } // Chỉ Admin mới thấy
    public int TotalAttendances { get; set; }
    public double OnTimePercentage { get; set; }
    public double LatePercentage { get; set; }
    public double TotalHoursWorked { get; set; }
    public decimal? TotalWages { get; set; } // Chỉ Admin mới thấy
    public List<AttendanceByShiftDto> AttendanceByShift { get; set; } = new();
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Employee/EmployeeWorkSummaryDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Employee;

public class EmployeeWorkSummaryDto
{
    public int UserId { get; set; }
    public string Username { get; set; } = string.Empty;
    public string? FullName { get; set; }
    public int DaysWorked { get; set; }
    public double TotalHoursWorked { get; set; }
    public int LateCount { get; set; }
    public decimal TotalWages { get; set; }
    public double AttendanceRate { get; set; } // % đúng giờ
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Inventory/CategoryStockDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Inventory;

/// <summary>
/// DTO cho thống kê tồn kho theo danh mục
/// </summary>
public class CategoryStockDto
{
    public string Category { get; set; } = string.Empty;
    public int ProductCount { get; set; }
    public int TotalQuantity { get; set; }
    public decimal? TotalValue { get; set; } // Null cho Employee
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Inventory/ExpiringProductDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Inventory;

/// <summary>
/// DTO cho sản phẩm sắp hết hạn
/// </summary>
public class ExpiringProductDto
{
    public int ProductId { get; set; }
    public string Name { get; set; } = string.Empty;
    public string? Category { get; set; }
    public DateTime? ExpiryDate { get; set; }
    public int DaysUntilExpiry { get; set; }
    public int QuantityInStock { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Inventory/InventoryDashboardDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Inventory;

/// <summary>
/// DTO cho tổng quan dashboard tồn kho
/// </summary>
public class InventoryDashboardDto
{
    public int TotalProducts { get; set; }
    public int TotalCategories { get; set; }
    public int LowStockCount { get; set; }
    public int OutOfStockCount { get; set; }
    public decimal? TotalStockValue { get; set; } // Null cho Employee
    public int ProductsExpiringSoon { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Inventory/LowStockProductDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Inventory;

/// <summary>
/// DTO cho sản phẩm sắp hết hàng
/// </summary>
public class LowStockProductDto
{
    public int ProductId { get; set; }
    public string Name { get; set; } = string.Empty;
    public string? Category { get; set; }
    public int QuantityInStock { get; set; }
    public int MinQuantity { get; set; }
    public int ShortageAmount { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Inventory/TopMovingProductDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Inventory;

/// <summary>
/// DTO cho sản phẩm bán chạy (theo số lượng)
/// </summary>
public class TopMovingProductDto
{
    public int ProductId { get; set; }
    public string Name { get; set; } = string.Empty;
    public string? Category { get; set; }
    public int TotalSold { get; set; }
    public int CurrentStock { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Sales/RevenueByPaymentMethodDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Sales;

/// <summary>
/// DTO cho doanh thu theo phương thức thanh toán
/// </summary>
public class RevenueByPaymentMethodDto
{
    public string PaymentMethod { get; set; } = string.Empty;
    public decimal TotalRevenue { get; set; }
    public int InvoiceCount { get; set; }
    public decimal Percentage { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Sales/RevenueTrendDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Sales;

/// <summary>
/// DTO cho xu hướng doanh thu theo ngày
/// </summary>
public class RevenueTrendDto
{
    public DateTime Date { get; set; }
    public decimal Revenue { get; set; }
    public int InvoiceCount { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Sales/SalesDashboardDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Sales;

/// <summary>
/// DTO cho tổng quan dashboard doanh thu
/// </summary>
public class SalesDashboardDto
{
    public decimal TotalRevenue { get; set; }
    public int InvoiceCount { get; set; }
    public decimal AverageOrderValue { get; set; }
    public decimal TotalBeforeDiscount { get; set; }
    public decimal TotalDiscountGiven { get; set; }
    public List<RevenueByPaymentMethodDto> RevenueByPaymentMethod { get; set; } = new();
    public int InvoicesWithPromotions { get; set; }
    public decimal PromotionDiscountTotal { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/Dashboard/Sales/TopProductDto.cs">
namespace MegaMarket.API.DTOs.Dashboard.Sales;

/// <summary>
/// DTO cho sản phẩm bán chạy nhất
/// </summary>
public class TopProductDto
{
    public int ProductId { get; set; }
    public string ProductName { get; set; } = string.Empty;
    public string? Category { get; set; }
    public int TotalQuantitySold { get; set; }
    public decimal TotalRevenue { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/Imports/ImportDtos.cs">
using System.ComponentModel.DataAnnotations;

namespace MegaMarket.API.DTOs.Imports;

public record ImportLineDto
{
    public int ProductId { get; init; }
    public string ProductName { get; init; } = string.Empty;
    public string Barcode { get; init; } = string.Empty;
    public int Quantity { get; init; }
    public decimal UnitPrice { get; init; }
    public DateTime? ExpiryDate { get; init; }
    public string? Category { get; init; }
    public bool IsPerishable { get; init; }
    public decimal LineTotal => Quantity * UnitPrice;
}

public record ImportSummaryDto
{
    public int ImportId { get; init; }
    public DateTime ImportDate { get; init; }
    public string Supplier { get; init; } = string.Empty;
    public string Staff { get; init; } = string.Empty;
    public decimal TotalCost { get; init; }
    public string Status { get; init; } = "Draft";
    public bool NearExpiry { get; init; }
    public bool Expired { get; init; }
    public int ItemCount { get; init; }
}

public record ImportDetailDto : ImportSummaryDto
{
    public List<ImportLineDto> Items { get; init; } = new();
}

public record ImportLineCreateDto
{
    public int? ProductId { get; init; }

    [Required, StringLength(200)]
    public string ProductName { get; init; } = string.Empty;

    [StringLength(100)]
    public string? Barcode { get; init; }

    [Range(1, int.MaxValue)]
    public int Quantity { get; init; }

    [Range(0, 999999)]
    public decimal UnitPrice { get; init; }

    public DateTime? ExpiryDate { get; init; }
}

public record ImportCreateDto
{
    [Required, StringLength(200)]
    public string Supplier { get; init; } = string.Empty;

    [Required]
    public DateTime ImportDate { get; init; } = DateTime.Today;

    [Required, StringLength(20)]
    public string Status { get; init; } = "Draft";

    [Required, StringLength(100)]
    public string Staff { get; init; } = "Admin User";

    [Required]
    public List<ImportLineCreateDto> Items { get; init; } = new();
}

public record ImportUpdateDto : ImportCreateDto
{
    public int ImportId { get; init; }
}
</file>

<file path="MegaMarket.API/DTOs/Invoice/InvoiceDetailReqDto.cs">
namespace MegaMarket.API.DTOs.Invoice
{
    public class InvoiceDetailReqDto
    {
        public int ProductId { get; set; }
        public int Quantity { get; set; }
        public decimal UnitPrice { get; set; }
        public decimal DiscountPerUnit { get; set; } = 0;
        public int? PromotionId { get; set; }
    }
}
</file>

<file path="MegaMarket.API/DTOs/Invoice/InvoiceDetailResDto.cs">
using MegaMarket.API.DTOs.Products;
using MegaMarket.Data.Models;

namespace MegaMarket.API.DTOs.Invoice
{
    public class InvoiceDetailResDto
    {
        public int ProductId { get; set; }
        public int Quantity { get; set; }
        public decimal UnitPrice { get; set; }
        public decimal DiscountPerUnit { get; set; } = 0;
        public int? PromotionId { get; set; }
        public ProductDto Product { get; set; } = null!;
    }
}
</file>

<file path="MegaMarket.API/DTOs/Invoice/InvoiceReqDto.cs">
using MegaMarket.Data.Models;

namespace MegaMarket.API.DTOs.Invoice
{
    public class InvoiceReqDto
    {
        public decimal TotalBeforeDiscount { get; set; }
        public decimal TotalAmount { get; set; }
        public string PaymentMethod { get; set; } = "cash"; // cash / bank_transfer / card
        public decimal ReceivedAmount { get; set; }
        public decimal ChangeAmount { get; set; }
        public int? PromotionId { get; set; }
        public ICollection<InvoiceDetailReqDto> InvoiceDetails { get; set; } = new List<InvoiceDetailReqDto>();
    }
}
</file>

<file path="MegaMarket.API/DTOs/LoginInputDto.cs">
namespace MegaMarket.API.DTOs;

public class LoginInputDto
{
    public string Username { get; set; } = string.Empty;
    public string Password { get; set; } = string.Empty;
}
</file>

<file path="MegaMarket.API/DTOs/LoginResultDto.cs">
namespace MegaMarket.API.DTOs;

public class LoginResultDto
{
    public string Token { get; set; } = string.Empty;
    public int UserId { get; set; }
    public string Username { get; set; } = string.Empty;
    public string FullName { get; set; } = string.Empty;
    public string Role { get; set; } = string.Empty;
    public DateTime ExpiresAt { get; set; }
}
</file>

<file path="MegaMarket.API/DTOs/PointTransactions/AddPointRequestDto.cs">
namespace MegaMarket.API.DTOs.PointTransaction
{
    public class AddPointRequestDto
    {
        public int Points { get; set; }
        public int? InvoiceId { get; set; } // optional
        public string? Description { get; set; }
    }
}
</file>

<file path="MegaMarket.API/DTOs/PointTransactions/FilterPointTransactionRequestDto.cs">
namespace MegaMarket.API.DTOs.PointTransaction
{
    public class FilterPointTransactionRequestDto
    {
        public DateTime? FromDate { get; set; }
        public DateTime? ToDate { get; set; }
        public string? TransactionType { get; set; }  // Earn / Redeem / Adjust
    }
}
</file>

<file path="MegaMarket.API/DTOs/PointTransactions/HistoryPointResponseDto.cs">
namespace MegaMarket.API.DTOs.PointTransaction
{
    public class HistoryPointResponseDto
    {
        public int TransactionId { get; set; }
        public int PointChange { get; set; }
        public string? TransactionType { get; set; } // Earn / Redeem / Adjust
        public DateTime CreatedAt { get; set; }
        public string? Description { get; set; }
        public int? InvoiceId { get; set; }
    }
}
</file>

<file path="MegaMarket.API/DTOs/PointTransactions/PointTransactionResponseDto.cs">
namespace MegaMarket.API.DTOs.PointTransactions
{
    public class PointTransactionResponseDto
    {
        public int TransactionId { get; set; }         
        public int CustomerId { get; set; }            
        public string? CustomerName { get; set; }      
        public int? InvoiceId { get; set; }            
        public int PointChange { get; set; }           
        public string? TransactionType { get; set; }   
        public DateTime CreatedAt { get; set; }        
        public string? Description { get; set; }       
    }
}
</file>

<file path="MegaMarket.API/DTOs/PointTransactions/SubtractPointRequestDto.cs">
namespace MegaMarket.API.DTOs.PointTransaction
{
    public class SubtractPointRequestDto
    {
        public int Points { get; set; }  
        public string TransactionType { get; set; } = ""; 
        public string? Description { get; set; }         
    }
}
</file>

<file path="MegaMarket.API/DTOs/Promotion/PromotionProductReqDto.cs">
namespace MegaMarket.API.DTOs.Promotion
{
    public class PromotionProductReqDto
    {
        public int PromotionId { get; set; }
        public int ProductId { get; set; }
    }
}
</file>

<file path="MegaMarket.API/DTOs/Promotion/PromotionProductResDto.cs">
using MegaMarket.API.DTOs.Products;
using MegaMarket.Data.Models;

namespace MegaMarket.API.DTOs.Promotion
{
    public class PromotionProductResDto
    {
        public int PromotionId { get; set; }
        public int ProductId { get; set; }
        public PromotionResDto Promotion { get; set; } = null!;
        public ProductDto Product { get; set; } = null!;
    }
}
</file>

<file path="MegaMarket.API/DTOs/Reports/PointsSummaryDto.cs">
namespace MegaMarket.API.DTOs.Reports
{
    public class PointsSummaryDto
    {
        public string TransactionType { get; set; } = null!;  // Earn, Redeem, Adjust
        public int TotalPoints { get; set; }
    }
}
</file>

<file path="MegaMarket.API/DTOs/Reports/TopCustomerDto.cs">
namespace MegaMarket.API.DTOs.Reports
{
    public class TopCustomerDto
    {
        public int CustomerId { get; set; }
        public string FullName { get; set; } = null!;
        public string Phone { get; set; } = null!;
        public int Points { get; set; }
        public string Rank { get; set; } = null!;
    }
}
</file>

<file path="MegaMarket.API/DTOs/Reports/TopRewardDto.cs">
namespace MegaMarket.API.DTOs.Reports
{
    public class TopRewardDto
    {
        public int RewardId { get; set; }
        public string RewardName { get; set; } = null!;
        public string RewardType { get; set; } = null!;
        public int TotalRedeemed { get; set; }
    }
}
</file>

<file path="MegaMarket.API/DTOs/Rewards/CreateRewardRequestDto.cs">
using System.ComponentModel.DataAnnotations;

namespace MegaMarket.API.DTOs.Rewards
{
    public class CreateRewardRequestDto
    {
        public string? Name { get; set; } = null!;
        public string? Description { get; set; }

        [Range(1,int.MaxValue)]
        public int PointCost { get; set; }
        public string? RewardType { get; set; } = null!;
        public decimal? Value { get; set; }
        [Range (0,int.MaxValue)]
        public int QuantityAvailable { get; set; }
    }
}
</file>

<file path="MegaMarket.API/DTOs/Rewards/RewardResponseDto.cs">
namespace MegaMarket.API.DTOs.Rewards
{
    public class RewardResponseDto
    {
        public int RewardId { get; set; }
        public string? Name { get; set; }
        public string? Description { get; set; }
        public int PointCost { get; set; }
        public string? RewardType { get; set; }
        public decimal? Value { get; set; }
        public int QuantityAvailable { get; set; }
        public bool IsActive { get; set; }

    }
}
</file>

<file path="MegaMarket.API/DTOs/Rewards/UpdateRewardRequestDto.cs">
using System.ComponentModel.DataAnnotations;

namespace MegaMarket.API.DTOs.Rewards
{
    public class UpdateRewardRequestDto
    {
        public string? Name { get; set; }
        
        public string? Description { get; set; }

        [Range(1,int.MaxValue)]
        public int PointCost { get; set; }
        
        public string? RewardType { get; set; }

        public decimal? Value { get; set; }

        [Range(0, int.MaxValue)]
        public int QuantityAvailable { get; set; }

    }
}
</file>

<file path="MegaMarket.API/DTOs/User/UserResDto.cs">
namespace MegaMarket.API.DTOs.User
{
    public class UserResDto
    {
        public int UserId { get; set; }
        public string FullName { get; set; } = string.Empty;
        public string Username { get; set; } = string.Empty;
        public string Role { get; set; } = "Employee"; // Admin / Employee
        public string? Phone { get; set; }
        public string? Email { get; set; }
    }
}
</file>

<file path="MegaMarket.API/Helpers/DateRangeHelper.cs">
using MegaMarket.API.DTOs.Dashboard.Common;

namespace MegaMarket.API.Helpers;

public static class DateRangeHelper
{
    /// <summary>
    /// Chuyển đổi DateRangeEnum thành khoảng thời gian cụ thể
    /// </summary>
    public static DateRangePeriod GetDateRange(DateRangeEnum dateRange)
    {
        var now = DateTime.Now;
        var today = now.Date;

        return dateRange switch
        {
            DateRangeEnum.Today => new DateRangePeriod
            {
                StartDate = today,
                EndDate = today.AddDays(1).AddTicks(-1) // 23:59:59.9999999
            },

            DateRangeEnum.ThisWeek => new DateRangePeriod
            {
                StartDate = GetStartOfWeek(today),
                EndDate = GetStartOfWeek(today).AddDays(7).AddTicks(-1)
            },

            DateRangeEnum.ThisMonth => new DateRangePeriod
            {
                StartDate = new DateTime(today.Year, today.Month, 1),
                EndDate = new DateTime(today.Year, today.Month, 1).AddMonths(1).AddTicks(-1)
            },

            DateRangeEnum.ThisYear => new DateRangePeriod
            {
                StartDate = new DateTime(today.Year, 1, 1),
                EndDate = new DateTime(today.Year, 12, 31, 23, 59, 59, 999)
            },

            _ => throw new ArgumentException($"Invalid date range: {dateRange}")
        };
    }

    /// <summary>
    /// Lấy ngày đầu tuần (Monday)
    /// </summary>
    private static DateTime GetStartOfWeek(DateTime date)
    {
        // Monday là ngày đầu tuần
        int diff = (7 + (date.DayOfWeek - DayOfWeek.Monday)) % 7;
        return date.AddDays(-1 * diff).Date;
    }
}
</file>

<file path="MegaMarket.API/Services/AttendanceService.cs">
using Microsoft.EntityFrameworkCore;
using MegaMarket.Data.Data;
using MegaMarket.Data.Models;
using MegaMarket.API.DTOs;

namespace MegaMarket.API.Services;

public class AttendanceService
{
    private readonly MegaMarketDbContext _context;

    public AttendanceService(MegaMarketDbContext context)
    {
        _context = context;
    }

    // Lấy tất cả bản ghi chấm công
    public async Task<List<Attendance>> GetAllAttendancesAsync()
    {
        return await _context.Attendances
            .Include(a => a.User)
            .Include(a => a.ShiftType)
            .ToListAsync();
    }

    // Lấy chấm công theo ID
    public async Task<Attendance?> GetAttendanceByIdAsync(int attendanceId)
    {
        return await _context.Attendances
            .Include(a => a.User)
            .Include(a => a.ShiftType)
            .FirstOrDefaultAsync(a => a.AttendanceId == attendanceId);
    }

    // Lấy chấm công theo nhân viên
    public async Task<List<Attendance>> GetAttendancesByUserIdAsync(int userId)
    {
        return await _context.Attendances
            .Include(a => a.User)
            .Include(a => a.ShiftType)
            .Where(a => a.UserId == userId)
            .OrderByDescending(a => a.Date)
            .ToListAsync();
    }

    // Lấy chấm công theo ngày
    public async Task<List<Attendance>> GetAttendancesByDateAsync(DateTime date)
    {
        return await _context.Attendances
            .Include(a => a.User)
            .Include(a => a.ShiftType)
            .Where(a => a.Date.Date == date.Date)
            .ToListAsync();
    }

    // Tạo bản ghi chấm công
    public async Task<Attendance> CreateAttendanceAsync(AttendanceInputDto input)
    {
        // Kiểm tra đã có bản ghi chấm công trong ngày chưa
        var existing = await _context.Attendances
            .FirstOrDefaultAsync(a => a.UserId == input.UserId && a.Date.Date == input.Date.Date);

        if (existing != null)
        {
            throw new Exception("Đã có bản ghi chấm công trong ngày này!");
        }

        // Lấy thông tin ca làm việc để kiểm tra đi trễ
        var shiftType = await _context.ShiftTypes.FindAsync(input.ShiftTypeId);
        if (shiftType == null)
        {
            throw new Exception("Không tìm thấy loại ca làm việc!");
        }

        bool isLate = false;
        if (input.CheckIn.HasValue)
        {
            var checkInTime = input.CheckIn.Value.TimeOfDay;
            isLate = checkInTime > shiftType.StartTime;
        }

        var attendance = new Attendance
        {
            UserId = input.UserId,
            ShiftTypeId = input.ShiftTypeId,
            Date = input.Date.Date,
            CheckIn = input.CheckIn,
            CheckOut = input.CheckOut,
            IsLate = isLate,
            Note = input.Note
        };

        _context.Attendances.Add(attendance);
        await _context.SaveChangesAsync();

        return await GetAttendanceByIdAsync(attendance.AttendanceId) ?? attendance;
    }

    // Check-in
    public async Task<Attendance> CheckInAsync(int userId, DateTime date)
    {
        var attendance = await _context.Attendances
            .Include(a => a.ShiftType)
            .FirstOrDefaultAsync(a => a.UserId == userId && a.Date.Date == date.Date);

        if (attendance == null)
        {
            throw new Exception("Không tìm thấy bản ghi chấm công!");
        }

        if (attendance.CheckIn.HasValue)
        {
            throw new Exception("Đã check-in rồi!");
        }

        var checkInTime = DateTime.Now;
        attendance.CheckIn = checkInTime;
        attendance.IsLate = checkInTime.TimeOfDay > attendance.ShiftType.StartTime;

        await _context.SaveChangesAsync();
        return attendance;
    }

    // Check-out
    public async Task<Attendance> CheckOutAsync(int userId, DateTime date)
    {
        var attendance = await _context.Attendances
            .FirstOrDefaultAsync(a => a.UserId == userId && a.Date.Date == date.Date);

        if (attendance == null)
        {
            throw new Exception("Không tìm thấy bản ghi chấm công!");
        }

        if (!attendance.CheckIn.HasValue)
        {
            throw new Exception("Chưa check-in!");
        }

        if (attendance.CheckOut.HasValue)
        {
            throw new Exception("Đã check-out rồi!");
        }

        attendance.CheckOut = DateTime.Now;
        await _context.SaveChangesAsync();
        return attendance;
    }

    // Cập nhật bản ghi chấm công
    public async Task<Attendance> UpdateAttendanceAsync(int attendanceId, AttendanceInputDto input)
    {
        var attendance = await GetAttendanceByIdAsync(attendanceId);
        if (attendance == null)
        {
            throw new Exception("Không tìm thấy bản ghi chấm công!");
        }

        var shiftType = await _context.ShiftTypes.FindAsync(input.ShiftTypeId);
        if (shiftType == null)
        {
            throw new Exception("Không tìm thấy loại ca làm việc!");
        }

        bool isLate = false;
        if (input.CheckIn.HasValue)
        {
            var checkInTime = input.CheckIn.Value.TimeOfDay;
            isLate = checkInTime > shiftType.StartTime;
        }

        attendance.ShiftTypeId = input.ShiftTypeId;
        attendance.Date = input.Date.Date;
        attendance.CheckIn = input.CheckIn;
        attendance.CheckOut = input.CheckOut;
        attendance.IsLate = isLate;
        attendance.Note = input.Note;

        await _context.SaveChangesAsync();
        return attendance;
    }

    // Xóa bản ghi chấm công
    public async Task<bool> DeleteAttendanceAsync(int attendanceId)
    {
        var attendance = await GetAttendanceByIdAsync(attendanceId);
        if (attendance == null)
        {
            return false;
        }

        _context.Attendances.Remove(attendance);
        await _context.SaveChangesAsync();
        return true;
    }
}
</file>

<file path="MegaMarket.API/Services/DashboardCustomerService.cs">
using Microsoft.EntityFrameworkCore;
using MegaMarket.Data.Data;
using MegaMarket.API.DTOs.Dashboard.Common;
using MegaMarket.API.DTOs.Dashboard.Customer;
using MegaMarket.API.Helpers;

namespace MegaMarket.API.Services;

public class DashboardCustomerService
{
    private readonly MegaMarketDbContext _context;

    public DashboardCustomerService(MegaMarketDbContext context)
    {
        _context = context;
    }

    /// <summary>
    /// Lấy tổng quan dashboard khách hàng và loyalty
    /// </summary>
    public async Task<CustomerDashboardDto> GetCustomerDashboardAsync(DateRangeEnum dateRange, string? role)
    {
        var period = DateRangeHelper.GetDateRange(dateRange);

        var totalCustomers = await _context.Customers.CountAsync();

        // Khách hàng mới: những người có hóa đơn đầu tiên trong khoảng thời gian
        var firstPurchases = await _context.Invoices
            .Where(i => i.CustomerId != null)
            .GroupBy(i => i.CustomerId)
            .Select(g => new
            {
                CustomerId = g.Key,
                FirstPurchase = g.Min(i => i.CreatedAt)
            })
            .Where(x => x.FirstPurchase >= period.StartDate &&
                       x.FirstPurchase <= period.EndDate)
            .CountAsync();

        // Phân bố xếp hạng
        var rankDistribution = await GetCustomerRankDistributionAsync();

        // Loyalty summary chỉ cho Admin
        LoyaltyPointsSummaryDto? loyaltySummary = null;
        if (role == "Admin")
        {
            loyaltySummary = await GetLoyaltyPointsSummaryAsync(period);
        }

        return new CustomerDashboardDto
        {
            TotalCustomers = totalCustomers,
            NewCustomers = firstPurchases,
            RankDistribution = rankDistribution,
            LoyaltyPointsSummary = loyaltySummary
        };
    }

    /// <summary>
    /// Lấy phân bố xếp hạng khách hàng
    /// </summary>
    public async Task<List<CustomerRankDistributionDto>> GetCustomerRankDistributionAsync()
    {
        var totalCustomers = await _context.Customers.CountAsync();

        var distribution = await _context.Customers
            .AsNoTracking()
            .GroupBy(c => c.Rank)
            .Select(g => new CustomerRankDistributionDto
            {
                Rank = g.Key,
                Count = g.Count(),
                Percentage = totalCustomers > 0 ? (decimal)g.Count() / totalCustomers * 100 : 0
            })
            .OrderBy(x => x.Rank)
            .ToListAsync();

        return distribution;
    }

    /// <summary>
    /// Lấy top khách hàng theo doanh thu (Admin only)
    /// </summary>
    public async Task<List<TopCustomerDto>> GetTopCustomersByRevenueAsync(DateRangeEnum dateRange, int limit)
    {
        var period = DateRangeHelper.GetDateRange(dateRange);

        var topCustomers = await _context.Invoices
            .AsNoTracking()
            .Include(i => i.Customer)
            .Where(i => i.CustomerId != null &&
                       i.Status == "Paid" &&
                       i.CreatedAt >= period.StartDate &&
                       i.CreatedAt <= period.EndDate)
            .GroupBy(i => new
            {
                i.CustomerId,
                i.Customer!.FullName,
                i.Customer.Phone,
                i.Customer.Rank
            })
            .Select(g => new TopCustomerDto
            {
                CustomerId = g.Key.CustomerId!.Value,
                FullName = g.Key.FullName,
                Phone = g.Key.Phone,
                Rank = g.Key.Rank,
                TotalSpent = g.Sum(i => i.TotalAmount),
                InvoiceCount = g.Count(),
                AvgOrderValue = g.Average(i => i.TotalAmount)
            })
            .OrderByDescending(x => x.TotalSpent)
            .Take(limit)
            .ToListAsync();

        return topCustomers;
    }

    /// <summary>
    /// Lấy tổng kết loyalty program (private helper)
    /// </summary>
    private async Task<LoyaltyPointsSummaryDto> GetLoyaltyPointsSummaryAsync(DateRangePeriod period)
    {
        var totalPointsInSystem = await _context.Customers.SumAsync(c => c.Points);

        var pointsEarned = await _context.PointTransactions
            .Where(pt => pt.TransactionType == "Earn" &&
                        pt.CreatedAt >= period.StartDate &&
                        pt.CreatedAt <= period.EndDate)
            .SumAsync(pt => pt.PointChange);

        var pointsRedeemed = await _context.PointTransactions
            .Where(pt => pt.TransactionType == "Redeem" &&
                        pt.CreatedAt >= period.StartDate &&
                        pt.CreatedAt <= period.EndDate)
            .SumAsync(pt => Math.Abs(pt.PointChange));

        var activeRewardsCount = await _context.Rewards
            .CountAsync(r => r.IsActive && r.QuantityAvailable > 0);

        var rewardsRedeemed = await _context.CustomerRewards
            .CountAsync(cr => cr.RedeemedAt >= period.StartDate &&
                             cr.RedeemedAt <= period.EndDate);

        return new LoyaltyPointsSummaryDto
        {
            TotalPointsInSystem = totalPointsInSystem,
            PointsEarnedInPeriod = pointsEarned,
            PointsRedeemedInPeriod = pointsRedeemed,
            ActiveRewardsCount = activeRewardsCount,
            RewardsRedeemedInPeriod = rewardsRedeemed
        };
    }
}
</file>

<file path="MegaMarket.API/Services/DashboardInventoryService.cs">
using Microsoft.EntityFrameworkCore;
using MegaMarket.Data.Data;
using MegaMarket.API.DTOs.Dashboard.Inventory;

namespace MegaMarket.API.Services;

public class DashboardInventoryService
{
    private readonly MegaMarketDbContext _context;

    public DashboardInventoryService(MegaMarketDbContext context)
    {
        _context = context;
    }

    /// <summary>
    /// Lấy tổng quan dashboard tồn kho
    /// </summary>
    public async Task<InventoryDashboardDto> GetInventoryDashboardAsync(string? role)
    {
        var totalProducts = await _context.Products.CountAsync();

        var totalCategories = await _context.Products
            .Where(p => p.Category != null)
            .Select(p => p.Category)
            .Distinct()
            .CountAsync();

        var lowStockCount = await _context.Products
            .CountAsync(p => p.QuantityInStock <= p.MinQuantity);

        var outOfStockCount = await _context.Products
            .CountAsync(p => p.QuantityInStock == 0);

        // Chỉ Admin mới xem được giá trị tồn kho
        decimal? totalStockValue = null;
        if (role == "Admin")
        {
            totalStockValue = await _context.Products
                .SumAsync(p => p.QuantityInStock * p.UnitPrice);
        }

        // Sản phẩm sắp hết hạn (trong 30 ngày)
        var threshold = DateTime.Now.AddDays(30);
        var productsExpiringSoon = await _context.Products
            .CountAsync(p => p.IsPerishable &&
                            p.ExpiryDate != null &&
                            p.ExpiryDate <= threshold &&
                            p.ExpiryDate >= DateTime.Now);

        return new InventoryDashboardDto
        {
            TotalProducts = totalProducts,
            TotalCategories = totalCategories,
            LowStockCount = lowStockCount,
            OutOfStockCount = outOfStockCount,
            TotalStockValue = totalStockValue,
            ProductsExpiringSoon = productsExpiringSoon
        };
    }

    /// <summary>
    /// Lấy danh sách sản phẩm sắp hết hàng
    /// </summary>
    public async Task<List<LowStockProductDto>> GetLowStockProductsAsync(int limit)
    {
        return await _context.Products
            .AsNoTracking()
            .Where(p => p.QuantityInStock <= p.MinQuantity)
            .OrderBy(p => p.QuantityInStock)
            .Take(limit)
            .Select(p => new LowStockProductDto
            {
                ProductId = p.ProductId,
                Name = p.Name,
                Category = p.Category,
                QuantityInStock = p.QuantityInStock,
                MinQuantity = p.MinQuantity,
                ShortageAmount = p.MinQuantity - p.QuantityInStock
            })
            .ToListAsync();
    }

    /// <summary>
    /// Lấy danh sách sản phẩm sắp hết hạn
    /// </summary>
    public async Task<List<ExpiringProductDto>> GetExpiringProductsAsync(int daysThreshold, int limit)
    {
        var threshold = DateTime.Now.AddDays(daysThreshold);
        var now = DateTime.Now;

        return await _context.Products
            .AsNoTracking()
            .Where(p => p.IsPerishable &&
                       p.ExpiryDate != null &&
                       p.ExpiryDate <= threshold &&
                       p.ExpiryDate >= now)
            .OrderBy(p => p.ExpiryDate)
            .Take(limit)
            .Select(p => new ExpiringProductDto
            {
                ProductId = p.ProductId,
                Name = p.Name,
                Category = p.Category,
                ExpiryDate = p.ExpiryDate,
                DaysUntilExpiry = p.ExpiryDate.HasValue
                    ? (int)(p.ExpiryDate.Value - now).TotalDays
                    : 0,
                QuantityInStock = p.QuantityInStock
            })
            .ToListAsync();
    }

    /// <summary>
    /// Lấy thống kê tồn kho theo danh mục
    /// </summary>
    public async Task<List<CategoryStockDto>> GetStockByCategoryAsync(string? role)
    {
        var query = _context.Products
            .AsNoTracking()
            .Where(p => p.Category != null)
            .GroupBy(p => p.Category)
            .Select(g => new CategoryStockDto
            {
                Category = g.Key!,
                ProductCount = g.Count(),
                TotalQuantity = g.Sum(p => p.QuantityInStock),
                TotalValue = role == "Admin"
                    ? g.Sum(p => p.QuantityInStock * p.UnitPrice)
                    : (decimal?)null
            })
            .OrderByDescending(x => x.TotalQuantity);

        return await query.ToListAsync();
    }

    /// <summary>
    /// Lấy top sản phẩm bán chạy (30 ngày gần nhất)
    /// </summary>
    public async Task<List<TopMovingProductDto>> GetTopMovingProductsAsync(int limit)
    {
        var thirtyDaysAgo = DateTime.Now.AddDays(-30);

        return await _context.InvoiceDetails
            .AsNoTracking()
            .Include(id => id.Invoice)
            .Include(id => id.Product)
            .Where(id => id.Invoice.Status == "Paid" &&
                        id.Invoice.CreatedAt >= thirtyDaysAgo)
            .GroupBy(id => new { id.ProductId, id.Product.Name, id.Product.Category, id.Product.QuantityInStock })
            .Select(g => new TopMovingProductDto
            {
                ProductId = g.Key.ProductId,
                Name = g.Key.Name,
                Category = g.Key.Category,
                TotalSold = g.Sum(id => id.Quantity),
                CurrentStock = g.Key.QuantityInStock
            })
            .OrderByDescending(x => x.TotalSold)
            .Take(limit)
            .ToListAsync();
    }
}
</file>

<file path="MegaMarket.API/Services/DashboardSalesService.cs">
using Microsoft.EntityFrameworkCore;
using MegaMarket.Data.Data;
using MegaMarket.API.DTOs.Dashboard.Common;
using MegaMarket.API.DTOs.Dashboard.Sales;
using MegaMarket.API.Helpers;

namespace MegaMarket.API.Services;

public class DashboardSalesService
{
    private readonly MegaMarketDbContext _context;

    public DashboardSalesService(MegaMarketDbContext context)
    {
        _context = context;
    }

    /// <summary>
    /// Lấy tổng quan dashboard doanh thu
    /// </summary>
    public async Task<SalesDashboardDto> GetSalesDashboardAsync(DateRangeEnum dateRange, string? role, int userId)
    {
        var period = DateRangeHelper.GetDateRange(dateRange);

        // Query invoices trong khoảng thời gian
        var query = _context.Invoices
            .AsNoTracking()
            .Where(i => i.Status == "Paid" &&
                        i.CreatedAt >= period.StartDate &&
                        i.CreatedAt <= period.EndDate);

        // Employee chỉ xem được doanh thu của chính mình
        if (role != "Admin")
        {
            query = query.Where(i => i.UserId == userId);
        }

        var invoices = await query.ToListAsync();

        // Tính toán metrics
        var totalRevenue = invoices.Sum(i => i.TotalAmount);
        var invoiceCount = invoices.Count;
        var averageOrderValue = invoiceCount > 0 ? totalRevenue / invoiceCount : 0;
        var totalBeforeDiscount = invoices.Sum(i => i.TotalBeforeDiscount);
        var totalDiscountGiven = totalBeforeDiscount - totalRevenue;

        // Doanh thu theo phương thức thanh toán
        var revenueByPaymentMethod = invoices
            .GroupBy(i => i.PaymentMethod)
            .Select(g => new RevenueByPaymentMethodDto
            {
                PaymentMethod = g.Key,
                TotalRevenue = g.Sum(i => i.TotalAmount),
                InvoiceCount = g.Count(),
                Percentage = totalRevenue > 0 ? (g.Sum(i => i.TotalAmount) / totalRevenue * 100) : 0
            })
            .OrderByDescending(x => x.TotalRevenue)
            .ToList();

        // Promotion impact
        var invoicesWithPromotions = invoices.Count(i => i.PromotionId != null);
        var promotionDiscountTotal = invoices.Where(i => i.PromotionId != null)
            .Sum(i => i.TotalBeforeDiscount - i.TotalAmount);

        return new SalesDashboardDto
        {
            TotalRevenue = totalRevenue,
            InvoiceCount = invoiceCount,
            AverageOrderValue = averageOrderValue,
            TotalBeforeDiscount = totalBeforeDiscount,
            TotalDiscountGiven = totalDiscountGiven,
            RevenueByPaymentMethod = revenueByPaymentMethod,
            InvoicesWithPromotions = invoicesWithPromotions,
            PromotionDiscountTotal = promotionDiscountTotal
        };
    }

    /// <summary>
    /// Lấy xu hướng doanh thu theo ngày (Admin only)
    /// </summary>
    public async Task<List<RevenueTrendDto>> GetRevenueTrendAsync(DateRangeEnum dateRange)
    {
        var period = DateRangeHelper.GetDateRange(dateRange);

        var dailyRevenue = await _context.Invoices
            .AsNoTracking()
            .Where(i => i.Status == "Paid" &&
                        i.CreatedAt >= period.StartDate &&
                        i.CreatedAt <= period.EndDate)
            .GroupBy(i => i.CreatedAt.Date)
            .Select(g => new RevenueTrendDto
            {
                Date = g.Key,
                Revenue = g.Sum(i => i.TotalAmount),
                InvoiceCount = g.Count()
            })
            .OrderBy(x => x.Date)
            .ToListAsync();

        return dailyRevenue;
    }

    /// <summary>
    /// Lấy top sản phẩm bán chạy nhất
    /// </summary>
    public async Task<List<TopProductDto>> GetTopSellingProductsAsync(DateRangeEnum dateRange, int limit, string? role)
    {
        var period = DateRangeHelper.GetDateRange(dateRange);

        var topProducts = await _context.InvoiceDetails
            .AsNoTracking()
            .Include(id => id.Invoice)
            .Include(id => id.Product)
            .Where(id => id.Invoice.Status == "Paid" &&
                         id.Invoice.CreatedAt >= period.StartDate &&
                         id.Invoice.CreatedAt <= period.EndDate)
            .GroupBy(id => new { id.ProductId, id.Product.Name, id.Product.Category })
            .Select(g => new TopProductDto
            {
                ProductId = g.Key.ProductId,
                ProductName = g.Key.Name,
                Category = g.Key.Category,
                TotalQuantitySold = g.Sum(id => id.Quantity),
                TotalRevenue = g.Sum(id => id.Quantity * id.UnitPrice - id.DiscountPerUnit * id.Quantity)
            })
            .OrderByDescending(x => x.TotalRevenue)
            .Take(limit)
            .ToListAsync();

        return topProducts;
    }
}
</file>

<file path="MegaMarket.API/Services/Implementations/ExportService.cs">
namespace MegaMarket.API.Services.Implementations
{
    public class ExportService
    {
    }
}
</file>

<file path="MegaMarket.API/Services/Implementations/InventoryService.cs">
namespace MegaMarket.API.Services.Implementations
{
    public class InventoryService
    {
    }
}
</file>

<file path="MegaMarket.API/Services/Interfaces/IExportService.cs">
namespace MegaMarket.API.Services.Interfaces
{
    public class IExportService
    {
    }
}
</file>

<file path="MegaMarket.API/Services/Interfaces/IInventoryService.cs">
namespace MegaMarket.API.Services.Interfaces
{
    public class IInventoryService
    {
    }
}
</file>

<file path="MegaMarket.API/Services/Interfaces/IProductService.cs">
using MegaMarket.Data.Models;

namespace MegaMarket.API.Services.Interfaces;

public interface IProductService
{
    Task<IEnumerable<Product>> GetAllAsync();
    Task<Product?> GetByIdAsync(int id);
    Task<Product> CreateAsync(Product product);
    Task<bool> UpdateAsync(Product product);
    Task<bool> DeleteAsync(int id);
}
</file>

<file path="MegaMarket.API/Services/IReportService.cs">
using MegaMarket.API.DTOs.Reports;

namespace MegaMarket.API.Services
{
    public interface IReportService
    {
        // Get a list of top customers based on their points.
        Task<IEnumerable<TopCustomerDto>> GetTopCustomersAsync(int limit);

        // Get top rewards that have been redeemed the most
        Task<IEnumerable<TopRewardDto>> GetTopRewardsAsync(int limit);

        // Get summary of points: total earned, redeemed, adjusted
        Task<IEnumerable<PointsSummaryDto>> GetPointsSummaryAsync();
    }
}
</file>

<file path="MegaMarket.API/Services/IRewardService.cs">
using MegaMarket.API.DTOs.Customers;
using MegaMarket.API.DTOs.Rewards;

namespace MegaMarket.API.Services
{
    public interface IRewardService
    {
        // get all rewards are actice 
        Task<IEnumerable<RewardResponseDto>> GetAllRewardsAsync();

        // get a reward by id
        Task<RewardResponseDto?> GetRewarByIddAsync(int id);

        // create reward
        Task<RewardResponseDto?> CreateRewardAsync(CreateRewardRequestDto reward_dto);

        // update reward
        Task<RewardResponseDto?> UpdateRewardAsync(int rewardId, UpdateRewardRequestDto updateRewardRequestDto);

        // delete reward ( is-active =  false)
        Task<bool> DeleteRewardAsync(int id);
    }
}
</file>

<file path="MegaMarket.API/Services/ReportService.cs">
using MegaMarket.API.DTOs.Reports;
using MegaMarket.Data.Repositories;
namespace MegaMarket.API.Services
{
    public class ReportService: IReportService
    {
        private readonly IReportRepository _reportRepository;
        public ReportService(IReportRepository reportRepository)
        {
            _reportRepository = reportRepository;
        }

        // Get a list of top customers based on their points.
        public async Task<IEnumerable<TopCustomerDto>> GetTopCustomersAsync(int limit)
        {
            var customers = await _reportRepository.GetTopCustomersAsync(limit);
            return customers.Select(c => new TopCustomerDto
            {
                CustomerId = c.CustomerId,
                FullName = $"{c.FullName}",
                Phone = c.Phone!,
                Points = c.Points,
                Rank = c.Rank
            });
        }

        // Get top rewards that have been redeemed the most
        public async Task<IEnumerable<TopRewardDto>> GetTopRewardsAsync(int limit)
        {
            var rewards = await _reportRepository.GetTopRewardsAsync(limit);
            return rewards.Select(r => new TopRewardDto
            {
                RewardId = r.RewardId,
                RewardName = r.RewardName,
                RewardType = r.RewardType,
                TotalRedeemed = r.TotalRedeemed
            });
        }

        // Get summary of points: total earned, redeemed, adjusted
        public async Task<IEnumerable<PointsSummaryDto>> GetPointsSummaryAsync()
        {
            var summary = await _reportRepository.GetPointsSummaryAsync();
            return summary.Select(s => new PointsSummaryDto
            {
                TransactionType = s.TransactionType,
                TotalPoints = s.TotalPoints >= 0 ? s.TotalPoints : -s.TotalPoints
            });
        }
    }
}
</file>

<file path="MegaMarket.API/Services/RewardService.cs">
using MegaMarket.API.DTOs.Customers;
using MegaMarket.API.DTOs.Rewards;
using MegaMarket.Data.Models;
using MegaMarket.Data.Repositories;

namespace MegaMarket.API.Services
{
    public class RewardService : IRewardService
    {
        private readonly IRewardRepository _rewardRepository;
        public RewardService(IRewardRepository rewardRepository)
        {
            _rewardRepository = rewardRepository;
        }

        // get all rewards are active
        public async Task<IEnumerable<RewardResponseDto>> GetAllRewardsAsync()
        {
            // get all rewards from db
            var rewards = await _rewardRepository.GetAllRewardsAsync();
            // convert sang dto
            var response = rewards.Select(c => new RewardResponseDto
            {
                RewardId = c.RewardId,
                Name = c.Name,
                Description = c.Description,
                RewardType = c.RewardType,
                PointCost = c.PointCost,
                QuantityAvailable = c.QuantityAvailable,
                Value = c.Value,
                IsActive = c.IsActive,
            });

            return response;
        }



        //get a reward by id
        public async Task<RewardResponseDto?> GetRewarByIddAsync(int id)
        {
            // get a reward
            var reward = await _rewardRepository.GetRewardByIdAsync(id);
            if (reward == null)
            {
                return null;
            }
            // convert to dto
            var response = new RewardResponseDto
            {
                RewardId = reward.RewardId,
                Name = reward.Name,
                Description = reward.Description,
                RewardType = reward.RewardType,
                PointCost = reward.PointCost,
                QuantityAvailable = reward.QuantityAvailable,
                Value = reward.Value,
                IsActive = reward.IsActive,
            };
            return response;
        }


        // create a reward
        public async Task<RewardResponseDto?> CreateRewardAsync(CreateRewardRequestDto reward_dto)
        {
            try
            {
                // create a reward
                var reward = new Reward
                {
                    Name = reward_dto.Name!,
                    Description = reward_dto.Description,
                    PointCost = reward_dto.PointCost,
                    Value = reward_dto.Value,
                    QuantityAvailable = reward_dto .QuantityAvailable,
                    RewardType = reward_dto.RewardType!,
                    IsActive = true
                };

                // save in db by repository
                var createdReward = await _rewardRepository.CreateRewardAsync(reward);

                // convert to response dto 
                var response = new RewardResponseDto
                {
                    RewardId = reward.RewardId,
                    Name = reward.Name,
                    Description = reward.Description,
                    RewardType = reward.RewardType,
                    PointCost = reward.PointCost,
                    QuantityAvailable = reward.QuantityAvailable,
                    Value = reward.Value,
                    IsActive = reward.IsActive,
                };

                return response;
            }
            catch (Exception ex)
            {
                throw new Exception($"Error when adding reward in service: {ex.Message}");
            }
        }


        // update customer 
        public async Task<RewardResponseDto?> UpdateRewardAsync(int rewardId, UpdateRewardRequestDto updateRewardRequestDto)
        {
            try
            {
                // get reward exist
                var reward_exist = await _rewardRepository.GetRewardByIdAsync(rewardId);
                if (reward_exist == null)
                {
                    return null;
                }

                //create reward
                var reward = new Reward
                {
                    RewardId = rewardId,
                    Name = updateRewardRequestDto.Name!,
                    Description = updateRewardRequestDto.Description,
                    PointCost = updateRewardRequestDto.PointCost,
                    Value = updateRewardRequestDto.Value,
                    RewardType = updateRewardRequestDto.RewardType!,
                    QuantityAvailable = updateRewardRequestDto.QuantityAvailable,
                    IsActive = true
                };

                // save in db by repo
                var updatedReward = await _rewardRepository.UpdateRewardAsync(reward);
                if (updatedReward == null)
                {
                    return null;
                }

                // convert to dto
                var response = new RewardResponseDto
                {
                    RewardId = reward.RewardId,
                    Name = reward.Name,
                    Description = reward.Description,
                    RewardType = reward.RewardType,
                    PointCost = reward.PointCost,
                    QuantityAvailable = reward.QuantityAvailable,
                    Value = reward.Value,
                    IsActive = reward.IsActive,
                };
                return response;
            }
            catch (Exception ex)
            {
                throw new Exception($"Error when updating reward in service: {ex.Message}");
            }
        }


        // delete reward 
        public async Task<bool> DeleteRewardAsync(int id)
        {
            return await _rewardRepository.DeleteRewardAsync(id);
        }
    }
}
</file>

<file path="MegaMarket.API/Services/ShiftTypeService.cs">
using Microsoft.EntityFrameworkCore;
using MegaMarket.Data.Data;
using MegaMarket.Data.Models;
using MegaMarket.API.DTOs;

namespace MegaMarket.API.Services;

public class ShiftTypeService
{
    private readonly MegaMarketDbContext _context;

    public ShiftTypeService(MegaMarketDbContext context)
    {
        _context = context;
    }

    // Lấy tất cả loại ca làm việc
    public async Task<List<ShiftType>> GetAllShiftTypesAsync()
    {
        return await _context.ShiftTypes
            .OrderBy(st => st.StartTime)
            .ToListAsync();
    }

    // Lấy loại ca theo ID
    public async Task<ShiftType?> GetShiftTypeByIdAsync(int shiftTypeId)
    {
        return await _context.ShiftTypes.FindAsync(shiftTypeId);
    }

    // Lấy loại ca theo tên
    public async Task<ShiftType?> GetShiftTypeByNameAsync(string name)
    {
        return await _context.ShiftTypes
            .FirstOrDefaultAsync(st => st.Name == name);
    }

    // Tạo loại ca mới
    public async Task<ShiftType> CreateShiftTypeAsync(ShiftTypeInputDto input)
    {
        // Kiểm tra tên ca đã tồn tại chưa
        var existing = await GetShiftTypeByNameAsync(input.Name);
        if (existing != null)
        {
            throw new Exception("Tên ca làm việc đã tồn tại!");
        }

        // Validate thời gian
        if (input.StartTime >= input.EndTime)
        {
            throw new Exception("Giờ bắt đầu phải nhỏ hơn giờ kết thúc!");
        }

        if (input.WagePerHour <= 0)
        {
            throw new Exception("Lương theo giờ phải lớn hơn 0!");
        }

        var shiftType = new ShiftType
        {
            Name = input.Name,
            StartTime = input.StartTime,
            EndTime = input.EndTime,
            WagePerHour = input.WagePerHour
        };

        _context.ShiftTypes.Add(shiftType);
        await _context.SaveChangesAsync();
        return shiftType;
    }

    // Cập nhật loại ca
    public async Task<ShiftType> UpdateShiftTypeAsync(int shiftTypeId, ShiftTypeInputDto input)
    {
        var shiftType = await GetShiftTypeByIdAsync(shiftTypeId);
        if (shiftType == null)
        {
            throw new Exception("Không tìm thấy loại ca làm việc!");
        }

        // Nếu đổi tên, kiểm tra trùng
        if (shiftType.Name != input.Name)
        {
            var existing = await GetShiftTypeByNameAsync(input.Name);
            if (existing != null)
            {
                throw new Exception("Tên ca làm việc đã tồn tại!");
            }
            shiftType.Name = input.Name;
        }

        // Validate thời gian
        if (input.StartTime >= input.EndTime)
        {
            throw new Exception("Giờ bắt đầu phải nhỏ hơn giờ kết thúc!");
        }

        if (input.WagePerHour <= 0)
        {
            throw new Exception("Lương theo giờ phải lớn hơn 0!");
        }

        shiftType.StartTime = input.StartTime;
        shiftType.EndTime = input.EndTime;
        shiftType.WagePerHour = input.WagePerHour;

        await _context.SaveChangesAsync();
        return shiftType;
    }

    // Xóa loại ca
    public async Task<bool> DeleteShiftTypeAsync(int shiftTypeId)
    {
        var shiftType = await GetShiftTypeByIdAsync(shiftTypeId);
        if (shiftType == null)
        {
            return false;
        }

        // Kiểm tra có attendance nào đang dùng không
        var hasAttendances = await _context.Attendances
            .AnyAsync(a => a.ShiftTypeId == shiftTypeId);

        if (hasAttendances)
        {
            throw new Exception("Không thể xóa! Có nhân viên đang sử dụng ca này.");
        }

        _context.ShiftTypes.Remove(shiftType);
        await _context.SaveChangesAsync();
        return true;
    }

    // Tính lương dựa trên giờ làm việc
    public decimal CalculateWage(ShiftType shiftType, DateTime? checkIn, DateTime? checkOut)
    {
        if (!checkIn.HasValue || !checkOut.HasValue)
        {
            return 0;
        }

        var workDuration = checkOut.Value - checkIn.Value;
        var hoursWorked = (decimal)workDuration.TotalHours;

        return hoursWorked * shiftType.WagePerHour;
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Layout/AuthLayout.razor">
@inherits LayoutComponentBase

<div class="auth-page">
    @Body
</div>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">🗙</a>
</div>

<style>
    .auth-page {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
</style>
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Attendance/MyAttendanceHistory.razor">
@page "/attendance/my-history"
@attribute [Authorize(Roles = "Cashier,Warehouse")]
@using MegaMarket.Data.Models
@inject Services.Attendance.AttendanceApiClient AttendanceApiClient
@inject Services.ShiftTypes.ShiftTypesApiClient ShiftTypesApiClient
@inject AuthenticationStateProvider AuthStateProvider

<div class="container-fluid mt-4">
    @* Header *@
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="text-gradient mb-1">My Attendance History</h2>
            <p class="text-muted">View and track your own attendance records</p>
        </div>
    </div>

    @* Error Message *@
    @if (!string.IsNullOrEmpty(errorMessage))
    {
        <ErrorAlert ErrorMessage="@errorMessage" OnDismiss="@(() => errorMessage = null)" />
    }

    @* Loading State *@
    @if (isLoading)
    {
        <LoadingSpinner Message="Loading attendance history..." />
    }
    else
    {
        @* Stats Cards *@
        <AttendanceStats Attendances="@filteredAttendances" />

        @* Filters *@
        <div class="card mb-4">
            <div class="card-body">
                <div class="row g-3">
                    <div class="col-md-4">
                        <label class="form-label">From Date</label>
                        <input type="date" class="form-control" @bind="filterFromDate" @bind:after="ApplyFilters" />
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">To Date</label>
                        <input type="date" class="form-control" @bind="filterToDate" @bind:after="ApplyFilters" />
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Shift Type</label>
                        <select class="form-select" @bind="filterShiftTypeId" @bind:after="ApplyFilters">
                            <option value="0">All Shifts</option>
                            @if (shiftTypes != null)
                            {
                                @foreach (var shift in shiftTypes)
                                {
                                    <option value="@shift.ShiftTypeId">@shift.Name</option>
                                }
                            }
                        </select>
                    </div>
                </div>
                <div class="mt-3">
                    <button class="btn btn-outline-secondary btn-sm" @onclick="ClearFilters">
                        <span class="bi bi-x-circle me-1"></span> Clear Filters
                    </button>
                </div>
            </div>
        </div>

        @* Attendance Table *@
        @if (filteredAttendances == null || !filteredAttendances.Any())
        {
            <EmptyState
                Icon="📅"
                Title="No Attendance Records Found"
                Description="No attendance records match your current filters." />
        }
        else
        {
            <AttendanceTable Attendances="@filteredAttendances" />
        }
    }
</div>

@code {
    private List<MegaMarket.Data.Models.Attendance>? allAttendances;
    private List<MegaMarket.Data.Models.Attendance>? filteredAttendances;
    private List<ShiftType>? shiftTypes;
    private bool isLoading = true;
    private string? errorMessage;

    // Filters
    private DateTime? filterFromDate;
    private DateTime? filterToDate;
    private int filterShiftTypeId = 0;
    private string filterStatus = "All"; 

    protected override async Task OnInitializedAsync()
    {
        await LoadData();
    }

    private async Task LoadData()
    {
        try
        {
            isLoading = true;
            errorMessage = null;

            // Get current user info
            var authState = await AuthStateProvider.GetAuthenticationStateAsync();
            var user = authState.User;
            var userIdClaim = user.FindFirst("userId")?.Value;
            
            if (string.IsNullOrEmpty(userIdClaim) || !int.TryParse(userIdClaim, out var userId))
            {
                errorMessage = "Unable to identify current user. Please log in again.";
                return;
            }

            // Tải dữ liệu cá nhân của người dùng hiện tại
            allAttendances = await AttendanceApiClient.GetAttendancesByUserAsync(userId);
            
            if (allAttendances == null)
            {
                allAttendances = new List<MegaMarket.Data.Models.Attendance>();
            }

            // Load shift types for filter
            shiftTypes = await ShiftTypesApiClient.GetShiftTypesAsync();
            if (shiftTypes == null)
            {
                shiftTypes = new List<ShiftType>();
            }

            // Initialize filters with default date range (last 30 days)
            filterToDate = DateTime.Today;
            filterFromDate = DateTime.Today.AddDays(-30);

            ApplyFilters();
        }
        catch (Exception ex)
        {
            errorMessage = $"Failed to load data: {ex.Message}";
        }
        finally
        {
            isLoading = false;
        }
    }

    private void ApplyFilters()
    {
        if (allAttendances == null)
        {
            filteredAttendances = new List<MegaMarket.Data.Models.Attendance>();
            return;
        }

        var query = allAttendances.AsEnumerable();

        // Filter by date range
        if (filterFromDate.HasValue)
        {
            query = query.Where(a => a.Date.Date >= filterFromDate.Value.Date);
        }

        if (filterToDate.HasValue)
        {
            query = query.Where(a => a.Date.Date <= filterToDate.Value.Date);
        }

        // Filter by shift type
        if (filterShiftTypeId > 0)
        {
            query = query.Where(a => a.ShiftTypeId == filterShiftTypeId);
        }

        // Filter by status (Logic này vẫn được giữ lại để tương thích)
        if (filterStatus == "OnTime")
        {
            query = query.Where(a => !a.IsLate && a.CheckOut != null);
        }
        else if (filterStatus == "Late")
        {
            query = query.Where(a => a.IsLate);
        }
        else if (filterStatus == "Incomplete")
        {
            query = query.Where(a => a.CheckOut == null);
        }

        filteredAttendances = query.OrderByDescending(a => a.Date).ToList();
    }

    private void ClearFilters()
    {
        filterFromDate = DateTime.Today.AddDays(-30);
        filterToDate = DateTime.Today;
        filterShiftTypeId = 0;
        filterStatus = "All";
        ApplyFilters();
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Auth/Unauthorized.razor">
@page "/unauthorized"

<div class="container mt-5">
    <div class="row">
        <div class="col-md-6 offset-md-3 text-center">
            <div class="card border-0 shadow-sm">
                <div class="card-body p-5">
                    <div class="mb-4">
                        <span style="font-size: 4em;">🚫</span>
                    </div>
                    <h2 class="text-danger mb-3">Access Denied</h2>
                    <p class="text-muted mb-4">
                        You do not have permission to access this page.
                        <br />
                        Please contact your administrator if you believe this is an error.
                    </p>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                        <a href="/" class="btn btn-primary">Go to Home</a>
                        <a href="/login" class="btn btn-outline-secondary">Login</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Customers/CustomerForm.razor">
@using MegaMarket.BlazorUI.Services.CustomerLoyalty

<div class="form-group">
    <label for="fullName" class="form-label">Full Name <span class="text-danger">*</span></label>
    <input type="text" class="form-control @(string.IsNullOrEmpty(Customer?.FullName) ? "is-invalid" : "")" 
           id="fullName" @bind="Customer!.FullName" placeholder="Enter full name" />
    @if (string.IsNullOrEmpty(Customer?.FullName))
    {
        <div class="invalid-feedback d-block">Full name is required</div>
    }
</div>

<div class="form-group mt-3">
    <label for="phone" class="form-label">Phone <span class="text-danger">*</span></label>
    <input type="tel" class="form-control @(string.IsNullOrEmpty(Customer?.Phone) ? "is-invalid" : "")" 
           id="phone" @bind="Customer!.Phone" placeholder="0123456789" />
    @if (string.IsNullOrEmpty(Customer?.Phone))
    {
        <div class="invalid-feedback d-block">Phone is required</div>
    }
</div>

<div class="form-group mt-3">
    <label for="email" class="form-label">Email</label>
    <input type="email" class="form-control" id="email" @bind="Customer!.Email" placeholder="email@example.com" />
</div>

<div class="form-group mt-3">
    <label for="points" class="form-label">Points</label>
    <input type="number" class="form-control" id="points" @bind="Customer!.Points" min="0" />
</div>

@if (IsEditing)
{
    <div class="form-group mt-3">
        <label for="rank" class="form-label">Rank</label>
        <select class="form-select" id="rank" @bind="Customer!.Rank">
            <option value="">Select Rank</option>
            <option value="Silver">Silver</option>
            <option value="Gold">Gold</option>
            <option value="Platinum">Platinum</option>
        </select>
    </div>
}

<div class="d-flex gap-2 mt-4">
    <button class="btn btn-primary" @onclick="SubmitForm">
        @(IsEditing ? "Update" : "Add") Customer
    </button>
    <button class="btn btn-outline-secondary" @onclick="OnCancel">Cancel</button>
</div>

@code {
    [Parameter]
    public CustomerDto? Customer { get; set; }

    [Parameter]
    public bool IsEditing { get; set; }

    [Parameter]
    public EventCallback<CustomerDto> OnSubmit { get; set; }

    [Parameter]
    public EventCallback OnCancel { get; set; }

    private async Task SubmitForm()
    {
        if (Customer == null || string.IsNullOrEmpty(Customer.FullName) || string.IsNullOrEmpty(Customer.Phone))
        {
            return; // Form validation error shown above
        }

        await OnSubmit.InvokeAsync(Customer);
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Dashboards/CashierDashboard.razor">
@page "/cashier/dashboard"
@attribute [Authorize(Roles = "Cashier")]
@inject NavigationManager NavigationManager

<div class="container-fluid mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="text-gradient mb-1">💳 Cashier Dashboard</h2>
            <p class="text-muted mb-0">Point of sale operations</p>
        </div>
    </div>

    <!-- QUICK STATS -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="card border-0 shadow-sm">
                <div class="card-body text-center">
                    <h6 class="text-muted mb-2">Your Shift Today</h6>
                    <h3 class="text-primary">2:00 PM - 10:00 PM</h3>
                    <small class="text-muted">Afternoon Shift</small>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card border-0 shadow-sm">
                <div class="card-body text-center">
                    <h6 class="text-muted mb-2">Status</h6>
                    <h3 class="text-success">✓ Checked In</h3>
                    <small class="text-muted">2:05 PM</small>
                </div>
            </div>
        </div>
    </div>

    <!-- MAIN ACTIONS -->
    <div class="mb-5">
        <h4 class="mb-3"><span class="bi bi-lightning-fill me-2"></span>Main Operations</h4>
        <div class="row">
            <div class="col-md-4">
                <a href="/checkout" class="btn btn-success btn-lg w-100 mb-3">
                    <span class="bi bi-bag-check-fill fs-4"></span><br/>
                    <span class="mt-2">Checkout</span>
                </a>
            </div>
            <div class="col-md-4">
                <a href="/invoice" class="btn btn-primary btn-lg w-100 mb-3">
                    <span class="bi bi-file-invoice fs-4"></span><br/>
                    <span class="mt-2">Invoice</span>
                </a>
            </div>
            <div class="col-md-4">
                <a href="/attendance/check-in-out" class="btn btn-info btn-lg w-100 mb-3">
                    <span class="bi bi-clock fs-4"></span><br/>
                    <span class="mt-2">Check In/Out</span>
                </a>
            </div>
        </div>
    </div>

    <!-- PERSONAL INFO -->
    <div class="mb-5">
        <h4 class="mb-3"><span class="bi bi-person-circle me-2"></span>My Information</h4>
        <div class="row">
            <div class="col-md-6">
                <div class="card border-0 shadow-sm">
                    <div class="card-body">
                        <h6 class="text-muted mb-2">Name</h6>
                        <p class="mb-0">Sarah Cashier</p>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card border-0 shadow-sm">
                    <div class="card-body">
                        <h6 class="text-muted mb-2">Role</h6>
                        <p class="mb-0">Cashier / POS Operator</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    protected override void OnInitialized()
    {
        // Can load personal user data here if needed
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Dashboards/ManagerDashboard.razor">
@page "/manager/dashboard"
@attribute [Authorize(Roles = "Manager")]
@inject Services.Dashboard.DashboardApiClient DashboardApiClient
@using MegaMarket.BlazorUI.Models.Dashboard

<div class="container-fluid mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="text-gradient mb-1">📊 Manager Dashboard</h2>
            <p class="text-muted mb-0">Sales metrics and employee management</p>
        </div>
    </div>

    @if (!string.IsNullOrEmpty(globalErrorMessage))
    {
        <div class="alert alert-danger alert-dismissible fade show">
            <strong>Error:</strong> @globalErrorMessage
            <button type="button" class="btn-close" @onclick="@(() => globalErrorMessage = null)"></button>
        </div>
    }

    <!-- SALES SECTION -->
    <div class="mb-5">
        <h4 class="mb-3"><span class="bi bi-graph-up me-2"></span>Sales Overview</h4>
        <div class="row">
            <div class="col-md-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body">
                        <h6 class="text-muted mb-2">Total Revenue</h6>
                        <h3 class="text-success">@(salesData?.TotalRevenue.ToString("C") ?? "---")</h3>
                        <small class="text-muted">@GetDateRangeLabel()</small>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body">
                        <h6 class="text-muted mb-2">Total Invoices</h6>
                        <h3 class="text-primary">@(salesData?.TotalInvoices.ToString("N0") ?? "---")</h3>
                        <small class="text-muted">Orders processed</small>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body">
                        <h6 class="text-muted mb-2">Avg Transaction</h6>
                        <h3 class="text-info">@(salesData != null && salesData.TotalInvoices > 0 ? (salesData.TotalRevenue / salesData.TotalInvoices).ToString("C") : "---")</h3>
                        <small class="text-muted">Per invoice</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- INVENTORY SECTION -->
    <div class="mb-5">
        <h4 class="mb-3"><span class="bi bi-boxes me-2"></span>Inventory Status</h4>
        <div class="row">
            <div class="col-md-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body">
                        <h6 class="text-muted mb-2">Total Products</h6>
                        <h3 class="text-warning">@(inventoryData?.TotalProducts.ToString("N0") ?? "---")</h3>
                        <small class="text-muted">In system</small>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body">
                        <h6 class="text-muted mb-2">Low Stock Items</h6>
                        <h3 class="text-danger">@(inventoryData?.LowStockCount.ToString("N0") ?? "---")</h3>
                        <small class="text-muted">Need reorder</small>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body">
                        <h6 class="text-muted mb-2">Total Value</h6>
                        <h3 class="text-success">@(inventoryData?.TotalStockValue?.ToString("C") ?? "---")</h3>
                        <small class="text-muted">All inventory</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- QUICK LINKS -->
    <div class="mb-5">
        <h4 class="mb-3"><span class="bi bi-lightning-fill me-2"></span>Quick Actions</h4>
        <div class="row">
            <div class="col-md-3">
                <a href="/employees" class="btn btn-outline-primary btn-lg w-100">
                    <span class="bi bi-people-fill"></span><br/>Manage Employees
                </a>
            </div>
            <div class="col-md-3">
                <a href="/products" class="btn btn-outline-success btn-lg w-100">
                    <span class="bi bi-bag-fill"></span><br/>Products
                </a>
            </div>
            <div class="col-md-3">
                <a href="/rewards" class="btn btn-outline-warning btn-lg w-100">
                    <span class="bi bi-gift-fill"></span><br/>Rewards
                </a>
            </div>
            <div class="col-md-3">
                <a href="/customers" class="btn btn-outline-info btn-lg w-100">
                    <span class="bi bi-people"></span><br/>Customers
                </a>
            </div>
        </div>
    </div>
</div>

@code {
    private string globalErrorMessage = "";
    private SalesDashboardDto? salesData;
    private InventoryDashboardDto? inventoryData;

    protected override async Task OnInitializedAsync()
    {
        await LoadDashboardData();
    }

    private async Task LoadDashboardData()
    {
        try
        {
            globalErrorMessage = "";
            await Task.WhenAll(
                LoadSalesData(),
                LoadInventoryData()
            );
        }
        catch (Exception ex)
        {
            globalErrorMessage = ex.Message;
        }
    }

    private async Task LoadSalesData()
    {
        try
        {
            salesData = await DashboardApiClient.GetSalesDashboardAsync(DateRangeEnum.ThisWeek);
        }
        catch (Exception ex)
        {
            globalErrorMessage = $"Failed to load sales data: {ex.Message}";
        }
    }

    private async Task LoadInventoryData()
    {
        try
        {
            inventoryData = await DashboardApiClient.GetInventoryDashboardAsync();
        }
        catch (Exception ex)
        {
            globalErrorMessage = $"Failed to load inventory data: {ex.Message}";
        }
    }

    private string GetDateRangeLabel() => "This Week";
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Dashboards/WarehouseDashboard.razor">
@page "/warehouse/dashboard"
@attribute [Authorize(Roles = "Warehouse")]
@inject Services.Dashboard.DashboardApiClient DashboardApiClient
@using MegaMarket.BlazorUI.Models.Dashboard

<div class="container-fluid mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="text-gradient mb-1">📦 Warehouse Dashboard</h2>
            <p class="text-muted mb-0">Inventory and stock management</p>
        </div>
    </div>

    @if (!string.IsNullOrEmpty(globalErrorMessage))
    {
        <div class="alert alert-danger alert-dismissible fade show">
            <strong>Error:</strong> @globalErrorMessage
            <button type="button" class="btn-close" @onclick="@(() => globalErrorMessage = null)"></button>
        </div>
    }

    <!-- INVENTORY STATUS -->
    <div class="mb-5">
        <h4 class="mb-3"><span class="bi bi-boxes me-2"></span>Inventory Status</h4>
        <div class="row">
            <div class="col-md-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body">
                        <h6 class="text-muted mb-2">Total Products</h6>
                        <h3 class="text-primary">@(inventoryData?.TotalProducts.ToString("N0") ?? "---")</h3>
                        <small class="text-muted">In inventory</small>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body">
                        <h6 class="text-muted mb-2">Low Stock Items</h6>
                        <h3 class="text-danger">@(inventoryData?.LowStockCount.ToString("N0") ?? "---")</h3>
                        <small class="text-muted">⚠️ Urgent!</small>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body">
                        <h6 class="text-muted mb-2">Total Value</h6>
                        <h3 class="text-success">@(inventoryData?.TotalStockValue?.ToString("C") ?? "---")</h3>
                        <small class="text-muted">All inventory</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- LOW STOCK ALERT -->
    @if (inventoryData?.LowStockCount > 0)
    {
        <div class="mb-5">
            <div class="alert alert-warning border-0">
                <h5 class="alert-heading"><span class="bi bi-exclamation-triangle me-2"></span>Low Stock Alert</h5>
                <p>You have <strong>@inventoryData.LowStockCount</strong> items below minimum stock level. Please initiate reorder process.</p>
            </div>
        </div>
    }

    <!-- QUICK ACTIONS -->
    <div class="mb-5">
        <h4 class="mb-3"><span class="bi bi-lightning-fill me-2"></span>Quick Actions</h4>
        <div class="row">
            <div class="col-md-4">
                <a href="/products" class="btn btn-info btn-lg w-100">
                    <span class="bi bi-bag-fill"></span><br/>View Products
                </a>
            </div>
            <div class="col-md-4">
                <a href="/imports" class="btn btn-success btn-lg w-100">
                    <span class="bi bi-truck"></span><br/>New Import
                </a>
            </div>
            <div class="col-md-4">
                <a href="/attendance/check-in-out" class="btn btn-primary btn-lg w-100">
                    <span class="bi bi-calendar-check"></span><br/>Check In/Out
                </a>
            </div>
        </div>
    </div>

    <!-- PERSONAL INFO -->
    <div class="mb-5">
        <h4 class="mb-3"><span class="bi bi-person-circle me-2"></span>My Information</h4>
        <div class="row">
            <div class="col-md-6">
                <div class="card border-0 shadow-sm">
                    <div class="card-body">
                        <h6 class="text-muted mb-2">Name</h6>
                        <p class="mb-0">Mike Warehouse</p>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card border-0 shadow-sm">
                    <div class="card-body">
                        <h6 class="text-muted mb-2">Role</h6>
                        <p class="mb-0">Warehouse Manager</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    private string globalErrorMessage = "";
    private InventoryDashboardDto? inventoryData;

    protected override async Task OnInitializedAsync()
    {
        await LoadInventoryData();
    }

    private async Task LoadInventoryData()
    {
        try
        {
            globalErrorMessage = "";
            inventoryData = await DashboardApiClient.GetInventoryDashboardAsync();
        }
        catch (Exception ex)
        {
            globalErrorMessage = $"Failed to load inventory data: {ex.Message}";
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Imports/ImportDetails.razor">
@page "/imports/{id:int}"
@rendermode InteractiveServer
@using MegaMarket.BlazorUI.Services.Imports
@inject NavigationManager Navigation
@inject ImportService ImportService

<div class="import-detail-page">
    @if (loading)
    {
        <div class="loading-state">
            <div class="spinner-border text-primary" role="status"></div>
            <p class="text-muted mt-2 mb-0">Loading import...</p>
        </div>
    }
    else if (!string.IsNullOrWhiteSpace(error))
    {
        <div class="alert alert-danger" role="alert">
            <strong>Oops!</strong> @error
            <button class="btn btn-sm btn-outline-dark ms-2" @onclick="Back">Back</button>
        </div>
    }
    else if (detail is not null)
    {
        <div class="page-header">
            <button class="btn btn-link text-dark px-0" @onclick="Back">
                <span class="bi bi-arrow-left"></span>
            </button>
            <div class="header-content">
                <div class="icon-circle"><span class="bi bi-box"></span></div>
                <div>
                    <div class="d-flex align-items-center gap-2 flex-wrap">
                        <h3 class="mb-0">Import #@detail.ImportId.ToString("0000")</h3>
                        <span class="badge status @GetStatusClass(detail.Status)">@detail.Status</span>
                        @if (detail.NearExpiry)
                        {
                            <span class="badge status warning">Near Expiry</span>
                        }
                        @if (detail.Expired)
                        {
                            <span class="badge status danger">Expired</span>
                        }
                    </div>
                    <p class="text-muted mb-0">View import details</p>
                </div>
            </div>
        </div>

        <div class="detail-grid">
            <div class="card info-card shadow-sm border-0">
                <div class="card-body">
                    <h5 class="mb-3">Import Information</h5>
                    <div class="mb-3">
                        <label class="form-label">Supplier</label>
                        <input class="form-control" value="@detail.Supplier" disabled />
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Import Date</label>
                        <input class="form-control" value="@detail.ImportDate.ToString("dd/MM/yyyy")" disabled />
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Staff</label>
                        <input class="form-control" value="@detail.Staff" disabled />
                    </div>
                    <div class="mb-1">
                        <label class="form-label">Status</label>
                        <div>
                            <span class="badge status @GetStatusClass(detail.Status)">@detail.Status</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card items-card shadow-sm border-0">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h5 class="mb-0">Line Items</h5>
                        <button class="btn btn-outline-secondary" @onclick="Back">Back</button>
                    </div>
                    <div class="table-responsive">
                        <table class="table align-middle mb-0">
                            <thead>
                                <tr>
                                    <th>Product</th>
                                    <th>Barcode</th>
                                    <th class="text-center">Quantity</th>
                                    <th class="text-end">Unit Price</th>
                                    <th class="text-center">Expiry Date</th>
                                    <th class="text-end">Line Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in detail.Items)
                                {
                                    <tr>
                                        <td>
                                            <div class="d-flex align-items-center gap-2">
                                                <span class="bi bi-box"></span>
                                                <div>
                                                    <div class="fw-semibold">@item.ProductName</div>
                                                    @if (!string.IsNullOrWhiteSpace(item.Category))
                                                    {
                                                        <small class="text-muted">@item.Category</small>
                                                    }
                                                </div>
                                            </div>
                                        </td>
                                        <td><span class="text-muted">@item.Barcode</span></td>
                                        <td class="text-center">@item.Quantity</td>
                                        <td class="text-end">@item.UnitPrice.ToString("N0") đ</td>
                                        <td class="text-center">@((item.ExpiryDate.HasValue ? item.ExpiryDate.Value.ToString("dd/MM/yyyy") : "N/A"))</td>
                                        <td class="text-end">@item.LineTotal.ToString("N0") đ</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="card summary-card shadow-sm border-0">
                <div class="card-body d-flex align-items-center gap-3">
                    <div class="summary-icon"><span class="bi bi-currency-dollar"></span></div>
                    <div>
                        <p class="text-muted mb-1">Total Cost</p>
                        <h4 class="mb-1">@detail.TotalCost.ToString("N0") đ</h4>
                        <small class="text-muted">@detail.ItemCount item(s)</small>
                    </div>
                </div>
            </div>
        </div>
    }
</div>

@code {
    [Parameter] public int id { get; set; }

    private ImportDetailDto? detail;
    private bool loading = true;
    private string? error;

    protected override async Task OnInitializedAsync()
    {
        await LoadAsync();
    }

    private async Task LoadAsync()
    {
        try
        {
            loading = true;
            error = null;
            detail = await ImportService.GetImportAsync(id);
            if (detail is null)
            {
                error = "Import not found.";
            }
        }
        catch (Exception ex)
        {
            error = ex.Message;
        }
        finally
        {
            loading = false;
        }
    }

    private void Back() => Navigation.NavigateTo("/imports");

    private static string GetStatusClass(string status) => (status ?? string.Empty).ToLower() switch
    {
        "completed" => "success",
        "draft" => "neutral",
        "cancelled" => "danger",
        _ => "neutral"
    };
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Imports/ImportDetails.razor.css">
.import-detail-page {
    padding: 0.5rem 0;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.page-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.header-content {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.icon-circle {
    width: 44px;
    height: 44px;
    border-radius: 12px;
    background: #0e111a;
    color: #fff;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 1.1rem;
}

.detail-grid {
    display: grid;
    grid-template-columns: 320px 1fr;
    grid-template-rows: auto 1fr;
    gap: 1rem;
    align-items: start;
}

.info-card {
    grid-row: 1 / 2;
    grid-column: 1 / 2;
}

.items-card {
    grid-row: 1 / 2;
    grid-column: 2 / 3;
}

.summary-card {
    grid-row: 2 / 3;
    grid-column: 1 / 2;
    background: linear-gradient(135deg, #101426, #1d2746);
    color: #fff;
}

.summary-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.1);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
}

.items-card table th {
    color: #7d8593;
    font-weight: 600;
    white-space: nowrap;
}

.items-card table td {
    vertical-align: middle;
}

.loading-state {
    padding: 2rem;
    display: flex;
    flex-direction: column;
    align-items: center;
}

@media (max-width: 992px) {
    .detail-grid {
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto;
    }

    .info-card,
    .items-card,
    .summary-card {
        grid-column: 1 / -1;
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Imports/NewImport.razor">
@page "/imports/new"
@rendermode InteractiveServer
@page "/imports/{importId:int}/edit"
@using MegaMarket.BlazorUI.Services.Products
@using MegaMarket.BlazorUI.Services.Imports
@using Microsoft.AspNetCore.Components
@inject NavigationManager Navigation
@inject ProductService ProductService
@inject ImportService ImportService

<div class="new-import-page">
    <div class="page-header d-flex align-items-center gap-3 mb-3">
        <button class="btn btn-link text-dark px-0" @onclick="GoBack">
            <span class="bi bi-arrow-left"></span>
        </button>
        <div>
            <p class="eyebrow mb-1">New Import</p>
            <h3 class="mb-0">Create a new stock import transaction</h3>
        </div>
    </div>

    <div class="layout-grid">
        <div class="card shadow-sm border-0 info-panel">
            <div class="card-body">
                <h5 class="mb-3">Import Information</h5>
                <div class="mb-3">
                    <label class="form-label">Supplier *</label>
                    <select class="form-select" @bind="importModel.Supplier">
                        <option value="">Select supplier</option>
                        @foreach (var supplier in Suppliers)
                        {
                            <option value="@supplier">@supplier</option>
                        }
                    </select>
                </div>

                <div class="mb-3">
                    <label class="form-label">Import Date *</label>
                    <div class="input-icon">
                        <span class="bi bi-calendar"></span>
                        <input type="date" class="form-control" @bind="importModel.ImportDate" @bind:format="yyyy-MM-dd" />
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label">Staff</label>
                    <input class="form-control" value="Current User" disabled />
                </div>

                <div class="mb-3">
                    <label class="form-label">Status</label>
                    <select class="form-select" @bind="importModel.Status">
                        <option>Draft</option>
                        <option>Completed</option>
                        <option>Cancelled</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="card shadow-sm border-0 flex-grow-1">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="mb-0">Line Items</h5>
                    <button class="btn btn-outline-secondary btn-sm" @onclick="AddItem">
                        <span class="bi bi-plus-lg me-2"></span>Add Item
                    </button>
                </div>

                <div class="table-responsive line-items">
                    <table class="table align-middle mb-0">
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th>Barcode</th>
                                <th>Quantity</th>
                                <th>Unit Price</th>
                                <th>Expiry Date</th>
                                <th>Line Total</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in importModel.Items)
                            {
                                <tr>
                                    <td>
                                        <div class="product-cell">
                                            <input class="form-control"
                                                   placeholder="Search product..."
                                                   value="@item.ProductName"
                                                   @oninput="(e) => OnProductSearchChanged(item, e)"
                                                   @onfocus="() => ShowSuggestions(item)"
                                                   @onblur="() => HideSuggestions(item)" />

                                            @if (item.ShowSuggestions)
                                            {
                                                <div class="product-suggestions shadow-sm">
                                                    @if (loadingProducts)
                                                    {
                                                        <div class="suggestion-item muted">Loading products...</div>
                                                    }
                                                    else if (!item.Suggestions.Any())
                                                    {
                                                        <div class="suggestion-item muted">No matching products</div>
                                                    }
                                                    else
                                                    {
                                                        @foreach (var suggestion in item.Suggestions)
                                                        {
                                                            <button type="button" class="suggestion-item" @onclick="() => SelectProduct(item, suggestion)">
                                                                <div class="d-flex justify-content-between align-items-start">
                                                                    <div>
                                                                        <div class="fw-semibold">@suggestion.Name</div>
                                                                        <div class="suggestion-meta">
                                                                            @if (!string.IsNullOrWhiteSpace(suggestion.Category))
                                                                            {
                                                                                <span>@suggestion.Category</span>
                                                                                <span class="mx-1">|</span>
                                                                            }
                                                                            <span>@suggestion.Barcode</span>
                                                                        </div>
                                                                    </div>
                                                                    <div class="text-end">
                                                                        <small class="text-muted d-block">@suggestion.UnitPrice.ToString("N0") đ</small>
                                                                        <small class="text-muted">@BuildStockLabel(suggestion)</small>
                                                                    </div>
                                                                </div>
                                                                <div class="suggestion-meta mt-1">
                                                                    @BuildExpiryLabel(suggestion)
                                                                </div>
                                                            </button>
                                                        }
                                                    }

                                                    @if (!string.IsNullOrWhiteSpace(item.ProductName))
                                                    {
                                                        <button type="button" class="suggestion-item new" @onclick="() => UseAsNewProduct(item)">
                                                            Use "@item.ProductName" as new product
                                                        </button>
                                                    }
                                                </div>
                                            }

                                            @if (item.IsExistingProduct)
                                            {
                                                <small class="text-success d-block mt-1">Existing product selected</small>
                                            }
                                            else if (!string.IsNullOrWhiteSpace(item.ProductName))
                                            {
                                                <small class="text-muted d-block mt-1">New product entry</small>
                                            }
                                        </div>
                                    </td>
                                    <td>
                                        <input class="form-control" placeholder="-" @bind="item.Barcode" />
                                    </td>
                                    <td style="max-width: 120px;">
                                        <input type="number" min="1" class="form-control" @bind="item.Quantity" @bind:event="oninput" />
                                    </td>
                                    <td style="max-width: 140px;">
                                        <input type="number" min="0" step="1000" class="form-control" @bind="item.UnitPrice" @bind:event="oninput" />
                                    </td>
                                    <td style="max-width: 150px;">
                                        <input type="date" class="form-control" @bind="item.ExpiryDate" @bind:format="yyyy-MM-dd" />
                                    </td>
                                    <td class="fw-semibold">@item.LineTotal.ToString("N0") đ</td>
                                    <td class="text-end">
                                        <button class="btn btn-link text-danger p-0" @onclick="() => RemoveItem(item)">
                                            <span class="bi bi-trash"></span>
                                        </button>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>

                <div class="d-flex justify-content-end gap-2 mt-3 flex-wrap">
                    <button class="btn btn-outline-secondary" @onclick="GoBack">Cancel</button>
                    <button class="btn btn-outline-dark" @onclick="SaveDraft" disabled="@saving">Save as Draft</button>
                    <button class="btn btn-dark" @onclick="SaveComplete" disabled="@saving">Save & Complete</button>
                </div>
            </div>
        </div>

        <div class="card shadow-sm border-0 summary">
            <div class="card-body">
                <div class="d-flex align-items-center gap-3 mb-3">
                    <div class="summary-icon">
                        <span class="bi bi-currency-dollar"></span>
                    </div>
                    <div>
                        <p class="text-muted mb-1">Total Cost</p>
                        <h4 class="mb-0">@importModel.TotalCost.ToString("N0") đ</h4>
                    </div>
                </div>
                <p class="mb-0 text-muted">@importModel.Items.Count item(s)</p>
            </div>
        </div>
    </div>

    @if (!string.IsNullOrWhiteSpace(feedback))
    {
        <div class="alert alert-info mt-3" role="alert">
            @feedback
        </div>
    }
</div>

@code {
    [Parameter] public int? importId { get; set; }

    private readonly List<string> Suppliers = new() { "Fresh Foods Co.", "Dairy Direct", "Global Groceries", "Premium Produce" };
    private ImportDraft importModel = new()
    {
        ImportDate = DateTime.Today,
        Status = "Draft"
    };

    private List<ProductDto> productCatalog = new();
    private bool loadingProducts;
    private bool saving;
    private string? feedback;
    private const int MinimumSearchLength = 2;
    private bool isEditing;

    protected override async Task OnInitializedAsync()
    {
        await LoadProductsAsync();
    }

    protected override async Task OnParametersSetAsync()
    {
        if (importId.HasValue)
        {
            await LoadImportForEdit(importId.Value);
        }
    }

    private async Task LoadProductsAsync()
    {
        try
        {
            loadingProducts = true;
            productCatalog = await ProductService.GetProductsAsync();
        }
        catch (Exception ex)
        {
            feedback = $"Unable to load products right now: {ex.Message}";
        }
        finally
        {
            loadingProducts = false;
        }
    }

    private async Task LoadImportForEdit(int id)
    {
        try
        {
            loadingProducts = true;
            var detail = await ImportService.GetImportAsync(id);
            if (detail is null)
            {
                feedback = $"Import #{id:0000} not found.";
                Navigation.NavigateTo("/imports");
                return;
            }

            importModel = new ImportDraft
            {
                Supplier = detail.Supplier,
                ImportDate = detail.ImportDate,
                Status = detail.Status,
                Items = detail.Items.Select(i => new ImportLine
                {
                    ProductId = i.ProductId,
                    ProductName = i.ProductName,
                    Barcode = i.Barcode,
                    Quantity = i.Quantity,
                    UnitPrice = i.UnitPrice,
                    ExpiryDate = i.ExpiryDate,
                    IsExistingProduct = true
                }).ToList()
            };

            isEditing = true;
        }
        catch (Exception ex)
        {
            feedback = $"Unable to load import: {ex.Message}";
        }
        finally
        {
            loadingProducts = false;
        }
    }

    private void AddItem()
    {
        importModel.Items.Add(new ImportLine());
    }

    private void RemoveItem(ImportLine item)
    {
        importModel.Items.Remove(item);
    }

    private Task SaveDraft() => SaveImportAsync("Draft");

    private Task SaveComplete() => SaveImportAsync("Completed");

    private async Task SaveImportAsync(string status)
    {
        if (saving)
        {
            return;
        }

        try
        {
            saving = true;
            feedback = null;
            var request = BuildCreateRequest(status);
            ImportDetailDto result;

            if (isEditing && importId.HasValue)
            {
                result = await ImportService.UpdateImportAsync(importId.Value, request);
                feedback = $"Import #{result.ImportId:0000} updated.";
            }
            else
            {
                result = await ImportService.CreateImportAsync(request);
                feedback = $"Import #{result.ImportId:0000} saved as {result.Status}.";
                importId = result.ImportId;
                isEditing = true;
            }
        }
        catch (Exception ex)
        {
            feedback = $"Save failed: {ex.Message}";
        }
        finally
        {
            saving = false;
        }
    }

    private ImportCreateRequest BuildCreateRequest(string status)
    {
        if (string.IsNullOrWhiteSpace(importModel.Supplier))
        {
            throw new InvalidOperationException("Supplier is required.");
        }

        var items = importModel.Items
            .Where(i => !string.IsNullOrWhiteSpace(i.ProductName))
            .Select(i => new ImportLineCreateRequest
            {
                ProductId = i.ProductId,
                ProductName = i.ProductName.Trim(),
                Barcode = string.IsNullOrWhiteSpace(i.Barcode) ? null : i.Barcode.Trim(),
                Quantity = i.Quantity <= 0 ? 1 : i.Quantity,
                UnitPrice = i.UnitPrice,
                ExpiryDate = i.ExpiryDate
            })
            .ToList();

        if (!items.Any())
        {
            throw new InvalidOperationException("Add at least one line item.");
        }

        return new ImportCreateRequest
        {
            Supplier = importModel.Supplier,
            ImportDate = importModel.ImportDate == default ? DateTime.Today : importModel.ImportDate,
            Status = status,
            Staff = "Admin User",
            Items = items
        };
    }

    private void GoBack() => Navigation.NavigateTo("/imports");

    private void OnProductSearchChanged(ImportLine line, ChangeEventArgs args)
    {
        line.ProductName = args.Value?.ToString()?.Trim() ?? string.Empty;

        if (line.IsExistingProduct)
        {
            line.Barcode = string.Empty;
            line.UnitPrice = 0;
            line.ExpiryDate = null;
        }

        line.ProductId = null;
        line.IsExistingProduct = false;
        UpdateSuggestions(line);
    }

    private void ShowSuggestions(ImportLine line)
    {
        UpdateSuggestions(line);
    }

    private async Task HideSuggestions(ImportLine line)
    {
        await Task.Delay(120);
        line.ShowSuggestions = false;
        await InvokeAsync(StateHasChanged);
    }

    private void UpdateSuggestions(ImportLine line)
    {
        var query = line.ProductName?.Trim() ?? string.Empty;
        var normalizedQuery = NormalizeSearchText(query);

        line.Suggestions.Clear();

        if (string.IsNullOrWhiteSpace(normalizedQuery) || normalizedQuery.Length < MinimumSearchLength)
        {
            line.ShowSuggestions = false;
            return;
        }

        if (loadingProducts || productCatalog.Count == 0)
        {
            line.ShowSuggestions = true;
            return;
        }

        var matches = SearchProducts(query, normalizedQuery);

        foreach (var product in matches)
        {
            line.Suggestions.Add(product);
        }

        line.ShowSuggestions = true;
    }

    private void SelectProduct(ImportLine line, ProductDto product)
    {
        line.ProductId = product.ProductId;
        line.ProductName = product.Name;
        line.Barcode = product.Barcode;
        line.UnitPrice = product.UnitPrice;
        line.ExpiryDate = product.ExpiryDate;
        line.IsExistingProduct = true;
        line.ShowSuggestions = false;
        line.Suggestions.Clear();
    }

    private void UseAsNewProduct(ImportLine line)
    {
        line.ProductId = null;
        line.IsExistingProduct = false;
        line.ShowSuggestions = false;
        line.Suggestions.Clear();
    }

    private IEnumerable<ProductDto> SearchProducts(string query, string normalizedQuery)
    {
        var tokens = normalizedQuery.Split(' ', StringSplitOptions.RemoveEmptyEntries);
        var condensedQuery = string.Concat(tokens);

        return productCatalog
            .Select(product =>
            {
                var normalizedName = NormalizeSearchText(product.Name);
                var normalizedBarcode = NormalizeSearchText(product.Barcode).Replace(" ", string.Empty);
                var normalizedCategory = NormalizeSearchText(product.Category);
                var score = CalculateMatchScore(
                    product,
                    normalizedQuery,
                    condensedQuery,
                    tokens,
                    normalizedName,
                    normalizedBarcode,
                    normalizedCategory);
                return new { product, score };
            })
            .Where(result => result.score > 0)
            .OrderByDescending(result => result.score)
            .ThenBy(result => result.product.Name)
            .ThenBy(result => result.product.Barcode)
            .Take(8)
            .Select(result => result.product);
    }

    private static int CalculateMatchScore(
        ProductDto product,
        string normalizedQuery,
        string condensedQuery,
        string[] tokens,
        string normalizedName,
        string normalizedBarcode,
        string normalizedCategory)
    {
        var score = 0;

        // Prioritize exact/prefix barcode hits, then name prefixes, then token coverage across name/category.
        if (!string.IsNullOrWhiteSpace(normalizedBarcode))
        {
            if (normalizedBarcode == condensedQuery)
            {
                score += 1200;
            }
            else if (normalizedBarcode.StartsWith(condensedQuery))
            {
                score += 850;
            }
            else if (normalizedBarcode.Contains(condensedQuery))
            {
                score += 450;
            }
        }

        if (!string.IsNullOrWhiteSpace(product.Name))
        {
            if (product.Name.StartsWith(normalizedQuery, StringComparison.OrdinalIgnoreCase))
            {
                score += 600;
            }
            else if (product.Name.Contains(normalizedQuery, StringComparison.OrdinalIgnoreCase))
            {
                score += 350;
            }
        }

        var matchedTokens = 0;
        foreach (var token in tokens)
        {
            if (string.IsNullOrWhiteSpace(token))
            {
                continue;
            }

            if (normalizedName.Contains(token))
            {
                score += 120;
                matchedTokens++;
            }
            else if (!string.IsNullOrWhiteSpace(normalizedCategory) && normalizedCategory.Contains(token))
            {
                score += 80;
                matchedTokens++;
            }
        }

        if (matchedTokens == tokens.Length && tokens.Length > 0)
        {
            score += 120;
        }

        return score;
    }

    private static string NormalizeSearchText(string? value)
    {
        if (string.IsNullOrWhiteSpace(value))
        {
            return string.Empty;
        }

        var cleaned = new string(value
            .Select(c => char.IsLetterOrDigit(c) ? char.ToLowerInvariant(c) : ' ')
            .ToArray());

        return string.Join(' ', cleaned.Split(' ', StringSplitOptions.RemoveEmptyEntries));
    }

    private static string BuildStockLabel(ProductDto product)
    {
        var label = $"Stock {product.QuantityInStock}";
        if (product.MinQuantity > 0)
        {
            label += $" / Min {product.MinQuantity}";
        }

        if (product.QuantityInStock < product.MinQuantity)
        {
            label += " | Low";
        }

        return label;
    }

    private static string BuildExpiryLabel(ProductDto product)
    {
        if (!product.IsPerishable)
        {
            return "Non-perishable item";
        }

        if (!product.ExpiryDate.HasValue)
        {
            return "Expiry not set";
        }

        var days = (product.ExpiryDate.Value.Date - DateTime.Today).TotalDays;

        if (days < 0)
        {
            return $"Expired on {product.ExpiryDate:yyyy-MM-dd}";
        }

        if (days <= 7)
        {
            return $"Expires soon ({product.ExpiryDate:yyyy-MM-dd})";
        }

        return $"Expires {product.ExpiryDate:yyyy-MM-dd}";
    }

    private class ImportDraft
    {
        public string Supplier { get; set; } = string.Empty;
        public DateTime ImportDate { get; set; }
        public string Status { get; set; } = "Draft";
        public List<ImportLine> Items { get; set; } = new() { new ImportLine() };

        public decimal TotalCost => Items.Sum(i => i.LineTotal);
    }

    private class ImportLine
    {
        public int? ProductId { get; set; }
        public string ProductName { get; set; } = string.Empty;
        public string? Barcode { get; set; }
        public int Quantity { get; set; } = 1;
        public decimal UnitPrice { get; set; }
        public DateTime? ExpiryDate { get; set; }
        public bool IsExistingProduct { get; set; }
        public bool ShowSuggestions { get; set; }
        public List<ProductDto> Suggestions { get; } = new();
        public decimal LineTotal => Quantity * UnitPrice;
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Imports/NewImport.razor.css">
.new-import-page {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.page-header {
    padding: 0.5rem 0;
}

.eyebrow {
    text-transform: uppercase;
    letter-spacing: 0.08em;
    font-size: 0.75rem;
    color: #6c757d;
}

.layout-grid {
    display: grid;
    grid-template-columns: 320px 1fr;
    gap: 1rem;
    align-items: start;
}

.info-panel {
    min-width: 300px;
}

.input-icon {
    position: relative;
}

.input-icon .bi {
    position: absolute;
    top: 50%;
    left: 12px;
    transform: translateY(-50%);
    color: #8a97a7;
}

.input-icon input {
    padding-left: 2.5rem;
}

.line-items {
    position: relative;
}

.table-responsive.line-items {
    overflow: visible !important;
}

.line-items table th {
    white-space: nowrap;
    background: #f7f9fb;
    color: #445166;
    font-weight: 700;
}

.line-items table td {
    vertical-align: middle;
    overflow: visible;
}

.line-items table {
    overflow: visible;
}

.line-items table tbody {
    overflow: visible;
}

.product-cell {
    position: relative;
    overflow: visible;
}

.product-suggestions {
    position: absolute;
    z-index: 30;
    left: 0;
    right: 0;
    top: calc(100% - 2px);
    background: #fff;
    border: 1px solid #dee2e6;
    border-radius: 0 0 10px 10px;
    max-height: 260px;
    overflow-y: auto;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
}

.suggestion-item {
    display: block;
    width: 100%;
    border: 0;
    background: transparent;
    padding: 0.55rem 0.75rem;
    text-align: left;
    color: #212529;
}

.suggestion-item:hover {
    background: #f5f7fb;
}

.suggestion-item.new {
    border-top: 1px solid #eef1f5;
    color: #0d6efd;
    font-weight: 600;
}

.suggestion-item.muted {
    color: #6c757d;
    cursor: default;
    font-style: italic;
}

.suggestion-meta {
    color: #6c757d;
    font-size: 0.85rem;
}

.summary {
    grid-column: 1;
}

.summary-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    background: linear-gradient(135deg, #101426, #1d2746);
    color: #fff;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 1.35rem;
}

@media (max-width: 992px) {
    .layout-grid {
        grid-template-columns: 1fr;
    }

    .summary {
        grid-column: 1;
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Loyalty/PointHistoryCard.razor">
@using MegaMarket.BlazorUI.Services.CustomerLoyalty

<div class="card">
    <div class="card-header bg-light">
        <h5 class="mb-0">?? Points History</h5>
    </div>
    <div class="card-body p-0">
        @if (History != null && History.Count > 0)
        {
            <div class="table-responsive">
                <table class="table table-sm mb-0">
                    <thead class="table-light">
                        <tr>
                            <th>Date</th>
                            <th>Type</th>
                            <th>Description</th>
                            <th class="text-end">Points</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var history in History)
                        {
                            <tr>
                                <td>
                                    <small>@history.CreatedAt.ToString("dd/MM/yyyy HH:mm")</small>
                                </td>
                                <td>
                                    <span class="badge @GetTypeBadgeClass(history.TransactionType)">
                                        @history.TransactionType
                                    </span>
                                </td>
                                <td>
                                    <small>@history.Description</small>
                                </td>
                                <td class="text-end">
                                    <strong class="@(history.PointChange > 0 ? "text-success" : "text-danger")">
                                        @(history.PointChange > 0 ? "+" : "")@history.PointChange
                                    </strong>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        }
        else
        {
            <div class="p-4 text-center text-muted">
                <p class="mb-0">No points history</p>
            </div>
        }
    </div>
</div>

@code {
    [Parameter]
    public List<PointHistoryDto>? History { get; set; }

    private string GetTypeBadgeClass(string? type) => type switch
    {
        "Earn" => "bg-success",
        "Redeem" => "bg-danger",
        "Adjust" => "bg-warning text-dark",
        _ => "bg-light text-dark"
    };
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Products/ProductDetails.razor">
@using MegaMarket.BlazorUI.Services.Products

@if (IsOpen && Product is not null)
{
    <div class="modal-overlay detail-modal"
         style="position:fixed; inset:0; background:rgba(0,0,0,0.4); display:flex; align-items:center; justify-content:center; z-index:1050; padding:1rem;"
         @onclick="OnClose">
        <div class="modal-panel detail-panel"
             style="background:#fff; border-radius:14px; width:min(900px,100%); max-height:85vh; overflow-y:auto; box-shadow:0 15px 45px rgba(0,0,0,0.15); padding:1.25rem 1.25rem 1rem;"
             @onclick:stopPropagation="true">
            <div class="detail-header d-flex justify-content-between align-items-start">
                <div>
                    <p class="eyebrow mb-1">Product detail</p>
                    <h5 class="mb-0">@Product.Name</h5>
                    <small class="text-muted">Barcode: @Product.Barcode</small>
                </div>
                <button class="btn-close" @onclick="OnClose"></button>
            </div>

            <div class="detail-grid" style="display:grid; grid-template-columns:minmax(260px,1fr) minmax(280px,1fr); gap:1rem;">
                @if (!string.IsNullOrWhiteSpace(Product.ImageUrl))
                {
                    <div class="detail-image" style="border:1px solid #e3e8f0; border-radius:12px; overflow:hidden; background:#f8fafc; max-height:320px;">
                        <img src="@Product.ImageUrl" alt="@Product.Name" loading="lazy" style="width:100%; height:auto; display:block; object-fit:cover;" />
                    </div>
                }

                <div class="detail-body" style="display:grid; gap:0.75rem;">
                    <div class="detail-row" style="display:flex; justify-content:space-between; border-bottom:1px dashed #ecf1f6; padding-bottom:0.5rem;">
                        <span class="label" style="color:#6c757d; font-size:0.9rem;">Category</span>
                        <span>@(string.IsNullOrWhiteSpace(Product.Category) ? "-" : Product.Category)</span>
                    </div>
                    <div class="detail-row" style="display:flex; justify-content:space-between; border-bottom:1px dashed #ecf1f6; padding-bottom:0.5rem;">
                        <span class="label" style="color:#6c757d; font-size:0.9rem;">Unit label</span>
                        <span>@(string.IsNullOrWhiteSpace(Product.UnitLabel) ? "-" : Product.UnitLabel)</span>
                    </div>
                    <div class="detail-row" style="display:flex; justify-content:space-between; border-bottom:1px dashed #ecf1f6; padding-bottom:0.5rem;">
                        <span class="label" style="color:#6c757d; font-size:0.9rem;">Unit price</span>
                        <span>@Product.UnitPrice.ToString("C")</span>
                    </div>
                    <div class="detail-row" style="display:flex; justify-content:space-between; border-bottom:1px dashed #ecf1f6; padding-bottom:0.5rem;">
                        <span class="label" style="color:#6c757d; font-size:0.9rem;">Original price</span>
                        <span>@(Product.OriginalPrice?.ToString("C") ?? "-")</span>
                    </div>
                    <div class="detail-row" style="display:flex; justify-content:space-between; border-bottom:1px dashed #ecf1f6; padding-bottom:0.5rem;">
                        <span class="label" style="color:#6c757d; font-size:0.9rem;">Discount</span>
                        <span>@(Product.DiscountPercent.HasValue ? $"{Product.DiscountPercent.Value}%" : "-")</span>
                    </div>
                    <div class="detail-row" style="display:flex; justify-content:space-between; border-bottom:1px dashed #ecf1f6; padding-bottom:0.5rem;">
                        <span class="label" style="color:#6c757d; font-size:0.9rem;">Stock</span>
                        <span>@Product.QuantityInStock</span>
                    </div>
                    <div class="detail-row" style="display:flex; justify-content:space-between; border-bottom:1px dashed #ecf1f6; padding-bottom:0.5rem;">
                        <span class="label" style="color:#6c757d; font-size:0.9rem;">Min quantity</span>
                        <span>@Product.MinQuantity</span>
                    </div>
                    <div class="detail-row" style="display:flex; justify-content:space-between; border-bottom:1px dashed #ecf1f6; padding-bottom:0.5rem;">
                        <span class="label" style="color:#6c757d; font-size:0.9rem;">Perishable</span>
                        <span>@(Product.IsPerishable ? "Yes" : "No")</span>
                    </div>
                    <div class="detail-row" style="display:flex; justify-content:space-between; border-bottom:1px dashed #ecf1f6; padding-bottom:0.5rem;">
                        <span class="label" style="color:#6c757d; font-size:0.9rem;">Expiry</span>
                        <span>@(Product.ExpiryDate?.ToString("yyyy-MM-dd") ?? "-")</span>
                    </div>
                    <div class="detail-row" style="display:flex; justify-content:space-between; border-bottom:1px dashed #ecf1f6; padding-bottom:0.5rem;">
                        <span class="label" style="color:#6c757d; font-size:0.9rem;">Image</span>
                        <span>@(string.IsNullOrWhiteSpace(Product.ImageUrl) ? "-" : Product.ImageUrl)</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
}

@code {
    [Parameter] public bool IsOpen { get; set; }
    [Parameter] public ProductDto? Product { get; set; }
    [Parameter] public EventCallback OnClose { get; set; }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Products/ProductDetails.razor.css">
.modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.4);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1050;
    padding: 1rem;
}

.modal-panel {
    background: #fff;
    border-radius: 14px;
    width: min(760px, 100%);
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 15px 45px rgba(0, 0, 0, 0.15);
    padding: 1.25rem 1.25rem 1rem;
}

.detail-modal .modal-panel {
    width: min(900px, 100%);
    max-height: 85vh;
}

.detail-grid {
    display: grid;
    grid-template-columns: minmax(260px, 1fr) minmax(280px, 1fr);
    gap: 1rem;
}

.detail-header {
    border-bottom: 1px solid #f0f2f5;
    padding-bottom: 1rem;
    margin-bottom: 1rem;
}

.detail-body {
    display: grid;
    gap: 0.75rem;
}

.detail-image {
    border: 1px solid #e3e8f0;
    border-radius: 12px;
    overflow: hidden;
    background: #f8fafc;
    max-height: 320px;
}

.detail-image img {
    width: 100%;
    height: auto;
    display: block;
    object-fit: cover;
}

.detail-row {
    display: flex;
    justify-content: space-between;
    border-bottom: 1px dashed #ecf1f6;
    padding-bottom: 0.5rem;
}

.detail-row .label {
    color: #6c757d;
    font-size: 0.9rem;
}

@media (max-width: 768px) {
    .detail-grid {
        grid-template-columns: 1fr;
    }

    .detail-modal .modal-panel {
        max-height: 90vh;
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Products/ProductForm.razor">
@using MegaMarket.BlazorUI.Services.Products

<EditForm Model="Model" OnValidSubmit="HandleSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="row g-3">
        <div class="col-md-6">
            <label class="form-label">Barcode *</label>
            <InputText class="form-control" @bind-Value="Model.Barcode" />
            <ValidationMessage For="@(() => Model.Barcode)" />
        </div>
        <div class="col-md-6">
            <label class="form-label">Name *</label>
            <InputText class="form-control" @bind-Value="Model.Name" />
            <ValidationMessage For="@(() => Model.Name)" />
        </div>
        <div class="col-md-6">
            <label class="form-label">Category</label>
            <InputText class="form-control" @bind-Value="Model.Category" />
            <ValidationMessage For="@(() => Model.Category)" />
        </div>
        <div class="col-md-6">
            <label class="form-label">Unit label</label>
            <InputText class="form-control" @bind-Value="Model.UnitLabel" placeholder="e.g. chai, gói" />
            <ValidationMessage For="@(() => Model.UnitLabel)" />
        </div>
        <div class="col-md-6">
            <label class="form-label">Unit price *</label>
            <InputNumber class="form-control" @bind-Value="Model.UnitPrice" />
            <ValidationMessage For="@(() => Model.UnitPrice)" />
        </div>
        <div class="col-md-6">
            <label class="form-label">Original price</label>
            <InputNumber class="form-control" @bind-Value="Model.OriginalPrice" />
            <ValidationMessage For="@(() => Model.OriginalPrice)" />
        </div>
        <div class="col-md-6">
            <label class="form-label">Discount %</label>
            <InputNumber class="form-control" @bind-Value="Model.DiscountPercent" />
            <ValidationMessage For="@(() => Model.DiscountPercent)" />
        </div>
        <div class="col-md-6">
            <label class="form-label">Image URL</label>
            <InputText class="form-control" @bind-Value="Model.ImageUrl" />
            <ValidationMessage For="@(() => Model.ImageUrl)" />
        </div>
        <div class="col-md-6">
            <label class="form-label">Quantity in stock *</label>
            <InputNumber class="form-control" @bind-Value="Model.QuantityInStock" />
            <ValidationMessage For="@(() => Model.QuantityInStock)" />
        </div>
        <div class="col-md-6">
            <label class="form-label">Min quantity *</label>
            <InputNumber class="form-control" @bind-Value="Model.MinQuantity" />
            <ValidationMessage For="@(() => Model.MinQuantity)" />
        </div>
        <div class="col-md-6">
            <div class="form-check mt-4">
                <InputCheckbox class="form-check-input" @bind-Value="Model.IsPerishable" @onchange="OnPerishableChanged" />
                <label class="form-check-label">Perishable</label>
            </div>
        </div>
        @if (Model.IsPerishable)
        {
            <div class="col-md-6">
                <label class="form-label">Expiry date *</label>
                <InputDate class="form-control" @bind-Value="Model.ExpiryDate" />
                <ValidationMessage For="@(() => Model.ExpiryDate)" />
            </div>
        }
    </div>

    <div class="d-flex justify-content-end gap-2 mt-4">
        <button type="button" class="btn btn-outline-secondary" @onclick="OnCancel">Cancel</button>
        <button type="submit" class="btn btn-primary" disabled="@IsSaving">
            @(IsSaving ? "Saving..." : (IsEditing ? "Update" : "Create"))
        </button>
    </div>
</EditForm>

@code {
    [Parameter] public ProductInputModel Model { get; set; } = new();
    [Parameter] public bool IsEditing { get; set; }
    [Parameter] public bool IsSaving { get; set; }
    [Parameter] public EventCallback OnCancel { get; set; }
    [Parameter] public EventCallback OnValidSubmit { get; set; }

    private async Task HandleSubmit()
    {
        if (OnValidSubmit.HasDelegate)
        {
            await OnValidSubmit.InvokeAsync();
        }
    }

    private void OnPerishableChanged(ChangeEventArgs _)
    {
        if (!Model.IsPerishable)
        {
            Model.ExpiryDate = null;
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Products/Products.razor">
@page "/products"
@rendermode InteractiveServer
@using MegaMarket.BlazorUI.Services.Products
@inject ProductService ProductService

<div class="products-page">
    <div class="page-header card shadow-sm border-0">
        <div class="d-flex align-items-center gap-3">
            <div class="header-icon">
                <span class="bi bi-box-seam"></span>
            </div>
            <div>
                <h1 class="page-title mb-1">Product Management</h1>
                <p class="text-muted mb-0">Manage your inventory and product catalog</p>
            </div>
        </div>
    </div>

    <div class="filters card shadow-sm border-0">
        <div class="filter-layout">
            <div class="filter-main">
                <div class="input-icon">
                    <span class="bi bi-search"></span>
                    <input class="form-control" placeholder="Search by name, barcode, category..."
                           @bind="searchTerm" @bind:event="oninput" @bind:after="OnFiltersChanged" />
                </div>
                <select class="form-select" @onchange="OnCategoryChanged">
                    <option value="all">All Categories</option>
                    @foreach (var cat in categories)
                    {
                        <option value="@cat">@cat</option>
                    }
                </select>
                <div class="toggle-row">
                    <label class="switch-toggle">
                        <input type="checkbox" @bind="showLowStockOnly" @bind:event="onchange" @bind:after="OnFiltersChanged" />
                        <span class="switch"></span>
                        <span class="toggle-label">Low stock only</span>
                    </label>
                    <label class="switch-toggle">
                        <input type="checkbox" @bind="showPerishableOnly" @bind:event="onchange" @bind:after="OnFiltersChanged" />
                        <span class="switch"></span>
                        <span class="toggle-label">Perishable only</span>
                    </label>
                </div>
            </div>
            <div class="filter-actions">
                <select class="form-select form-select-sm page-size" @onchange="OnPageSizeChanged">
                    <option value="15">15 / page</option>
                    <option value="20">20 / page</option>
                </select>
                <button class="btn btn-outline-secondary" @onclick="ReloadAsync" disabled="@isLoading">
                    <span class="bi bi-arrow-clockwise me-1"></span>
                </button>
                <button class="btn btn-dark" @onclick="OpenCreateModal">
                    <span class="bi bi-plus-lg me-1"></span> Add Product
                </button>
            </div>
        </div>
    </div>

    <div class="stats row g-3">
        <div class="col-lg-3 col-sm-6">
            <div class="stat-card">
                <span class="label">Total products</span>
                <h4>@products.Count</h4>
                <small class="text-muted">All SKUs loaded</small>
            </div>
        </div>
        <div class="col-lg-3 col-sm-6">
            <div class="stat-card">
                <span class="label">Low stock</span>
                <h4 class="text-danger">@products.Count(IsLowStock)</h4>
                <small class="text-muted">Qty &lt; Min Qty</small>
            </div>
        </div>
        <div class="col-lg-3 col-sm-6">
            <div class="stat-card">
                <span class="label">Perishable</span>
                <h4 class="text-warning">@products.Count(p => p.IsPerishable)</h4>
                <small class="text-muted">Freshness monitored</small>
            </div>
        </div>
        <div class="col-lg-3 col-sm-6">
            <div class="stat-card">
                <span class="label">Expiring &lt;= 7d</span>
                <h4 class="text-info">@products.Count(p => GetExpiryStatus(p) == ExpiryStatus.NearExpiry)</h4>
                <small class="text-muted">Plan markdowns</small>
            </div>
        </div>
    </div>

    @if (!string.IsNullOrWhiteSpace(errorMessage))
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Oops!</strong> @errorMessage
            <button type="button" class="btn-close" @onclick="() => errorMessage = null"></button>
        </div>
    }

    <div class="card shadow-sm border-0 table-card">
        <div class="card-body p-0">
            @if (isLoading)
            {
                <div class="loading-state">
                    <div class="spinner-border text-primary" role="status"></div>
                    <p class="text-muted mt-2 mb-0">Loading products...</p>
                </div>
            }
            else if (!filteredProducts.Any())
            {
                <div class="p-4 text-center text-muted">
                    <p class="mb-2">No products match your filters.</p>
                    <button class="btn btn-outline-secondary btn-sm" @onclick="ResetFilters">Reset filters</button>
                </div>
            }
            else
            {
                <ProductTable Products="PagedProducts"
                              SortColumn="sortColumn"
                              SortAscending="sortAscending"
                              OnSort="ChangeSort"
                              OnEdit="OpenEditModal"
                              OnView="OpenDetails"
                              OnDelete="ConfirmDelete"
                              RowClassSelector="GetRowCss"
                              BadgeSelector="BuildBadges" />

                <div class="d-flex justify-content-between align-items-center flex-wrap px-3 py-3 border-top gap-2">
                    <small class="text-muted">Showing @PagedProducts.Count() of @filteredProducts.Count products</small>
                    <div class="pagination-controls">
                        <button class="btn btn-outline-secondary btn-sm" @onclick="PrevPage" disabled="@(currentPage == 1)">Prev</button>
                        <span class="mx-2">Page @currentPage / @TotalPages</span>
                        <button class="btn btn-outline-secondary btn-sm" @onclick="NextPage" disabled="@(currentPage >= TotalPages)">Next</button>
                    </div>
                </div>
            }
        </div>
    </div>
</div>

@if (showFormModal)
{
    <div class="modal-overlay" @onclick="CloseFormModal">
        <div class="modal-panel" @onclick:stopPropagation="true">
            <div class="modal-header">
                <div>
                    <p class="eyebrow mb-1">@((isEditing ? "Update" : "Create") + " product")</p>
                    <h4 class="mb-0">@((isEditing ? "Edit product details" : "New product"))</h4>
                </div>
                <button class="btn-close" @onclick="CloseFormModal"></button>
            </div>
            <div class="modal-body">
                <ProductForm Model="formModel"
                             IsEditing="isEditing"
                             IsSaving="isSaving"
                             OnValidSubmit="HandleSubmit"
                             OnCancel="CloseFormModal" />
            </div>
        </div>
    </div>
}

<ProductDetails Product="detailProduct" IsOpen="showDetails" OnClose="CloseDetails" />

@if (confirmDeleteTarget is not null)
{
    <div class="modal-overlay" @onclick="CloseConfirmDelete">
        <div class="modal-panel confirm" @onclick:stopPropagation="true">
            <div class="modal-header">
                <div>
                    <p class="eyebrow mb-1">Delete product</p>
                    <h4 class="mb-0 text-danger">Are you sure?</h4>
                </div>
                <button class="btn-close" @onclick="CloseConfirmDelete"></button>
            </div>
            <div class="modal-body">
                <p class="mb-3">You're about to delete <strong>@confirmDeleteTarget.Name</strong> (<code>@confirmDeleteTarget.Barcode</code>).</p>
                <div class="d-flex gap-2 justify-content-end">
                    <button class="btn btn-outline-secondary" @onclick="CloseConfirmDelete">Cancel</button>
                    <button class="btn btn-danger" @onclick="DeleteConfirmed">Delete</button>
                </div>
            </div>
        </div>
    </div>
}

<div class="toast-container">
    @foreach (var toast in toasts)
    {
        <div class="toast-item @toast.Variant">
            <span class="me-2">@toast.Message</span>
            <button class="btn btn-sm btn-link text-light p-0" @onclick="() => DismissToast(toast)">×</button>
        </div>
    }
</div>

@code {
    private List<ProductDto> products = new();
    private List<ProductDto> filteredProducts = new();
    private IReadOnlyList<string> categories = Array.Empty<string>();

    private string searchTerm = string.Empty;
    private string selectedCategory = "all";
    private bool showLowStockOnly;
    private bool showPerishableOnly;
    private string sortColumn = "name";
    private bool sortAscending = true;
    private int currentPage = 1;
    private int pageSize = 15;
    private bool isLoading = true;
    private bool isSaving = false;
    private string? errorMessage;

    private bool showFormModal;
    private bool isEditing;
    private ProductInputModel formModel = new();

    private bool showDetails;
    private ProductDto? detailProduct;

    private ProductDto? confirmDeleteTarget;

    private readonly List<ToastMessage> toasts = new();

    protected override async Task OnInitializedAsync()
    {
        await LoadProductsAsync();
    }

    private async Task LoadProductsAsync()
    {
        isLoading = true;
        errorMessage = null;
        try
        {
            products = await ProductService.GetProductsAsync();
            BuildCategories();
            ApplyFilters();
        }
        catch (Exception ex)
        {
            errorMessage = ex.Message;
        }
        finally
        {
            isLoading = false;
        }
    }

    private void BuildCategories()
    {
        categories = products
            .Where(p => !string.IsNullOrWhiteSpace(p.Category))
            .Select(p => p.Category!.Trim())
            .Distinct(StringComparer.OrdinalIgnoreCase)
            .OrderBy(c => c)
            .ToList();
    }

    private void ApplyFilters()
    {
        IEnumerable<ProductDto> query = products;

        if (!string.IsNullOrWhiteSpace(searchTerm))
        {
            query = query.Where(p =>
                p.Name.Contains(searchTerm, StringComparison.OrdinalIgnoreCase) ||
                p.Barcode.Contains(searchTerm, StringComparison.OrdinalIgnoreCase) ||
                (p.Category?.Contains(searchTerm, StringComparison.OrdinalIgnoreCase) ?? false));
        }

        if (!string.IsNullOrWhiteSpace(selectedCategory) && selectedCategory != "all")
        {
            query = query.Where(p => p.Category != null && p.Category.Equals(selectedCategory, StringComparison.OrdinalIgnoreCase));
        }

        if (showLowStockOnly)
        {
            query = query.Where(IsLowStock);
        }

        if (showPerishableOnly)
        {
            query = query.Where(p => p.IsPerishable);
        }

        query = Sort(query);

        filteredProducts = query.ToList();
        currentPage = Math.Clamp(currentPage, 1, TotalPages);
    }

    private IEnumerable<ProductDto> Sort(IEnumerable<ProductDto> query) =>
        sortColumn switch
        {
            "name" => sortAscending ? query.OrderBy(p => p.Name) : query.OrderByDescending(p => p.Name),
            "category" => sortAscending ? query.OrderBy(p => p.Category) : query.OrderByDescending(p => p.Category),
            "unit_price" => sortAscending ? query.OrderBy(p => p.UnitPrice) : query.OrderByDescending(p => p.UnitPrice),
            "quantity" => sortAscending ? query.OrderBy(p => p.QuantityInStock) : query.OrderByDescending(p => p.QuantityInStock),
            "expiry" => sortAscending ? query.OrderBy(p => p.ExpiryDate ?? DateTime.MaxValue) : query.OrderByDescending(p => p.ExpiryDate ?? DateTime.MinValue),
            _ => query
        };

    private IEnumerable<ProductDto> PagedProducts => filteredProducts
        .Skip((currentPage - 1) * pageSize)
        .Take(pageSize);

    private int TotalPages => Math.Max(1, (int)Math.Ceiling(filteredProducts.Count / (double)pageSize));

    private void ChangeSort(string column)
    {
        if (sortColumn == column)
        {
            sortAscending = !sortAscending;
        }
        else
        {
            sortColumn = column;
            sortAscending = true;
        }
        ApplyFilters();
    }

    private void OnCategoryChanged(ChangeEventArgs args)
    {
        selectedCategory = args.Value?.ToString() ?? "all";
        currentPage = 1;
        ApplyFilters();
    }

    private void OnFiltersChanged()
    {
        currentPage = 1;
        ApplyFilters();
    }

    private void OnPageSizeChanged(ChangeEventArgs args)
    {
        if (int.TryParse(args.Value?.ToString(), out var size))
        {
            pageSize = size;
        }
        currentPage = 1;
        ApplyFilters();
    }

    private void ResetFilters()
    {
        searchTerm = string.Empty;
        selectedCategory = "all";
        showLowStockOnly = false;
        showPerishableOnly = false;
        ApplyFilters();
    }

    private void NextPage()
    {
        if (currentPage < TotalPages)
        {
            currentPage++;
        }
    }

    private void PrevPage()
    {
        if (currentPage > 1)
        {
            currentPage--;
        }
    }

    private void OpenCreateModal()
    {
        isEditing = false;
        formModel = new ProductInputModel
        {
            QuantityInStock = 0,
            MinQuantity = 0,
            DiscountPercent = 0,
            UnitPrice = 0
        };
        showFormModal = true;
    }

    private void OpenEditModal(ProductDto product)
    {
        isEditing = true;
        formModel = new ProductInputModel
        {
            ProductId = product.ProductId,
            Barcode = product.Barcode,
            Name = product.Name,
            Category = product.Category,
            UnitLabel = product.UnitLabel,
            OriginalPrice = product.OriginalPrice,
            UnitPrice = product.UnitPrice,
            DiscountPercent = product.DiscountPercent,
            QuantityInStock = product.QuantityInStock,
            MinQuantity = product.MinQuantity,
            IsPerishable = product.IsPerishable,
            ExpiryDate = product.ExpiryDate,
            ImageUrl = product.ImageUrl
        };
        showFormModal = true;
    }

    private void CloseFormModal()
    {
        showFormModal = false;
        formModel = new ProductInputModel();
    }

    private async Task HandleSubmit()
    {
        isSaving = true;
        try
        {
            if (isEditing && formModel.ProductId > 0)
            {
                await ProductService.UpdateProductAsync(formModel.ProductId, formModel);
                ShowToast("Product updated", "success");
            }
            else
            {
                await ProductService.CreateProductAsync(formModel);
                ShowToast("Product created", "success");
            }

            CloseFormModal();
            await LoadProductsAsync();
        }
        catch (Exception ex)
        {
            ShowToast("Operation failed: " + ex.Message, "error");
        }
        finally
        {
            isSaving = false;
        }
    }

    private void OpenDetails(ProductDto product)
    {
        detailProduct = product;
        showDetails = true;
    }

    private void CloseDetails()
    {
        showDetails = false;
        detailProduct = null;
    }

    private void ConfirmDelete(ProductDto product)
    {
        confirmDeleteTarget = product;
    }

    private void CloseConfirmDelete()
    {
        confirmDeleteTarget = null;
    }

    private async Task DeleteConfirmed()
    {
        if (confirmDeleteTarget is null)
        {
            return;
        }

        try
        {
            await ProductService.DeleteProductAsync(confirmDeleteTarget.ProductId);
            ShowToast("Product deleted", "success");
            confirmDeleteTarget = null;
            await LoadProductsAsync();
        }
        catch (Exception ex)
        {
            ShowToast("Delete failed: " + ex.Message, "error");
        }
    }

    private string GetRowCss(ProductDto product)
    {
        var classes = new List<string>();

        if (IsLowStock(product))
        {
            classes.Add("low-stock");
        }

        var expiry = GetExpiryStatus(product);
        if (expiry == ExpiryStatus.Expired)
        {
            classes.Add("expired");
        }
        else if (expiry == ExpiryStatus.NearExpiry)
        {
            classes.Add("near-expiry");
        }

        return string.Join(" ", classes);
    }

    private IEnumerable<ProductTable.BadgeModel> BuildBadges(ProductDto product)
    {
        var badges = new List<ProductTable.BadgeModel>();

        if (IsLowStock(product))
        {
            badges.Add(new ProductTable.BadgeModel("Low stock", "bg-danger"));
        }

        if (product.IsPerishable)
        {
            badges.Add(new ProductTable.BadgeModel("Perishable", "bg-warning text-dark"));
        }

        var expiry = GetExpiryStatus(product);
        if (expiry == ExpiryStatus.Expired)
        {
            badges.Add(new ProductTable.BadgeModel("Expired", "bg-dark"));
        }
        else if (expiry == ExpiryStatus.NearExpiry)
        {
            badges.Add(new ProductTable.BadgeModel("Near expiry", "bg-info text-dark"));
        }

        return badges;
    }

    private bool IsLowStock(ProductDto product) => product.QuantityInStock < product.MinQuantity;

    private ExpiryStatus GetExpiryStatus(ProductDto product)
    {
        if (!product.IsPerishable || !product.ExpiryDate.HasValue)
        {
            return ExpiryStatus.None;
        }

        var days = (product.ExpiryDate.Value.Date - DateTime.Today).TotalDays;

        if (days < 0)
        {
            return ExpiryStatus.Expired;
        }

        if (days <= 7)
        {
            return ExpiryStatus.NearExpiry;
        }

        return ExpiryStatus.Fresh;
    }

    private void ShowToast(string message, string variant)
    {
        var toast = new ToastMessage(message, variant);
        toasts.Add(toast);
        StateHasChanged();

        _ = Task.Run(async () =>
        {
            await Task.Delay(4000);
            await InvokeAsync(() => DismissToast(toast));
        });
    }

    private void DismissToast(ToastMessage toast)
    {
        toasts.Remove(toast);
        StateHasChanged();
    }

    private async Task ReloadAsync()
    {
        await LoadProductsAsync();
    }

    private record ToastMessage(string Message, string Variant);

    private enum ExpiryStatus
    {
        None,
        Fresh,
        NearExpiry,
        Expired
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Products/Products.razor.css">
.products-page {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
}

.page-header {
    padding: 1.25rem 1.5rem;
    background: #ffffff;
    border-radius: 14px;
}

.header-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    background: linear-gradient(135deg, #eef3ff, #d9e5ff);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: #113e92;
    font-size: 1.35rem;
}

.page-title {
    font-weight: 700;
    margin: 0;
}

.filters {
    padding: 1rem 1.25rem;
}

.filter-layout {
    display: flex;
    gap: 1rem;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
}

.filter-main {
    flex: 1 1 620px;
    display: grid;
    grid-template-columns: minmax(260px, 1.3fr) minmax(180px, 0.9fr);
    gap: 0.75rem;
    align-items: center;
}

.toggle-row {
    grid-column: 1 / -1;
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.input-icon {
    position: relative;
}

.input-icon .bi {
    position: absolute;
    top: 50%;
    left: 12px;
    transform: translateY(-50%);
    color: #8a97a7;
}

.input-icon input {
    padding-left: 2.5rem;
}

.switch-toggle {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 600;
    color: #2c3e50;
}

.switch-toggle input {
    display: none;
}

.switch-toggle .switch {
    width: 46px;
    height: 26px;
    background: #e7ebf3;
    border-radius: 999px;
    position: relative;
    transition: background 0.2s ease;
}

.switch-toggle .switch::after {
    content: "";
    position: absolute;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #ffffff;
    top: 3px;
    left: 3px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);
    transition: transform 0.2s ease;
}

.switch-toggle input:checked + .switch {
    background: #0f62fe;
}

.switch-toggle input:checked + .switch::after {
    transform: translateX(20px);
}

.eyebrow {
    text-transform: uppercase;
    letter-spacing: 0.08em;
    font-size: 0.75rem;
    color: #6c757d;
}

.filter-actions {
    display: inline-flex;
    gap: 0.5rem;
    align-items: center;
    flex-wrap: wrap;
}

.page-size {
    width: 130px;
}

.stats .stat-card {
    padding: 1rem 1.25rem;
    border-radius: 12px;
    background: #f8fbff;
    border: 1px solid #e8f1ff;
    min-height: 110px;
}

.stat-card .label {
    text-transform: uppercase;
    letter-spacing: 0.06em;
    font-size: 0.75rem;
    color: #6c757d;
}

.stat-card h4 {
    margin: 0.35rem 0 0.2rem;
    font-weight: 700;
}

.table-card {
    overflow: hidden;
    border: 1px solid #e5e8ef;
    border-radius: 12px;
}

.product-table thead {
    background: #f4f6fb;
    color: #445166;
}

.product-table th {
    font-size: 0.9rem;
    font-weight: 700;
    white-space: nowrap;
    border-bottom: 1px solid #e5e8ef;
}

.product-table td {
    vertical-align: middle;
    border-color: #eef1f5;
}

.product-table .sort {
    border: none;
    background: transparent;
    padding: 0;
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    font-weight: 700;
    color: #2c3e50;
}

.product-table .badge-row {
    display: flex;
    gap: 0.35rem;
    flex-wrap: wrap;
}

.product-table .badge-row .badge {
    border-radius: 999px;
    padding: 0.35rem 0.6rem;
    font-weight: 600;
    font-size: 0.85rem;
}

.product-table tr.low-stock {
    background: #fff9e6;
}

.product-table tr.near-expiry {
    background: #fff4e1;
}

.product-table tr.expired {
    background: #ffe9e9;
}

.product-table tbody tr:hover {
    box-shadow: inset 0 0 0 9999px rgba(15, 98, 254, 0.04);
}

.product-table .col-barcode {
    width: 160px;
}

.action-icons {
    display: inline-flex;
    gap: 0.35rem;
    justify-content: flex-end;
}

.icon-btn {
    width: 34px;
    height: 34px;
    border-radius: 8px;
    border: 1px solid #d9dee7;
    background: #ffffff;
    color: #1f2b3d;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: all 0.15s ease;
}

.icon-btn:hover {
    background: #0f62fe;
    border-color: #0f62fe;
    color: #ffffff;
}

.icon-btn.danger:hover {
    background: #dc3545;
    border-color: #dc3545;
    color: #ffffff;
}

.loading-state {
    padding: 2rem;
    text-align: center;
}

.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.4);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1050;
    padding: 1rem;
}

.modal-panel {
    background: #fff;
    border-radius: 14px;
    width: min(760px, 100%);
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 15px 45px rgba(0, 0, 0, 0.15);
    padding: 1.25rem 1.25rem 1rem;
}

.modal-panel.confirm {
    max-width: 460px;
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
}

.modal-body {
    padding-bottom: 0.5rem;
}

.toast-container {
    position: fixed;
    bottom: 1rem;
    right: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    z-index: 1100;
}

.toast-item {
    color: #fff;
    border-radius: 10px;
    padding: 0.75rem 1rem;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.toast-item.success {
    background: #198754;
}

.toast-item.error {
    background: #dc3545;
}

.pagination-controls {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
}

.detail-modal .modal-panel {
    width: min(900px, 100%);
    max-height: 85vh;
}

.detail-grid {
    display: grid;
    grid-template-columns: minmax(260px, 1fr) minmax(280px, 1fr);
    gap: 1rem;
}

.detail-header {
    border-bottom: 1px solid #f0f2f5;
    padding-bottom: 1rem;
    margin-bottom: 1rem;
}

.detail-body {
    display: grid;
    gap: 0.75rem;
}

.detail-image {
    border: 1px solid #e3e8f0;
    border-radius: 12px;
    overflow: hidden;
    background: #f8fafc;
    max-height: 320px;
}

.detail-image img {
    width: 100%;
    height: auto;
    display: block;
    object-fit: cover;
}

.detail-row {
    display: flex;
    justify-content: space-between;
    border-bottom: 1px dashed #ecf1f6;
    padding-bottom: 0.5rem;
}

.detail-row .label {
    color: #6c757d;
    font-size: 0.9rem;
}

@media (max-width: 992px) {
    .filter-main {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .filter-layout {
        align-items: flex-start;
    }

    .filter-actions {
        width: 100%;
        justify-content: flex-start;
    }

    .page-header {
        padding: 1rem;
    }

    .detail-grid {
        grid-template-columns: 1fr;
    }

    .detail-modal .modal-panel {
        max-height: 90vh;
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Products/ProductTable.razor">
@using MegaMarket.BlazorUI.Services.Products

<div class="table-responsive">
    <table class="table align-middle product-table mb-0">
        <thead>
            <tr>
                <th class="col-image">Image</th>
                <th class="col-barcode">Barcode</th>
                <th>
                    <button class="sort" @onclick="SortByName">
                        Name <span class="@GetSortIcon("name")"></span>
                    </button>
                </th>
                <th>
                    <button class="sort" @onclick="SortByCategory">
                        Category <span class="@GetSortIcon("category")"></span>
                    </button>
                </th>
                <th>
                    <button class="sort" @onclick="SortByUnitPrice">
                        Unit Price <span class="@GetSortIcon("unit_price")"></span>
                    </button>
                </th>
                <th>
                    <button class="sort" @onclick="SortByQuantity">
                        Stock <span class="@GetSortIcon("quantity")"></span>
                    </button>
                </th>
                <th>
                    <button class="sort" @onclick="SortByExpiry">
                        Expiry Date <span class="@GetSortIcon("expiry")"></span>
                    </button>
                </th>
                <th>Unit</th>
                <th>Original</th>
                <th>Discount</th>
                <th>Min Qty</th>
                <th>Status</th>
                <th class="text-end">Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var product in Products)
            {
                <tr class="@RowClassSelector?.Invoke(product)">
                    <td class="col-image">
                        <div class="thumb">
                            @if (!string.IsNullOrWhiteSpace(product.ImageUrl))
                            {
                                <img src="@product.ImageUrl"
                                     alt="@product.Name"
                                     loading="lazy" />
                            }
                            else
                            {
                                <span class="bi bi-box"></span>
                            }
                        </div>
                    </td>
                    <td class="text-muted small">@(string.IsNullOrWhiteSpace(product.Barcode) ? "-" : product.Barcode)</td>
                    <td>
                        <div class="fw-semibold">@product.Name</div>
                    </td>
                    <td>@(string.IsNullOrWhiteSpace(product.Category) ? "-" : product.Category)</td>
                    <td>@product.UnitPrice.ToString("C")</td>
                    <td class="fw-semibold">@product.QuantityInStock</td>
                    <td>@(product.ExpiryDate?.ToString("yyyy-MM-dd") ?? "-")</td>
                    <td>@(string.IsNullOrWhiteSpace(product.UnitLabel) ? "-" : product.UnitLabel)</td>
                    <td>
                        @if (product.OriginalPrice.HasValue)
                        {
                            <span class="text-muted text-decoration-line-through">@product.OriginalPrice.Value.ToString("C")</span>
                        }
                        else
                        {
                            <span>-</span>
                        }
                    </td>
                    <td>@(product.DiscountPercent.HasValue ? $"{product.DiscountPercent.Value}%" : "-")</td>
                    <td>@product.MinQuantity</td>
                    <td>
                        @if (BadgeSelector is not null)
                        {
                            <div class="badge-row">
                                @foreach (var badge in BadgeSelector(product))
                                {
                                    <span class="badge @badge.CssClass">@badge.Label</span>
                                }
                            </div>
                        }
                    </td>
                    <td class="text-end">
                        <div class="action-icons">
                            <button class="icon-btn" title="View" @onclick="() => OnView.InvokeAsync(product)">
                                <span class="bi bi-eye"></span>
                            </button>
                            <button class="icon-btn" title="Edit" @onclick="() => OnEdit.InvokeAsync(product)">
                                <span class="bi bi-pencil"></span>
                            </button>
                            <button class="icon-btn danger" title="Delete" @onclick="() => OnDelete.InvokeAsync(product)">
                                <span class="bi bi-trash"></span>
                            </button>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

@code {
    [Parameter] public IEnumerable<ProductDto> Products { get; set; } = Enumerable.Empty<ProductDto>();
    [Parameter] public EventCallback<string> OnSort { get; set; }
    [Parameter] public string SortColumn { get; set; } = string.Empty;
    [Parameter] public bool SortAscending { get; set; }
    [Parameter] public EventCallback<ProductDto> OnEdit { get; set; }
    [Parameter] public EventCallback<ProductDto> OnView { get; set; }
    [Parameter] public EventCallback<ProductDto> OnDelete { get; set; }
    [Parameter] public Func<ProductDto, string>? RowClassSelector { get; set; }
    [Parameter] public Func<ProductDto, IEnumerable<ProductTable.BadgeModel>>? BadgeSelector { get; set; }

    public record BadgeModel(string Label, string CssClass);

    private Task Sort(string column) => OnSort.InvokeAsync(column);

    private Task SortByName() => Sort("name");
    private Task SortByCategory() => Sort("category");
    private Task SortByUnitPrice() => Sort("unit_price");
    private Task SortByQuantity() => Sort("quantity");
    private Task SortByExpiry() => Sort("expiry");

    private string GetSortIcon(string column)
    {
        if (!string.Equals(SortColumn, column, StringComparison.OrdinalIgnoreCase))
        {
            return "bi bi-arrow-down-up text-muted";
        }

        return SortAscending ? "bi bi-sort-down" : "bi bi-sort-up";
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Products/ProductTable.razor.css">
.product-table thead {
    background: #f4f6fb;
    color: #445166;
}

.product-table th {
    font-size: 0.9rem;
    font-weight: 700;
    white-space: nowrap;
    border-bottom: 1px solid #e5e8ef;
}

.product-table td {
    vertical-align: middle;
    border-color: #eef1f5;
}

.product-table .sort {
    border: none;
    background: transparent;
    padding: 0;
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    font-weight: 700;
    color: #2c3e50;
}

.product-table .badge-row {
    display: flex;
    gap: 0.35rem;
    flex-wrap: wrap;
}

.product-table .badge-row .badge {
    border-radius: 999px;
    padding: 0.35rem 0.6rem;
    font-weight: 600;
    font-size: 0.85rem;
}

.product-table tr.low-stock {
    background: #fff9e6;
}

.product-table tr.near-expiry {
    background: #fff4e1;
}

.product-table tr.expired {
    background: #ffe9e9;
}

.product-table tbody tr:hover {
    box-shadow: inset 0 0 0 9999px rgba(15, 98, 254, 0.04);
}

.product-table .col-image {
    width: 72px;
}

.product-table .col-barcode {
    width: 160px;
}

.product-table .thumb {
    width: 56px;
    height: 56px;
    border-radius: 14px;
    background: linear-gradient(135deg, #f8fbff, #f1f4f9);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    border: 1px solid #e4e8f1;
    box-shadow: 0 6px 18px rgba(17, 32, 60, 0.1);
}

.product-table .thumb img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

.action-icons {
    display: inline-flex;
    gap: 0.35rem;
    justify-content: flex-end;
}

.icon-btn {
    width: 34px;
    height: 34px;
    border-radius: 8px;
    border: 1px solid #d9dee7;
    background: #ffffff;
    color: #1f2b3d;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: all 0.15s ease;
}

.icon-btn:hover {
    background: #0f62fe;
    border-color: #0f62fe;
    color: #ffffff;
}

.icon-btn.danger:hover {
    background: #dc3545;
    border-color: #dc3545;
    color: #ffffff;
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Reports/LoyaltyReports.razor">
@page "/reports/loyalty"
@using MegaMarket.BlazorUI.Services.CustomerLoyalty
@inject ReportService ReportService
@rendermode InteractiveServer

<div class="container-fluid mt-4">
    <div class="row mb-4">
        <div class="col">
            <h2>?? Loyalty Reports</h2>
        </div>
        <div class="col-auto">
            <button class="btn btn-outline-secondary" @onclick="RefreshReports">
                ?? Refresh
            </button>
        </div>
    </div>

    @if (isLoading)
    {
        <div class="alert alert-info">
            <div class="spinner-border spinner-border-sm me-2" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            Loading reports...
        </div>
    }
    else if (errorMessage != null)
    {
        <div class="alert alert-danger">
            <strong>Error:</strong> @errorMessage
            <button class="btn btn-sm btn-outline-danger float-end" @onclick="() => { errorMessage = null; }">?</button>
        </div>
    }

    <!-- Reports Grid -->
    <div class="row g-4">
        <!-- Top Customers Report -->
        <div class="col-lg-6">
            <TopCustomersReport TopCustomers="topCustomers" IsLoading="isLoading" />
        </div>

        <!-- Top Rewards Report -->
        <div class="col-lg-6">
            <TopRewardsReport TopRewards="topRewards" IsLoading="isLoading" />
        </div>
    </div>

    <!-- Points Summary Report -->
    <div class="row g-4 mt-2">
        <div class="col-12">
            <PointsSummaryReport PointsSummary="pointsSummary" IsLoading="isLoading" />
        </div>
    </div>

    <!-- Quick Stats -->
    <div class="row g-4 mt-2">
        <div class="col-md-3">
            <div class="card text-center">
                <div class="card-body">
                    <h6 class="card-title text-muted">Total Customers</h6>
                    <h3 class="text-primary">@(topCustomers?.Count ?? 0)</h3>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-center">
                <div class="card-body">
                    <h6 class="card-title text-muted">Total Rewards</h6>
                    <h3 class="text-success">@(topRewards?.Count ?? 0)</h3>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-center">
                <div class="card-body">
                    <h6 class="card-title text-muted">Total Earned</h6>
                    <h3 class="text-info">@GetTotalEarned().ToString("N0")</h3>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-center">
                <div class="card-body">
                    <h6 class="card-title text-muted">Total Redeemed</h6>
                    <h3 class="text-danger">@GetTotalRedeemed().ToString("N0")</h3>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    private List<TopCustomerDto>? topCustomers = null;
    private List<TopRewardDto>? topRewards = null;
    private List<PointsSummaryDto>? pointsSummary = null;
    private bool isLoading = true;
    private string? errorMessage = null;

    protected override async Task OnInitializedAsync()
    {
        await RefreshReports();
    }

    private async Task RefreshReports()
    {
        isLoading = true;
        errorMessage = null;
        try
        {
            var tasks = new List<Task>
            {
                LoadTopCustomers(),
                LoadTopRewards(),
                LoadPointsSummary()
            };
            await Task.WhenAll(tasks);
        }
        catch (Exception ex)
        {
            errorMessage = $"Error loading reports: {ex.Message}";
        }
        finally
        {
            isLoading = false;
        }
    }

    private async Task LoadTopCustomers()
    {
        try
        {
            topCustomers = await ReportService.GetTopCustomersAsync(10);
        }
        catch (Exception ex)
        {
            throw new Exception($"Error loading top customers: {ex.Message}");
        }
    }

    private async Task LoadTopRewards()
    {
        try
        {
            topRewards = await ReportService.GetTopRewardsAsync(10);
        }
        catch (Exception ex)
        {
            throw new Exception($"Error loading top rewards: {ex.Message}");
        }
    }

    private async Task LoadPointsSummary()
    {
        try
        {
            pointsSummary = await ReportService.GetPointsSummaryAsync();
        }
        catch (Exception ex)
        {
            throw new Exception($"Error loading points summary: {ex.Message}");
        }
    }

    private int GetTotalEarned()
    {
        return pointsSummary?.FirstOrDefault(p => p.TransactionType == "Earn")?.TotalPoints ?? 0;
    }

    private int GetTotalRedeemed()
    {
        var total = pointsSummary?.FirstOrDefault(p => p.TransactionType == "Redeem")?.TotalPoints ?? 0;
        return Math.Abs(total);
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Reports/PointsSummaryReport.razor">
@using MegaMarket.BlazorUI.Services.CustomerLoyalty

<div class="card">
    <div class="card-header bg-light">
        <h5 class="mb-0">?? Points Summary (System-wide)</h5>
    </div>
    <div class="card-body">
        @if (IsLoading)
        {
            <div class="text-center text-muted">
                <div class="spinner-border spinner-border-sm" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
        }
        else if (PointsSummary != null && PointsSummary.Count > 0)
        {
            <div class="row">
                @foreach (var summary in PointsSummary)
                {
                    <div class="col-md-4 mb-3">
                        <div class="text-center p-3 border rounded">
                            <h6 class="text-muted mb-2">@GetTransactionTypeLabel(summary.TransactionType)</h6>
                            <h3 class="@GetSummaryColor(summary.TransactionType)">
                                @(summary.TotalPoints > 0 ? "+" : "")@summary.TotalPoints.ToString("N0")
                            </h3>
                            <small class="text-muted">@GetTransactionTypeIcon(summary.TransactionType) @summary.TransactionType</small>
                        </div>
                    </div>
                }
            </div>

            <!-- Summary Details Table -->
            <div class="mt-4">
                <h6 class="mb-3">Detailed Breakdown</h6>
                <div class="table-responsive">
                    <table class="table table-sm">
                        <thead class="table-light">
                            <tr>
                                <th>Type</th>
                                <th class="text-end">Total Points</th>
                                <th class="text-end">Percentage</th>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                int totalPoints = PointsSummary.Sum(p => Math.Abs(p.TotalPoints));
                                foreach (var summary in PointsSummary)
                                {
                                    int percentage = totalPoints > 0 ? (Math.Abs(summary.TotalPoints) * 100) / totalPoints : 0;
                                    <tr>
                                        <td>
                                            <span class="badge @GetBadgeClass(summary.TransactionType)">
                                                @GetTransactionTypeIcon(summary.TransactionType) @summary.TransactionType
                                            </span>
                                        </td>
                                        <td class="text-end">
                                            <strong class="@GetSummaryColor(summary.TransactionType)">
                                                @(summary.TotalPoints > 0 ? "+" : "")@summary.TotalPoints.ToString("N0")
                                            </strong>
                                        </td>
                                        <td class="text-end">
                                            <div class="progress" style="height: 20px;">
                                                <div class="progress-bar @GetProgressBarClass(summary.TransactionType)" style="width: @percentage%">
                                                    <small>@percentage%</small>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Summary Stats -->
            <div class="row mt-4">
                <div class="col-md-6">
                    <div class="p-3 bg-light rounded">
                        <h6 class="text-muted mb-2">Net Points (System)</h6>
                        <h4 class="@GetNetPointsColor()">@GetNetPoints().ToString("N0")</h4>
                        <small class="text-muted">= Earned @(GetEarnedPoints() > 0 ? "+" : "")@GetEarnedPoints() - Redeemed @GetRedeemedPoints()</small>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="p-3 bg-light rounded">
                        <h6 class="text-muted mb-2">Total Transactions</h6>
                        <h4>@PointsSummary.Count</h4>
                        <small class="text-muted">Different transaction types tracked</small>
                    </div>
                </div>
            </div>
        }
        else
        {
            <div class="text-center text-muted p-4">
                <p class="mb-0">No points summary data available</p>
            </div>
        }
    </div>
</div>

@code {
    [Parameter]
    public List<PointsSummaryDto>? PointsSummary { get; set; }

    [Parameter]
    public bool IsLoading { get; set; }

    private string GetTransactionTypeLabel(string? type) => type switch
    {
        "Earn" => "Points Earned",
        "Redeem" => "Points Redeemed",
        "Adjust" => "Points Adjusted",
        _ => type ?? "Unknown"
    };

    private string GetTransactionTypeIcon(string? type) => type switch
    {
        "Earn" => "??",
        "Redeem" => "??",
        "Adjust" => "??",
        _ => "?"
    };

    private string GetSummaryColor(string? type) => type switch
    {
        "Earn" => "text-success",
        "Redeem" => "text-danger",
        "Adjust" => "text-warning",
        _ => "text-muted"
    };

    private string GetBadgeClass(string? type) => type switch
    {
        "Earn" => "bg-success",
        "Redeem" => "bg-danger",
        "Adjust" => "bg-warning text-dark",
        _ => "bg-light text-dark"
    };

    private string GetProgressBarClass(string? type) => type switch
    {
        "Earn" => "bg-success",
        "Redeem" => "bg-danger",
        "Adjust" => "bg-warning",
        _ => "bg-light"
    };

    private int GetEarnedPoints()
    {
        return PointsSummary?.FirstOrDefault(p => p.TransactionType == "Earn")?.TotalPoints ?? 0;
    }

    private int GetRedeemedPoints()
    {
        var total = PointsSummary?.FirstOrDefault(p => p.TransactionType == "Redeem")?.TotalPoints ?? 0;
        return Math.Abs(total);
    }

    private int GetAdjustedPoints()
    {
        return PointsSummary?.FirstOrDefault(p => p.TransactionType == "Adjust")?.TotalPoints ?? 0;
    }

    private int GetNetPoints()
    {
        return GetEarnedPoints() - GetRedeemedPoints() + GetAdjustedPoints();
    }

    private string GetNetPointsColor()
    {
        int netPoints = GetNetPoints();
        return netPoints > 0 ? "text-success" : netPoints < 0 ? "text-danger" : "text-muted";
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Reports/TopCustomersReport.razor">
@using MegaMarket.BlazorUI.Services.CustomerLoyalty

<div class="card h-100">
    <div class="card-header bg-light d-flex justify-content-between align-items-center">
        <h5 class="mb-0">?? Top Customers (by Points)</h5>
        <span class="badge bg-primary">@(TopCustomers?.Count ?? 0)</span>
    </div>
    <div class="card-body p-0">
        @if (IsLoading)
        {
            <div class="p-4 text-center text-muted">
                <div class="spinner-border spinner-border-sm" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
        }
        else if (TopCustomers != null && TopCustomers.Count > 0)
        {
            <div class="table-responsive">
                <table class="table table-hover mb-0">
                    <thead class="table-light">
                        <tr>
                            <th>#</th>
                            <th>Name</th>
                            <th>Phone</th>
                            <th class="text-end">Points</th>
                            <th>Rank</th>
                        </tr>
                    </thead>
                    <tbody>
                        @{
                            int index = 1;
                            foreach (var customer in TopCustomers)
                            {
                                <tr>
                                    <td>
                                        @if (index == 1)
                                        {
                                            <span class="badge bg-warning text-dark">?? @index</span>
                                        }
                                        else if (index == 2)
                                        {
                                            <span class="badge bg-secondary">?? @index</span>
                                        }
                                        else if (index == 3)
                                        {
                                            <span class="badge bg-danger">?? @index</span>
                                        }
                                        else
                                        {
                                            <span>@index</span>
                                        }
                                    </td>
                                    <td>
                                        <strong>@customer.FullName</strong>
                                    </td>
                                    <td>
                                        <small>@customer.Phone</small>
                                    </td>
                                    <td class="text-end">
                                        <span class="badge bg-success">@customer.Points.ToString("N0")</span>
                                    </td>
                                    <td>
                                        @RenderRankBadge(customer.Rank)
                                    </td>
                                </tr>
                                index++;
                            }
                        }
                    </tbody>
                </table>
            </div>
        }
        else
        {
            <div class="p-4 text-center text-muted">
                <p class="mb-0">No customers data available</p>
            </div>
        }
    </div>
</div>

@code {
    [Parameter]
    public List<TopCustomerDto>? TopCustomers { get; set; }

    [Parameter]
    public bool IsLoading { get; set; }

    private RenderFragment RenderRankBadge(string? rank) => @<span class="badge @GetRankBadgeClass(rank)">@rank</span>;

    private string GetRankBadgeClass(string? rank) => rank switch
    {
        "Gold" => "bg-warning text-dark",
        "Silver" => "bg-secondary",
        "Platinum" => "bg-info",
        _ => "bg-light text-dark"
    };
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Reports/TopRewardsReport.razor">
@using MegaMarket.BlazorUI.Services.CustomerLoyalty

<div class="card h-100">
    <div class="card-header bg-light d-flex justify-content-between align-items-center">
        <h5 class="mb-0">?? Top Rewards (Most Redeemed)</h5>
        <span class="badge bg-success">@(TopRewards?.Count ?? 0)</span>
    </div>
    <div class="card-body p-0">
        @if (IsLoading)
        {
            <div class="p-4 text-center text-muted">
                <div class="spinner-border spinner-border-sm" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
        }
        else if (TopRewards != null && TopRewards.Count > 0)
        {
            <div class="table-responsive">
                <table class="table table-hover mb-0">
                    <thead class="table-light">
                        <tr>
                            <th>#</th>
                            <th>Reward Name</th>
                            <th>Type</th>
                            <th class="text-end">Redeemed</th>
                            <th class="text-end">%</th>
                        </tr>
                    </thead>
                    <tbody>
                        @{
                            int index = 1;
                            int maxRedeemed = TopRewards.Max(r => r.TotalRedeemed);
                            foreach (var reward in TopRewards)
                            {
                                int percentage = maxRedeemed > 0 ? (reward.TotalRedeemed * 100) / maxRedeemed : 0;
                                <tr>
                                    <td>
                                        @if (index == 1)
                                        {
                                            <span class="badge bg-warning text-dark">??</span>
                                        }
                                        else if (index == 2)
                                        {
                                            <span class="badge bg-secondary">??</span>
                                        }
                                        else if (index == 3)
                                        {
                                            <span class="badge bg-danger">??</span>
                                        }
                                        else
                                        {
                                            <span>@index</span>
                                        }
                                    </td>
                                    <td>
                                        <strong>@reward.RewardName</strong>
                                    </td>
                                    <td>
                                        <span class="badge @GetTypeBadgeClass(reward.RewardType)">@reward.RewardType</span>
                                    </td>
                                    <td class="text-end">
                                        <span class="badge bg-info">@reward.TotalRedeemed</span>
                                    </td>
                                    <td class="text-end">
                                        <div class="progress" style="height: 20px;">
                                            <div class="progress-bar" style="width: @percentage%">
                                                <small>@percentage%</small>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                index++;
                            }
                        }
                    </tbody>
                </table>
            </div>
        }
        else
        {
            <div class="p-4 text-center text-muted">
                <p class="mb-0">No rewards data available</p>
            </div>
        }
    </div>
</div>

@code {
    [Parameter]
    public List<TopRewardDto>? TopRewards { get; set; }

    [Parameter]
    public bool IsLoading { get; set; }

    private string GetTypeBadgeClass(string? type) => type switch
    {
        "Gift" => "bg-success",
        "Discount" => "bg-warning text-dark",
        "Voucher" => "bg-primary",
        _ => "bg-light text-dark"
    };
}
</file>

<file path="MegaMarket.BlazorUI/Components/Shared/ChartCard.razor">
@if (IsLoading)
{
    <div class="card border-0 shadow-sm">
        <div class="card-header bg-white">
            <h5 class="mb-0">@Title</h5>
            @if (!string.IsNullOrEmpty(Subtitle))
            {
                <small class="text-muted">@Subtitle</small>
            }
        </div>
        <div class="card-body text-center py-5">
            <LoadingSpinner Message="Loading chart..." />
        </div>
    </div>
}
else if (!string.IsNullOrEmpty(ErrorMessage))
{
    <div class="card border-danger">
        <div class="card-header bg-white">
            <h5 class="mb-0">@Title</h5>
        </div>
        <div class="card-body">
            <div class="alert alert-danger mb-0">
                <span class="bi bi-exclamation-triangle me-2"></span>
                @ErrorMessage
            </div>
        </div>
    </div>
}
else
{
    <div class="card border-0 shadow-sm">
        <div class="card-header bg-white">
            <h5 class="mb-0">@Title</h5>
            @if (!string.IsNullOrEmpty(Subtitle))
            {
                <small class="text-muted">@Subtitle</small>
            }
        </div>
        <div class="card-body">
            <div class="chart-container" style="position: relative; height: @Height;">
                @ChildContent
            </div>
        </div>
    </div>
}

@code {
    [Parameter] public string Title { get; set; } = "Chart";
    [Parameter] public string? Subtitle { get; set; }
    [Parameter] public bool IsLoading { get; set; }
    [Parameter] public string? ErrorMessage { get; set; }
    [Parameter] public string Height { get; set; } = "300px";
    [Parameter] public RenderFragment? ChildContent { get; set; }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Shared/ConfirmDialog.razor">
@* Confirm Dialog Modal *@

@if (IsVisible)
{
    <div class="modal show d-block" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">@Title</h5>
                    <button type="button" class="btn-close" @onclick="HandleCancel"></button>
                </div>
                <div class="modal-body">
                    <p>@Message</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" @onclick="HandleCancel">
                        Cancel
                    </button>
                    <button type="button" class="btn btn-danger" @onclick="HandleConfirm">
                        @ConfirmText
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-backdrop show"></div>
}

@code {
    [Parameter]
    public bool IsVisible { get; set; }

    [Parameter]
    public string Title { get; set; } = "Confirm";

    [Parameter]
    public string Message { get; set; } = "Are you sure you want to proceed?";

    [Parameter]
    public string ConfirmText { get; set; } = "Confirm";

    [Parameter]
    public EventCallback OnConfirm { get; set; }

    [Parameter]
    public EventCallback OnCancel { get; set; }

    private async Task HandleConfirm()
    {
        if (OnConfirm.HasDelegate)
        {
            await OnConfirm.InvokeAsync();
        }
    }

    private async Task HandleCancel()
    {
        if (OnCancel.HasDelegate)
        {
            await OnCancel.InvokeAsync();
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Shared/DashboardSection.razor">
@if (IsLoading)
{
    <div class="card border-0 shadow-sm">
        <div class="card-body text-center py-5">
            <LoadingSpinner Message="@LoadingMessage" />
        </div>
    </div>
}
else if (!string.IsNullOrEmpty(ErrorMessage))
{
    <div class="card border-danger">
        <div class="card-body">
            <ErrorAlert ErrorMessage="@ErrorMessage" OnDismiss="@HandleErrorDismiss" />
            @if (ShowRetryButton)
            {
                <div class="text-center mt-3">
                    <button class="btn btn-outline-primary" @onclick="HandleRetry">
                        <span class="bi bi-arrow-clockwise me-1"></span> Retry
                    </button>
                </div>
            }
        </div>
    </div>
}
else
{
    @ChildContent
}

@code {
    [Parameter] public bool IsLoading { get; set; }
    [Parameter] public string? ErrorMessage { get; set; }
    [Parameter] public string LoadingMessage { get; set; } = "Loading...";
    [Parameter] public bool ShowRetryButton { get; set; } = true;
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public EventCallback OnErrorDismiss { get; set; }
    [Parameter] public EventCallback OnRetry { get; set; }

    private async Task HandleErrorDismiss()
    {
        if (OnErrorDismiss.HasDelegate)
        {
            await OnErrorDismiss.InvokeAsync();
        }
    }

    private async Task HandleRetry()
    {
        if (OnRetry.HasDelegate)
        {
            await OnRetry.InvokeAsync();
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Shared/DateRangeSelector.razor">
@using MegaMarket.BlazorUI.Models.Dashboard

<div class="btn-group mb-3" role="group" aria-label="Date range selector">
    <button type="button"
            class="btn @(SelectedRange == DateRangeEnum.Today ? "btn-primary" : "btn-outline-primary")"
            @onclick="() => OnRangeSelected(DateRangeEnum.Today)">
        <span class="bi bi-calendar-day me-1"></span> Today
    </button>
    <button type="button"
            class="btn @(SelectedRange == DateRangeEnum.ThisWeek ? "btn-primary" : "btn-outline-primary")"
            @onclick="() => OnRangeSelected(DateRangeEnum.ThisWeek)">
        <span class="bi bi-calendar-week me-1"></span> This Week
    </button>
    <button type="button"
            class="btn @(SelectedRange == DateRangeEnum.ThisMonth ? "btn-primary" : "btn-outline-primary")"
            @onclick="() => OnRangeSelected(DateRangeEnum.ThisMonth)">
        <span class="bi bi-calendar-month me-1"></span> This Month
    </button>
    <button type="button"
            class="btn @(SelectedRange == DateRangeEnum.ThisYear ? "btn-primary" : "btn-outline-primary")"
            @onclick="() => OnRangeSelected(DateRangeEnum.ThisYear)">
        <span class="bi bi-calendar me-1"></span> This Year
    </button>
</div>

@code {
    [Parameter] public DateRangeEnum SelectedRange { get; set; } = DateRangeEnum.Today;
    [Parameter] public EventCallback<DateRangeEnum> OnRangeChanged { get; set; }

    private async Task OnRangeSelected(DateRangeEnum range)
    {
        if (SelectedRange != range)
        {
            SelectedRange = range;
            await OnRangeChanged.InvokeAsync(range);
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Shared/EmptyState.razor">
@* Empty State Component *@

<div class="text-center py-5">
    <p class="text-muted mb-3">
        <span style="font-size: 3em;">@Icon</span>
    </p>
    <h5 class="text-muted mb-2">@Title</h5>
    <p class="text-muted small mb-3">@Description</p>

    @if (!string.IsNullOrEmpty(ActionText) && OnAction.HasDelegate)
    {
        <button class="btn btn-primary btn-sm" @onclick="HandleAction">
            @ActionText
        </button>
    }
</div>

@code {
    [Parameter]
    public string Icon { get; set; } = "📭";

    [Parameter]
    public string Title { get; set; } = "No data available";

    [Parameter]
    public string Description { get; set; } = "There are no items to display";

    [Parameter]
    public string? ActionText { get; set; }

    [Parameter]
    public EventCallback OnAction { get; set; }

    private async Task HandleAction()
    {
        if (OnAction.HasDelegate)
        {
            await OnAction.InvokeAsync();
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Shared/ErrorAlert.razor">
@* Error Alert Component with dismiss button *@

@if (!string.IsNullOrEmpty(ErrorMessage))
{
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <strong>⚠️ Error:</strong> @ErrorMessage
        @if (Dismissible)
        {
            <button type="button" class="btn-close" @onclick="HandleDismiss"></button>
        }
    </div>
}

@code {
    [Parameter]
    public string ErrorMessage { get; set; } = string.Empty;

    [Parameter]
    public bool Dismissible { get; set; } = true;

    [Parameter]
    public EventCallback OnDismiss { get; set; }

    private async Task HandleDismiss()
    {
        ErrorMessage = string.Empty;
        if (OnDismiss.HasDelegate)
        {
            await OnDismiss.InvokeAsync();
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Shared/LoadingSpinner.razor">
@* Loading Spinner Component *@

<div class="alert alert-info d-flex align-items-center">
    <div class="spinner-border spinner-border-sm me-2" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
    <span>@Message</span>
</div>

@code {
    [Parameter]
    public string Message { get; set; } = "Loading...";
}
</file>

<file path="MegaMarket.BlazorUI/Components/Shared/Paginator.razor">
@* Pagination Component *@

@if (TotalPages > 1)
{
    <nav class="mt-3" aria-label="Page navigation">
        <ul class="pagination pagination-sm justify-content-center mb-0">
            <li class="page-item @(CurrentPage == 1 ? "disabled" : "")">
                <button class="page-link" @onclick="() => ChangePage(CurrentPage - 1)" disabled="@(CurrentPage == 1)">
                    Previous
                </button>
            </li>

            @if (TotalPages <= 7)
            {
                @for (int i = 1; i <= TotalPages; i++)
                {
                    var pageNumber = i;
                    <li class="page-item @(CurrentPage == pageNumber ? "active" : "")">
                        <button class="page-link" @onclick="() => ChangePage(pageNumber)">
                            @pageNumber
                        </button>
                    </li>
                }
            }
            else
            {
                @* Show first page *@
                <li class="page-item @(CurrentPage == 1 ? "active" : "")">
                    <button class="page-link" @onclick="() => ChangePage(1)">1</button>
                </li>

                @if (CurrentPage > 3)
                {
                    <li class="page-item disabled">
                        <span class="page-link">...</span>
                    </li>
                }

                @* Show pages around current page *@
                @for (int i = Math.Max(2, CurrentPage - 1); i <= Math.Min(TotalPages - 1, CurrentPage + 1); i++)
                {
                    var pageNumber = i;
                    <li class="page-item @(CurrentPage == pageNumber ? "active" : "")">
                        <button class="page-link" @onclick="() => ChangePage(pageNumber)">
                            @pageNumber
                        </button>
                    </li>
                }

                @if (CurrentPage < TotalPages - 2)
                {
                    <li class="page-item disabled">
                        <span class="page-link">...</span>
                    </li>
                }

                @* Show last page *@
                <li class="page-item @(CurrentPage == TotalPages ? "active" : "")">
                    <button class="page-link" @onclick="() => ChangePage(TotalPages)">
                        @TotalPages
                    </button>
                </li>
            }

            <li class="page-item @(CurrentPage == TotalPages ? "disabled" : "")">
                <button class="page-link" @onclick="() => ChangePage(CurrentPage + 1)" disabled="@(CurrentPage == TotalPages)">
                    Next
                </button>
            </li>
        </ul>
    </nav>
}

@code {
    [Parameter]
    public int CurrentPage { get; set; } = 1;

    [Parameter]
    public int TotalPages { get; set; } = 1;

    [Parameter]
    public EventCallback<int> OnPageChange { get; set; }

    private async Task ChangePage(int page)
    {
        if (page < 1 || page > TotalPages || page == CurrentPage)
            return;

        if (OnPageChange.HasDelegate)
        {
            await OnPageChange.InvokeAsync(page);
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Shared/StatsCard.razor">
@* Stats Card for Dashboard *@

<div class="card border-0 shadow-sm stats-card h-100">
    <div class="card-header bg-@Color text-white">
        <h5 class="mb-0">@Title</h5>
    </div>
    <div class="card-body">
        <div class="p-3 bg-light rounded">
            <p class="text-muted small mb-2">@SubLabel</p>
            <h4 class="text-@Color mb-0">@Value</h4>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public string Title { get; set; } = string.Empty;

    [Parameter]
    public string Value { get; set; } = string.Empty;

    [Parameter]
    public string SubLabel { get; set; } = string.Empty;

    [Parameter]
    public string Color { get; set; } = "primary"; // primary, success, danger, warning, info
}
</file>

<file path="MegaMarket.BlazorUI/Components/Shared/StatsCard.razor.css">
.stats-card {
    transition: transform 0.2s, box-shadow 0.2s;
}

.stats-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}
</file>

<file path="MegaMarket.BlazorUI/Components/Shared/StatusBadge.razor">
@* Status Badge with automatic color mapping *@

<span class="badge bg-@GetBadgeColor()">@Status</span>

@code {
    [Parameter]
    public string Status { get; set; } = string.Empty;

    private string GetBadgeColor()
    {
        return Status switch
        {
            "Admin" => "primary",
            "Employee" => "secondary",
            "Active" or "On Time" or "Completed" or "Claimed" => "success",
            "Late" or "Pending" or "In Progress" => "warning text-dark",
            "Absent" or "Error" or "Cancelled" or "Failed" => "danger",
            "Info" or "Neutral" => "info",
            _ => "secondary"
        };
    }
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/AttendanceRateDto.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public class AttendanceRateDto
{
    public int TotalWorkingDays { get; set; }
    public int AttendedDays { get; set; }
    public int AbsentDays { get; set; }
    public int LateDays { get; set; }
    public decimal AttendanceRate { get; set; }
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/CategoryStockDto.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public class CategoryStockDto
{
    public string CategoryName { get; set; } = string.Empty;
    public int TotalQuantity { get; set; }
    public int ProductCount { get; set; }
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/CustomerDashboardDto.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public class CustomerDashboardDto
{
    public int TotalCustomers { get; set; }
    public int NewCustomers { get; set; }
    public decimal AverageSpending { get; set; }
    public List<CustomerRankDistributionDto> CustomerRankDistribution { get; set; } = new();
    public LoyaltyPointsSummaryDto? LoyaltyPointsSummary { get; set; } // Nullable for Employee role
    public List<TopCustomerDto> TopCustomers { get; set; } = new();
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/CustomerRankDistributionDto.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public class CustomerRankDistributionDto
{
    public string Rank { get; set; } = string.Empty;
    public int Count { get; set; }
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/DateRangeEnum.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public enum DateRangeEnum
{
    Today,
    ThisWeek,
    ThisMonth,
    ThisYear
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/EmployeeWorkSummaryDto.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public class EmployeeWorkSummaryDto
{
    public int EmployeeId { get; set; }
    public string EmployeeName { get; set; } = string.Empty;
    public int WorkingDays { get; set; }
    public int AbsentDays { get; set; }
    public decimal TotalHours { get; set; }
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/ExpiringProductDto.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public class ExpiringProductDto
{
    public int ProductId { get; set; }
    public string ProductName { get; set; } = string.Empty;
    public int Quantity { get; set; }
    public DateTime ExpiryDate { get; set; }
    public int DaysUntilExpiry { get; set; }
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/InventoryDashboardDto.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public class InventoryDashboardDto
{
    public int TotalProducts { get; set; }
    public int TotalCategories { get; set; }
    public decimal? TotalStockValue { get; set; } // Nullable for Employee role
    public int LowStockCount { get; set; }
    public int OutOfStockCount { get; set; }
    public List<LowStockProductDto> LowStockProducts { get; set; } = new();
    public List<ExpiringProductDto> ExpiringProducts { get; set; } = new();
    public List<CategoryStockDto> StockByCategory { get; set; } = new();
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/LowStockProductDto.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public class LowStockProductDto
{
    public int ProductId { get; set; }
    public string ProductName { get; set; } = string.Empty;
    public int CurrentStock { get; set; }
    public int MinimumStock { get; set; }
    public string CategoryName { get; set; } = string.Empty;
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/LoyaltyPointsSummaryDto.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public class LoyaltyPointsSummaryDto
{
    public int TotalPointsIssued { get; set; }
    public int TotalPointsRedeemed { get; set; }
    public int ActivePoints { get; set; }
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/RevenueByPaymentMethodDto.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public class RevenueByPaymentMethodDto
{
    public string PaymentMethod { get; set; } = string.Empty;
    public decimal Revenue { get; set; }
    public int InvoiceCount { get; set; }
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/RevenueTrendDto.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public class RevenueTrendDto
{
    public DateTime Date { get; set; }
    public decimal Revenue { get; set; }
    public int InvoiceCount { get; set; }
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/SalesDashboardDto.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public class SalesDashboardDto
{
    public decimal TotalRevenue { get; set; }
    public int TotalInvoices { get; set; }
    public decimal AverageOrderValue { get; set; }
    public List<RevenueByPaymentMethodDto> RevenueByPaymentMethod { get; set; } = new();
    public List<RevenueTrendDto> RevenueTrend { get; set; } = new();
    public List<TopProductDto> TopSellingProducts { get; set; } = new();
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/TopCustomerDto.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public class TopCustomerDto
{
    public int CustomerId { get; set; }
    public string CustomerName { get; set; } = string.Empty;
    public string Phone { get; set; } = string.Empty;
    public decimal TotalSpending { get; set; }
    public int InvoiceCount { get; set; }
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/TopMovingProductDto.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public class TopMovingProductDto
{
    public int ProductId { get; set; }
    public string ProductName { get; set; } = string.Empty;
    public int QuantitySold { get; set; }
    public decimal Revenue { get; set; }
    public string CategoryName { get; set; } = string.Empty;
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/TopProductDto.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public class TopProductDto
{
    public int ProductId { get; set; }
    public string ProductName { get; set; } = string.Empty;
    public int QuantitySold { get; set; }
    public decimal Revenue { get; set; }
}
</file>

<file path="MegaMarket.BlazorUI/Services/Attendance/AttendanceApiClient.cs">
using System.Net.Http.Json;
using System.Text.Json;
using MegaMarket.Data.Models;
using MegaMarket.API.DTOs;
using MegaMarket.BlazorUI.Services.Auth;

namespace MegaMarket.BlazorUI.Services.Attendance;

public class AttendanceApiClient
{
    private readonly HttpClient _httpClient;
    private readonly AuthService _authService;
    private readonly JsonSerializerOptions _serializerOptions = new(JsonSerializerDefaults.Web);

    public AttendanceApiClient(HttpClient httpClient, AuthService authService)
    {
        _httpClient = httpClient;
        _authService = authService;
    }

    private async Task AddAuthorizationHeader()
    {
        var token = await _authService.GetTokenAsync();
        if (!string.IsNullOrEmpty(token))
        {
            _httpClient.DefaultRequestHeaders.Authorization =
                new System.Net.Http.Headers.AuthenticationHeaderValue("Bearer", token);
        }
    }

    // GET: api/Attendance
    public async Task<List<Data.Models.Attendance>?> GetAttendancesAsync()
    {
        try
        {
            await AddAuthorizationHeader();
            return await _httpClient.GetFromJsonAsync<List<Data.Models.Attendance>>("api/Attendance", _serializerOptions);
        }
        catch
        {
            return null;
        }
    }

    // GET: api/Attendance/{id}
    public async Task<Data.Models.Attendance?> GetAttendanceAsync(int id)
    {
        try
        {
            await AddAuthorizationHeader();
            return await _httpClient.GetFromJsonAsync<Data.Models.Attendance>($"api/Attendance/{id}", _serializerOptions);
        }
        catch
        {
            return null;
        }
    }

    // GET: api/Attendance/user/{userId}
    public async Task<List<Data.Models.Attendance>?> GetAttendancesByUserAsync(int userId)
    {
        try
        {
            await AddAuthorizationHeader();
            return await _httpClient.GetFromJsonAsync<List<Data.Models.Attendance>>($"api/Attendance/user/{userId}", _serializerOptions);
        }
        catch
        {
            return null;
        }
    }

    // GET: api/Attendance/date/{date}
    public async Task<List<Data.Models.Attendance>?> GetAttendancesByDateAsync(DateTime date)
    {
        try
        {
            await AddAuthorizationHeader();
            var dateStr = date.ToString("yyyy-MM-dd");
            return await _httpClient.GetFromJsonAsync<List<Data.Models.Attendance>>($"api/Attendance/date/{dateStr}", _serializerOptions);
        }
        catch
        {
            return null;
        }
    }

    // POST: api/Attendance
    public async Task<Data.Models.Attendance?> CreateAttendanceAsync(AttendanceInputDto input)
    {
        try
        {
            await AddAuthorizationHeader();
            var response = await _httpClient.PostAsJsonAsync("api/Attendance", input, _serializerOptions);
            response.EnsureSuccessStatusCode();
            return await response.Content.ReadFromJsonAsync<Data.Models.Attendance>(_serializerOptions);
        }
        catch
        {
            throw;
        }
    }

    // POST: api/Attendance/check-in
    public async Task<Data.Models.Attendance?> CheckInAsync(int userId, DateTime date)
    {
        try
        {
            await AddAuthorizationHeader();
            var dto = new CheckInOutDto { UserId = userId, Date = date };
            var response = await _httpClient.PostAsJsonAsync("api/Attendance/check-in", dto, _serializerOptions);
            response.EnsureSuccessStatusCode();
            return await response.Content.ReadFromJsonAsync<Data.Models.Attendance>(_serializerOptions);
        }
        catch
        {
            throw;
        }
    }

    // POST: api/Attendance/check-out
    public async Task<Data.Models.Attendance?> CheckOutAsync(int userId, DateTime date)
    {
        try
        {
            await AddAuthorizationHeader();
            var dto = new CheckInOutDto { UserId = userId, Date = date };
            var response = await _httpClient.PostAsJsonAsync("api/Attendance/check-out", dto, _serializerOptions);
            response.EnsureSuccessStatusCode();
            return await response.Content.ReadFromJsonAsync<Data.Models.Attendance>(_serializerOptions);
        }
        catch
        {
            throw;
        }
    }

    // PUT: api/Attendance/{id}
    public async Task<Data.Models.Attendance?> UpdateAttendanceAsync(int id, AttendanceInputDto input)
    {
        try
        {
            await AddAuthorizationHeader();
            var response = await _httpClient.PutAsJsonAsync($"api/Attendance/{id}", input, _serializerOptions);
            response.EnsureSuccessStatusCode();
            return await response.Content.ReadFromJsonAsync<Data.Models.Attendance>(_serializerOptions);
        }
        catch
        {
            throw;
        }
    }

    // DELETE: api/Attendance/{id}
    public async Task<bool> DeleteAttendanceAsync(int id)
    {
        try
        {
            await AddAuthorizationHeader();
            var response = await _httpClient.DeleteAsync($"api/Attendance/{id}");
            return response.IsSuccessStatusCode;
        }
        catch
        {
            return false;
        }
    }
}

// DTO for check-in/check-out operations
public class CheckInOutDto
{
    public int UserId { get; set; }
    public DateTime Date { get; set; }
}
</file>

<file path="MegaMarket.BlazorUI/Services/ProductApiClient.cs">
using System.Net.Http.Json;
using System.Text.Json;

namespace MegaMarket.BlazorUI.Services;

public class ProductApiClient
{
    private readonly HttpClient _httpClient;
    private readonly JsonSerializerOptions _serializerOptions = new(JsonSerializerDefaults.Web);

    public ProductApiClient(HttpClient httpClient)
    {
        _httpClient = httpClient;
    }

    public async Task<IReadOnlyList<ProductDto>> GetProductsAsync()
    {
        var products = await _httpClient.GetFromJsonAsync<List<ProductDto>>("api/products", _serializerOptions);
        return products ?? [];
    }

    public async Task<ApiResponse<ProductDto>> CreateAsync(ProductCreateUpdateDto dto)
    {
        var response = await _httpClient.PostAsJsonAsync("api/products", dto, _serializerOptions);
        return await ToApiResponse<ProductDto>(response);
    }

    public async Task<ApiResponse> UpdateAsync(int id, ProductCreateUpdateDto dto)
    {
        var response = await _httpClient.PutAsJsonAsync($"api/products/{id}", dto, _serializerOptions);
        return await ToApiResponse(response);
    }

    public async Task<ApiResponse> DeleteAsync(int id)
    {
        var response = await _httpClient.DeleteAsync($"api/products/{id}");
        return await ToApiResponse(response);
    }

    private async Task<ApiResponse> ToApiResponse(HttpResponseMessage response)
    {
        var error = response.IsSuccessStatusCode ? null : await response.Content.ReadAsStringAsync();
        return new ApiResponse(response.IsSuccessStatusCode, error);
    }

    private async Task<ApiResponse<T>> ToApiResponse<T>(HttpResponseMessage response)
    {
        if (response.IsSuccessStatusCode)
        {
            var data = await response.Content.ReadFromJsonAsync<T>(_serializerOptions);
            return new ApiResponse<T>(true, data, null);
        }

        var error = await response.Content.ReadAsStringAsync();
        return new ApiResponse<T>(false, default, error);
    }
}

public record ProductDto
{
    public int ProductId { get; init; }
    public string Barcode { get; init; } = string.Empty;
    public string Name { get; init; } = string.Empty;
    public string? Category { get; init; }
    public decimal UnitPrice { get; init; }
    public int QuantityInStock { get; init; }
    public int MinQuantity { get; init; }
    public DateTime? ExpiryDate { get; init; }
    public bool IsPerishable { get; init; }
}

public record ProductCreateUpdateDto
{
    public string Barcode { get; init; } = string.Empty;
    public string Name { get; init; } = string.Empty;
    public string? Category { get; init; }
    public decimal UnitPrice { get; init; }
    public int QuantityInStock { get; init; }
    public int MinQuantity { get; init; }
    public DateTime? ExpiryDate { get; init; }
    public bool IsPerishable { get; init; }
}

public record ApiResponse(bool Success, string? Error);
public record ApiResponse<T>(bool Success, T? Data, string? Error);
</file>

<file path="MegaMarket.BlazorUI/Services/ShiftTypes/ShiftTypesApiClient.cs">
using System.Net.Http.Json;
using System.Text.Json;
using MegaMarket.Data.Models;
using MegaMarket.API.DTOs;
using MegaMarket.BlazorUI.Services.Auth;

namespace MegaMarket.BlazorUI.Services.ShiftTypes;

public class ShiftTypesApiClient
{
    private readonly HttpClient _httpClient;
    private readonly AuthService _authService;
    private readonly JsonSerializerOptions _serializerOptions = new(JsonSerializerDefaults.Web);

    public ShiftTypesApiClient(HttpClient httpClient, AuthService authService)
    {
        _httpClient = httpClient;
        _authService = authService;
    }

    private async Task AddAuthorizationHeader()
    {
        var token = await _authService.GetTokenAsync();
        if (!string.IsNullOrEmpty(token))
        {
            _httpClient.DefaultRequestHeaders.Authorization =
                new System.Net.Http.Headers.AuthenticationHeaderValue("Bearer", token);
        }
    }

    // GET: api/ShiftTypes
    public async Task<List<ShiftType>?> GetShiftTypesAsync()
    {
        try
        {
            await AddAuthorizationHeader();
            return await _httpClient.GetFromJsonAsync<List<ShiftType>>("api/ShiftTypes", _serializerOptions);
        }
        catch
        {
            return null;
        }
    }

    // GET: api/ShiftTypes/{id}
    public async Task<ShiftType?> GetShiftTypeAsync(int id)
    {
        try
        {
            await AddAuthorizationHeader();
            return await _httpClient.GetFromJsonAsync<ShiftType>($"api/ShiftTypes/{id}", _serializerOptions);
        }
        catch
        {
            return null;
        }
    }

    // GET: api/ShiftTypes/name/{name}
    public async Task<ShiftType?> GetShiftTypeByNameAsync(string name)
    {
        try
        {
            await AddAuthorizationHeader();
            return await _httpClient.GetFromJsonAsync<ShiftType>($"api/ShiftTypes/name/{name}", _serializerOptions);
        }
        catch
        {
            return null;
        }
    }

    // POST: api/ShiftTypes
    public async Task<ShiftType?> CreateShiftTypeAsync(ShiftTypeInputDto input)
    {
        try
        {
            await AddAuthorizationHeader();
            var response = await _httpClient.PostAsJsonAsync("api/ShiftTypes", input, _serializerOptions);
            response.EnsureSuccessStatusCode();
            return await response.Content.ReadFromJsonAsync<ShiftType>(_serializerOptions);
        }
        catch
        {
            throw;
        }
    }

    // PUT: api/ShiftTypes/{id}
    public async Task<ShiftType?> UpdateShiftTypeAsync(int id, ShiftTypeInputDto input)
    {
        try
        {
            await AddAuthorizationHeader();
            var response = await _httpClient.PutAsJsonAsync($"api/ShiftTypes/{id}", input, _serializerOptions);
            response.EnsureSuccessStatusCode();
            return await response.Content.ReadFromJsonAsync<ShiftType>(_serializerOptions);
        }
        catch
        {
            throw;
        }
    }

    // DELETE: api/ShiftTypes/{id}
    public async Task<bool> DeleteShiftTypeAsync(int id)
    {
        try
        {
            await AddAuthorizationHeader();
            var response = await _httpClient.DeleteAsync($"api/ShiftTypes/{id}");
            return response.IsSuccessStatusCode;
        }
        catch
        {
            return false;
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Services/Users/UsersApiClient.cs">
using System.Net.Http.Json;
using System.Text.Json;
using MegaMarket.Data.Models;
using MegaMarket.API.DTOs;
using MegaMarket.BlazorUI.Services.Auth;

namespace MegaMarket.BlazorUI.Services.Users;

public class UsersApiClient
{
    private readonly HttpClient _httpClient;
    private readonly AuthService _authService;
    private readonly JsonSerializerOptions _serializerOptions = new(JsonSerializerDefaults.Web);

    public UsersApiClient(HttpClient httpClient, AuthService authService)
    {
        _httpClient = httpClient;
        _authService = authService;
    }

    private async Task AddAuthorizationHeader()
    {
        var token = await _authService.GetTokenAsync();
        if (!string.IsNullOrEmpty(token))
        {
            _httpClient.DefaultRequestHeaders.Authorization =
                new System.Net.Http.Headers.AuthenticationHeaderValue("Bearer", token);
        }
    }

    // GET: api/Users
    public async Task<List<User>?> GetUsersAsync()
    {
        try
        {
            await AddAuthorizationHeader();
            return await _httpClient.GetFromJsonAsync<List<User>>("api/Users", _serializerOptions);
        }
        catch
        {
            return null;
        }
    }

    // GET: api/Users/{id}
    public async Task<User?> GetUserAsync(int id)
    {
        try
        {
            await AddAuthorizationHeader();
            return await _httpClient.GetFromJsonAsync<User>($"api/Users/{id}", _serializerOptions);
        }
        catch
        {
            return null;
        }
    }

    // GET: api/Users/username/{username}
    public async Task<User?> GetUserByUsernameAsync(string username)
    {
        try
        {
            await AddAuthorizationHeader();
            return await _httpClient.GetFromJsonAsync<User>($"api/Users/username/{username}", _serializerOptions);
        }
        catch
        {
            return null;
        }
    }

    // POST: api/Users
    public async Task<User?> CreateUserAsync(UserInputDto input)
    {
        try
        {
            await AddAuthorizationHeader();
            var response = await _httpClient.PostAsJsonAsync("api/Users", input, _serializerOptions);
            response.EnsureSuccessStatusCode();
            return await response.Content.ReadFromJsonAsync<User>(_serializerOptions);
        }
        catch
        {
            throw;
        }
    }

    // PUT: api/Users/{id}
    public async Task<User?> UpdateUserAsync(int id, UserInputDto input)
    {
        try
        {
            await AddAuthorizationHeader();
            var response = await _httpClient.PutAsJsonAsync($"api/Users/{id}", input, _serializerOptions);
            response.EnsureSuccessStatusCode();
            return await response.Content.ReadFromJsonAsync<User>(_serializerOptions);
        }
        catch
        {
            throw;
        }
    }

    // DELETE: api/Users/{id}
    public async Task<bool> DeleteUserAsync(int id)
    {
        try
        {
            await AddAuthorizationHeader();
            var response = await _httpClient.DeleteAsync($"api/Users/{id}");
            return response.IsSuccessStatusCode;
        }
        catch
        {
            return false;
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/wwwroot/js/localStorage.js">
// LocalStorage JS Interop functions
window.localStorageHelper = {
    setItem: function (key, value) {
        localStorage.setItem(key, value);
    },
    getItem: function (key) {
        return localStorage.getItem(key);
    },
    removeItem: function (key) {
        localStorage.removeItem(key);
    },
    clear: function () {
        localStorage.clear();
    }
};
</file>

<file path="MegaMarket.Data/Data/MegaMarketDbContext.cs">
using Microsoft.EntityFrameworkCore;
using MegaMarket.Data.Models;

namespace MegaMarket.Data.Data;

public class MegaMarketDbContext : DbContext
{
    public MegaMarketDbContext(DbContextOptions<MegaMarketDbContext> options) : base(options)
    {
    }

    // DbSets
    public DbSet<User> Users { get; set; }
    public DbSet<Customer> Customers { get; set; }
    public DbSet<Supplier> Suppliers { get; set; }
    public DbSet<ShiftType> ShiftTypes { get; set; }
    public DbSet<Product> Products { get; set; }
    public DbSet<Import> Imports { get; set; }
    public DbSet<ImportDetail> ImportDetails { get; set; }
    public DbSet<OrderRequest> OrderRequests { get; set; }
    public DbSet<Promotion> Promotions { get; set; }
    public DbSet<PromotionProduct> PromotionProducts { get; set; }
    public DbSet<Invoice> Invoices { get; set; }
    public DbSet<InvoiceDetail> InvoiceDetails { get; set; }
    public DbSet<Reward> Rewards { get; set; }
    public DbSet<CustomerReward> CustomerRewards { get; set; }
    public DbSet<PointTransaction> PointTransactions { get; set; }
    public DbSet<Attendance> Attendances { get; set; }

    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        base.OnModelCreating(modelBuilder);

        // Configure composite keys for junction tables
        modelBuilder.Entity<ImportDetail>()
            .HasKey(id => new { id.ImportId, id.ProductId });

        modelBuilder.Entity<InvoiceDetail>()
            .HasKey(id => new { id.InvoiceId, id.ProductId });

        modelBuilder.Entity<PromotionProduct>()
            .HasKey(pp => new { pp.PromotionId, pp.ProductId });

        // User relationships
        modelBuilder.Entity<User>()
            .HasMany(u => u.Imports)
            .WithOne(i => i.User)
            .HasForeignKey(i => i.UserId)
            .OnDelete(DeleteBehavior.Restrict);

        modelBuilder.Entity<User>()
            .HasMany(u => u.Invoices)
            .WithOne(i => i.User)
            .HasForeignKey(i => i.UserId)
            .OnDelete(DeleteBehavior.Restrict);

        modelBuilder.Entity<User>()
            .HasMany(u => u.Attendances)
            .WithOne(a => a.User)
            .HasForeignKey(a => a.UserId)
            .OnDelete(DeleteBehavior.Cascade);

        // Customer relationships
        modelBuilder.Entity<Customer>()
            .HasMany(c => c.Invoices)
            .WithOne(i => i.Customer)
            .HasForeignKey(i => i.CustomerId)
            .OnDelete(DeleteBehavior.SetNull);

        modelBuilder.Entity<Customer>()
            .HasMany(c => c.CustomerRewards)
            .WithOne(cr => cr.Customer)
            .HasForeignKey(cr => cr.CustomerId)
            .OnDelete(DeleteBehavior.Cascade);

        modelBuilder.Entity<Customer>()
            .HasMany(c => c.PointTransactions)
            .WithOne(pt => pt.Customer)
            .HasForeignKey(pt => pt.CustomerId)
            .OnDelete(DeleteBehavior.Cascade);

        // Supplier relationships
        modelBuilder.Entity<Supplier>()
            .HasMany(s => s.Imports)
            .WithOne(i => i.Supplier)
            .HasForeignKey(i => i.SupplierId)
            .OnDelete(DeleteBehavior.Restrict);

        // ShiftType relationships
        modelBuilder.Entity<ShiftType>()
            .HasMany(st => st.Attendances)
            .WithOne(a => a.ShiftType)
            .HasForeignKey(a => a.ShiftTypeId)
            .OnDelete(DeleteBehavior.Restrict);

        // Product relationships
        modelBuilder.Entity<Product>()
            .HasMany(p => p.ImportDetails)
            .WithOne(id => id.Product)
            .HasForeignKey(id => id.ProductId)
            .OnDelete(DeleteBehavior.Restrict);

        modelBuilder.Entity<Product>()
            .HasMany(p => p.InvoiceDetails)
            .WithOne(id => id.Product)
            .HasForeignKey(id => id.ProductId)
            .OnDelete(DeleteBehavior.Restrict);

        modelBuilder.Entity<Product>()
            .HasMany(p => p.OrderRequests)
            .WithOne(or => or.Product)
            .HasForeignKey(or => or.ProductId)
            .OnDelete(DeleteBehavior.Cascade);

        modelBuilder.Entity<Product>()
            .HasMany(p => p.PromotionProducts)
            .WithOne(pp => pp.Product)
            .HasForeignKey(pp => pp.ProductId)
            .OnDelete(DeleteBehavior.Cascade);

        // Import relationships
        modelBuilder.Entity<Import>()
            .HasMany(i => i.ImportDetails)
            .WithOne(id => id.Import)
            .HasForeignKey(id => id.ImportId)
            .OnDelete(DeleteBehavior.Cascade);

        // Invoice relationships
        modelBuilder.Entity<Invoice>()
            .HasMany(i => i.InvoiceDetails)
            .WithOne(id => id.Invoice)
            .HasForeignKey(id => id.InvoiceId)
            .OnDelete(DeleteBehavior.Cascade);

        modelBuilder.Entity<Invoice>()
            .HasMany(i => i.PointTransactions)
            .WithOne(pt => pt.Invoice)
            .HasForeignKey(pt => pt.InvoiceId)
            .OnDelete(DeleteBehavior.SetNull);

        modelBuilder.Entity<Invoice>()
            .HasOne(i => i.Promotion)
            .WithMany(p => p.Invoices)
            .HasForeignKey(i => i.PromotionId)
            .OnDelete(DeleteBehavior.SetNull);

        // Promotion relationships
        modelBuilder.Entity<Promotion>()
            .HasMany(p => p.InvoiceDetails)
            .WithOne(id => id.Promotion)
            .HasForeignKey(id => id.PromotionId)
            .OnDelete(DeleteBehavior.SetNull);

        modelBuilder.Entity<Promotion>()
            .HasMany(p => p.PromotionProducts)
            .WithOne(pp => pp.Promotion)
            .HasForeignKey(pp => pp.PromotionId)
            .OnDelete(DeleteBehavior.Cascade);

        // Reward relationships
        modelBuilder.Entity<Reward>()
            .HasMany(r => r.CustomerRewards)
            .WithOne(cr => cr.Reward)
            .HasForeignKey(cr => cr.RewardId)
            .OnDelete(DeleteBehavior.Restrict);

        // CustomerReward relationships
        modelBuilder.Entity<CustomerReward>()
            .HasOne(cr => cr.Invoice)
            .WithMany()
            .HasForeignKey(cr => cr.InvoiceId)
            .OnDelete(DeleteBehavior.SetNull);

        // Indexes for better performance
        modelBuilder.Entity<Product>()
            .HasIndex(p => p.Barcode)
            .IsUnique();

        modelBuilder.Entity<User>()
            .HasIndex(u => u.Username)
            .IsUnique();

        modelBuilder.Entity<Customer>()
            .HasIndex(c => c.Phone);

        modelBuilder.Entity<Invoice>()
            .HasIndex(i => i.CreatedAt);

        modelBuilder.Entity<Import>()
            .HasIndex(i => i.ImportDate);

        modelBuilder.Entity<Attendance>()
            .HasIndex(a => new { a.UserId, a.Date });

        // Dashboard-specific indexes for better query performance
        modelBuilder.Entity<Invoice>()
            .HasIndex(i => i.Status);

        modelBuilder.Entity<Product>()
            .HasIndex(p => new { p.QuantityInStock, p.MinQuantity });

        modelBuilder.Entity<Product>()
            .HasIndex(p => new { p.IsPerishable, p.ExpiryDate });

        modelBuilder.Entity<Product>()
            .HasIndex(p => p.Category);

        modelBuilder.Entity<PointTransaction>()
            .HasIndex(pt => new { pt.CustomerId, pt.CreatedAt, pt.TransactionType });
    }
}
</file>

<file path="MegaMarket.Data/Data/MegaMarketDbContextFactory.cs">
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Design;
using Microsoft.Extensions.Configuration;

namespace MegaMarket.Data.Data
{
    public class DesignTimeDbContextFactory : IDesignTimeDbContextFactory<MegaMarketDbContext>
    {
        public MegaMarketDbContext CreateDbContext(string[] args)
        {
            var builder = new DbContextOptionsBuilder<MegaMarketDbContext>();

            var environmentName = Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT") ?? "Development";
            var basePath = FindAppSettingsBasePath();

            var configuration = new ConfigurationBuilder()
                .SetBasePath(basePath)
                .AddJsonFile("appsettings.json", optional: false)
                .AddJsonFile($"appsettings.{environmentName}.json", optional: true)
                .Build();

            var connectionString = configuration.GetConnectionString("DefaultConnection");
            if (string.IsNullOrWhiteSpace(connectionString))
                throw new InvalidOperationException("Connection string 'DefaultConnection' was not found.");

            builder.UseSqlServer(connectionString, x => x.MigrationsAssembly("MegaMarket.Data"));

            return new MegaMarketDbContext(builder.Options);
        }

        private static string FindAppSettingsBasePath()
        {
            var current = Directory.GetCurrentDirectory();
            while (!string.IsNullOrWhiteSpace(current))
            {
                var apiDir = Path.Combine(current, "MegaMarket.API");
                if (File.Exists(Path.Combine(apiDir, "appsettings.json")))
                    return apiDir;

                if (File.Exists(Path.Combine(current, "appsettings.json")))
                    return current;

                current = Directory.GetParent(current)?.FullName;
            }

            return Directory.GetCurrentDirectory();
        }
    }
}
</file>

<file path="MegaMarket.Data/MegaMarket.Data.csproj">
<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net8.0</TargetFramework>
    <ImplicitUsings>enable</ImplicitUsings>
    <Nullable>enable</Nullable>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Microsoft.EntityFrameworkCore" Version="8.0.21" />
    <PackageReference Include="Microsoft.EntityFrameworkCore.Design" Version="8.0.21">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
    </PackageReference>
    <PackageReference Include="Microsoft.EntityFrameworkCore.SqlServer" Version="8.0.21" />
    <PackageReference Include="Microsoft.EntityFrameworkCore.Tools" Version="8.0.21">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
    </PackageReference>
    <PackageReference Include="Microsoft.Extensions.Configuration" Version="8.0.0" />
    <PackageReference Include="Microsoft.Extensions.Configuration.Json" Version="8.0.1" />
  </ItemGroup>

  <ItemGroup>
    <Folder Include="Models\" />
  </ItemGroup>

</Project>
</file>

<file path="MegaMarket.Data/Models/Customer.cs">
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace MegaMarket.Data.Models;

public class Customer
{
    [Key]
    [Column("customer_id")]
    public int CustomerId { get; set; }

    [Required]
    [StringLength(100)]
    [Column("full_name")]
    public string? FullName { get; set; }

    [StringLength(15)]
    [Column("phone")]
    public string? Phone { get; set; }

    [StringLength(100)]
    [Column("email")]
    public string? Email { get; set; }

    [Column("points")]
    public int Points { get; set; } = 0;

    [StringLength(20)]
    [Column("rank")]
    public string Rank { get; set; } = "Silver"; // Silver / Gold / Platinum

    // Navigation properties
    public ICollection<Invoice> Invoices { get; set; } = new List<Invoice>();
    public ICollection<CustomerReward> CustomerRewards { get; set; } = new List<CustomerReward>();
    public ICollection<PointTransaction> PointTransactions { get; set; } = new List<PointTransaction>();
}
</file>

<file path="MegaMarket.Data/Models/Product.cs">
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace MegaMarket.Data.Models;

public class Product
{
    [Key]
    [Column("product_id")]
    public int ProductId { get; set; }

    [Required]
    [StringLength(100)]
    [Column("barcode")]
    public string Barcode { get; set; } = string.Empty;

    [Required]
    [StringLength(200)]
    [Column("name")]
    public string Name { get; set; } = string.Empty;

    [StringLength(100)]
    [Column("category")]
    public string? Category { get; set; }

    [Column("unit_price", TypeName = "decimal(10,2)")]
    public decimal UnitPrice { get; set; }



    [Column("quantity_in_stock")]
    public int QuantityInStock { get; set; } = 0;

    [Column("min_quantity")]
    public int MinQuantity { get; set; } = 0;

    [Column("expiry_date")]
    public DateTime? ExpiryDate { get; set; }

    [Column("is_perishable")]
    public bool IsPerishable { get; set; } = false;

    // NEW
    [StringLength(500)]
    [Column("image_url")]
    public string? ImageUrl { get; set; }

    [StringLength(50)]
    [Column("unit_label")]
    public string? UnitLabel { get; set; }

    [Column("original_price", TypeName = "decimal(10,2)")]
    public decimal? OriginalPrice { get; set; }

    [Column("discount_percent")]
    public int? DiscountPercent { get; set; }



    public ICollection<ImportDetail> ImportDetails { get; set; } = new List<ImportDetail>();
    public ICollection<InvoiceDetail> InvoiceDetails { get; set; } = new List<InvoiceDetail>();
    public ICollection<OrderRequest> OrderRequests { get; set; } = new List<OrderRequest>();
    public ICollection<PromotionProduct> PromotionProducts { get; set; } = new List<PromotionProduct>();
}
</file>

<file path="MegaMarket.Data/Models/Promotion.cs">
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace MegaMarket.Data.Models;

public class Promotion
{
    [Key]
    [Column("promotion_id")]
    public int PromotionId { get; set; }

    [Required]
    [StringLength(200)]
    [Column("name")]
    public string Name { get; set; } = string.Empty;

    [Column("description")]
    public string? Description { get; set; }

    [StringLength(20)]
    [Column("discount_type")]
    public string DiscountType { get; set; } = "percent"; // percent / fixed

    [Column("discount_value", TypeName = "decimal(10,2)")]
    public decimal DiscountValue { get; set; }

    [Column("start_date")]
    public DateTime StartDate { get; set; } = DateTime.Today;

    [Column("end_date")]
    public DateTime EndDate { get; set; } = DateTime.Today.AddDays(7);

    [StringLength(50)]
    [Column("type")]
    public string Type { get; set; } = "invoice"; // invoice / product / promotion

    // Navigation properties
    public ICollection<Invoice> Invoices { get; set; } = new List<Invoice>();
    public ICollection<InvoiceDetail> InvoiceDetails { get; set; } = new List<InvoiceDetail>();
    public ICollection<PromotionProduct> PromotionProducts { get; set; } = new List<PromotionProduct>();
}
</file>

<file path="MegaMarket.Data/Repositories/Implementations/InvoiceRepository.cs">
using MegaMarket.Data.DataAccess;
using MegaMarket.Data.Models;
using MegaMarket.Data.Repositories.Interfaces;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace MegaMarket.Data.Repositories.Implementations
{
    public class InvoiceRepository : IInvoiceRepository
    {
        private readonly InvoiceDAO _invoiceDAO;
        public InvoiceRepository(InvoiceDAO invoiceDAO)
        {
            _invoiceDAO = invoiceDAO;
        }
        public Task<List<Invoice>> GetAllInvoices() => _invoiceDAO.GetAllInvoices();
        public Task<Invoice> SaveInvoice(Invoice i) => _invoiceDAO.SaveInvoice(i);
    }
}
</file>

<file path="MegaMarket.Data/Repositories/Interfaces/IInvoiceRepository.cs">
using MegaMarket.Data.Models;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace MegaMarket.Data.Repositories.Interfaces
{
    public interface IInvoiceRepository
    {
        Task<Invoice> SaveInvoice(Invoice i);
        Task<List<Invoice>> GetAllInvoices();
    }
}
</file>

<file path="MegaMarket.Data/Repositories/IReportRepository.cs">
using MegaMarket.Data.Models;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace MegaMarket.Data.Repositories
{
    public interface IReportRepository
    {
        // Retrieves the top customers based on their total spending.
        Task<IEnumerable<Customer>> GetTopCustomersAsync(int limit);

        // Get top rewards that have been redeemed the most
        Task<IEnumerable<(int RewardId, string RewardName, string RewardType, int TotalRedeemed)>> GetTopRewardsAsync(int limit);

        // Get summary of points: total earned, redeemed, adjusted
        Task<IEnumerable<(string TransactionType, int TotalPoints)>> GetPointsSummaryAsync();
    }
}
</file>

<file path="MegaMarket.Data/Repositories/IRewardRepository.cs">
using MegaMarket.Data.Models;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
namespace MegaMarket.Data.Repositories
{
    public interface IRewardRepository
    {
        // get all rewards are active
        Task<IEnumerable<Reward>> GetAllRewardsAsync();

        // get a rewards 
        Task<Reward?> GetRewardByIdAsync(int rewardId);

        // create reward
        Task<Reward> CreateRewardAsync(Reward reward);

        // update information of the reward
        Task<Reward?> UpdateRewardAsync(Reward reward);

        // delete soft reward ( is_active = 0 )
        Task<bool> DeleteRewardAsync(int rewardId);
    }
}
</file>

<file path="MegaMarket.Data/Repositories/ReportRepository.cs">
using MegaMarket.Data.Data;
using MegaMarket.Data.Models;
using Microsoft.EntityFrameworkCore;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace MegaMarket.Data.Repositories
{
    public class ReportRepository : IReportRepository
    {
        private readonly MegaMarketDbContext _context;
        public ReportRepository(MegaMarketDbContext context)
        {
            _context = context;
        }

        // Get top N customers by points
        public async Task<IEnumerable<Customer>> GetTopCustomersAsync(int limit)
        {
            return await _context.Customers
                .OrderByDescending(c => c.Points)
                .Take(limit)
                .ToListAsync();
        }

        // Get top rewards that have been redeemed the most
        public async Task<IEnumerable<(int RewardId, string RewardName, string RewardType, int TotalRedeemed)>> GetTopRewardsAsync(int limit)
        {
            var result = await _context.CustomerRewards
                .Include(cr => cr.Reward)
                .GroupBy(cr => cr.RewardId)
                .Select(g => new
                {
                    RewardId = g.Key,
                    RewardName = g.First().Reward.Name,
                    RewardType = g.First().Reward.RewardType,
                    TotalRedeemed = g.Count()
                })
                .OrderByDescending(x => x.TotalRedeemed)
                .Take(limit)
                .ToListAsync();

            return result.Select(x => (x.RewardId, x.RewardName, x.RewardType, x.TotalRedeemed));
        }

        // Get summary of points: total earned, redeemed, adjusted by transaction type
        public async Task<IEnumerable<(string TransactionType, int TotalPoints)>> GetPointsSummaryAsync()
        {
            var result = await _context.PointTransactions
                .GroupBy(pt => pt.TransactionType)
                .Select(g => new
                {
                    TransactionType = g.Key,
                    TotalPoints = g.Sum(pt => pt.PointChange)
                })
                .ToListAsync();

            return result.Select(x => (x.TransactionType, x.TotalPoints));
        }
    }
}
</file>

<file path="MegaMarket.Data/Repositories/RewardRepository.cs">
using MegaMarket.Data.Data;
using MegaMarket.Data.Models;
using Microsoft.EntityFrameworkCore;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace MegaMarket.Data.Repositories
{
    public class RewardRepository : IRewardRepository
    {
        private readonly MegaMarketDbContext _context;
        public RewardRepository(MegaMarketDbContext context)
        {
            _context = context;
        }

        // get all rewards are active
        public async Task<IEnumerable<Reward>> GetAllRewardsAsync()
        {
            return await _context.Rewards.AsQueryable().Where(rw => rw.IsActive == true).ToListAsync();
        }

        // get a reward by id
        public async Task<Reward?> GetRewardByIdAsync(int rewardId)
        {
            var reward = await _context.Rewards.FindAsync(rewardId);
            if (reward == null)
            {
                return null;
            }
            return reward;
        }

        // create a reward 
        public async Task<Reward> CreateRewardAsync(Reward reward)
        {
            try
            {
                // add reward in db
                _context.Add(reward);
                await _context.SaveChangesAsync();
                return reward;
            }
            catch (Exception ex)
            {
                // log error 
                throw new Exception($"Error when adding reward in repository: {ex.Message}");
            }
        }

        // update reward
        public async Task<Reward?> UpdateRewardAsync(Reward reward)
        {
            try
            {
                // get reward in db
                var reward_exist = await _context.Rewards.FindAsync(reward.RewardId);
                if (reward_exist == null)
                {
                    return null;
                }

                // save changes in customer
                reward_exist.Name = reward.Name;
                reward_exist.Description = reward.Description;
                reward_exist.RewardType = reward.RewardType;
                reward_exist.PointCost = reward.PointCost;
                reward_exist.Value = reward.Value;
                reward_exist.QuantityAvailable = reward.QuantityAvailable;

                // save in db
                await _context.SaveChangesAsync();
                return reward_exist;
            }
            catch (Exception ex)
            {
                throw new Exception($"Error when updating reward in repository: {ex.Message}");
            }
        }

        // delete soft reward ( is_active = 0 )
        public async Task<bool> DeleteRewardAsync(int rewardId)
        {
            var reward = await _context.Rewards.FindAsync(rewardId);
            if(reward == null)
            {
                return false;
            }
            reward.IsActive = false;
            await _context.SaveChangesAsync();
            return true;
        }
    }
}
</file>

<file path="MegaMarket.sln">
Microsoft Visual Studio Solution File, Format Version 12.00
# Visual Studio Version 17
VisualStudioVersion = 17.14.36414.22
MinimumVisualStudioVersion = 10.0.40219.1
Project("{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}") = "MegaMarket.API", "MegaMarket.API\MegaMarket.API.csproj", "{27F515B5-6578-4D82-8CA7-9DDEDCA2B6FD}"
EndProject
Project("{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}") = "MegaMarket.BlazorUI", "MegaMarket.BlazorUI\MegaMarket.BlazorUI.csproj", "{3D5CD325-9002-4668-975B-229099778322}"
EndProject
Project("{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}") = "MegaMarket.Data", "MegaMarket.Data\MegaMarket.Data.csproj", "{2F390B2F-3FE2-4FF6-B3E4-301C78727E36}"
EndProject
Global
	GlobalSection(SolutionConfigurationPlatforms) = preSolution
		Debug|Any CPU = Debug|Any CPU
		Release|Any CPU = Release|Any CPU
	EndGlobalSection
	GlobalSection(ProjectConfigurationPlatforms) = postSolution
		{27F515B5-6578-4D82-8CA7-9DDEDCA2B6FD}.Debug|Any CPU.ActiveCfg = Debug|Any CPU
		{27F515B5-6578-4D82-8CA7-9DDEDCA2B6FD}.Debug|Any CPU.Build.0 = Debug|Any CPU
		{27F515B5-6578-4D82-8CA7-9DDEDCA2B6FD}.Release|Any CPU.ActiveCfg = Release|Any CPU
		{27F515B5-6578-4D82-8CA7-9DDEDCA2B6FD}.Release|Any CPU.Build.0 = Release|Any CPU
		{3D5CD325-9002-4668-975B-229099778322}.Debug|Any CPU.ActiveCfg = Debug|Any CPU
		{3D5CD325-9002-4668-975B-229099778322}.Debug|Any CPU.Build.0 = Debug|Any CPU
		{3D5CD325-9002-4668-975B-229099778322}.Release|Any CPU.ActiveCfg = Release|Any CPU
		{3D5CD325-9002-4668-975B-229099778322}.Release|Any CPU.Build.0 = Release|Any CPU
		{2F390B2F-3FE2-4FF6-B3E4-301C78727E36}.Debug|Any CPU.ActiveCfg = Debug|Any CPU
		{2F390B2F-3FE2-4FF6-B3E4-301C78727E36}.Debug|Any CPU.Build.0 = Debug|Any CPU
		{2F390B2F-3FE2-4FF6-B3E4-301C78727E36}.Release|Any CPU.ActiveCfg = Release|Any CPU
		{2F390B2F-3FE2-4FF6-B3E4-301C78727E36}.Release|Any CPU.Build.0 = Release|Any CPU
	EndGlobalSection
	GlobalSection(SolutionProperties) = preSolution
		HideSolutionNode = FALSE
	EndGlobalSection
	GlobalSection(ExtensibilityGlobals) = postSolution
		SolutionGuid = {8C89C995-D812-4533-8300-6A8FF0755A3E}
	EndGlobalSection
EndGlobal
</file>

<file path="MegaMarket.Tests/GlobalUsings.cs">
global using Xunit;
global using FluentAssertions;
global using System.Net;
global using System.Net.Http.Json;
global using Microsoft.AspNetCore.Mvc.Testing;
global using Microsoft.EntityFrameworkCore;
global using Microsoft.Extensions.DependencyInjection;
global using MegaMarket.Data.Data;
global using MegaMarket.Data.Models;
global using MegaMarket.Tests.Fixtures;
</file>

<file path="MegaMarket.Tests/Helpers/TestAuthHandler.cs">
using Microsoft.AspNetCore.Authentication;
using Microsoft.Extensions.Logging;
using Microsoft.Extensions.Options;
using System.Security.Claims;
using System.Text.Encodings.Web;

namespace MegaMarket.Tests.Helpers;

public class TestAuthHandler : AuthenticationHandler<AuthenticationSchemeOptions>
{
    public const string SchemeName = "TestScheme";

    public TestAuthHandler(
        IOptionsMonitor<AuthenticationSchemeOptions> options,
        ILoggerFactory logger,
        UrlEncoder encoder)
        : base(options, logger, encoder)
    {
    }

    protected override Task<AuthenticateResult> HandleAuthenticateAsync()
    {
        // Create claims for a test admin user
        var claims = new[]
        {
            new Claim(ClaimTypes.NameIdentifier, "1"),
            new Claim(ClaimTypes.Name, "admin"),
            new Claim(ClaimTypes.Role, "Admin")
        };

        var identity = new ClaimsIdentity(claims, SchemeName);
        var principal = new ClaimsPrincipal(identity);
        var ticket = new AuthenticationTicket(principal, SchemeName);

        return Task.FromResult(AuthenticateResult.Success(ticket));
    }
}
</file>

<file path="MegaMarket.Tests/Integration/Controllers/Attendance/AttendanceControllerTests.cs">
using MegaMarket.Data.Models;
using MegaMarket.API.DTOs;

namespace MegaMarket.Tests.Integration.Controllers.Attendance;

public class AttendanceControllerTests : IClassFixture<TestServerFixture>
{
    private readonly HttpClient _client;
    private readonly TestServerFixture _factory;

    public AttendanceControllerTests(TestServerFixture factory)
    {
        _factory = factory;
        _client = factory.CreateClient();
    }

    [Fact]
    public async Task GetAllAttendances_ReturnsSuccess_WithListOfAttendances()
    {
        // Act
        var response = await _client.GetAsync("/api/Attendance");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var attendances = await response.Content.ReadFromJsonAsync<List<MegaMarket.Data.Models.Attendance>>();
        attendances.Should().NotBeNull();
        attendances.Should().HaveCountGreaterThan(0);
    }

    [Fact]
    public async Task GetAttendance_ExistingId_ReturnsAttendance()
    {
        // Arrange
        var attendanceId = 1;

        // Act
        var response = await _client.GetAsync($"/api/Attendance/{attendanceId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var attendance = await response.Content.ReadFromJsonAsync<MegaMarket.Data.Models.Attendance>();
        attendance.Should().NotBeNull();
        attendance!.AttendanceId.Should().Be(attendanceId);
    }

    [Fact]
    public async Task GetAttendance_NonExistingId_ReturnsNotFound()
    {
        // Arrange
        var attendanceId = 99999;

        // Act
        var response = await _client.GetAsync($"/api/Attendance/{attendanceId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task GetAttendancesByUser_ExistingUserId_ReturnsAttendances()
    {
        // Arrange
        var userId = 1;

        // Act
        var response = await _client.GetAsync($"/api/Attendance/user/{userId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var attendances = await response.Content.ReadFromJsonAsync<List<MegaMarket.Data.Models.Attendance>>();
        attendances.Should().NotBeNull();
        attendances!.All(a => a.UserId == userId).Should().BeTrue();
    }

    [Fact]
    public async Task GetAttendancesByDate_ExistingDate_ReturnsAttendances()
    {
        // Arrange
        var date = DateTime.Today;

        // Act
        var response = await _client.GetAsync($"/api/Attendance/date/{date:yyyy-MM-dd}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var attendances = await response.Content.ReadFromJsonAsync<List<MegaMarket.Data.Models.Attendance>>();
        attendances.Should().NotBeNull();
    }

    [Fact]
    public async Task CreateAttendance_ValidData_ReturnsCreated()
    {
        // Arrange
        var newAttendance = new AttendanceInputDto
        {
            UserId = 1,
            ShiftTypeId = 1,
            Date = DateTime.Today.AddDays(1)
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/Attendance", newAttendance);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.Created);
        var createdAttendance = await response.Content.ReadFromJsonAsync<MegaMarket.Data.Models.Attendance>();
        createdAttendance.Should().NotBeNull();
        createdAttendance!.UserId.Should().Be(newAttendance.UserId);
        createdAttendance.ShiftTypeId.Should().Be(newAttendance.ShiftTypeId);
        createdAttendance.Date.Date.Should().Be(newAttendance.Date.Date);

        // Verify Location header contains attendance ID
        response.Headers.Location.Should().NotBeNull();
        response.Headers.Location!.ToString().Should().Contain(createdAttendance.AttendanceId.ToString());
    }

    [Fact]
    public async Task CreateAttendance_DuplicateUserAndDate_ReturnsBadRequest()
    {
        // Arrange - First create an attendance record
        var newAttendance = new AttendanceInputDto
        {
            UserId = 1,
            ShiftTypeId = 1,
            Date = DateTime.Today.AddDays(2)
        };
        await _client.PostAsJsonAsync("/api/Attendance", newAttendance);

        // Try to create another attendance for the same user and date
        var duplicateAttendance = new AttendanceInputDto
        {
            UserId = 1,
            ShiftTypeId = 2,
            Date = DateTime.Today.AddDays(2)
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/Attendance", duplicateAttendance);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.BadRequest);
    }

    [Fact]
    public async Task CheckIn_ValidData_ReturnsSuccess()
    {
        // Arrange - Create an attendance record first
        var attendance = new AttendanceInputDto
        {
            UserId = 1,
            ShiftTypeId = 1,
            Date = DateTime.Today.AddDays(3)
        };
        await _client.PostAsJsonAsync("/api/Attendance", attendance);

        var checkInDto = new CheckInOutDto
        {
            UserId = 1,
            Date = DateTime.Today.AddDays(3)
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/Attendance/check-in", checkInDto);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var checkedInAttendance = await response.Content.ReadFromJsonAsync<MegaMarket.Data.Models.Attendance>();
        checkedInAttendance.Should().NotBeNull();
        checkedInAttendance!.CheckIn.Should().NotBeNull();
    }

    [Fact]
    public async Task CheckOut_AfterCheckIn_ReturnsSuccess()
    {
        // Arrange - Create attendance and check in
        var attendance = new AttendanceInputDto
        {
            UserId = 1,
            ShiftTypeId = 1,
            Date = DateTime.Today.AddDays(4)
        };
        await _client.PostAsJsonAsync("/api/Attendance", attendance);

        var checkInDto = new CheckInOutDto
        {
            UserId = 1,
            Date = DateTime.Today.AddDays(4)
        };
        await _client.PostAsJsonAsync("/api/Attendance/check-in", checkInDto);

        var checkOutDto = new CheckInOutDto
        {
            UserId = 1,
            Date = DateTime.Today.AddDays(4)
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/Attendance/check-out", checkOutDto);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var checkedOutAttendance = await response.Content.ReadFromJsonAsync<MegaMarket.Data.Models.Attendance>();
        checkedOutAttendance.Should().NotBeNull();
        checkedOutAttendance!.CheckIn.Should().NotBeNull();
        checkedOutAttendance.CheckOut.Should().NotBeNull();
        checkedOutAttendance.CheckOut.Should().BeAfter(checkedOutAttendance.CheckIn!.Value);
    }

    [Fact]
    public async Task CheckOut_WithoutCheckIn_ReturnsBadRequest()
    {
        // Arrange - Create attendance without checking in
        var attendance = new AttendanceInputDto
        {
            UserId = 1,
            ShiftTypeId = 1,
            Date = DateTime.Today.AddDays(5)
        };
        await _client.PostAsJsonAsync("/api/Attendance", attendance);

        var checkOutDto = new CheckInOutDto
        {
            UserId = 1,
            Date = DateTime.Today.AddDays(5)
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/Attendance/check-out", checkOutDto);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.BadRequest);
    }

    [Fact]
    public async Task UpdateAttendance_ValidData_ReturnsSuccess()
    {
        // Arrange - Create an attendance to update
        var newAttendance = new AttendanceInputDto
        {
            UserId = 1,
            ShiftTypeId = 1,
            Date = DateTime.Today.AddDays(6)
        };
        var createResponse = await _client.PostAsJsonAsync("/api/Attendance", newAttendance);
        var createdAttendance = await createResponse.Content.ReadFromJsonAsync<MegaMarket.Data.Models.Attendance>();

        var updateDto = new AttendanceInputDto
        {
            UserId = 1,
            ShiftTypeId = 2,
            Date = DateTime.Today.AddDays(6),
            Note = "Updated note"
        };

        // Act
        var response = await _client.PutAsJsonAsync($"/api/Attendance/{createdAttendance!.AttendanceId}", updateDto);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var updatedAttendance = await response.Content.ReadFromJsonAsync<MegaMarket.Data.Models.Attendance>();
        updatedAttendance.Should().NotBeNull();
        updatedAttendance!.ShiftTypeId.Should().Be(updateDto.ShiftTypeId);
        updatedAttendance.Note.Should().Be(updateDto.Note);
    }

    [Fact]
    public async Task UpdateAttendance_NonExistingId_ReturnsBadRequest()
    {
        // Arrange
        var attendanceId = 99999;
        var updateDto = new AttendanceInputDto
        {
            UserId = 1,
            ShiftTypeId = 1,
            Date = DateTime.Today
        };

        // Act
        var response = await _client.PutAsJsonAsync($"/api/Attendance/{attendanceId}", updateDto);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.BadRequest);
    }

    [Fact]
    public async Task DeleteAttendance_ExistingId_ReturnsSuccess()
    {
        // Arrange - Create an attendance to delete
        var newAttendance = new AttendanceInputDto
        {
            UserId = 1,
            ShiftTypeId = 1,
            Date = DateTime.Today.AddDays(7)
        };
        var createResponse = await _client.PostAsJsonAsync("/api/Attendance", newAttendance);
        var createdAttendance = await createResponse.Content.ReadFromJsonAsync<MegaMarket.Data.Models.Attendance>();

        // Act
        var response = await _client.DeleteAsync($"/api/Attendance/{createdAttendance!.AttendanceId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var message = await response.Content.ReadAsStringAsync();
        message.Should().Contain("deleted successfully");

        // Verify attendance is deleted
        var getResponse = await _client.GetAsync($"/api/Attendance/{createdAttendance.AttendanceId}");
        getResponse.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task DeleteAttendance_NonExistingId_ReturnsNotFound()
    {
        // Arrange
        var attendanceId = 99999;

        // Act
        var response = await _client.DeleteAsync($"/api/Attendance/{attendanceId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task CheckIn_TwiceOnSameDay_ReturnsBadRequest()
    {
        // Arrange - Create attendance and check in once
        var attendance = new AttendanceInputDto
        {
            UserId = 1,
            ShiftTypeId = 1,
            Date = DateTime.Today.AddDays(8)
        };
        await _client.PostAsJsonAsync("/api/Attendance", attendance);

        var checkInDto = new CheckInOutDto
        {
            UserId = 1,
            Date = DateTime.Today.AddDays(8)
        };
        await _client.PostAsJsonAsync("/api/Attendance/check-in", checkInDto);

        // Act - Try to check in again
        var response = await _client.PostAsJsonAsync("/api/Attendance/check-in", checkInDto);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.BadRequest);
    }
}
</file>

<file path="MegaMarket.Tests/Integration/Controllers/ShiftTypes/ShiftTypesControllerTests.cs">
using MegaMarket.Data.Models;
using MegaMarket.API.DTOs;

namespace MegaMarket.Tests.Integration.Controllers.ShiftTypes;

public class ShiftTypesControllerTests : IClassFixture<TestServerFixture>
{
    private readonly HttpClient _client;
    private readonly TestServerFixture _factory;

    public ShiftTypesControllerTests(TestServerFixture factory)
    {
        _factory = factory;
        _client = factory.CreateClient();
    }

    [Fact]
    public async Task GetAllShiftTypes_ReturnsSuccess_WithListOfShiftTypes()
    {
        // Act
        var response = await _client.GetAsync("/api/ShiftTypes");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var shiftTypes = await response.Content.ReadFromJsonAsync<List<ShiftType>>();
        shiftTypes.Should().NotBeNull();
        shiftTypes.Should().HaveCountGreaterThan(0);
        shiftTypes.Should().Contain(s => s.Name == "Morning Shift");
    }

    [Fact]
    public async Task GetShiftType_ExistingId_ReturnsShiftType()
    {
        // Arrange
        var shiftTypeId = 1;

        // Act
        var response = await _client.GetAsync($"/api/ShiftTypes/{shiftTypeId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var shiftType = await response.Content.ReadFromJsonAsync<ShiftType>();
        shiftType.Should().NotBeNull();
        shiftType!.ShiftTypeId.Should().Be(shiftTypeId);
        shiftType.Name.Should().Be("Morning Shift");
    }

    [Fact]
    public async Task GetShiftType_NonExistingId_ReturnsNotFound()
    {
        // Arrange
        var shiftTypeId = 99999;

        // Act
        var response = await _client.GetAsync($"/api/ShiftTypes/{shiftTypeId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task GetShiftTypeByName_ExistingName_ReturnsShiftType()
    {
        // Arrange
        var shiftName = "Morning Shift";

        // Act
        var response = await _client.GetAsync($"/api/ShiftTypes/name/{shiftName}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var shiftType = await response.Content.ReadFromJsonAsync<ShiftType>();
        shiftType.Should().NotBeNull();
        shiftType!.Name.Should().Be(shiftName);
    }

    [Fact]
    public async Task GetShiftTypeByName_NonExistingName_ReturnsNotFound()
    {
        // Arrange
        var shiftName = "NonExistentShift";

        // Act
        var response = await _client.GetAsync($"/api/ShiftTypes/name/{shiftName}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task CreateShiftType_ValidData_ReturnsCreated()
    {
        // Arrange
        var newShiftType = new ShiftTypeInputDto
        {
            Name = "Evening Shift",
            StartTime = new TimeSpan(18, 0, 0),  // 6:00 PM
            EndTime = new TimeSpan(23, 0, 0),     // 11:00 PM
            WagePerHour = 50000
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/ShiftTypes", newShiftType);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.Created);
        var createdShiftType = await response.Content.ReadFromJsonAsync<ShiftType>();
        createdShiftType.Should().NotBeNull();
        createdShiftType!.Name.Should().Be(newShiftType.Name);
        createdShiftType.StartTime.Should().Be(newShiftType.StartTime);
        createdShiftType.EndTime.Should().Be(newShiftType.EndTime);
        createdShiftType.WagePerHour.Should().Be(newShiftType.WagePerHour);

        // Verify Location header contains shift type ID
        response.Headers.Location.Should().NotBeNull();
        response.Headers.Location!.ToString().Should().Contain(createdShiftType.ShiftTypeId.ToString());
    }

    [Fact]
    public async Task CreateShiftType_DuplicateName_ReturnsBadRequest()
    {
        // Arrange
        var duplicateShiftType = new ShiftTypeInputDto
        {
            Name = "Morning Shift", // Name already exists
            StartTime = new TimeSpan(8, 0, 0),
            EndTime = new TimeSpan(17, 0, 0),
            WagePerHour = 40000
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/ShiftTypes", duplicateShiftType);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.BadRequest);
    }

    [Fact]
    public async Task UpdateShiftType_ValidData_ReturnsSuccess()
    {
        // Arrange - First create a shift type to update
        var newShiftType = new ShiftTypeInputDto
        {
            Name = "Shift To Update",
            StartTime = new TimeSpan(9, 0, 0),
            EndTime = new TimeSpan(18, 0, 0),
            WagePerHour = 45000
        };
        var createResponse = await _client.PostAsJsonAsync("/api/ShiftTypes", newShiftType);
        var createdShiftType = await createResponse.Content.ReadFromJsonAsync<ShiftType>();

        var updateDto = new ShiftTypeInputDto
        {
            Name = "Updated Shift Name",
            StartTime = new TimeSpan(10, 0, 0),
            EndTime = new TimeSpan(19, 0, 0),
            WagePerHour = 55000
        };

        // Act
        var response = await _client.PutAsJsonAsync($"/api/ShiftTypes/{createdShiftType!.ShiftTypeId}", updateDto);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var updatedShiftType = await response.Content.ReadFromJsonAsync<ShiftType>();
        updatedShiftType.Should().NotBeNull();
        updatedShiftType!.Name.Should().Be(updateDto.Name);
        updatedShiftType.StartTime.Should().Be(updateDto.StartTime);
        updatedShiftType.EndTime.Should().Be(updateDto.EndTime);
        updatedShiftType.WagePerHour.Should().Be(updateDto.WagePerHour);
    }

    [Fact]
    public async Task UpdateShiftType_NonExistingId_ReturnsBadRequest()
    {
        // Arrange
        var shiftTypeId = 99999;
        var updateDto = new ShiftTypeInputDto
        {
            Name = "Non Existing Shift",
            StartTime = new TimeSpan(8, 0, 0),
            EndTime = new TimeSpan(17, 0, 0),
            WagePerHour = 40000
        };

        // Act
        var response = await _client.PutAsJsonAsync($"/api/ShiftTypes/{shiftTypeId}", updateDto);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.BadRequest);
    }

    [Fact]
    public async Task DeleteShiftType_ExistingId_ReturnsSuccess()
    {
        // Arrange - Create a shift type to delete
        var newShiftType = new ShiftTypeInputDto
        {
            Name = "Shift To Delete",
            StartTime = new TimeSpan(8, 0, 0),
            EndTime = new TimeSpan(17, 0, 0),
            WagePerHour = 40000
        };
        var createResponse = await _client.PostAsJsonAsync("/api/ShiftTypes", newShiftType);
        var createdShiftType = await createResponse.Content.ReadFromJsonAsync<ShiftType>();

        // Act
        var response = await _client.DeleteAsync($"/api/ShiftTypes/{createdShiftType!.ShiftTypeId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var message = await response.Content.ReadAsStringAsync();
        message.Should().Contain("deleted successfully");

        // Verify shift type is deleted
        var getResponse = await _client.GetAsync($"/api/ShiftTypes/{createdShiftType.ShiftTypeId}");
        getResponse.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task DeleteShiftType_NonExistingId_ReturnsNotFound()
    {
        // Arrange
        var shiftTypeId = 99999;

        // Act
        var response = await _client.DeleteAsync($"/api/ShiftTypes/{shiftTypeId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }
}
</file>

<file path="MegaMarket.Tests/Integration/Controllers/Users/UsersControllerTests.cs">
using MegaMarket.Data.Models;
using MegaMarket.API.DTOs;

namespace MegaMarket.Tests.Integration.Controllers.Users;

public class UsersControllerTests : IClassFixture<TestServerFixture>
{
    private readonly HttpClient _client;
    private readonly TestServerFixture _factory;

    public UsersControllerTests(TestServerFixture factory)
    {
        _factory = factory;
        _client = factory.CreateClient();
    }

    [Fact]
    public async Task GetAllUsers_ReturnsSuccess_WithListOfUsers()
    {
        // Act
        var response = await _client.GetAsync("/api/Users");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var users = await response.Content.ReadFromJsonAsync<List<User>>();
        users.Should().NotBeNull();
        users.Should().HaveCountGreaterThan(0);
        users.Should().Contain(u => u.Username == "admin");
    }

    [Fact]
    public async Task GetUser_ExistingId_ReturnsUser()
    {
        // Arrange
        var userId = 1;

        // Act
        var response = await _client.GetAsync($"/api/Users/{userId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var user = await response.Content.ReadFromJsonAsync<User>();
        user.Should().NotBeNull();
        user!.UserId.Should().Be(userId);
        user.Username.Should().Be("admin");
    }

    [Fact]
    public async Task GetUser_NonExistingId_ReturnsNotFound()
    {
        // Arrange
        var userId = 99999;

        // Act
        var response = await _client.GetAsync($"/api/Users/{userId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task GetUserByUsername_ExistingUsername_ReturnsUser()
    {
        // Arrange
        var username = "admin";

        // Act
        var response = await _client.GetAsync($"/api/Users/username/{username}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var user = await response.Content.ReadFromJsonAsync<User>();
        user.Should().NotBeNull();
        user!.Username.Should().Be(username);
    }

    [Fact]
    public async Task GetUserByUsername_NonExistingUsername_ReturnsNotFound()
    {
        // Arrange
        var username = "nonexistentuser";

        // Act
        var response = await _client.GetAsync($"/api/Users/username/{username}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task CreateUser_ValidData_ReturnsCreated()
    {
        // Arrange
        var newUser = new UserInputDto
        {
            FullName = "Test Employee",
            Username = "test.employee",
            Password = "TestPassword123!",
            Role = "Employee",
            Phone = "0909123456",
            Email = "test.employee@example.com"
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/Users", newUser);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.Created);
        var createdUser = await response.Content.ReadFromJsonAsync<User>();
        createdUser.Should().NotBeNull();
        createdUser!.FullName.Should().Be(newUser.FullName);
        createdUser.Username.Should().Be(newUser.Username);
        createdUser.Role.Should().Be(newUser.Role);
        createdUser.Phone.Should().Be(newUser.Phone);
        createdUser.Email.Should().Be(newUser.Email);

        // Verify Location header contains user ID
        response.Headers.Location.Should().NotBeNull();
        response.Headers.Location!.ToString().Should().Contain(createdUser.UserId.ToString());
    }

    [Fact]
    public async Task CreateUser_DuplicateUsername_ReturnsBadRequest()
    {
        // Arrange
        var duplicateUser = new UserInputDto
        {
            FullName = "Duplicate User",
            Username = "admin", // Username already exists
            Password = "Password123!",
            Role = "Employee"
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/Users", duplicateUser);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.BadRequest);
    }

    [Fact]
    public async Task UpdateUser_ValidData_ReturnsSuccess()
    {
        // Arrange - First create a user to update
        var newUser = new UserInputDto
        {
            FullName = "User To Update",
            Username = "user.update",
            Password = "Password123!",
            Role = "Employee"
        };
        var createResponse = await _client.PostAsJsonAsync("/api/Users", newUser);
        var createdUser = await createResponse.Content.ReadFromJsonAsync<User>();

        var updateDto = new UserInputDto
        {
            FullName = "Updated User Name",
            Username = "user.update",
            Password = "NewPassword123!",
            Role = "Employee",
            Phone = "0901234567",
            Email = "updated@example.com"
        };

        // Act
        var response = await _client.PutAsJsonAsync($"/api/Users/{createdUser!.UserId}", updateDto);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var updatedUser = await response.Content.ReadFromJsonAsync<User>();
        updatedUser.Should().NotBeNull();
        updatedUser!.FullName.Should().Be(updateDto.FullName);
        updatedUser.Phone.Should().Be(updateDto.Phone);
        updatedUser.Email.Should().Be(updateDto.Email);
    }

    [Fact]
    public async Task UpdateUser_NonExistingId_ReturnsBadRequest()
    {
        // Arrange
        var userId = 99999;
        var updateDto = new UserInputDto
        {
            FullName = "Non Existing User",
            Username = "nonexistent",
            Password = "Password123!",
            Role = "Employee"
        };

        // Act
        var response = await _client.PutAsJsonAsync($"/api/Users/{userId}", updateDto);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.BadRequest);
    }

    [Fact]
    public async Task DeleteUser_ExistingId_ReturnsSuccess()
    {
        // Arrange - Create a user to delete
        var newUser = new UserInputDto
        {
            FullName = "User To Delete",
            Username = "user.delete",
            Password = "Password123!",
            Role = "Employee"
        };
        var createResponse = await _client.PostAsJsonAsync("/api/Users", newUser);
        var createdUser = await createResponse.Content.ReadFromJsonAsync<User>();

        // Act
        var response = await _client.DeleteAsync($"/api/Users/{createdUser!.UserId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var message = await response.Content.ReadAsStringAsync();
        message.Should().Contain("deleted successfully");

        // Verify user is deleted
        var getResponse = await _client.GetAsync($"/api/Users/{createdUser.UserId}");
        getResponse.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task DeleteUser_NonExistingId_ReturnsNotFound()
    {
        // Arrange
        var userId = 99999;

        // Act
        var response = await _client.DeleteAsync($"/api/Users/{userId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }
}
</file>

<file path="MegaMarket.Tests/MegaMarket.Tests.csproj">
<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net8.0</TargetFramework>
    <ImplicitUsings>enable</ImplicitUsings>
    <Nullable>enable</Nullable>
    <IsPackable>false</IsPackable>
    <IsTestProject>true</IsTestProject>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="coverlet.collector" Version="6.0.0">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
    </PackageReference>
    <PackageReference Include="FluentAssertions" Version="6.12.0" />
    <PackageReference Include="Microsoft.AspNetCore.Mvc.Testing" Version="8.0.0" />
    <PackageReference Include="Microsoft.EntityFrameworkCore.InMemory" Version="8.0.21" />
    <PackageReference Include="Microsoft.NET.Test.Sdk" Version="17.8.0" />
    <PackageReference Include="xunit" Version="2.6.2" />
    <PackageReference Include="xunit.runner.visualstudio" Version="2.5.4">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
    </PackageReference>
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\MegaMarket.API\MegaMarket.API.csproj" />
    <ProjectReference Include="..\MegaMarket.Data\MegaMarket.Data.csproj" />
  </ItemGroup>

  <ItemGroup>
    <Using Include="Xunit" />
  </ItemGroup>

</Project>
</file>

<file path="MegaMarket_Setup.sql">
-- =============================================
-- MegaMarket Database Setup Script
-- Generated from EF Core Models and Migrations
-- SQL Server Database
-- =============================================

USE master;
GO

-- Drop database if exists
IF EXISTS (SELECT name FROM sys.databases WHERE name = 'MegaMarket')
BEGIN
    ALTER DATABASE MegaMarket SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
    DROP DATABASE MegaMarket;
END
GO

-- Create database
CREATE DATABASE MegaMarket;
GO

USE MegaMarket;
GO

-- =============================================
-- CREATE TABLES
-- =============================================

-- Users Table
CREATE TABLE Users (
    user_id INT IDENTITY(1,1) PRIMARY KEY,
    full_name NVARCHAR(100) NOT NULL,
    username NVARCHAR(50) NOT NULL,
    password NVARCHAR(255) NOT NULL,
    role NVARCHAR(20) NOT NULL DEFAULT 'Employee',
    phone NVARCHAR(15) NULL,
    email NVARCHAR(100) NULL,
    CONSTRAINT UQ_Users_Username UNIQUE (username)
);

-- ShiftTypes Table
CREATE TABLE ShiftTypes (
    shift_type_id INT IDENTITY(1,1) PRIMARY KEY,
    name NVARCHAR(50) NOT NULL,
    start_time TIME NOT NULL,
    end_time TIME NOT NULL,
    wage_per_hour DECIMAL(10,2) NOT NULL
);

-- Attendances Table
CREATE TABLE Attendances (
    attendance_id INT IDENTITY(1,1) PRIMARY KEY,
    user_id INT NOT NULL,
    shift_type_id INT NOT NULL,
    date DATETIME2 NOT NULL,
    check_in DATETIME2 NULL,
    check_out DATETIME2 NULL,
    is_late BIT NOT NULL DEFAULT 0,
    note NVARCHAR(MAX) NULL,
    CONSTRAINT FK_Attendances_Users FOREIGN KEY (user_id)
        REFERENCES Users(user_id) ON DELETE CASCADE,
    CONSTRAINT FK_Attendances_ShiftTypes FOREIGN KEY (shift_type_id)
        REFERENCES ShiftTypes(shift_type_id) ON DELETE NO ACTION
);

-- Suppliers Table
CREATE TABLE Suppliers (
    supplier_id INT IDENTITY(1,1) PRIMARY KEY,
    name NVARCHAR(200) NOT NULL,
    address NVARCHAR(255) NULL,
    email NVARCHAR(100) NULL,
    phone NVARCHAR(15) NULL
);

-- Products Table
CREATE TABLE Products (
    product_id INT IDENTITY(1,1) PRIMARY KEY,
    barcode NVARCHAR(100) NOT NULL,
    name NVARCHAR(200) NOT NULL,
    category NVARCHAR(100) NULL,
    unit_price DECIMAL(10,2) NOT NULL,
    quantity_in_stock INT NOT NULL DEFAULT 0,
    min_quantity INT NOT NULL DEFAULT 0,
    expiry_date DATETIME2 NULL,
    is_perishable BIT NOT NULL DEFAULT 0,
    image_url NVARCHAR(500) NULL,
    unit_label NVARCHAR(50) NULL,
    original_price DECIMAL(10,2) NULL,
    discount_percent INT NULL,
    CONSTRAINT UQ_Products_Barcode UNIQUE (barcode)
);

-- Imports Table
CREATE TABLE Imports (
    import_id INT IDENTITY(1,1) PRIMARY KEY,
    user_id INT NOT NULL,
    supplier_id INT NOT NULL,
    import_date DATETIME2 NOT NULL,
    total_cost DECIMAL(12,2) NOT NULL,
    status NVARCHAR(20) NOT NULL DEFAULT 'Pending',
    CONSTRAINT FK_Imports_Users FOREIGN KEY (user_id)
        REFERENCES Users(user_id) ON DELETE NO ACTION,
    CONSTRAINT FK_Imports_Suppliers FOREIGN KEY (supplier_id)
        REFERENCES Suppliers(supplier_id) ON DELETE NO ACTION
);

-- ImportDetails Table
CREATE TABLE ImportDetails (
    import_id INT NOT NULL,
    product_id INT NOT NULL,
    quantity INT NOT NULL,
    unit_price DECIMAL(10,2) NOT NULL,
    expiry_date DATETIME2 NULL,
    PRIMARY KEY (import_id, product_id),
    CONSTRAINT FK_ImportDetails_Imports FOREIGN KEY (import_id)
        REFERENCES Imports(import_id) ON DELETE CASCADE,
    CONSTRAINT FK_ImportDetails_Products FOREIGN KEY (product_id)
        REFERENCES Products(product_id) ON DELETE NO ACTION
);

-- Customers Table
CREATE TABLE Customers (
    customer_id INT IDENTITY(1,1) PRIMARY KEY,
    full_name NVARCHAR(100) NOT NULL,
    phone NVARCHAR(15) NULL,
    email NVARCHAR(100) NULL,
    points INT NOT NULL DEFAULT 0,
    rank NVARCHAR(20) NOT NULL DEFAULT 'Silver'
);

-- Promotions Table
CREATE TABLE Promotions (
    promotion_id INT IDENTITY(1,1) PRIMARY KEY,
    name NVARCHAR(200) NOT NULL,
    description NVARCHAR(MAX) NULL,
    discount_type NVARCHAR(20) NOT NULL DEFAULT 'percent',
    discount_value DECIMAL(10,2) NOT NULL,
    start_date DATETIME2 NOT NULL,
    end_date DATETIME2 NOT NULL,
    type NVARCHAR(50) NOT NULL DEFAULT 'invoice'
);

-- PromotionProducts Table (Many-to-Many)
CREATE TABLE PromotionProducts (
    promotion_id INT NOT NULL,
    product_id INT NOT NULL,
    PRIMARY KEY (promotion_id, product_id),
    CONSTRAINT FK_PromotionProducts_Promotions FOREIGN KEY (promotion_id)
        REFERENCES Promotions(promotion_id) ON DELETE CASCADE,
    CONSTRAINT FK_PromotionProducts_Products FOREIGN KEY (product_id)
        REFERENCES Products(product_id) ON DELETE CASCADE
);

-- Invoices Table
CREATE TABLE Invoices (
    invoice_id INT IDENTITY(1,1) PRIMARY KEY,
    user_id INT NOT NULL,
    customer_id INT NULL,
    created_at DATETIME2 NOT NULL,
    total_before_discount DECIMAL(12,2) NOT NULL,
    total_amount DECIMAL(12,2) NOT NULL,
    payment_method NVARCHAR(50) NOT NULL DEFAULT 'cash',
    received_amount DECIMAL(12,2) NOT NULL,
    change_amount DECIMAL(12,2) NOT NULL,
    status NVARCHAR(20) NOT NULL DEFAULT 'Pending',
    promotion_id INT NULL,
    CONSTRAINT FK_Invoices_Users FOREIGN KEY (user_id)
        REFERENCES Users(user_id) ON DELETE NO ACTION,
    CONSTRAINT FK_Invoices_Customers FOREIGN KEY (customer_id)
        REFERENCES Customers(customer_id) ON DELETE SET NULL,
    CONSTRAINT FK_Invoices_Promotions FOREIGN KEY (promotion_id)
        REFERENCES Promotions(promotion_id) ON DELETE SET NULL
);

-- InvoiceDetails Table
CREATE TABLE InvoiceDetails (
    invoice_id INT NOT NULL,
    product_id INT NOT NULL,
    quantity INT NOT NULL,
    unit_price DECIMAL(10,2) NOT NULL,
    discount_per_unit DECIMAL(10,2) NOT NULL DEFAULT 0,
    promotion_id INT NULL,
    PRIMARY KEY (invoice_id, product_id),
    CONSTRAINT FK_InvoiceDetails_Invoices FOREIGN KEY (invoice_id)
        REFERENCES Invoices(invoice_id) ON DELETE CASCADE,
    CONSTRAINT FK_InvoiceDetails_Products FOREIGN KEY (product_id)
        REFERENCES Products(product_id) ON DELETE NO ACTION,
    CONSTRAINT FK_InvoiceDetails_Promotions FOREIGN KEY (promotion_id)
        REFERENCES Promotions(promotion_id) ON DELETE SET NULL
);

-- Rewards Table
CREATE TABLE Rewards (
    reward_id INT IDENTITY(1,1) PRIMARY KEY,
    name NVARCHAR(200) NOT NULL,
    description NVARCHAR(MAX) NULL,
    point_cost INT NOT NULL,
    reward_type NVARCHAR(20) NOT NULL DEFAULT 'Gift',
    value DECIMAL(10,2) NULL,
    quantity_available INT NOT NULL,
    is_active BIT NOT NULL DEFAULT 1
);

-- CustomerRewards Table
CREATE TABLE CustomerRewards (
    redemption_id INT IDENTITY(1,1) PRIMARY KEY,
    customer_id INT NOT NULL,
    reward_id INT NOT NULL,
    invoice_id INT NULL,
    redeemed_at DATETIME2 NOT NULL,
    status NVARCHAR(20) NOT NULL DEFAULT 'Pending',
    used_at DATETIME2 NULL,
    CONSTRAINT FK_CustomerRewards_Customers FOREIGN KEY (customer_id)
        REFERENCES Customers(customer_id) ON DELETE CASCADE,
    CONSTRAINT FK_CustomerRewards_Rewards FOREIGN KEY (reward_id)
        REFERENCES Rewards(reward_id) ON DELETE NO ACTION,
    CONSTRAINT FK_CustomerRewards_Invoices FOREIGN KEY (invoice_id)
        REFERENCES Invoices(invoice_id) ON DELETE SET NULL
);

-- PointTransactions Table
CREATE TABLE PointTransactions (
    transaction_id INT IDENTITY(1,1) PRIMARY KEY,
    invoice_id INT NULL,
    customer_id INT NOT NULL,
    point_change INT NOT NULL,
    transaction_type NVARCHAR(50) NOT NULL DEFAULT 'Earn',
    created_at DATETIME2 NOT NULL,
    description NVARCHAR(MAX) NULL,
    CONSTRAINT FK_PointTransactions_Invoices FOREIGN KEY (invoice_id)
        REFERENCES Invoices(invoice_id) ON DELETE SET NULL,
    CONSTRAINT FK_PointTransactions_Customers FOREIGN KEY (customer_id)
        REFERENCES Customers(customer_id) ON DELETE CASCADE
);

-- OrderRequests Table
CREATE TABLE OrderRequests (
    order_id INT IDENTITY(1,1) PRIMARY KEY,
    product_id INT NOT NULL,
    requested_quantity INT NOT NULL,
    request_date DATETIME2 NOT NULL,
    status NVARCHAR(20) NOT NULL DEFAULT 'Pending',
    CONSTRAINT FK_OrderRequests_Products FOREIGN KEY (product_id)
        REFERENCES Products(product_id) ON DELETE CASCADE
);

GO

-- =============================================
-- CREATE INDEXES
-- =============================================

-- Users Indexes
CREATE UNIQUE INDEX IX_Users_Username ON Users(username);

-- Attendances Indexes
CREATE INDEX IX_Attendances_ShiftTypeId ON Attendances(shift_type_id);
CREATE INDEX IX_Attendances_UserId_Date ON Attendances(user_id, date);

-- Products Indexes
CREATE UNIQUE INDEX IX_Products_Barcode ON Products(barcode);
CREATE INDEX IX_Products_Category ON Products(category);
CREATE INDEX IX_Products_IsPerishable_ExpiryDate ON Products(is_perishable, expiry_date);
CREATE INDEX IX_Products_QuantityInStock_MinQuantity ON Products(quantity_in_stock, min_quantity);

-- Imports Indexes
CREATE INDEX IX_Imports_ImportDate ON Imports(import_date);
CREATE INDEX IX_Imports_SupplierId ON Imports(supplier_id);
CREATE INDEX IX_Imports_UserId ON Imports(user_id);

-- ImportDetails Indexes
CREATE INDEX IX_ImportDetails_ProductId ON ImportDetails(product_id);

-- Customers Indexes
CREATE INDEX IX_Customers_Phone ON Customers(phone);

-- Invoices Indexes
CREATE INDEX IX_Invoices_CreatedAt ON Invoices(created_at);
CREATE INDEX IX_Invoices_CustomerId ON Invoices(customer_id);
CREATE INDEX IX_Invoices_PromotionId ON Invoices(promotion_id);
CREATE INDEX IX_Invoices_Status ON Invoices(status);
CREATE INDEX IX_Invoices_UserId ON Invoices(user_id);

-- InvoiceDetails Indexes
CREATE INDEX IX_InvoiceDetails_ProductId ON InvoiceDetails(product_id);
CREATE INDEX IX_InvoiceDetails_PromotionId ON InvoiceDetails(promotion_id);

-- CustomerRewards Indexes
CREATE INDEX IX_CustomerRewards_CustomerId ON CustomerRewards(customer_id);
CREATE INDEX IX_CustomerRewards_InvoiceId ON CustomerRewards(invoice_id);
CREATE INDEX IX_CustomerRewards_RewardId ON CustomerRewards(reward_id);

-- PointTransactions Indexes
CREATE INDEX IX_PointTransactions_InvoiceId ON PointTransactions(invoice_id);
CREATE INDEX IX_PointTransactions_CustomerId_CreatedAt_TransactionType
    ON PointTransactions(customer_id, created_at, transaction_type);

-- OrderRequests Indexes
CREATE INDEX IX_OrderRequests_ProductId ON OrderRequests(product_id);

-- PromotionProducts Indexes
CREATE INDEX IX_PromotionProducts_ProductId ON PromotionProducts(product_id);

GO

-- =============================================
-- SEED DATA
-- =============================================

PRINT 'Seeding Users...';

-- Insert Users (4 roles: Admin, Manager, Cashier, Warehouse)
-- Note: Passwords are BCrypt hashed for "Password123!"
INSERT INTO Users (full_name, username, password, role, email, phone) VALUES
('Admin User', 'admin', '$2a$12$dXVEhDlHpyOvZ8hgHfwKJeX3tfKp1KUi.q1eIP43AmSmYhLpdj.w.', 'Admin', 'admin@megamarket.com', '0901234567'),
('John Manager', 'john.manager', '$2a$12$dXVEhDlHpyOvZ8hgHfwKJeX3tfKp1KUi.q1eIP43AmSmYhLpdj.w.', 'Manager', 'john@megamarket.com', '0907654321'),
('Sarah Cashier', 'sarah.cashier', '$2a$12$dXVEhDlHpyOvZ8hgHfwKJeX3tfKp1KUi.q1eIP43AmSmYhLpdj.w.', 'Cashier', 'sarah@megamarket.com', '0912345678'),
('Mike Warehouse', 'mike.warehouse', '$2a$12$dXVEhDlHpyOvZ8hgHfwKJeX3tfKp1KUi.q1eIP43AmSmYhLpdj.w.', 'Warehouse', 'mike@megamarket.com', '0923456789');

PRINT 'Seeding ShiftTypes...';

-- Insert ShiftTypes
INSERT INTO ShiftTypes (name, start_time, end_time, wage_per_hour) VALUES
('Morning Shift', '06:00:00', '14:00:00', 40000),
('Afternoon Shift', '14:00:00', '22:00:00', 45000),
('Night Shift', '22:00:00', '06:00:00', 55000),
('Full Day', '08:00:00', '17:00:00', 42000);

PRINT 'Seeding Attendances...';

-- Insert Attendances (sample data for last 7 days)
DECLARE @AdminUserId INT = (SELECT user_id FROM Users WHERE username = 'admin');
DECLARE @ManagerUserId INT = (SELECT user_id FROM Users WHERE username = 'john.manager');
DECLARE @CashierUserId INT = (SELECT user_id FROM Users WHERE username = 'sarah.cashier');
DECLARE @WarehouseUserId INT = (SELECT user_id FROM Users WHERE username = 'mike.warehouse');

DECLARE @MorningShiftId INT = (SELECT shift_type_id FROM ShiftTypes WHERE name = 'Morning Shift');
DECLARE @AfternoonShiftId INT = (SELECT shift_type_id FROM ShiftTypes WHERE name = 'Afternoon Shift');
DECLARE @FullDayShiftId INT = (SELECT shift_type_id FROM ShiftTypes WHERE name = 'Full Day');

-- Admin attendances (last 7 days)
INSERT INTO Attendances (user_id, shift_type_id, date, check_in, check_out, is_late, note)
SELECT
    @AdminUserId,
    @FullDayShiftId,
    CAST(DATEADD(DAY, -number, GETDATE()) AS DATE),
    DATEADD(MINUTE, CASE WHEN number % 2 = 0 THEN 0 ELSE 5 END, DATEADD(HOUR, 8, DATEADD(DAY, -number, GETDATE()))),
    DATEADD(MINUTE, CASE WHEN number % 2 = 0 THEN 0 ELSE 10 END, DATEADD(HOUR, 17, DATEADD(DAY, -number, GETDATE()))),
    CASE WHEN number % 2 = 0 THEN 0 ELSE 1 END,
    CASE WHEN number % 2 = 0 THEN 'On time' ELSE 'Late check-in' END
FROM (SELECT 1 AS number UNION SELECT 2 UNION SELECT 3 UNION SELECT 4 UNION SELECT 5 UNION SELECT 6 UNION SELECT 7) AS Numbers;

-- Manager attendances (last 5 days)
INSERT INTO Attendances (user_id, shift_type_id, date, check_in, check_out, is_late, note)
SELECT
    @ManagerUserId,
    @MorningShiftId,
    CAST(DATEADD(DAY, -number, GETDATE()) AS DATE),
    DATEADD(HOUR, 6, DATEADD(DAY, -number, GETDATE())),
    DATEADD(HOUR, 14, DATEADD(DAY, -number, GETDATE())),
    0,
    'Regular shift'
FROM (SELECT 1 AS number UNION SELECT 2 UNION SELECT 3 UNION SELECT 4 UNION SELECT 5) AS Numbers;

-- Cashier attendances (last 3 days)
INSERT INTO Attendances (user_id, shift_type_id, date, check_in, check_out, is_late, note)
SELECT
    @CashierUserId,
    @AfternoonShiftId,
    CAST(DATEADD(DAY, -number, GETDATE()) AS DATE),
    DATEADD(MINUTE, CASE WHEN number % 2 = 0 THEN 0 ELSE 5 END, DATEADD(HOUR, 14, DATEADD(DAY, -number, GETDATE()))),
    DATEADD(HOUR, 22, DATEADD(DAY, -number, GETDATE())),
    CASE WHEN number % 2 = 0 THEN 0 ELSE 1 END,
    CASE WHEN number % 2 = 0 THEN 'On time' ELSE 'Traffic delay' END
FROM (SELECT 1 AS number UNION SELECT 2 UNION SELECT 3) AS Numbers;

-- Warehouse attendances (last 4 days)
INSERT INTO Attendances (user_id, shift_type_id, date, check_in, check_out, is_late, note)
SELECT
    @WarehouseUserId,
    @FullDayShiftId,
    CAST(DATEADD(DAY, -number, GETDATE()) AS DATE),
    DATEADD(HOUR, 8, DATEADD(DAY, -number, GETDATE())),
    DATEADD(HOUR, 17, DATEADD(DAY, -number, GETDATE())),
    0,
    'Inventory check'
FROM (SELECT 1 AS number UNION SELECT 2 UNION SELECT 3 UNION SELECT 4) AS Numbers;

PRINT 'Seeding Suppliers...';

-- Insert Suppliers
INSERT INTO Suppliers (name, phone) VALUES
('Fresh Foods Co.', '555-1200'),
('Dairy Direct', '555-8831'),
('Global Groceries', '555-7412'),
('Premium Produce', '555-9102');

PRINT 'Seeding Products...';

-- Insert Products
INSERT INTO Products (barcode, name, category, unit_label, unit_price, quantity_in_stock, min_quantity, is_perishable, expiry_date) VALUES
('1110001110001', 'Organic Apples 1kg', 'Produce', 'Bag', 45000, 120, 30, 1, DATEADD(DAY, 10, CAST(GETDATE() AS DATE))),
('2220002220002', 'Whole Milk 1L', 'Dairy', 'Bottle', 18000, 220, 60, 1, DATEADD(DAY, 5, CAST(GETDATE() AS DATE))),
('3330003330003', 'Free Range Eggs 12ct', 'Dairy', 'Carton', 52000, 150, 40, 1, DATEADD(DAY, 2, CAST(GETDATE() AS DATE))),
('4440004440004', 'Roasted Coffee Beans 500g', 'Beverages', 'Bag', 95000, 80, 20, 0, NULL),
('5550005550005', 'Bottled Water 24x500ml', 'Beverages', 'Pack', 120000, 60, 15, 0, NULL);

PRINT 'Seeding Imports...';

-- Insert Imports
DECLARE @FreshFoodsId INT = (SELECT supplier_id FROM Suppliers WHERE name = 'Fresh Foods Co.');
DECLARE @DairyDirectId INT = (SELECT supplier_id FROM Suppliers WHERE name = 'Dairy Direct');
DECLARE @GlobalGroceriesId INT = (SELECT supplier_id FROM Suppliers WHERE name = 'Global Groceries');
DECLARE @PremiumProduceId INT = (SELECT supplier_id FROM Suppliers WHERE name = 'Premium Produce');

DECLARE @ApplesId INT = (SELECT product_id FROM Products WHERE barcode = '1110001110001');
DECLARE @MilkId INT = (SELECT product_id FROM Products WHERE barcode = '2220002220002');
DECLARE @EggsId INT = (SELECT product_id FROM Products WHERE barcode = '3330003330003');
DECLARE @CoffeeId INT = (SELECT product_id FROM Products WHERE barcode = '4440004440004');
DECLARE @WaterId INT = (SELECT product_id FROM Products WHERE barcode = '5550005550005');

-- Import 1: Fresh Foods Co. (Completed)
INSERT INTO Imports (user_id, supplier_id, import_date, total_cost, status)
VALUES (@AdminUserId, @FreshFoodsId, DATEADD(DAY, -8, CAST(GETDATE() AS DATE)), 6360000, 'Completed');

DECLARE @Import1Id INT = SCOPE_IDENTITY();

INSERT INTO ImportDetails (import_id, product_id, quantity, unit_price, expiry_date) VALUES
(@Import1Id, @ApplesId, 80, 42000, DATEADD(DAY, 12, CAST(GETDATE() AS DATE))),
(@Import1Id, @EggsId, 60, 50000, DATEADD(DAY, 5, CAST(GETDATE() AS DATE)));

-- Import 2: Dairy Direct (Completed)
INSERT INTO Imports (user_id, supplier_id, import_date, total_cost, status)
VALUES (@AdminUserId, @DairyDirectId, DATEADD(DAY, -3, CAST(GETDATE() AS DATE)), 2040000, 'Completed');

DECLARE @Import2Id INT = SCOPE_IDENTITY();

INSERT INTO ImportDetails (import_id, product_id, quantity, unit_price, expiry_date) VALUES
(@Import2Id, @MilkId, 120, 17000, DATEADD(DAY, 6, CAST(GETDATE() AS DATE)));

-- Import 3: Global Groceries (Draft)
INSERT INTO Imports (user_id, supplier_id, import_date, total_cost, status)
VALUES (@AdminUserId, @GlobalGroceriesId, DATEADD(DAY, -1, CAST(GETDATE() AS DATE)), 9100000, 'Draft');

DECLARE @Import3Id INT = SCOPE_IDENTITY();

INSERT INTO ImportDetails (import_id, product_id, quantity, unit_price, expiry_date) VALUES
(@Import3Id, @CoffeeId, 50, 90000, NULL),
(@Import3Id, @WaterId, 40, 115000, NULL);

-- Import 4: Premium Produce (Cancelled)
INSERT INTO Imports (user_id, supplier_id, import_date, total_cost, status)
VALUES (@AdminUserId, @PremiumProduceId, DATEADD(DAY, -15, CAST(GETDATE() AS DATE)), 1720000, 'Cancelled');

DECLARE @Import4Id INT = SCOPE_IDENTITY();

INSERT INTO ImportDetails (import_id, product_id, quantity, unit_price, expiry_date) VALUES
(@Import4Id, @ApplesId, 40, 43000, DATEADD(DAY, -1, CAST(GETDATE() AS DATE)));

PRINT 'Seeding Customers...';

-- Insert Customers
INSERT INTO Customers (full_name, phone, email, points, rank) VALUES
('Nguyen Van A', '0909123456', 'nguyenvana@email.com', 1250, 'Gold'),
('Tran Thi B', '0918765432', 'tranthib@email.com', 850, 'Silver'),
('Le Van C', '0987654321', 'levanc@email.com', 2500, 'Platinum'),
('Pham Thi D', '0976543210', 'phamthid@email.com', 450, 'Silver'),
('Hoang Van E', '0965432109', 'hoangvane@email.com', 150, 'Silver');

PRINT 'Seeding Promotions...';

-- Insert Promotions
INSERT INTO Promotions (name, description, discount_type, discount_value, start_date, end_date, type) VALUES
('Summer Sale 2024', 'Discount for all products in summer', 'percent', 15, DATEADD(DAY, -10, GETDATE()), DATEADD(DAY, 20, GETDATE()), 'product'),
('New Year Special', 'Special discount for new year shopping', 'percent', 20, DATEADD(DAY, -30, GETDATE()), DATEADD(DAY, -5, GETDATE()), 'invoice'),
('Weekend Deal', 'Fixed discount on weekends', 'fixed', 50000, DATEADD(DAY, -2, GETDATE()), DATEADD(DAY, 5, GETDATE()), 'invoice'),
('Dairy Products Promo', 'Special for dairy category', 'percent', 10, DATEADD(DAY, -5, GETDATE()), DATEADD(DAY, 25, GETDATE()), 'product');

DECLARE @SummerSaleId INT = (SELECT promotion_id FROM Promotions WHERE name = 'Summer Sale 2024');
DECLARE @DairyPromoId INT = (SELECT promotion_id FROM Promotions WHERE name = 'Dairy Products Promo');

-- Insert PromotionProducts
INSERT INTO PromotionProducts (promotion_id, product_id) VALUES
(@SummerSaleId, @ApplesId),
(@SummerSaleId, @CoffeeId),
(@DairyPromoId, @MilkId),
(@DairyPromoId, @EggsId);

PRINT 'Seeding Rewards...';

-- Insert Rewards
INSERT INTO Rewards (name, description, point_cost, reward_type, value, quantity_available, is_active) VALUES
('Free Coffee Voucher', 'Get a free coffee bag', 500, 'Voucher', 95000, 50, 1),
('10% Discount Coupon', '10% off on next purchase', 300, 'Discount', 0, 100, 1),
('Shopping Bag', 'Reusable shopping bag', 200, 'Gift', 0, 75, 1),
('50k Cash Voucher', '50,000 VND discount voucher', 800, 'Voucher', 50000, 30, 1),
('Premium Gift Set', 'Special gift set for loyal customers', 2000, 'Gift', 0, 20, 1);

PRINT 'Seeding Invoices and related data...';

-- Get customer IDs
DECLARE @Customer1Id INT = (SELECT TOP 1 customer_id FROM Customers WHERE full_name = 'Nguyen Van A');
DECLARE @Customer2Id INT = (SELECT TOP 1 customer_id FROM Customers WHERE full_name = 'Tran Thi B');
DECLARE @Customer3Id INT = (SELECT TOP 1 customer_id FROM Customers WHERE full_name = 'Le Van C');

DECLARE @WeekendDealId INT = (SELECT promotion_id FROM Promotions WHERE name = 'Weekend Deal');

-- Invoice 1: Customer purchase with promotion
INSERT INTO Invoices (user_id, customer_id, created_at, total_before_discount, total_amount, payment_method, received_amount, change_amount, status, promotion_id)
VALUES (@CashierUserId, @Customer1Id, DATEADD(DAY, -2, GETDATE()), 300000, 250000, 'cash', 300000, 50000, 'Paid', @WeekendDealId);

DECLARE @Invoice1Id INT = SCOPE_IDENTITY();

INSERT INTO InvoiceDetails (invoice_id, product_id, quantity, unit_price, discount_per_unit, promotion_id) VALUES
(@Invoice1Id, @ApplesId, 3, 45000, 0, NULL),
(@Invoice1Id, @MilkId, 5, 18000, 0, NULL),
(@Invoice1Id, @CoffeeId, 1, 95000, 0, NULL);

-- Invoice 2: Non-customer purchase
INSERT INTO Invoices (user_id, customer_id, created_at, total_before_discount, total_amount, payment_method, received_amount, change_amount, status, promotion_id)
VALUES (@CashierUserId, NULL, DATEADD(DAY, -1, GETDATE()), 156000, 156000, 'card', 156000, 0, 'Paid', NULL);

DECLARE @Invoice2Id INT = SCOPE_IDENTITY();

INSERT INTO InvoiceDetails (invoice_id, product_id, quantity, unit_price, discount_per_unit, promotion_id) VALUES
(@Invoice2Id, @EggsId, 2, 52000, 0, NULL),
(@Invoice2Id, @MilkId, 2, 18000, 0, NULL),
(@Invoice2Id, @WaterId, 1, 120000, 0, NULL);

-- Invoice 3: Customer purchase earning points
INSERT INTO Invoices (user_id, customer_id, created_at, total_before_discount, total_amount, payment_method, received_amount, change_amount, status, promotion_id)
VALUES (@CashierUserId, @Customer3Id, DATEADD(HOUR, -5, GETDATE()), 450000, 450000, 'bank_transfer', 450000, 0, 'Paid', NULL);

DECLARE @Invoice3Id INT = SCOPE_IDENTITY();

INSERT INTO InvoiceDetails (invoice_id, product_id, quantity, unit_price, discount_per_unit, promotion_id) VALUES
(@Invoice3Id, @CoffeeId, 2, 95000, 0, NULL),
(@Invoice3Id, @WaterId, 2, 120000, 0, NULL),
(@Invoice3Id, @ApplesId, 1, 45000, 0, NULL);

PRINT 'Seeding Point Transactions...';

-- Point Transactions (earning points from invoices)
INSERT INTO PointTransactions (invoice_id, customer_id, point_change, transaction_type, created_at, description) VALUES
(@Invoice1Id, @Customer1Id, 50, 'Earn', DATEADD(DAY, -2, GETDATE()), 'Points earned from purchase'),
(@Invoice3Id, @Customer3Id, 90, 'Earn', DATEADD(HOUR, -5, GETDATE()), 'Points earned from purchase'),
(NULL, @Customer2Id, -300, 'Redeem', DATEADD(DAY, -3, GETDATE()), 'Redeemed for 10% Discount Coupon');

PRINT 'Seeding Customer Rewards...';

-- Customer Rewards (redemptions)
DECLARE @Reward1Id INT = (SELECT reward_id FROM Rewards WHERE name = '10% Discount Coupon');
DECLARE @Reward2Id INT = (SELECT reward_id FROM Rewards WHERE name = 'Shopping Bag');

INSERT INTO CustomerRewards (customer_id, reward_id, invoice_id, redeemed_at, status, used_at) VALUES
(@Customer2Id, @Reward1Id, NULL, DATEADD(DAY, -3, GETDATE()), 'Claimed', NULL),
(@Customer1Id, @Reward2Id, @Invoice1Id, DATEADD(DAY, -2, GETDATE()), 'Used', DATEADD(DAY, -2, GETDATE()));

PRINT 'Seeding Order Requests...';

-- Order Requests (low stock items)
INSERT INTO OrderRequests (product_id, requested_quantity, request_date, status) VALUES
(@EggsId, 100, DATEADD(DAY, -1, GETDATE()), 'Pending'),
(@MilkId, 200, DATEADD(DAY, -2, GETDATE()), 'Ordered'),
(@ApplesId, 150, DATEADD(DAY, -5, GETDATE()), 'Received');

PRINT 'Database setup and seeding completed successfully!';
PRINT '';
PRINT 'Login credentials (password: Password123! for all):';
PRINT '  Admin:     username = admin';
PRINT '  Manager:   username = john.manager';
PRINT '  Cashier:   username = sarah.cashier';
PRINT '  Warehouse: username = mike.warehouse';

GO
</file>

<file path="MegaMarket.API/Controllers/AttendanceController.cs">
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Authorization;
using MegaMarket.API.Services;
using MegaMarket.API.DTOs;
using System.Security.Claims;

namespace MegaMarket.API.Controllers;

[Authorize]
[Route("api/[controller]")]
[ApiController]
public class AttendanceController : ControllerBase
{
    private readonly AttendanceService _attendanceService;

    public AttendanceController(AttendanceService attendanceService)
    {
        _attendanceService = attendanceService;
    }

    // GET: api/Attendance
    [HttpGet]
    [Authorize(Roles = "Admin,Manager")]
    public async Task<IActionResult> GetAttendances()
    {
        try
        {
            var attendances = await _attendanceService.GetAllAttendancesAsync();
            return Ok(attendances);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = $"Failed to load attendances: {ex.Message}" });
        }
    }

    // GET: api/Attendance/5
    [HttpGet("{id}")]
    public async Task<IActionResult> GetAttendance(int id)
    {
        try
        {
            var attendance = await _attendanceService.GetAttendanceByIdAsync(id);

            if (attendance == null)
            {
                return NotFound(new { message = "Attendance not found" });
            }

            var currentUserId = int.Parse(User.FindFirst(ClaimTypes.NameIdentifier)!.Value);
            var currentRole = User.FindFirst(ClaimTypes.Role)?.Value;

            // Access control: Admin and Manager can see all, Employee can only see their own
            if (currentRole != "Admin" && currentRole != "Manager" && attendance.UserId != currentUserId)
            {
                return Forbid();
            }

            return Ok(attendance);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = $"Failed to load attendance: {ex.Message}" });
        }
    }

    // GET: api/Attendance/user/5
    [HttpGet("user/{userId}")]
    public async Task<IActionResult> GetAttendancesByUser(int userId)
    {
        try
        {
            var currentUserId = int.Parse(User.FindFirst(ClaimTypes.NameIdentifier)!.Value);
            var currentRole = User.FindFirst(ClaimTypes.Role)?.Value;

            // Access control: Admin and Manager can see all, Employee can only see their own
            if (currentRole != "Admin" && currentRole != "Manager" && currentUserId != userId)
            {
                return Forbid();
            }

            var attendances = await _attendanceService.GetAttendancesByUserIdAsync(userId);
            return Ok(attendances);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = $"Failed to load attendances: {ex.Message}" });
        }
    }

    // GET: api/Attendance/date/2024-01-15
    [HttpGet("date/{date}")]
    [Authorize(Roles = "Admin,Manager")]
    public async Task<IActionResult> GetAttendancesByDate(DateTime date)
    {
        try
        {
            var attendances = await _attendanceService.GetAttendancesByDateAsync(date);
            return Ok(attendances);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = $"Failed to load attendances: {ex.Message}" });
        }
    }

    // POST: api/Attendance
    [HttpPost]
    public async Task<IActionResult> CreateAttendance([FromBody] AttendanceInputDto input)
    {
        try
        {
            var currentUserId = int.Parse(User.FindFirst(ClaimTypes.NameIdentifier)!.Value);
            var currentRole = User.FindFirst(ClaimTypes.Role)?.Value;

            // Access control: Admin and Manager can create for anyone, Employee can only create for themselves
            if (currentRole != "Admin" && currentRole != "Manager" && input.UserId != currentUserId)
            {
                return Forbid();
            }

            var attendance = await _attendanceService.CreateAttendanceAsync(input);
            return CreatedAtAction(nameof(GetAttendance), new { id = attendance.AttendanceId }, attendance);
        }
        catch (Exception ex)
        {
            return BadRequest(new { message = ex.Message });
        }
    }

    // POST: api/Attendance/check-in
    [HttpPost("check-in")]
    public async Task<IActionResult> CheckIn([FromBody] CheckInOutDto input)
    {
        try
        {
            var currentUserId = int.Parse(User.FindFirst(ClaimTypes.NameIdentifier)!.Value);
            var currentRole = User.FindFirst(ClaimTypes.Role)?.Value;

            // Access control: Admin and Manager can check-in for anyone, Employee can only check-in for themselves
            if (currentRole != "Admin" && currentRole != "Manager" && input.UserId != currentUserId)
            {
                return Forbid();
            }

            var attendance = await _attendanceService.CheckInAsync(input.UserId, input.Date);
            return Ok(attendance);
        }
        catch (Exception ex)
        {
            return BadRequest(new { message = ex.Message });
        }
    }

    // POST: api/Attendance/check-out
    [HttpPost("check-out")]
    public async Task<IActionResult> CheckOut([FromBody] CheckInOutDto input)
    {
        try
        {
            var currentUserId = int.Parse(User.FindFirst(ClaimTypes.NameIdentifier)!.Value);
            var currentRole = User.FindFirst(ClaimTypes.Role)?.Value;

            // Access control: Admin and Manager can check-out for anyone, Employee can only check-out for themselves
            if (currentRole != "Admin" && currentRole != "Manager" && input.UserId != currentUserId)
            {
                return Forbid();
            }

            var attendance = await _attendanceService.CheckOutAsync(input.UserId, input.Date);
            return Ok(attendance);
        }
        catch (Exception ex)
        {
            return BadRequest(new { message = ex.Message });
        }
    }

    // PUT: api/Attendance/5
    [HttpPut("{id}")]
    [Authorize(Roles = "Admin,Manager")]
    public async Task<IActionResult> UpdateAttendance(int id, [FromBody] AttendanceInputDto input)
    {
        try
        {
            var attendance = await _attendanceService.UpdateAttendanceAsync(id, input);
            return Ok(attendance);
        }
        catch (Exception ex)
        {
            return BadRequest(new { message = ex.Message });
        }
    }

    // DELETE: api/Attendance/5
    [HttpDelete("{id}")]
    [Authorize(Roles = "Admin,Manager")]
    public async Task<IActionResult> DeleteAttendance(int id)
    {
        try
        {
            var result = await _attendanceService.DeleteAttendanceAsync(id);

            if (!result)
            {
                return NotFound(new { message = "Attendance not found" });
            }

            return Ok(new { message = "Attendance deleted successfully" });
        }
        catch (Exception ex)
        {
            return BadRequest(new { message = ex.Message });
        }
    }
}

// DTO for check-in/check-out operations
public class CheckInOutDto
{
    public int UserId { get; set; }
    public DateTime Date { get; set; }
}
</file>

<file path="MegaMarket.API/Controllers/CustomerDashboardController.cs">
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Authorization;
using MegaMarket.API.Services;
using MegaMarket.API.DTOs.Dashboard.Common;
using System.Security.Claims;

namespace MegaMarket.API.Controllers;

[Authorize]
[Route("api/[controller]")]
[ApiController]
public class CustomerDashboardController : ControllerBase
{
    private readonly DashboardCustomerService _service;

    public CustomerDashboardController(DashboardCustomerService service)
    {
        _service = service;
    }

    // GET: api/CustomerDashboard?dateRange=TODAY
    [HttpGet]
    public async Task<IActionResult> GetCustomerDashboard([FromQuery] string dateRange = "TODAY")
    {
        try
        {
            var currentRole = User.FindFirst(ClaimTypes.Role)?.Value;

            if (!Enum.TryParse<DateRangeEnum>(dateRange, true, out var dateRangeEnum))
            {
                return BadRequest(new { message = "Invalid date range. Use: TODAY, THIS_WEEK, THIS_MONTH, THIS_YEAR" });
            }

            var result = await _service.GetCustomerDashboardAsync(dateRangeEnum, currentRole);
            return Ok(result);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = $"Failed to load customer data: {ex.Message}" });
        }
    }

    // GET: api/CustomerDashboard/top-customers?dateRange=TODAY&limit=10
    [HttpGet("top-customers")]
    [Authorize(Roles = "Admin,Manager")]
    public async Task<IActionResult> GetTopCustomers(
        [FromQuery] string dateRange = "TODAY",
        [FromQuery] int limit = 10)
    {
        try
        {
            if (!Enum.TryParse<DateRangeEnum>(dateRange, true, out var dateRangeEnum))
            {
                return BadRequest(new { message = "Invalid date range" });
            }

            var result = await _service.GetTopCustomersByRevenueAsync(dateRangeEnum, limit);
            return Ok(result);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = ex.Message });
        }
    }

    // GET: api/CustomerDashboard/rank-distribution
    [HttpGet("rank-distribution")]
    public async Task<IActionResult> GetCustomerRankDistribution()
    {
        try
        {
            var result = await _service.GetCustomerRankDistributionAsync();
            return Ok(result);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = ex.Message });
        }
    }
}
</file>

<file path="MegaMarket.API/Controllers/InventoryDashboardController.cs">
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Authorization;
using MegaMarket.API.Services;
using System.Security.Claims;

namespace MegaMarket.API.Controllers;

[Authorize]
[Route("api/[controller]")]
[ApiController]
public class InventoryDashboardController : ControllerBase
{
    private readonly DashboardInventoryService _service;

    public InventoryDashboardController(DashboardInventoryService service)
    {
        _service = service;
    }

    // GET: api/InventoryDashboard
    [HttpGet]
    [Authorize(Roles = "Admin,Manager,Warehouse")]
    public async Task<IActionResult> GetInventoryDashboard()
    {
        try
        {
            var currentRole = User.FindFirst(ClaimTypes.Role)?.Value;
            var result = await _service.GetInventoryDashboardAsync(currentRole);
            return Ok(result);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = $"Failed to load inventory data: {ex.Message}" });
        }
    }

    // GET: api/InventoryDashboard/low-stock?limit=10
    [HttpGet("low-stock")]
    public async Task<IActionResult> GetLowStockProducts([FromQuery] int limit = 10)
    {
        try
        {
            var result = await _service.GetLowStockProductsAsync(limit);
            return Ok(result);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = ex.Message });
        }
    }

    // GET: api/InventoryDashboard/expiring?daysThreshold=30&limit=10
    [HttpGet("expiring")]
    public async Task<IActionResult> GetExpiringProducts(
        [FromQuery] int daysThreshold = 30,
        [FromQuery] int limit = 10)
    {
        try
        {
            var result = await _service.GetExpiringProductsAsync(daysThreshold, limit);
            return Ok(result);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = ex.Message });
        }
    }

    // GET: api/InventoryDashboard/stock-by-category
    [HttpGet("stock-by-category")]
    public async Task<IActionResult> GetStockByCategory()
    {
        try
        {
            var currentRole = User.FindFirst(ClaimTypes.Role)?.Value;
            var result = await _service.GetStockByCategoryAsync(currentRole);
            return Ok(result);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = ex.Message });
        }
    }

    // GET: api/InventoryDashboard/top-moving?limit=10
    [HttpGet("top-moving")]
    public async Task<IActionResult> GetTopMovingProducts([FromQuery] int limit = 10)
    {
        try
        {
            var result = await _service.GetTopMovingProductsAsync(limit);
            return Ok(result);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = ex.Message });
        }
    }
}
</file>

<file path="MegaMarket.API/Controllers/Points.cs">
using MegaMarket.API.DTOs.PointTransaction;
using MegaMarket.API.Services;
using Microsoft.AspNetCore.Http;
using Microsoft.AspNetCore.Mvc;

namespace MegaMarket.API.Controllers
{
    [Route("api/[controller]")]
    [ApiController]
    public class Points : ControllerBase
    {
        private readonly IPointTransactionService _pointTransactionService;

        public Points(IPointTransactionService pointTransactionService)
        {
            _pointTransactionService = pointTransactionService;
        }

        // GET: api/points : get all point transactions
        [HttpGet]
        public async Task<IActionResult> GetAll([FromQuery] FilterPointTransactionRequestDto filter)
        {
            var results = await _pointTransactionService.GetFilteredPointTransactionsAsync(filter);

            if (!results.Any())
                return NotFound("No point transactions found.");

            return Ok(results);
        }

        // update ( add ) point for customer
        [HttpPost("{id}/add")]
        public async Task<IActionResult> AddPoints(int id, [FromBody] AddPointRequestDto dto)
        {
            if (dto.Points <= 0)
                return BadRequest("Points must be greater than 0.");

            var result = await _pointTransactionService.AddPointAsync(id, dto);

            if (result == null)
                return NotFound("Customer not found.");

            return Ok(result);
        }


        //api/points/{id}
        [HttpGet("{id}")]
        public async Task<IActionResult> GetPointTransactionById(int id)
        {
            var point_transaction = await _pointTransactionService.GetPointTransactionAsyncById(id);
            if (point_transaction == null)
            {
                return NotFound();
            }
            return Ok(point_transaction);
        }

        [HttpPost("{id}/subtract")]
        public async Task<IActionResult> SubtractPoints(int id, [FromBody] SubtractPointRequestDto dto)
        {
            try
            {
                var result = await _pointTransactionService.SubtractPointAsync(id, dto);

                if (result == null)
                    return NotFound("Customer not found.");

                return Ok(result);
            }
            catch (Exception ex)
            {
                return BadRequest(new { error = ex.Message });
            }
        }
    }
}
</file>

<file path="MegaMarket.API/Controllers/ReportsController.cs">
using Microsoft.AspNetCore.Http;
using MegaMarket.API.Services;
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Authorization;

namespace MegaMarket.API.Controllers
{
    [Authorize(Roles = "Admin,Manager")]
    [Route("api/[controller]")]
    [ApiController]
    public class ReportsController : ControllerBase
    {
        private readonly IReportService _reportService;
        public ReportsController(IReportService reportService)
        {
            _reportService = reportService;
        }

        // GET /api/reports/customers/top?limit=10
        [HttpGet("customers/top")]
        public async Task<IActionResult> GetTopCustomers([FromQuery] int limit = 10)
        {
            try
            {
                var result = await _reportService.GetTopCustomersAsync(limit);
                if (!result.Any())
                    return NotFound(new { message = "No customers found." });
                return Ok(new { data = result });
            }
            catch (Exception ex)
            {
                return BadRequest(new { message = ex.Message });
            }
        }

        // GET /api/reports/rewards/top?limit=10
        [HttpGet("rewards/top")]
        public async Task<IActionResult> GetTopRewards([FromQuery] int limit = 10)
        {
            try
            {
                var result = await _reportService.GetTopRewardsAsync(limit);
                if (!result.Any())
                    return NotFound(new { message = "No rewards found." });
                return Ok(new { data = result });
            }
            catch (Exception ex)
            {
                return BadRequest(new { message = ex.Message });
            }
        }

        // GET /api/reports/points/summary
        [HttpGet("points/summary")]
        public async Task<IActionResult> GetPointsSummary()
        {
            try
            {
                var result = await _reportService.GetPointsSummaryAsync();
                if (!result.Any())
                    return NotFound(new { message = "No points data found." });
                return Ok(new { data = result });
            }
            catch (Exception ex)
            {
                return BadRequest(new { message = ex.Message });
            }
        }
    }
}
</file>

<file path="MegaMarket.API/Controllers/RewardsController.cs">
using MegaMarket.API.DTOs.Customers;
using MegaMarket.API.DTOs.Rewards;
using MegaMarket.API.Services;
using Microsoft.AspNetCore.Authorization;
using Microsoft.AspNetCore.Http;
using Microsoft.AspNetCore.Mvc;

namespace MegaMarket.API.Controllers
{
    [Authorize]
    [Route("api/[controller]")]
    [ApiController]
    public class RewardsController : ControllerBase
    {
        private readonly IRewardService _rewardService;
        public RewardsController(IRewardService rewardService)
        {
            _rewardService = rewardService;
        }

        //api/rewards : get all rewards
        [HttpGet]
        public async Task<IActionResult> GetAllRewards()
        {
            var rewards = await _rewardService.GetAllRewardsAsync();
            return Ok(rewards);
        }

        //api/rewards/{id} : get reward by id
        [HttpGet("{id}")]
        public async Task<IActionResult> GetRewardById(int id)
        {
            // get a reward 
            var reward = await _rewardService.GetRewarByIddAsync(id);

            if (reward == null)
            {
                return NotFound();
            }
            return Ok(reward);
        }

        //api/rewards : create a reward
        [HttpPost]
        [Authorize(Roles = "Admin,Manager")]
        public async Task<IActionResult> CreateReward([FromBody] CreateRewardRequestDto requestDto)
        {
            if (!ModelState.IsValid)
            {
                return BadRequest(ModelState);
            }
            // create a reward
            var response = await _rewardService.CreateRewardAsync(requestDto);
            if (response == null)
            {
                return BadRequest("Can't create reward.");
            }
            return CreatedAtAction(nameof(GetRewardById), new { id = response.RewardId }, response);
        }

        //api/rewards/{id} : update reward
        [HttpPut("{id}")]
        public async Task<IActionResult> UpdateReward(int id, [FromBody] UpdateRewardRequestDto requestDto)
        {
            if (!ModelState.IsValid)
            {
                return BadRequest(ModelState);
            }

            var response = await _rewardService.UpdateRewardAsync(id, requestDto);
            if (response == null)
            {
                return BadRequest("Can't update reward.");
            }
            return Ok(response);
        }

        // api/rewards/{id} : delte reward (is_active = false)
        [HttpDelete("{id}")]
        public async Task<IActionResult> DeleteReward(int id)
        {
            var result = await _rewardService.DeleteRewardAsync(id);
            if (!result)
            {
                return NotFound();
            }
            return NoContent();
        }
    }
}
</file>

<file path="MegaMarket.API/Controllers/ShiftTypesController.cs">
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Authorization;
using MegaMarket.API.Services;
using MegaMarket.API.DTOs;

namespace MegaMarket.API.Controllers;

[Authorize]
[Route("api/[controller]")]
[ApiController]
public class ShiftTypesController : ControllerBase
{
    private readonly ShiftTypeService _shiftTypeService;

    public ShiftTypesController(ShiftTypeService shiftTypeService)
    {
        _shiftTypeService = shiftTypeService;
    }

    // GET: api/ShiftTypes
    [HttpGet]
    public async Task<IActionResult> GetShiftTypes()
    {
        try
        {
            var shiftTypes = await _shiftTypeService.GetAllShiftTypesAsync();
            return Ok(shiftTypes);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = $"Failed to load shift types: {ex.Message}" });
        }
    }

    // GET: api/ShiftTypes/5
    [HttpGet("{id}")]
    public async Task<IActionResult> GetShiftType(int id)
    {
        try
        {
            var shiftType = await _shiftTypeService.GetShiftTypeByIdAsync(id);

            if (shiftType == null)
            {
                return NotFound(new { message = "Shift type not found" });
            }

            return Ok(shiftType);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = $"Failed to load shift type: {ex.Message}" });
        }
    }

    // GET: api/ShiftTypes/name/Morning
    [HttpGet("name/{name}")]
    public async Task<IActionResult> GetShiftTypeByName(string name)
    {
        try
        {
            var shiftType = await _shiftTypeService.GetShiftTypeByNameAsync(name);

            if (shiftType == null)
            {
                return NotFound(new { message = "Shift type not found" });
            }

            return Ok(shiftType);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = $"Failed to load shift type: {ex.Message}" });
        }
    }

    // POST: api/ShiftTypes
    [HttpPost]
    [Authorize(Roles = "Admin,Manager")]
    public async Task<IActionResult> CreateShiftType([FromBody] ShiftTypeInputDto input)
    {
        try
        {
            var shiftType = await _shiftTypeService.CreateShiftTypeAsync(input);
            return CreatedAtAction(nameof(GetShiftType), new { id = shiftType.ShiftTypeId }, shiftType);
        }
        catch (Exception ex)
        {
            return BadRequest(new { message = ex.Message });
        }
    }

    // PUT: api/ShiftTypes/5
    [HttpPut("{id}")]
    [Authorize(Roles = "Admin,Manager")]
    public async Task<IActionResult> UpdateShiftType(int id, [FromBody] ShiftTypeInputDto input)
    {
        try
        {
            var shiftType = await _shiftTypeService.UpdateShiftTypeAsync(id, input);
            return Ok(shiftType);
        }
        catch (Exception ex)
        {
            return BadRequest(new { message = ex.Message });
        }
    }

    // DELETE: api/ShiftTypes/5
    [HttpDelete("{id}")]
    [Authorize(Roles = "Admin,Manager")]
    public async Task<IActionResult> DeleteShiftType(int id)
    {
        try
        {
            var result = await _shiftTypeService.DeleteShiftTypeAsync(id);

            if (!result)
            {
                return NotFound(new { message = "Shift type not found" });
            }

            return Ok(new { message = "Shift type deleted successfully" });
        }
        catch (Exception ex)
        {
            return BadRequest(new { message = ex.Message });
        }
    }
}
</file>

<file path="MegaMarket.API/DTOs/Invoice/InvoiceResDto.cs">
using MegaMarket.API.DTOs.Customers;
using MegaMarket.API.DTOs.Promotion;
using MegaMarket.API.DTOs.User;
using MegaMarket.Data.Models;

namespace MegaMarket.API.DTOs.Invoice
{
    public class InvoiceResDto
    {
        public int InvoiceId { get; set; }
        public int UserId { get; set; }
        public int? CustomerId { get; set; }
        public DateTime CreatedAt { get; set; } = DateTime.Now;
        public decimal TotalBeforeDiscount { get; set; }
        public decimal TotalAmount { get; set; }
        public string PaymentMethod { get; set; } = "cash"; // cash / bank_transfer / card
        public decimal ReceivedAmount { get; set; }
        public decimal ChangeAmount { get; set; }
        public int? PromotionId { get; set; }
        public string Status { get; set; } = "Pending"; // Paid / Pending
        public UserResDto User { get; set; } = null!;
        public CustomerResponseDto? Customer { get; set; }
        public PromotionResDto? Promotion { get; set; }
        public ICollection<InvoiceDetailResDto> InvoiceDetails { get; set; } = new List<InvoiceDetailResDto>();
    }
}
</file>

<file path="MegaMarket.API/DTOs/Products/ProductDtos.cs">
using System.ComponentModel.DataAnnotations;

namespace MegaMarket.API.DTOs.Products;

public record ProductDto
{
    public int ProductId { get; init; }

    [Required, StringLength(100)]
    public string Barcode { get; init; } = string.Empty;

    [Required, StringLength(200)]
    public string Name { get; init; } = string.Empty;

    [StringLength(100)]
    public string? Category { get; init; }

    [StringLength(50)]
    public string? UnitLabel { get; init; }

    [Range(0, 999999)]
    public decimal UnitPrice { get; init; }

    [Range(0, 999999)]
    public decimal? OriginalPrice { get; init; }

    [Range(0, 100)]
    public int? DiscountPercent { get; init; }

    [Range(0, int.MaxValue)]
    public int QuantityInStock { get; init; }

    [Range(0, int.MaxValue)]
    public int MinQuantity { get; init; }

    public DateTime? ExpiryDate { get; init; }

    public bool IsPerishable { get; init; }

    [StringLength(500)]
    public string? ImageUrl { get; init; }
}

public record ProductCreateUpdateDto
{
    [Required, StringLength(100)]
    public string Barcode { get; init; } = string.Empty;

    [Required, StringLength(200)]
    public string Name { get; init; } = string.Empty;

    [StringLength(100)]
    public string? Category { get; init; }

    [StringLength(50)]
    public string? UnitLabel { get; init; }

    [Range(0, 999999)]
    public decimal UnitPrice { get; init; }

    [Range(0, 999999)]
    public decimal? OriginalPrice { get; init; }

    [Range(0, 100)]
    public int? DiscountPercent { get; init; }

    [Range(0, int.MaxValue)]
    public int QuantityInStock { get; init; }

    [Range(0, int.MaxValue)]
    public int MinQuantity { get; init; }

    public DateTime? ExpiryDate { get; init; }

    public bool IsPerishable { get; init; }

    [StringLength(500)]
    public string? ImageUrl { get; init; }
}
</file>

<file path="MegaMarket.API/DTOs/Promotion/PromotionReqDto.cs">
using MegaMarket.Data.Models;

namespace MegaMarket.API.DTOs.Promotion
{
    public class PromotionReqDto
    {
        public string Name { get; set; } = string.Empty;
        public string? Description { get; set; }
        public string DiscountType { get; set; } = "percent"; // percent / fixed
        public decimal DiscountValue { get; set; }
        public DateTime StartDate { get; set; } = DateTime.Today;
        public DateTime EndDate { get; set; } = DateTime.Today.AddDays(7);
        public string Type { get; set; } = "invoice"; // invoice / product / promotion
        public ICollection<int> PromotionProducts { get; set; } = new List<int>();
    }
}
</file>

<file path="MegaMarket.API/DTOs/Promotion/PromotionResDto.cs">
namespace MegaMarket.API.DTOs.Promotion
{
    public class PromotionResDto
    {
        public int PromotionId { get; set; }
        public string Name { get; set; } = string.Empty;
        public string? Description { get; set; }
        public string DiscountType { get; set; } = "percent"; // percent / fixed
        public decimal DiscountValue { get; set; }
        public DateTime StartDate { get; set; }
        public DateTime EndDate { get; set; }
        public string Type { get; set; } = "invoice"; // invoice / product / promotion
        public ICollection<PromotionProductResDto> PromotionProducts { get; set; } = new List<PromotionProductResDto>();
    }
}
</file>

<file path="MegaMarket.API/Services/AuthService.cs">
using System.IdentityModel.Tokens.Jwt;
using System.Security.Claims;
using System.Text;
using Microsoft.EntityFrameworkCore;
using Microsoft.IdentityModel.Tokens;
using MegaMarket.Data.Data;
using MegaMarket.API.DTOs;

namespace MegaMarket.API.Services;

public class AuthService
{
    private readonly MegaMarketDbContext _context;
    private readonly IConfiguration _configuration;

    public AuthService(MegaMarketDbContext context, IConfiguration configuration)
    {
        _context = context;
        _configuration = configuration;
    }

    /// <summary>
    /// Đăng nhập và trả về JWT token
    /// </summary>
    public async Task<LoginResultDto?> LoginAsync(LoginInputDto input)
    {
        // 1. Tìm user theo username
        var user = await _context.Users
            .FirstOrDefaultAsync(u => u.Username == input.Username);

        if (user == null)
        {
            return null; // User không tồn tại
        }

        // 2. Verify password (so sánh với hash trong DB)
        if (!BCrypt.Net.BCrypt.Verify(input.Password, user.Password))
        {
            return null; // Sai password
        }

        // 3. Tạo JWT token
        var token = GenerateJwtToken(user.UserId, user.Username, user.Role);
        var expiresAt = DateTime.UtcNow.AddHours(8); // Token hết hạn sau 8 giờ

        return new LoginResultDto
        {
            Token = token,
            UserId = user.UserId,
            Username = user.Username,
            FullName = user.FullName,
            Role = user.Role,
            ExpiresAt = expiresAt
        };
    }

    /// <summary>
    /// Tạo JWT token với user info
    /// </summary>
    private string GenerateJwtToken(int userId, string username, string role)
    {
        var jwtKey = _configuration["Jwt:Key"]
            ?? throw new Exception("JWT Key chưa được config!");
        var jwtIssuer = _configuration["Jwt:Issuer"] ?? "MegaMarket";
        var jwtAudience = _configuration["Jwt:Audience"] ?? "MegaMarket";

        var securityKey = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(jwtKey));
        var credentials = new SigningCredentials(securityKey, SecurityAlgorithms.HmacSha256);

        // Claims chứa thông tin user
        var claims = new[]
        {
            new Claim(ClaimTypes.NameIdentifier, userId.ToString()),
            new Claim(ClaimTypes.Name, username),
            new Claim(ClaimTypes.Role, role),
            new Claim("userId", userId.ToString()), // Custom claim for Blazor frontend
            new Claim("role", role) // Custom claim for Blazor frontend
        };

        var token = new JwtSecurityToken(
            issuer: jwtIssuer,
            audience: jwtAudience,
            claims: claims,
            expires: DateTime.UtcNow.AddHours(8),
            signingCredentials: credentials
        );

        return new JwtSecurityTokenHandler().WriteToken(token);
    }
}
</file>

<file path="MegaMarket.API/Services/CustomerService.cs">
using MegaMarket.API.DTOs.Customers;
using MegaMarket.Data.Models;
using MegaMarket.Data.Repositories;
using Microsoft.AspNetCore.Http.HttpResults;
using System.Reflection.Metadata.Ecma335;
namespace MegaMarket.API.Services
{
    public class CustomerService : ICustomerService
    {
        private readonly ICustomerRepository _customerRepository;
        public CustomerService(ICustomerRepository customerRepository)
        {
            _customerRepository = customerRepository;
        }

        // get all customers
        public async Task<IEnumerable<CustomerResponseDto>> GetAllCustomersAsync()
        {
            // get all customers from db
            var customers = await _customerRepository.GetCustomersAsync();
            // convert sang dto
            var response = customers.Select(c => new CustomerResponseDto
            {
                CustomerId = c.CustomerId,
                FullName = c.FullName,
                Phone = c.Phone,
                Points = c.Points,
                Email = c.Email,
                Rank = c.Rank,
            });

            return response;

        }

        // create a customer
        public async Task<CustomerResponseDto?> CreateCustomerAsync(CreateCustomerRequestDto customer_dto)
        {
            try
            {
                // check exist phone
                if (!string.IsNullOrWhiteSpace(customer_dto.Phone))
                {
                    var isPhoneExist = await _customerRepository.IsExistPhoneAsync(customer_dto.Phone);
                    if (isPhoneExist)
                    {
                        throw new Exception("Phone already exists.");
                    }
                }

                // create a customer
                var customer = new Customer
                {
                    FullName = customer_dto.FullName,
                    Phone = customer_dto.Phone,
                    Email = customer_dto.Email,
                    Points = customer_dto.Points
                };

                // save in db by repository
                var createdCustomer = await _customerRepository.CreateCustomerAsync(customer);

                // convert to response dto 
                var response = new CustomerResponseDto
                {
                    CustomerId = createdCustomer.CustomerId,
                    FullName = createdCustomer.FullName,
                    Phone = createdCustomer.Phone,
                    Email = createdCustomer.Email,
                    Points = createdCustomer.Points,
                    Rank = createdCustomer.Rank
                };

                return response;
            }
            catch (Exception ex)
            {
                throw new Exception($"Error when adding customer in service: {ex.Message}");
            }
        }

        // get customer by id
        public async Task<CustomerResponseDto?> GetCustomerById(int customer_id)
        {
            // get customer by id
            var customer = await _customerRepository.GetCustomerByIdAsync(customer_id);
            // check exist
            if(customer == null)
            {
                return null;
            }
            // return for client
            return new CustomerResponseDto
            {
                CustomerId = customer.CustomerId,
                FullName = customer.FullName,
                Phone = customer.Phone,
                Email = customer.Email,
                Points = customer.Points,
                Rank = customer.Rank
            };
        }

        // update customer 
        public async Task<CustomerResponseDto?> UpdateCustomerAsync(int customerId, UpdateCustomerRequestDto customer_dto)
        {
            try
            {
                // get customer exi
                var customer_exist = await _customerRepository.GetCustomerByIdAsync(customerId);
                if(customer_exist == null)
                {
                    return null;
                }

                if (customer_exist.Phone != null)
                {
                        // check exist phone 
                    if (!string.IsNullOrWhiteSpace(customer_dto.Phone) && customer_exist.Phone != customer_dto.Phone )
                    {
                        var isPhoneExist = await _customerRepository.IsExistPhoneAsync(customer_dto.Phone);
                        if (isPhoneExist)
                        {
                            return null;
                        }
                    }
                } else
                {
                    if (!string.IsNullOrWhiteSpace(customer_dto.Phone))
                    {
                        var isPhoneExist = await _customerRepository.IsExistPhoneAsync(customer_dto.Phone);
                        if (isPhoneExist)
                        {
                            return null;
                        }
                    }
                }



                //create customer
                var customer = new Customer
                {
                    CustomerId = customerId, // assign customerId
                    FullName = customer_dto.FullName,
                    Phone = customer_dto.Phone,
                    Email = customer_dto.Email,
                    Points = customer_dto.Points,
                    Rank = customer_dto.Rank!
                };

                // save in db by repo
                var updatedCustomer = await _customerRepository.UpdateCustomerAsync(customer);
                await _customerRepository.UpdateCustomerRankAsync(customerId);
                if (updatedCustomer == null)
                {
                    return null;
                }

                // convert to dto 
                var response = new CustomerResponseDto
                {
                    CustomerId = updatedCustomer.CustomerId,
                    FullName = updatedCustomer.FullName,
                    Phone = updatedCustomer.Phone,
                    Email = updatedCustomer.Email,
                    Points = updatedCustomer.Points,
                    Rank = updatedCustomer.Rank
                };

                return response;
            }
            catch (Exception ex)
            {
                throw new Exception($"Error when updating customer in service: {ex.Message}");
            }
        }

        // delete customer by id
        public async Task<bool> DeleteCustomerAsync(int customer_id)
        {
            try
            {
                var result = await _customerRepository.DeleteCustomerAsync(customer_id);
                return result;
            }
            catch (Exception)
            {
                return false;
            }
        }

        // filter customer 
        public async Task<IEnumerable<CustomerResponseDto>> FilterCustomersAsync(FilterCustomerRequestDto filter)
        {
            var customers = await _customerRepository.FilterCustomersAsync(
                filter.FullName,
                filter.Phone,
                filter.Rank
            );

            return customers.Select(c => new CustomerResponseDto
            {
                CustomerId = c.CustomerId,
                FullName = c.FullName,
                Phone = c.Phone,
                Email = c.Email,
                Points = c.Points,
                Rank = c.Rank
            });
        }

        
    }
}
</file>

<file path="MegaMarket.API/Services/DashboardEmployeeService.cs">
using Microsoft.EntityFrameworkCore;
using MegaMarket.API.DTOs.Dashboard.Employee;
using MegaMarket.API.DTOs.Dashboard.Common;
using MegaMarket.API.Helpers;
using MegaMarket.Data.Data;

namespace MegaMarket.API.Services;

public class DashboardEmployeeService
{
    private readonly MegaMarketDbContext _context;

    public DashboardEmployeeService(MegaMarketDbContext context)
    {
        _context = context;
    }

    public async Task<EmployeeDashboardDto> GetEmployeeDashboardAsync(DateRangeEnum dateRange, string? role, int userId)
    {
        var period = DateRangeHelper.GetDateRange(dateRange);

        var attendanceQuery = _context.Attendances
            .AsNoTracking()
            .Where(a => a.CheckIn >= period.StartDate && a.CheckIn <= period.EndDate);

        // Employee chỉ xem được dữ liệu của chính mình
        if (role != "Admin")
        {
            attendanceQuery = attendanceQuery.Where(a => a.UserId == userId);
        }

        var totalAttendances = await attendanceQuery.CountAsync();

        var onTimeCount = await attendanceQuery
            .Where(a => !a.IsLate)
            .CountAsync();

        var lateCount = await attendanceQuery
            .Where(a => a.IsLate)
            .CountAsync();

        // Tính tổng số giờ làm việc
        var totalHoursWorked = await attendanceQuery
            .Where(a => a.CheckIn != null && a.CheckOut != null)
            .Select(a => EF.Functions.DateDiffMinute(a.CheckIn.Value, a.CheckOut.Value) / 60.0)
            .SumAsync();

        // Attendance by shift
        var attendanceByShift = await attendanceQuery
            .Include(a => a.ShiftType)
            .GroupBy(a => new { a.ShiftType.Name, a.ShiftType.WagePerHour })
            .Select(g => new AttendanceByShiftDto
            {
                ShiftName = g.Key.Name,
                AttendanceCount = g.Count(),
                OnTimeCount = g.Count(a => !a.IsLate),
                LateCount = g.Count(a => a.IsLate),
                TotalHoursWorked = g.Where(a => a.CheckIn != null && a.CheckOut != null)
                    .Sum(a => EF.Functions.DateDiffMinute(a.CheckIn.Value, a.CheckOut.Value) / 60.0),
                TotalWages = (decimal)g.Where(a => a.CheckIn != null && a.CheckOut != null)
                    .Sum(a => EF.Functions.DateDiffMinute(a.CheckIn.Value, a.CheckOut.Value) / 60.0 * (double)g.Key.WagePerHour)
            })
            .ToListAsync();

        // Chỉ Admin mới xem được thông tin tổng số nhân viên và tổng lương
        int? totalEmployees = null;
        decimal? totalWages = null;

        if (role == "Admin")
        {
            totalEmployees = await _context.Users
                .Where(u => u.Role == "Employee")
                .CountAsync();

            totalWages = attendanceByShift.Sum(s => s.TotalWages);
        }

        return new EmployeeDashboardDto
        {
            TotalEmployees = totalEmployees,
            TotalAttendances = totalAttendances,
            OnTimePercentage = totalAttendances > 0 ? (double)onTimeCount / totalAttendances * 100 : 0,
            LatePercentage = totalAttendances > 0 ? (double)lateCount / totalAttendances * 100 : 0,
            TotalHoursWorked = totalHoursWorked,
            TotalWages = totalWages,
            AttendanceByShift = attendanceByShift
        };
    }

    public async Task<List<EmployeeWorkSummaryDto>> GetEmployeeWorkSummaryAsync(DateRangeEnum dateRange)
    {
        var period = DateRangeHelper.GetDateRange(dateRange);

        var employeeSummaries = await _context.Attendances
            .AsNoTracking()
            .Where(a => a.CheckIn >= period.StartDate && a.CheckIn <= period.EndDate)
            .Include(a => a.User)
            .Include(a => a.ShiftType)
            .GroupBy(a => new
            {
                UserId = a.UserId,
                Username = a.User.Username,
                FullName = a.User.FullName
            })
            .Select(g => new EmployeeWorkSummaryDto
            {
                UserId = g.Key.UserId,
                Username = g.Key.Username,
                FullName = g.Key.FullName,
                DaysWorked = g.Where(a => a.CheckIn != null).Select(a => a.CheckIn!.Value.Date).Distinct().Count(),
                TotalHoursWorked = g.Where(a => a.CheckIn != null && a.CheckOut != null)
                    .Sum(a => EF.Functions.DateDiffMinute(a.CheckIn.Value, a.CheckOut.Value) / 60.0),
                LateCount = g.Count(a => a.IsLate),
                TotalWages = (decimal)g.Where(a => a.CheckIn != null && a.CheckOut != null)
                    .Sum(a => (double)EF.Functions.DateDiffMinute(a.CheckIn.Value, a.CheckOut.Value) / 60.0 * (double)a.ShiftType.WagePerHour),
                AttendanceRate = g.Count() > 0 ? (double)g.Count(a => !a.IsLate) / g.Count() * 100 : 0
            })
            .OrderByDescending(e => e.TotalHoursWorked)
            .ToListAsync();

        return employeeSummaries;
    }

    public async Task<AttendanceRateDto> GetAttendanceStatisticsAsync(int employeeId, DateRangeEnum dateRange)
    {
        var period = DateRangeHelper.GetDateRange(dateRange);

        var attendances = await _context.Attendances
            .AsNoTracking()
            .Where(a => a.UserId == employeeId &&
                       a.CheckIn >= period.StartDate &&
                       a.CheckIn <= period.EndDate)
            .Include(a => a.ShiftType)
            .ToListAsync();

        var totalAttendances = attendances.Count;
        var onTimeCount = attendances.Count(a => !a.IsLate);
        var lateCount = attendances.Count(a => a.IsLate);

        var totalHoursWorked = attendances
            .Where(a => a.CheckIn != null && a.CheckOut != null)
            .Sum(a => (a.CheckOut!.Value - a.CheckIn!.Value).TotalHours);

        var totalWages = attendances
            .Where(a => a.CheckIn != null && a.CheckOut != null)
            .Sum(a => (a.CheckOut!.Value - a.CheckIn!.Value).TotalHours * (double)a.ShiftType.WagePerHour);

        return new AttendanceRateDto
        {
            TotalAttendances = totalAttendances,
            OnTimeCount = onTimeCount,
            LateCount = lateCount,
            OnTimePercentage = totalAttendances > 0 ? (double)onTimeCount / totalAttendances * 100 : 0,
            LatePercentage = totalAttendances > 0 ? (double)lateCount / totalAttendances * 100 : 0,
            TotalHoursWorked = totalHoursWorked,
            TotalWages = totalWages
        };
    }
}
</file>

<file path="MegaMarket.API/Services/ICustomerService.cs">
using MegaMarket.API.DTOs.Customers;
using System.Diagnostics.Eventing.Reader;

namespace MegaMarket.API.Services
{
    public interface ICustomerService
    {
        // get all customers
        Task<IEnumerable<CustomerResponseDto>> GetAllCustomersAsync();

        // create a customer
        Task<CustomerResponseDto?> CreateCustomerAsync(CreateCustomerRequestDto customer_dto);

        // get a customer
        Task<CustomerResponseDto?> GetCustomerById(int customer_id);

        // update cutomer
        Task<CustomerResponseDto?> UpdateCustomerAsync(int customerId, UpdateCustomerRequestDto customer_dto);

        // delete customer
        Task<bool> DeleteCustomerAsync(int customer_id);

        // filter customer
        Task<IEnumerable<CustomerResponseDto>> FilterCustomersAsync(FilterCustomerRequestDto filter);

    }
}
</file>

<file path="MegaMarket.API/Services/Implementations/ImportService.cs">
using Microsoft.EntityFrameworkCore;
using MegaMarket.API.DTOs.Imports;
using MegaMarket.API.Services.Interfaces;
using MegaMarket.Data.Data;
using MegaMarket.Data.Models;

namespace MegaMarket.API.Services.Implementations;

public class ImportService : IImportService
{
    private readonly MegaMarketDbContext _dbContext;

    public ImportService(MegaMarketDbContext dbContext)
    {
        _dbContext = dbContext;
    }

    public async Task<IEnumerable<Import>> GetAllAsync()
    {
        return await _dbContext.Imports
            .AsNoTracking()
            .Include(i => i.Supplier)
            .Include(i => i.User)
            .Include(i => i.ImportDetails)
                .ThenInclude(id => id.Product)
            .OrderByDescending(i => i.ImportDate)
            .ToListAsync();
    }

    public async Task<Import?> GetByIdAsync(int id)
    {
        return await _dbContext.Imports
            .AsNoTracking()
            .Include(i => i.Supplier)
            .Include(i => i.User)
            .Include(i => i.ImportDetails)
                .ThenInclude(id => id.Product)
            .FirstOrDefaultAsync(i => i.ImportId == id);
    }

    public async Task<Import> CreateAsync(ImportCreateDto dto)
    {
        if (dto.Items is null || !dto.Items.Any())
        {
            throw new InvalidOperationException("At least one line item is required.");
        }

        var supplier = await GetOrCreateSupplierAsync(dto.Supplier);
        var user = await GetOrCreateUserAsync(dto.Staff);

        using var transaction = await _dbContext.Database.BeginTransactionAsync();

        var import = new Import
        {
            SupplierId = supplier.SupplierId,
            UserId = user.UserId,
            ImportDate = dto.ImportDate.Date,
            Status = dto.Status
        };

        foreach (var line in dto.Items)
        {
            var product = await ResolveProductAsync(line);

            var detail = new ImportDetail
            {
                ProductId = product.ProductId,
                Quantity = line.Quantity,
                UnitPrice = line.UnitPrice,
                ExpiryDate = line.ExpiryDate?.Date
            };

            import.ImportDetails.Add(detail);

            product.QuantityInStock += line.Quantity;
            product.UnitPrice = line.UnitPrice;
            product.ExpiryDate = line.ExpiryDate?.Date;
            product.IsPerishable = product.IsPerishable || line.ExpiryDate.HasValue;
        }

        import.TotalCost = import.ImportDetails.Sum(d => d.Quantity * d.UnitPrice);

        _dbContext.Imports.Add(import);
        await _dbContext.SaveChangesAsync();
        await transaction.CommitAsync();

        await _dbContext.Entry(import).Reference(i => i.Supplier).LoadAsync();
        await _dbContext.Entry(import).Reference(i => i.User).LoadAsync();
        await _dbContext.Entry(import).Collection(i => i.ImportDetails).LoadAsync();
        await _dbContext.Entry(import).Collection(i => i.ImportDetails).Query().Include(id => id.Product).LoadAsync();

        return import;
    }

    public async Task<Import?> UpdateAsync(ImportUpdateDto dto)
    {
        var import = await _dbContext.Imports
            .Include(i => i.ImportDetails)
            .FirstOrDefaultAsync(i => i.ImportId == dto.ImportId);

        if (import is null)
        {
            return null;
        }

        if (dto.Items is null || !dto.Items.Any())
        {
            throw new InvalidOperationException("At least one line item is required.");
        }

        var supplier = await GetOrCreateSupplierAsync(dto.Supplier);
        var user = await GetOrCreateUserAsync(dto.Staff);

        using var transaction = await _dbContext.Database.BeginTransactionAsync();

        import.SupplierId = supplier.SupplierId;
        import.UserId = user.UserId;
        import.ImportDate = dto.ImportDate.Date;
        import.Status = dto.Status;
        import.TotalCost = 0;

        _dbContext.ImportDetails.RemoveRange(import.ImportDetails);
        import.ImportDetails.Clear();

        foreach (var line in dto.Items)
        {
            var product = await ResolveProductAsync(line);
            var detail = new ImportDetail
            {
                ImportId = import.ImportId,
                ProductId = product.ProductId,
                Quantity = line.Quantity,
                UnitPrice = line.UnitPrice,
                ExpiryDate = line.ExpiryDate?.Date
            };

            import.ImportDetails.Add(detail);
        }

        import.TotalCost = import.ImportDetails.Sum(d => d.Quantity * d.UnitPrice);
        await _dbContext.SaveChangesAsync();
        await transaction.CommitAsync();

        await _dbContext.Entry(import).Collection(i => i.ImportDetails).Query().Include(id => id.Product).LoadAsync();
        await _dbContext.Entry(import).Reference(i => i.Supplier).LoadAsync();
        await _dbContext.Entry(import).Reference(i => i.User).LoadAsync();
        return import;
    }

    public async Task<bool> DeleteAsync(int id)
    {
        var import = await _dbContext.Imports.FirstOrDefaultAsync(i => i.ImportId == id);
        if (import is null)
        {
            return false;
        }

        _dbContext.Imports.Remove(import);
        await _dbContext.SaveChangesAsync();
        return true;
    }

    private async Task<Product> ResolveProductAsync(ImportLineCreateDto line)
    {
        Product? product = null;

        if (line.ProductId.HasValue)
        {
            product = await _dbContext.Products.FirstOrDefaultAsync(p => p.ProductId == line.ProductId.Value);
            if (product is null)
            {
                throw new InvalidOperationException($"Product {line.ProductId.Value} not found.");
            }
        }
        else if (!string.IsNullOrWhiteSpace(line.Barcode))
        {
            var barcode = line.Barcode.Trim();
            product = await _dbContext.Products.FirstOrDefaultAsync(p => p.Barcode == barcode);
        }

        if (product is not null)
        {
            return product;
        }

        var newBarcode = string.IsNullOrWhiteSpace(line.Barcode)
            ? $"NEW-{DateTime.UtcNow.Ticks % 1_000_000:D6}"
            : line.Barcode.Trim();

        product = new Product
        {
            Barcode = newBarcode,
            Name = line.ProductName.Trim(),
            UnitPrice = line.UnitPrice,
            QuantityInStock = 0,
            MinQuantity = 0,
            ExpiryDate = line.ExpiryDate?.Date,
            IsPerishable = line.ExpiryDate.HasValue
        };

        _dbContext.Products.Add(product);
        await _dbContext.SaveChangesAsync();

        return product;
    }

    private async Task<Supplier> GetOrCreateSupplierAsync(string supplierName)
    {
        var name = supplierName.Trim();
        var supplier = await _dbContext.Suppliers.FirstOrDefaultAsync(s => s.Name == name);
        if (supplier is not null)
        {
            return supplier;
        }

        supplier = new Supplier { Name = name };
        _dbContext.Suppliers.Add(supplier);
        await _dbContext.SaveChangesAsync();
        return supplier;
    }

    private async Task<User> GetOrCreateUserAsync(string staffName)
    {
        var name = staffName.Trim();
        var user = await _dbContext.Users.FirstOrDefaultAsync(u => u.FullName == name);
        if (user is not null)
        {
            return user;
        }

        user = new User
        {
            FullName = name,
            Username = name.Replace(" ", ".").ToLowerInvariant(),
            Password = "Password123!",
            Role = "Admin"
        };

        _dbContext.Users.Add(user);
        await _dbContext.SaveChangesAsync();
        return user;
    }
}
</file>

<file path="MegaMarket.API/Services/Implementations/ProductService.cs">
using Microsoft.EntityFrameworkCore;
using MegaMarket.API.Services.Interfaces;
using MegaMarket.Data.Data;
using MegaMarket.Data.Models;

namespace MegaMarket.API.Services.Implementations;

public class ProductService : IProductService
{
    private readonly MegaMarketDbContext _dbContext;

    public ProductService(MegaMarketDbContext dbContext)
    {
        _dbContext = dbContext;
    }

    public async Task<IEnumerable<Product>> GetAllAsync()
    {
        return await _dbContext.Products.AsNoTracking().ToListAsync();
    }

    public async Task<Product?> GetByIdAsync(int id)
    {
        return await _dbContext.Products.AsNoTracking().FirstOrDefaultAsync(p => p.ProductId == id);
    }

    public async Task<Product> CreateAsync(Product product)
    {
        _dbContext.Products.Add(product);
        await _dbContext.SaveChangesAsync();
        return product;
    }

    public async Task<bool> UpdateAsync(Product product)
    {
        var existing = await _dbContext.Products.FirstOrDefaultAsync(p => p.ProductId == product.ProductId);
        if (existing is null)
        {
            return false;
        }

        existing.Barcode = product.Barcode;
        existing.Name = product.Name;
        existing.Category = product.Category;
        existing.UnitLabel = product.UnitLabel;
        existing.UnitPrice = product.UnitPrice;
        existing.OriginalPrice = product.OriginalPrice;
        existing.DiscountPercent = product.DiscountPercent;
        existing.QuantityInStock = product.QuantityInStock;
        existing.MinQuantity = product.MinQuantity;
        existing.ExpiryDate = product.ExpiryDate;
        existing.IsPerishable = product.IsPerishable;
        existing.ImageUrl = product.ImageUrl;

        await _dbContext.SaveChangesAsync();
        return true;
    }

    public async Task<bool> DeleteAsync(int id)
    {
        var existing = await _dbContext.Products.FirstOrDefaultAsync(p => p.ProductId == id);
        if (existing is null)
        {
            return false;
        }

        _dbContext.Products.Remove(existing);
        await _dbContext.SaveChangesAsync();
        return true;
    }
}
</file>

<file path="MegaMarket.API/Services/Interfaces/IImportService.cs">
using MegaMarket.API.DTOs.Imports;
using MegaMarket.Data.Models;

namespace MegaMarket.API.Services.Interfaces;

public interface IImportService
{
    Task<IEnumerable<Import>> GetAllAsync();
    Task<Import?> GetByIdAsync(int id);
    Task<Import> CreateAsync(ImportCreateDto dto);
    Task<Import?> UpdateAsync(ImportUpdateDto dto);
    Task<bool> DeleteAsync(int id);
}
</file>

<file path="MegaMarket.API/Services/IPointTransactionService.cs">
using MegaMarket.API.DTOs.Customers;
using MegaMarket.API.DTOs.PointTransaction;
using MegaMarket.API.DTOs.PointTransactions;
using MegaMarket.Data.Models;

namespace MegaMarket.API.Services
{
    public interface IPointTransactionService
    {
        // get all pointtracsactions and filter
        Task<IEnumerable<PointTransactionResponseDto>> GetFilteredPointTransactionsAsync(FilterPointTransactionRequestDto filter);

        // get a point transaction
        Task<PointTransactionResponseDto?> GetPointTransactionAsyncById(int id);

        // get history point transaction of customer by id 
        Task<IEnumerable<HistoryPointResponseDto>> GetPointHistoryAsync(int customerId);

        // add point
        Task<PointTransactionResponseDto?> AddPointAsync(int customerId, AddPointRequestDto dto);

        // subtract point
        Task<PointTransactionResponseDto?> SubtractPointAsync(int customerId, SubtractPointRequestDto dto);
    }
}
</file>

<file path="MegaMarket.API/Services/UserService.cs">
using Microsoft.EntityFrameworkCore;
using MegaMarket.Data.Data;
using MegaMarket.Data.Models;
using MegaMarket.API.DTOs;

namespace MegaMarket.API.Services;

public class UserService
{
    private readonly MegaMarketDbContext _context;

    public UserService(MegaMarketDbContext context)
    {
        _context = context;
    }

    public async Task<List<User>> GetAllUsersAsync()
    {
        return await _context.Users.ToListAsync();
    }

    public async Task<User?> GetUserByIdAsync(int userId)
    {
        return await _context.Users.FindAsync(userId);
    }

    public async Task<User?> GetUserByUsernameAsync(string username)
    {
        return await _context.Users
            .FirstOrDefaultAsync(u => u.Username == username);
    }

    public async Task<User> CreateUserAsync(UserInputDto input)
    {
        // Kiểm tra username đã tồn tại chưa
        var existingUser = await GetUserByUsernameAsync(input.Username);
        if (existingUser != null)
        {
            throw new Exception("Username đã tồn tại!");
        }

        // Hash password trước khi lưu
        var hashedPassword = BCrypt.Net.BCrypt.HashPassword(input.Password);

        var user = new User
        {
            FullName = input.FullName,
            Username = input.Username,
            Password = hashedPassword, // Lưu password đã hash
            Role = input.Role,
            Phone = input.Phone,
            Email = input.Email
        };

        _context.Users.Add(user);
        await _context.SaveChangesAsync();

        return user;
    }

    public async Task<User> UpdateUserAsync(int userId, UserInputDto input)
    {
        var user = await GetUserByIdAsync(userId);
        if (user == null)
        {
            throw new Exception("Không tìm thấy nhân viên!");
        }

        // Kiểm tra username mới có bị trùng không
        if (input.Username != user.Username)
        {
            var existingUser = await GetUserByUsernameAsync(input.Username);
            if (existingUser != null)
            {
                throw new Exception("Username đã tồn tại!");
            }
        }

        user.FullName = input.FullName;
        user.Username = input.Username;

        // Chỉ update password nếu có password mới
        if (!string.IsNullOrEmpty(input.Password))
        {
            user.Password = BCrypt.Net.BCrypt.HashPassword(input.Password);
        }

        user.Role = input.Role;
        user.Phone = input.Phone;
        user.Email = input.Email;

        await _context.SaveChangesAsync();

        return user;
    }

    public async Task<bool> DeleteUserAsync(int userId)
    {
        var user = await GetUserByIdAsync(userId);
        if (user == null)
        {
            return false;
        }

        _context.Users.Remove(user);
        await _context.SaveChangesAsync();

        return true;
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Layout/LoginDisplay.razor">
@inject AuthService AuthService
@inject NavigationManager NavigationManager

<AuthorizeView>
    <Authorized>
        <div class="user-info-container">
            <div class="user-info-card">
                <div class="avatar-circle-small">
                    <span>@GetInitials(context.User.FindFirst("FullName")?.Value ?? "U")</span>
                </div>
                <div class="user-details">
                    <div class="user-name">@context.User.FindFirst("FullName")?.Value</div>
                    <span class="user-role badge bg-@GetRoleBadgeColor(context.User.FindFirst(ClaimTypes.Role)?.Value ?? "")">
                        @context.User.FindFirst(ClaimTypes.Role)?.Value
                    </span>
                </div>
            </div>
            <button class="btn btn-logout" @onclick="HandleLogout">
                <i class="bi bi-box-arrow-right"></i> Logout
            </button>
        </div>
    </Authorized>
    <NotAuthorized>
        <a href="/login" class="btn btn-sm btn-primary">Login</a>
    </NotAuthorized>
</AuthorizeView>

<style>
    .user-info-container {
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .user-info-card {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.5rem 1rem;
        background-color: #f8f9fa;
        border-radius: 8px;
        border: 1px solid #dee2e6;
    }

    .user-details {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
    }

    .user-name {
        font-weight: 600;
        font-size: 0.875rem;
        color: #212529;
    }

    .user-role {
        font-size: 0.75rem;
        font-weight: 500;
    }

    .btn-logout {
        padding: 0.5rem 1rem;
        font-size: 0.875rem;
        font-weight: 500;
        color: #dc3545;
        background-color: white;
        border: 1px solid #dc3545;
        border-radius: 6px;
        transition: all 0.2s;
    }

    .btn-logout:hover {
        color: white;
        background-color: #dc3545;
        box-shadow: 0 2px 4px rgba(220, 53, 69, 0.25);
    }

    .btn-logout i {
        margin-right: 0.25rem;
    }
</style>

@code {
    private async Task HandleLogout()
    {
        await AuthService.LogoutAsync();
        NavigationManager.NavigateTo("/login", true);
    }

    private string GetInitials(string fullName)
    {
        if (string.IsNullOrEmpty(fullName))
            return "U";

        var parts = fullName.Split(' ', StringSplitOptions.RemoveEmptyEntries);
        if (parts.Length == 1)
            return parts[0][0].ToString().ToUpper();

        return $"{parts[0][0]}{parts[^1][0]}".ToUpper();
    }

    private string GetRoleBadgeColor(string role)
    {
        return role switch
        {
            "Admin" => "primary",
            "Employee" => "secondary",
            _ => "secondary"
        };
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Layout/NavMenu.razor.css">
.nav-menu {
    display: flex;
    flex-direction: column;
    height: 100%;
    min-height: 100vh;
    background: #ffffff;
}

.brand-row {
    padding: 1.25rem 1.25rem 1rem 1.25rem;
    border-bottom: 1px solid #eef2f6;
}

.brand {
    font-size: 1.35rem;
    font-weight: 800;
    color: #2f6bff;
    text-decoration: none;
    letter-spacing: 0.2px;
}

.menu-content {
    flex: 1 1 auto;
    padding: 0.75rem 0.75rem 1rem 0.75rem;
}

.nav-section-title {
    padding: 0.9rem 0.75rem 0.35rem 0.75rem;
    font-size: 0.72rem;
    font-weight: 800;
    color: #93a0b4;
    text-transform: uppercase;
    letter-spacing: 0.09em;
}

.nav-item {
    padding: 0.1rem 0;
}

.nav-item ::deep .nav-link {
    display: flex;
    align-items: center;
    gap: 0.85rem;
    padding: 0.6rem 0.8rem;
    border-radius: 12px;
    color: #3c4a5d;
    text-decoration: none;
    font-weight: 650;
}

.nav-item ::deep .nav-link .bi {
    font-size: 1.1rem;
    color: #6b7b91;
}

.nav-item ::deep .nav-link:hover {
    background: #f4f7fb;
    color: #1f2a3a;
}

.nav-item ::deep a.active {
    background: #eef3ff;
    color: #113e92;
}

.nav-item ::deep a.active .bi {
    color: #113e92;
}

.menu-footer {
    padding: 0.9rem 0.75rem 1rem 0.75rem;
    border-top: 1px solid #eef2f6;
    background: #ffffff;
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Attendance/CheckInOut.razor">
@page "/attendance/check-in-out"
@attribute [Authorize]
@using MegaMarket.Data.Models
@inject Services.Users.UsersApiClient UsersApiClient
@inject Services.ShiftTypes.ShiftTypesApiClient ShiftTypesApiClient
@inject Services.Attendance.AttendanceApiClient AttendanceApiClient
@inject NavigationManager NavigationManager
@inject AuthenticationStateProvider AuthStateProvider

<div class="container mt-4">
    @* Header *@
    <div class="text-center mb-4">
        <h2 class="text-gradient mb-1">Attendance Check-In/Out</h2>
        <p class="text-muted">Mark your attendance for today's shift</p>
    </div>

    @* Error Message *@
    @if (!string.IsNullOrEmpty(errorMessage))
    {
        <ErrorAlert ErrorMessage="@errorMessage" OnDismiss="@(() => errorMessage = null)" />
    }

    @* Success Message *@
    @if (!string.IsNullOrEmpty(successMessage))
    {
        <div class="alert alert-success alert-dismissible fade show">
            <strong>✓ Success:</strong> @successMessage
            <button class="btn-close" @onclick="@(() => successMessage = null)"></button>
        </div>
    }

    @* Loading State *@
    @if (isLoading)
    {
        <LoadingSpinner Message="Loading attendance status..." />
    }
    else
    {
        @* Check-In/Out Card *@
        <CheckInOutCard
            CurrentUser="@currentUser"
            TodayAttendance="@todayAttendance"
            AvailableShiftTypes="@availableShiftTypes"
            OnCheckIn="HandleCheckIn"
            OnCheckOut="HandleCheckOut" />
    }
</div>

@code {
    private User? currentUser;
    private MegaMarket.Data.Models.Attendance? todayAttendance;
    private List<ShiftType>? availableShiftTypes;
    private bool isLoading = true;
    private string? errorMessage;
    private string? successMessage;

    protected override async Task OnInitializedAsync()
    {
        await LoadData();
    }

    private async Task LoadData()
    {
        try
        {
            isLoading = true;
            errorMessage = null;

            // Get current user info
            var authState = await AuthStateProvider.GetAuthenticationStateAsync();
            var user = authState.User;
            var userIdClaim = user.FindFirst("userId")?.Value;

            if (string.IsNullOrEmpty(userIdClaim) || !int.TryParse(userIdClaim, out var userId))
            {
                errorMessage = "Unable to identify current user. Please log in again.";
                return;
            }

            // Load user info
            currentUser = await UsersApiClient.GetUserAsync(userId);

            if (currentUser == null)
            {
                errorMessage = "Failed to load user information.";
                return;
            }

            // Load today's attendance
            var userAttendances = await AttendanceApiClient.GetAttendancesByUserAsync(userId);
            if (userAttendances != null)
            {
                todayAttendance = userAttendances
                    .FirstOrDefault(a => a.Date.Date == DateTime.Today);
            }

            // Load available shift types
            availableShiftTypes = await ShiftTypesApiClient.GetShiftTypesAsync();
            if (availableShiftTypes == null)
            {
                availableShiftTypes = new List<ShiftType>();
            }
        }
        catch (Exception ex)
        {
            errorMessage = $"Failed to load data: {ex.Message}";
        }
        finally
        {
            isLoading = false;
        }
    }

    private async Task HandleCheckIn(int shiftTypeId)
    {
        try
        {
            if (currentUser == null)
            {
                errorMessage = "User information not available";
                return;
            }

            errorMessage = null;
            successMessage = null;

            // Create attendance record if it doesn't exist
            if (todayAttendance == null)
            {
                var attendanceInput = new MegaMarket.API.DTOs.AttendanceInputDto
                {
                    UserId = currentUser.UserId,
                    ShiftTypeId = shiftTypeId,
                    Date = DateTime.Today
                };

                todayAttendance = await AttendanceApiClient.CreateAttendanceAsync(attendanceInput);
            }

            // Now check in
            var result = await AttendanceApiClient.CheckInAsync(currentUser.UserId, DateTime.Today);

            if (result != null)
            {
                todayAttendance = result;
                var status = todayAttendance?.IsLate == true ? "late" : "on time";
                successMessage = $"Checked in successfully at {DateTime.Now:h:mm tt} ({status})!";
            }
            else
            {
                errorMessage = "Failed to check in.";
            }
        }
        catch (Exception ex)
        {
            errorMessage = $"Failed to check in: {ex.Message}";
        }
    }

    private async Task HandleCheckOut()
    {
        if (todayAttendance == null || currentUser == null)
        {
            errorMessage = "No check-in record found for today";
            return;
        }

        try
        {
            errorMessage = null;
            successMessage = null;

            var result = await AttendanceApiClient.CheckOutAsync(currentUser.UserId, DateTime.Today);

            if (result != null)
            {
                todayAttendance.CheckOut = result.CheckOut;
                successMessage = $"Checked out successfully at {DateTime.Now:h:mm tt}!";
            }
            else
            {
                errorMessage = "Failed to check out.";
            }
        }
        catch (Exception ex)
        {
            errorMessage = $"Failed to check out: {ex.Message}";
        }
    }

}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Attendance/Components/AttendanceStats.razor">
@* Attendance Statistics Component *@
@using MegaMarket.Data.Models

<div class="row mb-4">
    <div class="col-md-3">
        <StatsCard
            Title="Total Records"
            Value="@totalRecords.ToString()"
            SubLabel="Attendance entries"
            Color="primary" />
    </div>
    <div class="col-md-3">
        <StatsCard
            Title="On Time"
            Value="@onTimeCount.ToString()"
            SubLabel="@($"{onTimePercentage}% of total")"
            Color="success" />
    </div>
    <div class="col-md-3">
        <StatsCard
            Title="Late Arrivals"
            Value="@lateCount.ToString()"
            SubLabel="@($"{latePercentage}% of total")"
            Color="warning" />
    </div>
    <div class="col-md-3">
        <StatsCard
            Title="Total Hours"
            Value="@totalHours.ToString("F1")"
            SubLabel="Work hours"
            Color="info" />
    </div>
</div>

@code {
    [Parameter]
    public List<MegaMarket.Data.Models.Attendance>? Attendances { get; set; }

    private int totalRecords => Attendances?.Count ?? 0;
    private int onTimeCount => Attendances?.Count(a => !a.IsLate && a.CheckOut != null) ?? 0;
    private int lateCount => Attendances?.Count(a => a.IsLate) ?? 0;
    private int onTimePercentage => totalRecords > 0 ? (int)((double)onTimeCount / totalRecords * 100) : 0;
    private int latePercentage => totalRecords > 0 ? (int)((double)lateCount / totalRecords * 100) : 0;

    private decimal totalHours
    {
        get
        {
            if (Attendances == null || !Attendances.Any()) return 0;

            var hours = Attendances
                .Where(a => a.CheckOut != null)
                .Sum(a => (a.CheckOut!.Value - a.CheckIn!.Value).TotalHours);

            return (decimal)hours;
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Attendance/Components/AttendanceTable.razor">
@* Attendance Table Component *@
@using MegaMarket.Data.Models
@inject AuthenticationStateProvider AuthStateProvider

<div class="card">
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>Date</th>
                        @if (isAdmin)
                        {
                            <th>Employee</th>
                        }
                        <th>Shift</th>
                        <th>Check In</th>
                        <th>Check Out</th>
                        <th>Work Time</th>
                        <th>Status</th>
                        <th>Wage</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var attendance in Attendances ?? new List<MegaMarket.Data.Models.Attendance>())
                    {
                        <tr>
                            <td>
                                <strong>@attendance.Date.ToString("MMM dd, yyyy")</strong>
                                <br />
                                <small class="text-muted">@attendance.Date.ToString("dddd")</small>
                            </td>
                            @if (isAdmin)
                            {
                                <td>
                                    @attendance.User?.FullName
                                    <br />
                                    <small class="text-muted">@attendance.User?.Username</small>
                                </td>
                            }
                            <td>
                                <span class="badge bg-secondary">@attendance.ShiftType?.Name</span>
                                <br />
                                <small class="text-muted">@FormatTime(attendance.ShiftType?.StartTime) - @FormatTime(attendance.ShiftType?.EndTime)</small>
                            </td>
                            <td>
                                @if (attendance.CheckIn != null)
                                {
                                    @attendance.CheckIn.Value.ToString("h:mm tt")
                                }
                                else
                                {
                                    <span class="text-muted">N/A</span>
                                }
                            </td>
                            <td>
                                @if (attendance.CheckOut != null)
                                {
                                    @attendance.CheckOut.Value.ToString("h:mm tt")
                                }
                                else
                                {
                                    <span class="text-muted">Not checked out</span>
                                }
                            </td>
                            <td>
                                @if (attendance.CheckOut != null && attendance.CheckIn != null)
                                {
                                    var duration = attendance.CheckOut.Value - attendance.CheckIn.Value;
                                    <span>@((int)duration.TotalHours)h @duration.Minutes m</span>
                                }
                                else
                                {
                                    <span class="text-muted">-</span>
                                }
                            </td>
                            <td>
                                @if (attendance.CheckOut == null)
                                {
                                    <StatusBadge Status="Pending" />
                                }
                                else if (attendance.IsLate)
                                {
                                    <StatusBadge Status="Late" />
                                }
                                else
                                {
                                    <StatusBadge Status="On Time" />
                                }
                            </td>
                            <td>
                                @if (attendance.CheckOut != null && attendance.CheckIn != null)
                                {
                                    var duration = attendance.CheckOut.Value - attendance.CheckIn.Value;
                                    var wage = (decimal)duration.TotalHours * (attendance.ShiftType?.WagePerHour ?? 0);
                                    <strong class="text-success">$@wage.ToString("F2")</strong>
                                }
                                else
                                {
                                    <span class="text-muted">-</span>
                                }
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

        @* Summary Row *@
        @if (Attendances != null && Attendances.Any())
        {
            var completedAttendances = Attendances.Where(a => a.CheckOut != null && a.CheckIn != null).ToList();
            var totalHours = completedAttendances.Sum(a => (a.CheckOut!.Value - a.CheckIn!.Value).TotalHours);
            var totalWage = completedAttendances.Sum(a =>
            {
                var duration = a.CheckOut!.Value - a.CheckIn!.Value;
                return (decimal)duration.TotalHours * (a.ShiftType?.WagePerHour ?? 0);
            });

            <div class="alert alert-info mt-3">
                <div class="row">
                    <div class="col-md-6">
                        <strong>Total Work Time:</strong> @((int)totalHours)h @((int)((totalHours - (int)totalHours) * 60))m
                    </div>
                    <div class="col-md-6">
                        <strong>Total Wage:</strong> <span class="text-success">$@totalWage.ToString("F2")</span>
                    </div>
                </div>
            </div>
        }
    </div>
</div>

@code {
    [Parameter]
    public List<MegaMarket.Data.Models.Attendance>? Attendances { get; set; }

    private bool isAdmin = false;

    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthStateProvider.GetAuthenticationStateAsync();
        var user = authState.User;
        isAdmin = user.IsInRole("Admin");
    }

    private string FormatTime(TimeSpan? time)
    {
        if (time == null) return "N/A";
        return DateTime.Today.Add(time.Value).ToString("h:mm tt");
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Attendance/Components/CheckInOutCard.razor">
@* Check-In/Out Card Component *@
@implements IDisposable

<div class="row justify-content-center">
    <div class="col-12 col-lg-8">
        <div class="card border-0 shadow-lg">
            <div class="card-header bg-primary text-white text-center py-4">
                <h4 class="mb-0">
                    <span class="bi bi-clock-history me-2"></span>
                    @(IsCheckedIn ? "You are Checked In" : "Ready to Check In")
                </h4>
            </div>
            <div class="card-body p-5">
                @* Current Date and Time *@
                <div class="text-center mb-4">
                    <h1 class="display-4 mb-2">@currentTime.ToString("h:mm:ss tt")</h1>
                    <p class="text-muted fs-5">@DateTime.Today.ToString("dddd, MMMM dd, yyyy")</p>
                </div>

                <hr class="my-4" />

                @if (IsCheckedIn && TodayAttendance != null)
                {
                    @* Already Checked In - Show Details *@
                    <div class="alert alert-success">
                        <div class="d-flex align-items-center mb-3">
                            <span class="bi bi-check-circle-fill fs-3 me-3"></span>
                            <div>
                                <h5 class="mb-0">Checked In</h5>
                                <small>@TodayAttendance.CheckIn?.ToString("h:mm tt")</small>
                            </div>
                        </div>

                        <div class="row g-3">
                            <div class="col-md-6">
                                <strong>Shift:</strong> @TodayAttendance.ShiftType?.Name
                            </div>
                            <div class="col-md-6">
                                <strong>Status:</strong>
                                @if (TodayAttendance.IsLate)
                                {
                                    <StatusBadge Status="Late" />
                                }
                                else
                                {
                                    <StatusBadge Status="On Time" />
                                }
                            </div>
                            <div class="col-md-6">
                                <strong>Shift Hours:</strong> @FormatTime(TodayAttendance.ShiftType?.StartTime) - @FormatTime(TodayAttendance.ShiftType?.EndTime)
                            </div>
                            <div class="col-md-6">
                                <strong>Wage:</strong> $@TodayAttendance.ShiftType?.WagePerHour.ToString("F2")/hour
                            </div>
                        </div>

                        @if (!IsCheckedOut)
                        {
                            <div class="mt-3">
                                <strong>Working Time:</strong> @GetWorkingDuration()
                            </div>
                        }
                    </div>

                    @if (IsCheckedOut)
                    {
                        <div class="alert alert-info">
                            <div class="d-flex align-items-center">
                                <span class="bi bi-check-circle fs-3 me-3"></span>
                                <div>
                                    <h5 class="mb-0">Checked Out</h5>
                                    <small>@TodayAttendance.CheckOut?.ToString("h:mm tt")</small>
                                </div>
                            </div>
                            <div class="mt-2">
                                <strong>Total Work Time:</strong> @GetTotalWorkTime()
                            </div>
                        </div>
                    }
                    else
                    {
                        @* Check Out Button *@
                        <div class="text-center mt-4">
                            <button class="btn btn-danger btn-lg btn-check-in" @onclick="HandleCheckOutClick" disabled="@isProcessing">
                                @if (isProcessing)
                                {
                                    <span class="spinner-border spinner-border-sm me-2"></span>
                                }
                                <span class="bi bi-box-arrow-right me-2"></span>
                                Check Out Now
                            </button>
                        </div>
                    }
                }
                else
                {
                    @* Not Checked In Yet - Show Shift Selector *@
                    <div class="mb-4">
                        <label class="form-label fs-5"><strong>Select Your Shift:</strong></label>
                        <select class="form-select form-select-lg" @bind="selectedShiftTypeId">
                            <option value="0">-- Choose a shift --</option>
                            @if (AvailableShiftTypes != null)
                            {
                                @foreach (var shift in AvailableShiftTypes)
                                {
                                    <option value="@shift.ShiftTypeId">
                                        @shift.Name (@FormatTime(shift.StartTime) - @FormatTime(shift.EndTime))
                                    </option>
                                }
                            }
                        </select>
                    </div>

                    @if (selectedShiftTypeId > 0)
                    {
                        var selectedShift = AvailableShiftTypes?.FirstOrDefault(s => s.ShiftTypeId == selectedShiftTypeId);
                        if (selectedShift != null)
                        {
                            <div class="alert alert-info">
                                <strong>📋 Shift Details:</strong>
                                <ul class="mb-0 mt-2">
                                    <li><strong>Name:</strong> @selectedShift.Name</li>
                                    <li><strong>Hours:</strong> @FormatTime(selectedShift.StartTime) - @FormatTime(selectedShift.EndTime)</li>
                                    <li><strong>Wage:</strong> $@selectedShift.WagePerHour.ToString("F2") per hour</li>
                                </ul>
                            </div>
                        }
                    }

                    @* Check In Button *@
                    <div class="text-center mt-4">
                        <button class="btn btn-success btn-lg btn-check-in" @onclick="HandleCheckInClick" disabled="@(selectedShiftTypeId == 0 || isProcessing)">
                            @if (isProcessing)
                            {
                                <span class="spinner-border spinner-border-sm me-2"></span>
                            }
                            <span class="bi bi-box-arrow-in-right me-2"></span>
                            Check In Now
                        </button>
                    </div>
                }
            </div>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public MegaMarket.Data.Models.User? CurrentUser { get; set; }

    [Parameter]
    public MegaMarket.Data.Models.Attendance? TodayAttendance { get; set; }

    [Parameter]
    public List<MegaMarket.Data.Models.ShiftType>? AvailableShiftTypes { get; set; }

    [Parameter]
    public EventCallback<int> OnCheckIn { get; set; }

    [Parameter]
    public EventCallback OnCheckOut { get; set; }

    private DateTime currentTime = DateTime.Now;
    private System.Threading.Timer? timer;
    private int selectedShiftTypeId = 0;
    private bool isProcessing = false;

    private bool IsCheckedIn => TodayAttendance != null;
    private bool IsCheckedOut => TodayAttendance?.CheckOut != null;

    protected override void OnInitialized()
    {
        // Update clock every second
        timer = new System.Threading.Timer(_ =>
        {
            currentTime = DateTime.Now;
            InvokeAsync(StateHasChanged);
        }, null, TimeSpan.Zero, TimeSpan.FromSeconds(1));
    }

    private string FormatTime(TimeSpan? time)
    {
        if (time == null) return "N/A";
        return DateTime.Today.Add(time.Value).ToString("h:mm tt");
    }

    private string GetWorkingDuration()
    {
        if (TodayAttendance?.CheckIn == null) return "0h 0m";

        var duration = DateTime.Now - TodayAttendance.CheckIn.Value;
        return $"{(int)duration.TotalHours}h {duration.Minutes}m";
    }

    private string GetTotalWorkTime()
    {
        if (TodayAttendance?.CheckOut == null || TodayAttendance?.CheckIn == null) return "0h 0m";

        var duration = TodayAttendance.CheckOut.Value - TodayAttendance.CheckIn.Value;
        return $"{(int)duration.TotalHours}h {duration.Minutes}m";
    }

    private async Task HandleCheckInClick()
    {
        if (selectedShiftTypeId == 0) return;

        try
        {
            isProcessing = true;
            if (OnCheckIn.HasDelegate)
            {
                await OnCheckIn.InvokeAsync(selectedShiftTypeId);
            }
        }
        finally
        {
            isProcessing = false;
        }
    }

    private async Task HandleCheckOutClick()
    {
        try
        {
            isProcessing = true;
            if (OnCheckOut.HasDelegate)
            {
                await OnCheckOut.InvokeAsync();
            }
        }
        finally
        {
            isProcessing = false;
        }
    }

    public void Dispose()
    {
        timer?.Dispose();
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Customers/CustomerManagement.razor">
@page "/customers"
@using MegaMarket.BlazorUI.Services.CustomerLoyalty
@inject CustomerService CustomerService
@inject ReportService ReportService
@rendermode InteractiveServer

<div class="container-fluid mt-4">
    <div class="row mb-4">
        <div class="col">
            <h2>👨‍💻 Customer Management</h2>
        </div>
        <div class="col-auto">
            <button class="btn btn-primary" @onclick="OpenAddModal">
                <span class="oi oi-plus"></span> Add Customer
            </button>
        </div>
    </div>

    @if (isLoading)
    {
        <div class="alert alert-info">Loading customers...</div>
    }
    else if (errorMessage != null)
    {
        <div class="alert alert-danger">
            <strong>Error:</strong> @errorMessage
            <button class="btn btn-sm btn-outline-danger float-end" @onclick="() => { errorMessage = null; }">✕</button>
        </div>
    }

    <!-- TOP CUSTOMERS STATS -->
    <div class="row mb-4">
        <div class="col-lg-8">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-info text-white">
                    <h5 class="mb-0">👑 Top 5 Customers by Points</h5>
                </div>
                <div class="card-body p-0">
                    @if (topCustomers != null && topCustomers.Count > 0)
                    {
                        <div class="table-responsive">
                            <table class="table table-sm mb-0">
                                <thead class="table-light">
                                    <tr>
                                        <th>#</th>
                                        <th>Customer Name</th>
                                        <th>Phone</th>
                                        <th>Points</th>
                                        <th>Rank</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var (customer, index) in topCustomers.Select((c, i) => (c, i + 1)))
                                    {
                                        <tr>
                                            <td>
                                                <span class="badge bg-primary">@index</span>
                                            </td>
                                            <td><strong>@customer.FullName</strong></td>
                                            <td>@customer.Phone</td>
                                            <td>
                                                <span class="badge bg-success">@customer.Points pts</span>
                                            </td>
                                            <td>
                                                @if (customer.Rank == "Gold")
                                                {
                                                    <span class="badge bg-warning text-dark">@customer.Rank</span>
                                                }
                                                else if (customer.Rank == "Silver")
                                                {
                                                    <span class="badge bg-secondary">@customer.Rank</span>
                                                }
                                                else if (customer.Rank == "Platinum")
                                                {
                                                    <span class="badge bg-info">@customer.Rank</span>
                                                }
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    }
                    else
                    {
                        <div class="p-3 text-center text-muted">
                            <p>@(isLoadingStats ? "Loading top customers..." : "No customer data available")</p>
                        </div>
                    }
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0">📈 Summary</h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <p class="text-muted small">Total Customers</p>
                        <h4 class="text-success">@(allCustomers?.Count ?? 0)</h4>
                    </div>
                    <div class="mb-3">
                        <p class="text-muted small">Platinum Members</p>
                        <h4 class="text-info">@(allCustomers?.Where(c => c.Rank == "Platinum").Count() ?? 0)</h4>
                    </div>
                    <div class="mb-3">
                        <p class="text-muted small">Gold Members</p>
                        <h4 class="text-warning">@(allCustomers?.Where(c => c.Rank == "Gold").Count() ?? 0)</h4>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-header bg-light">
            <div class="row g-3">
                <div class="col-md-6">
                    <input type="text" class="form-control" placeholder="Search by name or phone..." 
                           @bind="searchTerm" @bind:event="oninput" @onchange="OnSearchChanged" />
                </div>
                <div class="col-md-3">
                    <select class="form-select" @onchange="OnFilterRankChanged">
                        <option value="">All Ranks</option>
                        <option value="Silver">Silver</option>
                        <option value="Gold">Gold</option>
                        <option value="Platinum">Platinum</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <button class="btn btn-outline-secondary w-100" @onclick="ReloadData">🔄 Refresh</button>
                </div>
            </div>
        </div>

        <div class="card-body p-0">
            @if (filteredCustomers != null && filteredCustomers.Count > 0)
            {
                <div class="table-responsive">
                    <table class="table table-hover mb-0">
                        <thead class="table-light sticky-top">
                            <tr>
                                <th>Full Name</th>
                                <th>Phone</th>
                                <th>Email</th>
                                <th>Points</th>
                                <th>Rank</th>
                                <th class="text-center">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var customer in filteredCustomers)
                            {
                                <tr>
                                    <td><strong>@customer.FullName</strong></td>
                                    <td>@customer.Phone</td>
                                    <td>@customer.Email</td>
                                    <td>
                                        <span class="badge bg-success">@customer.Points pts</span>
                                    </td>
                                    <td>
                                        @if (customer.Rank == "Gold")
                                        {
                                            <span class="badge bg-warning text-dark">@customer.Rank</span>
                                        }
                                        else if (customer.Rank == "Silver")
                                        {
                                            <span class="badge bg-secondary">@customer.Rank</span>
                                        }
                                        else if (customer.Rank == "Platinum")
                                        {
                                            <span class="badge bg-info">@customer.Rank</span>
                                        }
                                        else
                                        {
                                            <span class="badge bg-light text-dark">@customer.Rank</span>
                                        }
                                    </td>
                                    <td class="text-center">
                                        <button class="btn btn-sm btn-info" @onclick="() => OpenEditModal(customer)">✎ Edit</button>
                                        <button class="btn btn-sm btn-danger" @onclick="() => DeleteCustomer(customer.CustomerId)">🗑 Delete</button>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>

                <!-- Pagination -->
                <nav class="d-flex justify-content-between align-items-center p-3 border-top">
                    <small class="text-muted">Showing @filteredCustomers.Count customers (Page @currentPage of @totalPages)</small>
                    <ul class="pagination mb-0 small">
                        <li class="page-item @(currentPage == 1 ? "disabled" : "")">
                            <button class="page-link" @onclick="() => { currentPage--; ApplyFilters(); }" disabled="@(currentPage == 1)">Previous</button>
                        </li>
                        <li class="page-item active">
                            <span class="page-link">Page @currentPage</span>
                        </li>
                        <li class="page-item @(currentPage >= totalPages ? "disabled" : "")">
                            <button class="page-link" @onclick="() => { currentPage++; ApplyFilters(); }" disabled="@(currentPage >= totalPages)">Next</button>
                        </li>
                    </ul>
                </nav>
            }
            else
            {
                <div class="p-4 text-center text-muted">
                    <p>No customers found.</p>
                </div>
            }
        </div>
    </div>
</div>

<!-- Modal -->
@if (showModal)
{
    <div class="modal fade show d-block" style="background-color: rgba(0, 0, 0, 0.5);">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-light">
                    <h5 class="modal-title">@(isEditing ? "Edit Customer" : "Add New Customer")</h5>
                    <button type="button" class="btn-close" @onclick="CloseModal"></button>
                </div>
                <div class="modal-body">
                    <CustomerForm 
                        Customer="editingCustomer" 
                        IsEditing="isEditing" 
                        OnSubmit="HandleFormSubmit"
                        OnCancel="CloseModal" />
                </div>
            </div>
        </div>
    </div>
}

@code {
    private List<CustomerDto> allCustomers = new();
    private List<CustomerDto> filteredCustomers = new();
    private List<TopCustomerDto> topCustomers = new();
    private bool isLoading = true;
    private bool isLoadingStats = true;
    private string? errorMessage = null;
    private string searchTerm = "";
    private string filterRank = "";
    private int currentPage = 1;
    private int pageSize = 10;
    private int totalPages = 1;
    private bool showModal = false;
    private bool isEditing = false;
    private CustomerDto? editingCustomer = null;

    protected override async Task OnInitializedAsync()
    {
        await ReloadData();
        await LoadTopCustomers();
    }

    private async Task ReloadData()
    {
        isLoading = true;
        errorMessage = null;
        try
        {
            allCustomers = await CustomerService.GetAllCustomersAsync();
            currentPage = 1;
            ApplyFilters();
        }
        catch (Exception ex)
        {
            errorMessage = ex.Message;
        }
        finally
        {
            isLoading = false;
        }
    }

    private async Task LoadTopCustomers()
    {
        isLoadingStats = true;
        try
        {
            topCustomers = await ReportService.GetTopCustomersAsync(5);
            
            // Fallback: nếu API không trả dữ liệu, sort local allCustomers
            if (!(topCustomers == null || topCustomers.Count == 0))
            {
                topCustomers = allCustomers
                    .OrderByDescending(c => c.Points)
                    .Take(5)
                    .Select(c => new TopCustomerDto
                    {
                        CustomerId = c.CustomerId,
                        FullName = c.FullName,
                        Phone = c.Phone,
                        Points = c.Points,
                        Rank = c.Rank
                    })
                    .ToList();
            }
        }
        catch (Exception ex)
        {
            // Silent fail - không hiển thị error nếu không lấy được stats
            System.Diagnostics.Debug.WriteLine($"Error loading top customers: {ex.Message}");
            
            // Fallback: sort local data
            topCustomers = allCustomers
                .OrderByDescending(c => c.Points)
                .Take(5)
                .Select(c => new TopCustomerDto
                {
                    CustomerId = c.CustomerId,
                    FullName = c.FullName,
                    Phone = c.Phone,
                    Points = c.Points,
                    Rank = c.Rank
                })
                .ToList();
        }
        finally
        {
            isLoadingStats = false;
        }
    }

    private void ApplyFilters()
    {
        var filtered = allCustomers
            .Where(c => 
                (string.IsNullOrEmpty(searchTerm) || 
                 c.FullName?.Contains(searchTerm, StringComparison.OrdinalIgnoreCase) == true ||
                 c.Phone?.Contains(searchTerm, StringComparison.OrdinalIgnoreCase) == true) &&
                (string.IsNullOrEmpty(filterRank) || c.Rank == filterRank)
            )
            .ToList();

        // Calculate total pages
        totalPages = (filtered.Count + pageSize - 1) / pageSize;
        if (totalPages == 0) totalPages = 1;

        // Pagination: show 10 items per page
        filteredCustomers = filtered
            .Skip((currentPage - 1) * pageSize)
            .Take(pageSize)
            .ToList();
    }

    private void OnSearchChanged()
    {
        currentPage = 1;
        ApplyFilters();
    }

    private void OnFilterChanged()
    {
        currentPage = 1;
        ApplyFilters();
    }

    private void OnFilterRankChanged(ChangeEventArgs e)
    {
        filterRank = e.Value?.ToString() ?? "";
        currentPage = 1;
        ApplyFilters();
    }

    private void OpenAddModal()
    {
        editingCustomer = new CustomerDto();
        isEditing = false;
        showModal = true;
    }

    private void OpenEditModal(CustomerDto customer)
    {
        editingCustomer = new CustomerDto
        {
            CustomerId = customer.CustomerId,
            FullName = customer.FullName,
            Phone = customer.Phone,
            Email = customer.Email,
            Points = customer.Points,
            Rank = customer.Rank
        };
        isEditing = true;
        showModal = true;
    }

    private void CloseModal()
    {
        showModal = false;
        editingCustomer = null;
    }

    private async Task HandleFormSubmit(CustomerDto customer)
    {
        try
        {
            if (isEditing && customer.CustomerId > 0)
            {
                var updateDto = new UpdateCustomerDto
                {
                    FullName = customer.FullName,
                    Phone = customer.Phone,
                    Email = customer.Email,
                    Points = customer.Points,
                    Rank = customer.Rank
                };
                await CustomerService.UpdateCustomerAsync(customer.CustomerId, updateDto);
                errorMessage = null;
            }
            else
            {
                var createDto = new CreateCustomerDto
                {
                    FullName = customer.FullName,
                    Phone = customer.Phone,
                    Email = customer.Email,
                    Points = customer.Points
                };
                await CustomerService.CreateCustomerAsync(createDto);
                errorMessage = null;
            }
            CloseModal();
            await ReloadData();
        }
        catch (Exception ex)
        {
            errorMessage = $"Error: {ex.Message}";
        }
    }

    private async Task DeleteCustomer(int id)
    {
        if (!await ConfirmDelete()) return;

        try
        {
            await CustomerService.DeleteCustomerAsync(id);
            errorMessage = null;
            await ReloadData();
        }
        catch (Exception ex)
        {
            errorMessage = $"Error deleting customer: {ex.Message}";
        }
    }

    private async Task<bool> ConfirmDelete()
    {
        return await JsRuntime.InvokeAsync<bool>("confirm", "Are you sure you want to delete this customer?");
    }

    @inject IJSRuntime JsRuntime
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Employees/Components/EmployeeDetailPanel.razor">
@* Employee Detail Panel Component *@

<div class="card border-0 shadow-sm h-100">
    <div class="card-body">
        <div class="text-center mb-3">
            <div class="avatar-circle mx-auto mb-3">
                <span style="font-size: 2em; color: white;">@GetInitials(Employee.FullName)</span>
            </div>
            <h4>@Employee.FullName</h4>
            <p class="text-muted mb-2">
                <StatusBadge Status="@Employee.Role" />
            </p>
            <p class="text-muted small">@Employee.Username</p>
        </div>

        <hr />

        <div class="mb-3">
            <label class="text-muted small">Employee ID</label>
            <p class="mb-2"><strong>#@Employee.UserId</strong></p>
        </div>

        <div class="mb-3">
            <label class="text-muted small">Full Name</label>
            <p class="mb-2"><strong>@Employee.FullName</strong></p>
        </div>

        <div class="mb-3">
            <label class="text-muted small">Username</label>
            <p class="mb-2"><strong>@Employee.Username</strong></p>
        </div>

        <div class="mb-3">
            <label class="text-muted small">Role</label>
            <p class="mb-2"><StatusBadge Status="@Employee.Role" /></p>
        </div>

        <div class="mb-3">
            <label class="text-muted small">📞 Phone</label>
            <p class="mb-2"><strong>@(Employee.Phone ?? "Not provided")</strong></p>
        </div>

        <div class="mb-3">
            <label class="text-muted small">✉️ Email</label>
            <p class="mb-2"><strong>@(Employee.Email ?? "Not provided")</strong></p>
        </div>

        <hr />

        <div class="d-grid gap-2">
            <button class="btn btn-primary" @onclick="HandleEdit">
                <span class="bi bi-pencil me-1"></span> Edit Employee
            </button>
            <button class="btn btn-outline-danger" @onclick="HandleDelete">
                <span class="bi bi-trash me-1"></span> Delete Employee
            </button>
        </div>
    </div>
</div>

@code {
    [Parameter, EditorRequired]
    public MegaMarket.Data.Models.User Employee { get; set; } = null!;

    [Parameter]
    public EventCallback OnEdit { get; set; }

    [Parameter]
    public EventCallback OnDelete { get; set; }

    private async Task HandleEdit()
    {
        if (OnEdit.HasDelegate)
        {
            await OnEdit.InvokeAsync();
        }
    }

    private async Task HandleDelete()
    {
        if (OnDelete.HasDelegate)
        {
            await OnDelete.InvokeAsync();
        }
    }

    private string GetInitials(string fullName)
    {
        if (string.IsNullOrEmpty(fullName))
            return "?";

        var parts = fullName.Split(' ', StringSplitOptions.RemoveEmptyEntries);
        if (parts.Length == 1)
            return parts[0][0].ToString().ToUpper();

        return $"{parts[0][0]}{parts[^1][0]}".ToUpper();
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Employees/Components/EmployeeList.razor">
@* Employee List Table Component *@

<div class="mb-3">
    <input type="text" class="form-control" placeholder="🔍 Search by name or username..."
           @bind-value="searchTerm" @bind-value:event="oninput" />
</div>

<div class="table-responsive">
    <table class="table table-hover">
        <thead class="table-light">
            <tr>
                <th>ID</th>
                <th>Full Name</th>
                <th>Username</th>
                <th>Role</th>
                <th>Phone</th>
                <th>Email</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var employee in FilteredEmployees)
            {
                <tr @onclick="() => SelectEmployee(employee)" style="cursor: pointer;"
                    class="@(IsSelected(employee) ? "table-active" : "")">
                    <td>@employee.UserId</td>
                    <td><strong>@employee.FullName</strong></td>
                    <td>@employee.Username</td>
                    <td><StatusBadge Status="@employee.Role" /></td>
                    <td>@(employee.Phone ?? "-")</td>
                    <td>@(employee.Email ?? "-")</td>
                    <td>
                        <button class="btn btn-sm btn-primary me-1" @onclick:stopPropagation="true"
                                @onclick="() => EditEmployee(employee)" title="Edit">
                            <span class="bi bi-pencil"></span>
                        </button>
                        <button class="btn btn-sm btn-danger" @onclick:stopPropagation="true"
                                @onclick="() => DeleteEmployee(employee)" title="Delete">
                            <span class="bi bi-trash"></span>
                        </button>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

@if (!FilteredEmployees.Any())
{
    <div class="alert alert-info">
        No employees match your search criteria.
    </div>
}

@code {
    [Parameter]
    public List<MegaMarket.Data.Models.User> Employees { get; set; } = new();

    [Parameter]
    public EventCallback<MegaMarket.Data.Models.User> OnEmployeeSelected { get; set; }

    [Parameter]
    public EventCallback<MegaMarket.Data.Models.User> OnEditEmployee { get; set; }

    [Parameter]
    public EventCallback<MegaMarket.Data.Models.User> OnDeleteEmployee { get; set; }

    private string searchTerm = string.Empty;
    private MegaMarket.Data.Models.User? selectedEmployee;

    private List<MegaMarket.Data.Models.User> FilteredEmployees
    {
        get
        {
            if (string.IsNullOrWhiteSpace(searchTerm))
                return Employees;

            var term = searchTerm.ToLower();
            return Employees.Where(e =>
                e.FullName.ToLower().Contains(term) ||
                e.Username.ToLower().Contains(term) ||
                (e.Email?.ToLower().Contains(term) ?? false)
            ).ToList();
        }
    }

    private async Task SelectEmployee(MegaMarket.Data.Models.User employee)
    {
        selectedEmployee = employee;
        if (OnEmployeeSelected.HasDelegate)
        {
            await OnEmployeeSelected.InvokeAsync(employee);
        }
    }

    private async Task EditEmployee(MegaMarket.Data.Models.User employee)
    {
        if (OnEditEmployee.HasDelegate)
        {
            await OnEditEmployee.InvokeAsync(employee);
        }
    }

    private async Task DeleteEmployee(MegaMarket.Data.Models.User employee)
    {
        if (OnDeleteEmployee.HasDelegate)
        {
            await OnDeleteEmployee.InvokeAsync(employee);
        }
    }

    private bool IsSelected(MegaMarket.Data.Models.User employee)
    {
        return selectedEmployee?.UserId == employee.UserId;
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Imports/Imports.razor">
@page "/imports"
@rendermode InteractiveServer
@using MegaMarket.BlazorUI.Services.Imports
@inject NavigationManager Navigation
@inject ImportService ImportService

<div class="imports-page">
    <div class="page-header card shadow-sm border-0">
        <div class="d-flex align-items-center gap-3">
            <div class="header-icon">
                <span class="bi bi-truck"></span>
            </div>
            <div>
                <h1 class="page-title mb-1">Import Management</h1>
                <p class="text-muted mb-0">Track and manage stock import transactions</p>
            </div>
        </div>
    </div>

    <div class="filters card shadow-sm border-0">
        <div class="filter-layout">
            <div class="filter-left">
                <div class="calendar-icon">
                    <span class="bi bi-calendar4-week"></span>
                </div>
                <div class="date-range">
                    <input class="form-control" type="date" @bind="fromDate" @bind:format="yyyy-MM-dd" placeholder="mm/dd/yyyy" />
                    <span class="to-label text-muted">to</span>
                    <input class="form-control" type="date" @bind="toDate" @bind:format="yyyy-MM-dd" placeholder="mm/dd/yyyy" />
                </div>
                <div class="id-search input-group input-group-sm">
                    <span class="input-group-text">#</span>
                    <input class="form-control" type="text" inputmode="numeric" pattern="[0-9]*" placeholder="Import ID" @bind="importIdSearchText" @bind:event="oninput" />
                </div>
                <select class="form-select slim" @bind="selectedSupplier">
                    <option value="">All Suppliers</option>
                    @foreach (var supplier in Suppliers)
                    {
                        <option value="@supplier">@supplier</option>
                    }
                </select>

                <select class="form-select slim" @bind="selectedStatus">
                    <option value="">All Status</option>
                    @foreach (var status in Statuses)
                    {
                        <option value="@status">@status</option>
                    }
                </select>
            </div>

            <div class="filter-actions">
                <button class="btn btn-outline-secondary refresh-btn" title="Refresh" @onclick="ResetFilters" disabled="@isLoading">
                    <span class="bi bi-arrow-repeat"></span>
                </button>
                <button class="btn btn-dark d-flex align-items-center gap-2" @onclick="GoToNewImport">
                    <span class="bi bi-plus-lg"></span>
                    New Import
                </button>
            </div>
        </div>
    </div>

    @if (!string.IsNullOrWhiteSpace(errorMessage))
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Oops!</strong> @errorMessage
            <button type="button" class="btn-close" @onclick="() => errorMessage = null"></button>
        </div>
    }

    <div class="card shadow-sm border-0">
        <div class="table-responsive">
            @if (isLoading)
            {
                <div class="p-4 text-center text-muted">
                    <div class="spinner-border text-primary" role="status"></div>
                    <p class="mb-0 mt-2">Loading imports...</p>
                </div>
            }
            else if (!FilteredImports.Any())
            {
                <div class="p-4 text-center text-muted">
                    <p class="mb-2">No imports match your filters.</p>
                    <button class="btn btn-outline-secondary btn-sm" @onclick="ResetFilters">Reset filters</button>
                </div>
            }
            else
            {
                <table class="table align-middle mb-0 imports-table">
                    <thead>
                        <tr>
                            <th>Import ID <span class="bi bi-arrow-down-up"></span></th>
                            <th>Date <span class="bi bi-arrow-down-up"></span></th>
                            <th>Supplier</th>
                            <th>Staff</th>
                            <th>Total Cost <span class="bi bi-arrow-down-up"></span></th>
                            <th>Status</th>
                            <th class="text-end">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var import in FilteredImports)
                        {
                            var rowClass = import.NearExpiry || import.Expired ? "highlight" : string.Empty;
                            <tr class="@rowClass">
                                <td class="text-muted">#@import.ImportId.ToString("0000")</td>
                                <td>@import.ImportDate.ToString("dd/MM/yyyy")</td>
                                <td>@import.Supplier</td>
                                <td>@import.Staff</td>
                                <td class="fw-semibold">@import.TotalCost.ToString("N0") đ</td>
                                <td>
                                    <div class="d-flex gap-2 flex-wrap align-items-center">
                                        <span class="badge status @GetStatusClass(import.Status)">@import.Status</span>
                                        @if (import.NearExpiry)
                                        {
                                            <span class="badge status warning">Near Expiry</span>
                                        }
                                        @if (import.Expired)
                                        {
                                            <span class="badge status danger">Expired</span>
                                        }
                                    </div>
                                </td>
                                <td class="text-end">
                                    <div class="action-icons">
                                        <button class="icon-btn" title="View" @onclick="() => ViewImport(import.ImportId)"><span class="bi bi-eye"></span></button>
                                        <button class="icon-btn" title="Edit" @onclick="() => EditImport(import.ImportId)"><span class="bi bi-pencil"></span></button>
                                        <button class="icon-btn danger" title="Delete" @onclick="() => ConfirmDelete(import.ImportId)"><span class="bi bi-trash"></span></button>
                                    </div>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
        </div>
        <div class="px-3 py-3 text-muted small border-top">Showing @FilteredImports.Count() imports</div>
    </div>

    @if (deleteTargetId.HasValue)
    {
        <div class="modal-overlay" @onclick="() => deleteTargetId = null">
            <div class="modal-panel confirm" @onclick:stopPropagation="true">
                <div class="modal-header">
                    <div>
                        <p class="eyebrow mb-1">Delete import</p>
                        <h4 class="mb-0 text-danger">Are you sure?</h4>
                    </div>
                    <button class="btn-close" @onclick="() => deleteTargetId = null"></button>
                </div>
                <div class="modal-body">
                    <p class="mb-3">This will remove the import permanently.</p>
                    <div class="d-flex gap-2 justify-content-end">
                        <button class="btn btn-outline-secondary" @onclick="() => deleteTargetId = null" disabled="@isDeleting">Cancel</button>
                        <button class="btn btn-danger" @onclick="DeleteConfirmed" disabled="@isDeleting">
                            @(isDeleting ? "Deleting..." : "Delete")
                        </button>
                    </div>
                </div>
            </div>
        </div>
    }
</div>

@code {
    private List<ImportSummaryDto> imports = new();
    private DateTime? fromDate;
    private DateTime? toDate;
    private string? importIdSearchText;
    private string selectedSupplier = string.Empty;
    private string selectedStatus = string.Empty;
    private bool isLoading;
    private string? errorMessage;
    private int? deleteTargetId;
    private bool isDeleting;

    private IEnumerable<string> Suppliers => imports.Select(i => i.Supplier).Distinct().OrderBy(i => i);
    private IEnumerable<string> Statuses => imports.Any()
        ? imports.Select(i => i.Status).Distinct().OrderBy(i => i)
        : new[] { "Completed", "Draft", "Cancelled" };

    private IEnumerable<ImportSummaryDto> FilteredImports => imports
        .Where(i => !fromDate.HasValue || i.ImportDate.Date >= fromDate.Value.Date)
        .Where(i => !toDate.HasValue || i.ImportDate.Date <= toDate.Value.Date)
        .Where(i => string.IsNullOrWhiteSpace(importIdSearchText) || i.ImportId.ToString("0000").Contains(importIdSearchText.Trim(), StringComparison.OrdinalIgnoreCase))
        .Where(i => string.IsNullOrWhiteSpace(selectedSupplier) || i.Supplier == selectedSupplier)
        .Where(i => string.IsNullOrWhiteSpace(selectedStatus) || i.Status == selectedStatus);

    protected override async Task OnInitializedAsync()
    {
        await LoadImportsAsync();
    }

    private async Task LoadImportsAsync()
    {
        try
        {
            isLoading = true;
            errorMessage = null;
            imports = await ImportService.GetImportsAsync();
        }
        catch (Exception ex)
        {
            errorMessage = ex.Message;
        }
        finally
        {
            isLoading = false;
        }
    }

    private async Task ResetFilters()
    {
        fromDate = null;
        toDate = null;
        importIdSearchText = null;
        selectedSupplier = string.Empty;
        selectedStatus = string.Empty;
        await LoadImportsAsync();
    }

    private void GoToNewImport() => Navigation.NavigateTo("/imports/new");

    private void ViewImport(int id) => Navigation.NavigateTo($"/imports/{id}");

    private void EditImport(int id) => Navigation.NavigateTo($"/imports/{id}/edit");

    private void ConfirmDelete(int id)
    {
        deleteTargetId = id;
    }

    private async Task DeleteConfirmed()
    {
        if (!deleteTargetId.HasValue)
        {
            return;
        }

        try
        {
            isDeleting = true;
            await ImportService.DeleteImportAsync(deleteTargetId.Value);
            deleteTargetId = null;
            await LoadImportsAsync();
        }
        catch (Exception ex)
        {
            errorMessage = ex.Message;
        }
        finally
        {
            isDeleting = false;
        }
    }

    private static string GetStatusClass(string status) => (status ?? string.Empty).ToLower() switch
    {
        "completed" => "success",
        "draft" => "neutral",
        "cancelled" => "danger",
        _ => "neutral"
    };
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Imports/Imports.razor.css">
.imports-page {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.page-header {
    padding: 1.25rem 1.5rem;
    background: #ffffff;
    border-radius: 14px;
}

.header-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    background: linear-gradient(135deg, #eef3ff, #d9e5ff);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: #113e92;
    font-size: 1.35rem;
}

.page-title {
    font-weight: 700;
    margin: 0;
}

.filters .filter-layout {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    padding: 0.75rem 1rem;
}

.filter-left {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.id-search {
    max-width: 150px;
}

.date-range {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.date-range .form-control {
    min-width: 160px;
}

.filter-actions {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.imports-table thead th {
    color: #7d8593;
    font-weight: 700;
    border-bottom: 1px solid #e9ecef;
}

.imports-table tbody tr.highlight {
    background: #fff6e5;
}

.imports-table .badge.status {
    border-radius: 999px;
    padding: 0.25rem 0.55rem;
    font-size: 0.8rem;
    font-weight: 600;
    color: #0a1f44;
    background: #e6eefc;
    border: 1px solid #c8d9ff;
}

.imports-table .badge.status.success {
    background: #e8f7ee;
    color: #1b7f41;
    border-color: #b7e3c8;
}

.imports-table .badge.status.warning {
    background: #fff4e0;
    color: #a05b00;
    border-color: #ffd59a;
}

.imports-table .badge.status.danger {
    background: #ffe6e6;
    color: #b02a37;
    border-color: #ffb3b8;
}

.imports-table .badge.status.neutral {
    background: #eef2f6;
    color: #4a5668;
    border-color: #d2d8e0;
}

.action-icons {
    display: inline-flex;
    gap: 0.5rem;
}

.action-icons .icon-btn {
    border: none;
    background: transparent;
    color: #566274;
    padding: 0.25rem;
}

.action-icons .icon-btn.danger {
    color: #c0392b;
}

.modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.35);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1050;
}

.modal-panel {
    background: #fff;
    border-radius: 12px;
    width: min(420px, 90vw);
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
}

.modal-panel .modal-header,
.modal-panel .modal-body {
    padding: 1rem 1.25rem;
}

.modal-panel .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #eef1f5;
}

.modal-panel.confirm .modal-body {
    padding-top: 1rem;
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Loyalty/RedeemModal.razor">
@using MegaMarket.BlazorUI.Services.CustomerLoyalty
@inject LoyaltyService LoyaltyService

<div>
    @if (isLoading)
    {
        <div class="alert alert-info">
            <div class="spinner-border spinner-border-sm me-2" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            Loading rewards...
        </div>
    }
    else if (errorMessage != null)
    {
        <div class="alert alert-danger alert-dismissible fade show">
            <strong>⚠️ Error:</strong> @errorMessage
            <button class="btn-close" @onclick="() => { errorMessage = null; }"></button>
        </div>
    }

    <div class="form-group">
        <label for="rewardSelect" class="form-label fw-bold">🎁 Select Reward to Redeem</label>
        <select class="form-select form-select-lg" id="rewardSelect" @onchange="OnRewardSelected">
            <option value="0">-- Choose a reward --</option>
            @if (availableRewards != null && availableRewards.Count > 0)
            {
                @foreach (var reward in availableRewards)
                {
                    <option value="@reward.RewardId">
                        @reward.Name (@reward.PointCost pts) - @reward.RewardType
                    </option>
                }
            }
        </select>
    </div>

    @if (selectedReward != null)
    {
        <div class="card mt-4 border-0 shadow-sm">
            <div class="card-body">
                <h5 class="card-title mb-3">@selectedReward.Name</h5>
                
                @if (!string.IsNullOrEmpty(selectedReward.Description))
                {
                    <p class="card-text text-muted">@selectedReward.Description</p>
                }

                <div class="row mt-4">
                    <div class="col-md-6">
                        <div class="p-3 bg-light rounded">
                            <p class="text-muted small mb-2">💎 Points Required</p>
                            <h4 class="text-danger">@selectedReward.PointCost</h4>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="p-3 bg-light rounded">
                            <p class="text-muted small mb-2">⭐ Your Points</p>
                            <h4 class="@(CurrentPoints >= selectedReward.PointCost ? "text-success" : "text-danger")">
                                @CurrentPoints
                            </h4>
                        </div>
                    </div>
                </div>

                <div class="mt-4">
                    <div class="row">
                        <div class="col-md-6">
                            <p class="text-muted small">📦 Type</p>
                            <span class="badge @GetRewardTypeBadge(selectedReward.RewardType)">
                                @selectedReward.RewardType
                            </span>
                        </div>
                        <div class="col-md-6">
                            <p class="text-muted small">📊 Available</p>
                            <h6>@selectedReward.QuantityAvailable items</h6>
                        </div>
                    </div>
                </div>

                @if (CurrentPoints < selectedReward.PointCost)
                {
                    <div class="alert alert-warning mt-4 mb-0">
                        <strong>⚠️ Insufficient Points</strong>
                        <p class="mb-0">You need @(selectedReward.PointCost - CurrentPoints) more points to redeem this reward.</p>
                    </div>
                }
                else if (selectedReward.QuantityAvailable <= 0)
                {
                    <div class="alert alert-danger mt-4 mb-0">
                        <strong>❌ Out of Stock</strong>
                        <p class="mb-0">This reward is no longer available.</p>
                    </div>
                }
                else
                {
                    <div class="alert alert-success mt-4 mb-0">
                        <strong>✅ Ready to Redeem</strong>
                        <p class="mb-0">You have enough points to redeem this reward!</p>
                    </div>
                }
            </div>
        </div>
    }

    <div class="d-flex gap-2 mt-4">
        <button class="btn btn-primary flex-grow-1 btn-lg" 
                @onclick="RedeemReward"
                disabled="@(selectedRewardId == 0 || selectedReward == null || CurrentPoints < selectedReward.PointCost || selectedReward.QuantityAvailable <= 0 || isRedeeming)">
            @if (isRedeeming)
            {
                <span class="spinner-border spinner-border-sm me-2" role="status">
                    <span class="visually-hidden">Loading...</span>
                </span>
                <span>Processing...</span>
            }
            else
            {
                <span>🎁 Redeem Now</span>
            }
        </button>
        <button class="btn btn-outline-secondary btn-lg" @onclick="OnCancel" disabled="@isRedeeming">Cancel</button>
    </div>
</div>

@code {
    [Parameter]
    public int CustomerId { get; set; }

    [Parameter]
    public int CurrentPoints { get; set; }

    [Parameter]
    public EventCallback OnRedeemSuccess { get; set; }

    [Parameter]
    public EventCallback OnCancel { get; set; }

    private List<RewardDto> availableRewards = new();
    private RewardDto? selectedReward = null;
    private int selectedRewardId = 0;
    private bool isLoading = true;
    private bool isRedeeming = false;
    private string? errorMessage = null;

    protected override async Task OnInitializedAsync()
    {
        await LoadRewards();
    }

    private async Task LoadRewards()
    {
        isLoading = true;
        errorMessage = null;
        try
        {
            // Fetch all active rewards from API
            availableRewards = await LoyaltyService.GetAvailableRewardsAsync();
            
            // Filter to only active rewards with quantity available
            availableRewards = availableRewards
                .Where(r => r.QuantityAvailable > 0)
                .ToList();
        }
        catch (Exception ex)
        {
            errorMessage = $"Error loading rewards: {ex.Message}";
        }
        finally
        {
            isLoading = false;
        }
    }

    private async Task RedeemReward()
    {
        if (selectedRewardId == 0 || selectedReward == null) return;

        isRedeeming = true;
        errorMessage = null;
        try
        {
            var redeemDto = new RedeemRewardDto
            {
                CustomerId = CustomerId,
                RewardId = selectedRewardId,
                InvoiceId = null
            };

            await LoyaltyService.RedeemRewardAsync(redeemDto);
            await OnRedeemSuccess.InvokeAsync();
        }
        catch (Exception ex)
        {
            errorMessage = $"❌ {ex.Message}";
        }
        finally
        {
            isRedeeming = false;
        }
    }

    private void OnRewardSelected(ChangeEventArgs e)
    {
        if (int.TryParse(e.Value?.ToString(), out int rewardId) && rewardId > 0)
        {
            selectedRewardId = rewardId;
            selectedReward = availableRewards.FirstOrDefault(r => r.RewardId == rewardId);
        }
        else
        {
            selectedRewardId = 0;
            selectedReward = null;
        }
        StateHasChanged();
    }

    private string GetRewardTypeBadge(string? type) => type switch
    {
        "Gift" => "bg-success",
        "Discount" => "bg-warning text-dark",
        "Voucher" => "bg-primary",
        _ => "bg-light text-dark"
    };
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Rewards/RewardManagement.razor">
@page "/rewards"
@using MegaMarket.BlazorUI.Services.CustomerLoyalty
@inject RewardManagementService RewardService
@inject ReportService ReportService
@inject IJSRuntime JsRuntime
@rendermode InteractiveServer

<div class="container-fluid mt-4">
    <div class="row mb-4">
        <div class="col">
            <h2>🎁 Reward Management</h2>
            <p class="text-muted small">Manage loyalty rewards and incentives</p>
        </div>
        <div class="col-auto">
            <button class="btn btn-primary" @onclick="OpenAddModal">
                <span class="oi oi-plus"></span> Add Reward
            </button>
        </div>
    </div>

    @if (isLoading)
    {
        <div class="alert alert-info">
            <div class="spinner-border spinner-border-sm me-2" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            Loading rewards...
        </div>
    }
    else if (errorMessage != null)
    {
        <div class="alert alert-danger alert-dismissible fade show">
            <strong>Error:</strong> @errorMessage
            <button class="btn-close" @onclick="() => { errorMessage = null; }"></button>
        </div>
    }

    <!-- TOP REWARDS STATS -->
    <div class="row mb-4">
        <div class="col-lg-8">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-info text-white">
                    <h5 class="mb-0">📊 Top 5 Most Redeemed Rewards</h5>
                </div>
                <div class="card-body p-0">
                    @if (topRewards != null && topRewards.Count > 0)
                    {
                        <div class="table-responsive">
                            <table class="table table-sm mb-0">
                                <thead class="table-light">
                                    <tr>
                                        <th>#</th>
                                        <th>Reward Name</th>
                                        <th>Type</th>
                                        <th>Times Redeemed</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var (reward, index) in topRewards.Select((r, i) => (r, i + 1)))
                                    {
                                        <tr>
                                            <td>
                                                <span class="badge bg-primary">@index</span>
                                            </td>
                                            <td><strong>@reward.RewardName</strong></td>
                                            <td>
                                                <span class="badge @GetRewardTypeBadge(reward.RewardType)">@reward.RewardType</span>
                                            </td>
                                            <td>
                                                <span class="badge bg-success">@reward.TotalRedeemed</span>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    }
                    else
                    {
                        <div class="p-3 text-center text-muted">
                            <p>No reward data available</p>
                        </div>
                    }
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0">📈 Summary</h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <p class="text-muted small">Total Rewards</p>
                        <h4 class="text-success">@(allRewards?.Count ?? 0)</h4>
                    </div>
                    <div class="mb-3">
                        <p class="text-muted small">Active Rewards</p>
                        <h4 class="text-info">@(allRewards?.Where(r => r.IsActive).Count() ?? 0)</h4>
                    </div>
                    <div class="mb-3">
                        <p class="text-muted small">Low Stock</p>
                        <h4 class="text-warning">@(allRewards?.Where(r => r.QuantityAvailable <= 5).Count() ?? 0)</h4>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- REWARD LIST SECTION -->
    <div class="card border-0 shadow-sm">
        <div class="card-header bg-light">
            <div class="row g-3">
                <div class="col-md-6">
                    <input type="text" class="form-control" placeholder="Search by name..."
                           @bind="searchTerm" @bind:event="oninput" @onchange="OnSearchChanged" />
                </div>
                <div class="col-md-3">
                    <select class="form-select" @onchange="OnFilterTypeChanged">
                        <option value="">All Types</option>
                        <option value="Gift">Gift</option>
                        <option value="Discount">Discount</option>
                        <option value="Voucher">Voucher</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <button class="btn btn-outline-secondary w-100" @onclick="ReloadData">🔄 Refresh</button>
                </div>
            </div>
        </div>

        <div class="card-body p-0">
            @if (filteredRewards != null && filteredRewards.Count > 0)
            {
                <div class="table-responsive">
                    <table class="table table-hover mb-0">
                        <thead class="table-light">
                            <tr>
                                <th>Name</th>
                                <th>Description</th>
                                <th width="10%">Type</th>
                                <th width="10%">Points</th>
                                <th width="12%">Available</th>
                                <th width="15%" class="text-center">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var reward in filteredRewards)
                            {
                                <tr>
                                    <td><strong>@reward.Name</strong></td>
                                    <td>
                                        <small>@(string.IsNullOrEmpty(reward.Description) ? "N/A" : reward.Description)</small>
                                    </td>
                                    <td>
                                        <span class="badge @GetTypeBadge(reward.RewardType)">@reward.RewardType</span>
                                    </td>
                                    <td>
                                        <span class="badge bg-warning text-dark">@reward.PointCost</span>
                                    </td>
                                    <td>
                                        <span class="@(reward.QuantityAvailable > 0 ? "badge bg-success" : "badge bg-danger")">
                                            @reward.QuantityAvailable
                                        </span>
                                    </td>
                                    <td class="text-center">
                                        <button class="btn btn-sm btn-info" @onclick="() => OpenEditModal(reward)">✎ Edit</button>
                                        <button class="btn btn-sm btn-danger" @onclick="() => DeleteReward(reward.RewardId)">🗑 Delete</button>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            }
            else
            {
                <div class="p-4 text-center text-muted">
                    <p>No rewards found.</p>
                </div>
            }
        </div>
        <div class="card-footer bg-light text-muted small">
            Showing <strong>@(filteredRewards?.Count ?? 0)</strong> of <strong>@(allRewards?.Count ?? 0)</strong> rewards
            <div class="float-end">
                <button class="btn btn-sm btn-outline-secondary @(currentPage == 1 ? "disabled" : "")" @onclick="PreviousPage">← Previous</button>
                <button class="btn btn-sm btn-outline-secondary @(((currentPage * pageSize) >= allRewards.Count) ? "disabled" : "")" @onclick="NextPage">Next →</button>
            </div>
        </div>
    </div>
</div>

<!-- Add/Edit Modal -->
@if (showModal)
{
    <div class="modal fade show d-block" style="background-color: rgba(0, 0, 0, 0.5);">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-light">
                    <h5 class="modal-title">@(isEditing ? "Edit Reward" : "Add New Reward")</h5>
                    <button type="button" class="btn-close" @onclick="CloseModal"></button>
                </div>
                <div class="modal-body">
                    <div class="form-group mb-3">
                        <label class="form-label">Reward Name *</label>
                        <input type="text" class="form-control" @bind="formData.Name" placeholder="Enter reward name" />
                    </div>

                    <div class="form-group mb-3">
                        <label class="form-label">Description</label>
                        <textarea class="form-control" @bind="formData.Description" rows="3" placeholder="Enter description"></textarea>
                    </div>

                    <div class="form-group mb-3">
                        <label class="form-label">Points Required *</label>
                        <input type="number" class="form-control" @bind="formData.PointCost" min="0" />
                    </div>

                    <div class="form-group mb-3">
                        <label class="form-label">Type *</label>
                        <select class="form-select" @bind="formData.RewardType">
                            <option value="Gift">Gift</option>
                            <option value="Discount">Discount</option>
                            <option value="Voucher">Voucher</option>
                        </select>
                    </div>

                    <div class="form-group mb-3">
                        <label class="form-label">Value</label>
                        <input type="number" class="form-control" @bind="formData.Value" step="0.01" />
                    </div>

                    <div class="form-group mb-3">
                        <label class="form-label">Quantity Available *</label>
                        <input type="number" class="form-control" @bind="formData.QuantityAvailable" min="0" />
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" @onclick="SaveReward" disabled="@(string.IsNullOrEmpty(formData.Name) || formData.PointCost <= 0)">
                        @(isEditing ? "Update" : "Add") Reward
                    </button>
                    <button class="btn btn-outline-secondary" @onclick="CloseModal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
}

@code {
    private List<RewardManagementDto> allRewards = new();
    private List<RewardManagementDto> filteredRewards = new();
    private List<TopRewardDto> topRewards = new();
    private RewardManagementDto formData = new();
    private string searchTerm = "";
    private string filterType = "";
    private bool isLoading = true;
    private bool isEditing = false;
    private bool showModal = false;
    private string? errorMessage = null;
    private int currentPage = 1;
    private int pageSize = 10;

    protected override async Task OnInitializedAsync()
    {
        await ReloadData();
    }

    private async Task ReloadData()
    {
        isLoading = true;
        errorMessage = null;
        try
        {
            allRewards = await RewardService.GetAllRewardsAsync();
            System.Diagnostics.Debug.WriteLine($"[RewardManagement] Loaded {allRewards.Count} rewards");
            
            topRewards = await ReportService.GetTopRewardsAsync(5);
            System.Diagnostics.Debug.WriteLine($"[RewardManagement] Received {topRewards?.Count ?? 0} top rewards");

            // Fallback: nếu API không trả dữ liệu hoặc empty, không hiển thị
            if (topRewards == null)
            {
                System.Diagnostics.Debug.WriteLine("[RewardManagement] topRewards is null, setting to empty list");
                topRewards = new();
            }
            else if (topRewards.Count == 0)
            {
                System.Diagnostics.Debug.WriteLine("[RewardManagement] topRewards is empty");
            }
            else
            {
                System.Diagnostics.Debug.WriteLine($"[RewardManagement] Sorting {topRewards.Count} rewards by TotalRedeemed");
                // sắp xếp lại theo TotalRedeemed giảm dần
                topRewards = topRewards.OrderByDescending(r => r.TotalRedeemed).ToList();
                System.Diagnostics.Debug.WriteLine($"[RewardManagement] After sorting: {topRewards.Count} rewards");
                foreach (var r in topRewards)
                {
                    System.Diagnostics.Debug.WriteLine($"  - {r.RewardName}: {r.TotalRedeemed} times redeemed");
                }
            }

            ApplyFilters();
        }
        catch (Exception ex)
        {
            System.Diagnostics.Debug.WriteLine($"[RewardManagement] Error: {ex.Message}\n{ex.StackTrace}");
            errorMessage = ex.Message;
            topRewards = new();
        }
        finally
        {
            isLoading = false;
        }
    }

    private void ApplyFilters()
    {
        var filtered = allRewards
            .Where(r =>
                (string.IsNullOrWhiteSpace(searchTerm) || r.Name.Contains(searchTerm, StringComparison.OrdinalIgnoreCase)) &&
                (string.IsNullOrWhiteSpace(filterType) || r.RewardType == filterType)
            )
            .ToList();

        // Pagination: show 10 items per page
        filteredRewards = filtered
            .Skip((currentPage - 1) * pageSize)
            .Take(pageSize)
            .ToList();
    }

    private void NextPage()
    {
        if ((currentPage * pageSize) < allRewards.Count)
        {
            currentPage++;
            ApplyFilters();
        }
    }

    private void PreviousPage()
    {
        if (currentPage > 1)
        {
            currentPage--;
            ApplyFilters();
        }
    }

    private void OpenAddModal()
    {
        formData = new RewardManagementDto();
        isEditing = false;
        showModal = true;
    }

    private void OpenEditModal(RewardManagementDto reward)
    {
        formData = new RewardManagementDto
        {
            RewardId = reward.RewardId,
            Name = reward.Name,
            Description = reward.Description,
            PointCost = reward.PointCost,
            RewardType = reward.RewardType,
            Value = reward.Value,
            QuantityAvailable = reward.QuantityAvailable,
            IsActive = reward.IsActive
        };
        isEditing = true;
        showModal = true;
    }

    private void CloseModal()
    {
        showModal = false;
        formData = new();
    }

    private async Task SaveReward()
    {
        if (string.IsNullOrWhiteSpace(formData.Name) || formData.PointCost <= 0) return;

        errorMessage = null;
        try
        {
            if (isEditing)
            {
                var updateDto = new UpdateRewardDto
                {
                    Name = formData.Name,
                    Description = formData.Description,
                    PointCost = formData.PointCost,
                    RewardType = formData.RewardType,
                    Value = formData.Value,
                    QuantityAvailable = formData.QuantityAvailable
                };
                await RewardService.UpdateRewardAsync(formData.RewardId, updateDto);
            }
            else
            {
                var createDto = new CreateRewardDto
                {
                    Name = formData.Name,
                    Description = formData.Description,
                    PointCost = formData.PointCost,
                    RewardType = formData.RewardType,
                    Value = formData.Value,
                    QuantityAvailable = formData.QuantityAvailable
                };
                await RewardService.CreateRewardAsync(createDto);
            }
            CloseModal();
            await ReloadData();
        }
        catch (Exception ex)
        {
            errorMessage = $"Error saving reward: {ex.Message}";
        }
    }

    private async Task DeleteReward(int id)
    {
        if (!await JsRuntime.InvokeAsync<bool>("confirm", "Are you sure you want to delete this reward?")) return;

        errorMessage = null;
        try
        {
            await RewardService.DeleteRewardAsync(id);
            await ReloadData();
        }
        catch (Exception ex)
        {
            errorMessage = $"Error deleting reward: {ex.Message}";
        }
    }

    private string GetTypeBadge(string? type) => type switch
    {
        "Gift" => "bg-success",
        "Discount" => "bg-warning text-dark",
        "Voucher" => "bg-primary",
        _ => "bg-light text-dark"
    };

    private string GetRewardTypeBadge(string? type) => type switch
    {
        "Gift" => "bg-success",
        "Discount" => "bg-warning text-dark",
        "Voucher" => "bg-primary",
        _ => "bg-light text-dark"
    };

    private void OnSearchChanged()
    {
        currentPage = 1;
        ApplyFilters();
    }

    private void OnFilterChanged()
    {
        currentPage = 1;
        ApplyFilters();
    }

    private void OnFilterTypeChanged(ChangeEventArgs e)
    {
        filterType = e.Value?.ToString() ?? "";
        currentPage = 1;
        ApplyFilters();
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/ShiftTypes/Components/ShiftTypeFormModal.razor">
@* Shift Type Form Modal Component *@

@if (IsVisible)
{
    <div class="modal show d-block" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
            <div class="modal-content">
                <EditForm Model="formModel" OnValidSubmit="HandleSubmit">
                    <DataAnnotationsValidator />

                    <div class="modal-header">
                        <h5 class="modal-title">
                            @(IsEditMode ? $"Edit Shift Type: {ShiftType?.Name}" : "Add New Shift Type")
                        </h5>
                        <button type="button" class="btn-close" @onclick="HandleCancel"></button>
                    </div>

                    <div class="modal-body">
                        @if (!string.IsNullOrEmpty(errorMessage))
                        {
                            <div class="alert alert-danger">
                                <strong>Error:</strong> @errorMessage
                            </div>
                        }

                        <div class="row">
                            <div class="col-12 mb-3">
                                <label for="name" class="form-label">Shift Name <span class="text-danger">*</span></label>
                                <InputText id="name" class="form-control" @bind-Value="formModel.Name" placeholder="e.g., Morning Shift, Night Shift" />
                                <ValidationMessage For="@(() => formModel.Name)" />
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="startTime" class="form-label">Start Time <span class="text-danger">*</span></label>
                                <InputText id="startTime" type="time" class="form-control" @bind-Value="formModel.StartTime" />
                                <ValidationMessage For="@(() => formModel.StartTime)" />
                                <div class="form-text">When does this shift start?</div>
                            </div>

                            <div class="col-md-6 mb-3">
                                <label for="endTime" class="form-label">End Time <span class="text-danger">*</span></label>
                                <InputText id="endTime" type="time" class="form-control" @bind-Value="formModel.EndTime" />
                                <ValidationMessage For="@(() => formModel.EndTime)" />
                                <div class="form-text">When does this shift end?</div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-12 mb-3">
                                <label for="wagePerHour" class="form-label">Wage Per Hour ($) <span class="text-danger">*</span></label>
                                <div class="input-group">
                                    <span class="input-group-text">$</span>
                                    <InputNumber id="wagePerHour" class="form-control" @bind-Value="formModel.WagePerHour" placeholder="0.00" />
                                </div>
                                <ValidationMessage For="@(() => formModel.WagePerHour)" />
                                <div class="form-text">Hourly wage rate for this shift</div>
                            </div>
                        </div>

                        @* Preview Card *@
                        @if (!string.IsNullOrEmpty(formModel.Name) && !string.IsNullOrEmpty(formModel.StartTime) && !string.IsNullOrEmpty(formModel.EndTime))
                        {
                            <div class="alert alert-info">
                                <strong>📋 Preview:</strong> @formModel.Name from @formModel.StartTime to @formModel.EndTime
                                (@GetDurationPreview() hours) at $@formModel.WagePerHour/hour
                            </div>
                        }
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" @onclick="HandleCancel">Cancel</button>
                        <button type="submit" class="btn btn-primary" disabled="@isSaving">
                            @if (isSaving)
                            {
                                <span class="spinner-border spinner-border-sm me-1"></span>
                            }
                            <span>@(IsEditMode ? "Update Shift Type" : "Create Shift Type")</span>
                        </button>
                    </div>
                </EditForm>
            </div>
        </div>
    </div>
    <div class="modal-backdrop show"></div>
}

@code {
    [Parameter]
    public bool IsVisible { get; set; }

    [Parameter]
    public MegaMarket.Data.Models.ShiftType? ShiftType { get; set; }

    [Parameter]
    public EventCallback<ShiftTypeManagement.ShiftTypeFormData> OnSave { get; set; }

    [Parameter]
    public EventCallback OnCancel { get; set; }

    private ShiftTypeFormModel formModel = new();
    private bool isSaving = false;
    private string? errorMessage;

    private bool IsEditMode => ShiftType != null;

    protected override void OnParametersSet()
    {
        if (IsVisible)
        {
            if (ShiftType != null)
            {
                // Edit mode - populate form with shift type data
                formModel = new ShiftTypeFormModel
                {
                    Name = ShiftType.Name,
                    StartTime = FormatTimeSpan(ShiftType.StartTime),
                    EndTime = FormatTimeSpan(ShiftType.EndTime),
                    WagePerHour = ShiftType.WagePerHour
                };
            }
            else
            {
                // Create mode - reset form
                formModel = new ShiftTypeFormModel();
            }

            errorMessage = null;
        }
    }

    private string FormatTimeSpan(TimeSpan time)
    {
        return time.ToString(@"hh\:mm");
    }

    private async Task HandleSubmit()
    {
        try
        {
            isSaving = true;
            errorMessage = null;

            // Validate times
            if (!TimeSpan.TryParse(formModel.StartTime, out var startTime))
            {
                errorMessage = "Invalid start time format";
                return;
            }

            if (!TimeSpan.TryParse(formModel.EndTime, out var endTime))
            {
                errorMessage = "Invalid end time format";
                return;
            }

            // Check if end time is after start time (considering overnight shifts)
            if (startTime == endTime)
            {
                errorMessage = "Start time and end time cannot be the same";
                return;
            }

            var formData = new ShiftTypeManagement.ShiftTypeFormData
            {
                Name = formModel.Name,
                StartTime = formModel.StartTime,
                EndTime = formModel.EndTime,
                WagePerHour = formModel.WagePerHour
            };

            if (OnSave.HasDelegate)
            {
                await OnSave.InvokeAsync(formData);
            }
        }
        catch (Exception ex)
        {
            errorMessage = ex.Message;
        }
        finally
        {
            isSaving = false;
        }
    }

    private async Task HandleCancel()
    {
        if (OnCancel.HasDelegate)
        {
            await OnCancel.InvokeAsync();
        }
    }

    private string GetDurationPreview()
    {
        if (TimeSpan.TryParse(formModel.StartTime, out var start) && TimeSpan.TryParse(formModel.EndTime, out var end))
        {
            var duration = end - start;
            if (duration.TotalHours < 0)
            {
                duration = duration.Add(TimeSpan.FromHours(24));
            }
            return duration.TotalHours.ToString("F1");
        }
        return "0";
    }

    public class ShiftTypeFormModel
    {
        [Required(ErrorMessage = "Shift name is required")]
        [StringLength(100, ErrorMessage = "Shift name cannot exceed 100 characters")]
        public string Name { get; set; } = string.Empty;

        [Required(ErrorMessage = "Start time is required")]
        public string StartTime { get; set; } = "09:00";

        [Required(ErrorMessage = "End time is required")]
        public string EndTime { get; set; } = "17:00";

        [Required(ErrorMessage = "Wage per hour is required")]
        [Range(0.01, 1000.00, ErrorMessage = "Wage must be between $0.01 and $1000.00")]
        public decimal WagePerHour { get; set; } = 15.00m;
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/ShiftTypes/Components/ShiftTypeList.razor">
@* Shift Type Grid Component *@

<div class="row g-4">
    @foreach (var shiftType in ShiftTypes)
    {
        <div class="col-12 col-md-6 col-lg-4">
            <ShiftTypeCard
                ShiftType="@shiftType"
                OnEdit="@(() => OnEdit.InvokeAsync(shiftType))"
                OnDelete="@(() => OnDelete.InvokeAsync(shiftType))" />
        </div>
    }
</div>

@code {
    [Parameter]
    public List<MegaMarket.Data.Models.ShiftType> ShiftTypes { get; set; } = new();

    [Parameter]
    public EventCallback<MegaMarket.Data.Models.ShiftType> OnEdit { get; set; }

    [Parameter]
    public EventCallback<MegaMarket.Data.Models.ShiftType> OnDelete { get; set; }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/ShiftTypes/ShiftTypeManagement.razor">
@page "/admin/shift-types"
@attribute [Authorize(Roles = "Admin")]
@using MegaMarket.Data.Models
@using MegaMarket.API.DTOs
@inject Services.ShiftTypes.ShiftTypesApiClient ShiftTypesApiClient
@inject NavigationManager NavigationManager

<div class="container-fluid mt-4">
    @* Header *@
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="text-gradient mb-1">Shift Type Management</h2>
            <p class="text-muted">Manage work shift schedules and wage rates</p>
        </div>
        <button class="btn btn-primary" @onclick="ShowCreateModal">
            <span class="bi bi-plus-lg me-1"></span> Add Shift Type
        </button>
    </div>

    @* Stats Cards *@
    <div class="row mb-4">
        <div class="col-md-4">
            <StatsCard
                Title="Total Shift Types"
                Value="@totalShiftTypes.ToString()"
                SubLabel="Active shifts"
                Color="primary" />
        </div>
        <div class="col-md-4">
            <StatsCard
                Title="Average Wage"
                Value="@($"${averageWage:F2}/hr")"
                SubLabel="Per hour"
                Color="success" />
        </div>
        <div class="col-md-4">
            <StatsCard
                Title="Shifts Today"
                Value="@activeShiftsToday.ToString()"
                SubLabel="Currently active"
                Color="info" />
        </div>
    </div>

    @* Error Message *@
    @if (!string.IsNullOrEmpty(errorMessage))
    {
        <ErrorAlert ErrorMessage="@errorMessage" OnDismiss="@(() => errorMessage = null)" />
    }

    @* Loading State *@
    @if (isLoading)
    {
        <LoadingSpinner Message="Loading shift types..." />
    }
    else if (shiftTypes == null || !shiftTypes.Any())
    {
        <EmptyState
            Icon="📋"
            Title="No Shift Types Found"
            Description="Create your first shift type to get started with scheduling."
            ActionText="Add Shift Type"
            OnAction="ShowCreateModal" />
    }
    else
    {
        @* Shift Type Grid *@
        <ShiftTypeList
            ShiftTypes="@shiftTypes"
            OnEdit="ShowEditModal"
            OnDelete="ShowDeleteModal" />
    }
</div>

@* Form Modal *@
<ShiftTypeFormModal
    IsVisible="@showFormModal"
    ShiftType="@shiftTypeToEdit"
    OnSave="HandleSaveShiftType"
    OnCancel="HideFormModal" />

@* Delete Confirmation Modal *@
<ConfirmDialog
    IsVisible="@showDeleteModal"
    Title="Delete Shift Type"
    Message="@($"Are you sure you want to delete '{shiftTypeToDelete?.Name}'? This will affect all related attendance records.")"
    OnConfirm="HandleDeleteShiftType"
    OnCancel="HideDeleteModal" />

@code {
    private List<ShiftType>? shiftTypes;
    private bool isLoading = true;
    private string? errorMessage;

    // Stats
    private int totalShiftTypes => shiftTypes?.Count ?? 0;
    private decimal averageWage => shiftTypes?.Any() == true ? shiftTypes.Average(s => s.WagePerHour) : 0;
    private int activeShiftsToday = 0;

    // Modal states
    private bool showFormModal = false;
    private bool showDeleteModal = false;
    private ShiftType? shiftTypeToEdit;
    private ShiftType? shiftTypeToDelete;

    protected override async Task OnInitializedAsync()
    {
        await LoadShiftTypes();
    }

    private async Task LoadShiftTypes()
    {
        try
        {
            isLoading = true;
            errorMessage = null;

            shiftTypes = await ShiftTypesApiClient.GetShiftTypesAsync();

            if (shiftTypes == null)
            {
                errorMessage = "Failed to load shift types.";
                shiftTypes = new List<ShiftType>();
            }
            else
            {
                CalculateActiveShiftsToday();
            }
        }
        catch (Exception ex)
        {
            errorMessage = $"Failed to load shift types: {ex.Message}";
            shiftTypes = new List<ShiftType>();
        }
        finally
        {
            isLoading = false;
        }
    }

    private void CalculateActiveShiftsToday()
    {
        if (shiftTypes == null) return;

        var currentTime = DateTime.Now.TimeOfDay;
        activeShiftsToday = shiftTypes.Count(s =>
            s.StartTime <= currentTime && s.EndTime >= currentTime);
    }

    private void ShowCreateModal()
    {
        shiftTypeToEdit = null;
        showFormModal = true;
    }

    private void ShowEditModal(ShiftType shiftType)
    {
        shiftTypeToEdit = shiftType;
        showFormModal = true;
    }

    private void ShowDeleteModal(ShiftType shiftType)
    {
        shiftTypeToDelete = shiftType;
        showDeleteModal = true;
    }

    private void HideFormModal()
    {
        showFormModal = false;
        shiftTypeToEdit = null;
    }

    private void HideDeleteModal()
    {
        showDeleteModal = false;
        shiftTypeToDelete = null;
    }

    private async Task HandleSaveShiftType(ShiftTypeFormData formData)
    {
        try
        {
            // Convert form data to DTO
            var input = new ShiftTypeInputDto
            {
                Name = formData.Name,
                StartTime = TimeSpan.Parse(formData.StartTime),
                EndTime = TimeSpan.Parse(formData.EndTime),
                WagePerHour = formData.WagePerHour
            };

            if (shiftTypeToEdit == null)
            {
                // Create new shift type
                await ShiftTypesApiClient.CreateShiftTypeAsync(input);
            }
            else
            {
                // Update existing shift type
                await ShiftTypesApiClient.UpdateShiftTypeAsync(shiftTypeToEdit.ShiftTypeId, input);
            }

            HideFormModal();
            await LoadShiftTypes();
        }
        catch (Exception ex)
        {
            errorMessage = $"Failed to save shift type: {ex.Message}";
        }
    }

    private async Task HandleDeleteShiftType()
    {
        if (shiftTypeToDelete == null) return;

        try
        {
            var success = await ShiftTypesApiClient.DeleteShiftTypeAsync(shiftTypeToDelete.ShiftTypeId);

            if (!success)
            {
                errorMessage = "Failed to delete shift type.";
            }

            HideDeleteModal();
            await LoadShiftTypes();
        }
        catch (Exception ex)
        {
            errorMessage = $"Failed to delete shift type: {ex.Message}";
            HideDeleteModal();
        }
    }

    // Form Data (used by the form modal)
    public class ShiftTypeFormData
    {
        public string Name { get; set; } = string.Empty;
        public string StartTime { get; set; } = string.Empty;
        public string EndTime { get; set; } = string.Empty;
        public decimal WagePerHour { get; set; }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/AttendanceByShiftDto.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public class AttendanceByShiftDto
{
    public string ShiftName { get; set; } = string.Empty;
    public int AttendanceCount { get; set; }
    public int OnTimeCount { get; set; }
    public int LateCount { get; set; }
    public double TotalHoursWorked { get; set; }
    public decimal TotalWages { get; set; }
}
</file>

<file path="MegaMarket.BlazorUI/Models/Dashboard/EmployeeDashboardDto.cs">
namespace MegaMarket.BlazorUI.Models.Dashboard;

public class EmployeeDashboardDto
{
    public int? TotalEmployees { get; set; } // Chỉ Admin mới thấy
    public int TotalAttendances { get; set; }
    public double OnTimePercentage { get; set; }
    public double LatePercentage { get; set; }
    public double TotalHoursWorked { get; set; }
    public decimal? TotalWages { get; set; } // Chỉ Admin mới thấy
    public List<AttendanceByShiftDto> AttendanceByShift { get; set; } = new();
}
</file>

<file path="MegaMarket.BlazorUI/Services/Auth/CustomAuthStateProvider.cs">
using Microsoft.AspNetCore.Components.Authorization;
using System.Security.Claims;

namespace MegaMarket.BlazorUI.Services.Auth;

public class CustomAuthStateProvider : AuthenticationStateProvider
{
    private readonly LocalStorageService _localStorage;
    private ClaimsPrincipal _anonymous = new ClaimsPrincipal(new ClaimsIdentity());

    public CustomAuthStateProvider(LocalStorageService localStorage)
    {
        _localStorage = localStorage;
    }

    public override async Task<AuthenticationState> GetAuthenticationStateAsync()
    {
        try
        {
            var token = await _localStorage.GetItemAsync("authToken");

            if (string.IsNullOrEmpty(token))
                return new AuthenticationState(_anonymous);

            // Check if token is expired
            var expiresAtStr = await _localStorage.GetItemAsync("expiresAt");
            if (!string.IsNullOrEmpty(expiresAtStr) && DateTime.TryParse(expiresAtStr, out var expiresAt))
            {
                if (DateTime.UtcNow >= expiresAt)
                {
                    await ClearStorage();
                    return new AuthenticationState(_anonymous);
                }
            }

            // Get user info from localStorage
            var userId = await _localStorage.GetItemAsync("userId");
            var username = await _localStorage.GetItemAsync("username");
            var fullName = await _localStorage.GetItemAsync("fullName");
            var role = await _localStorage.GetItemAsync("role");

            var claims = new List<Claim>
            {
                new Claim(ClaimTypes.NameIdentifier, userId ?? ""),
                new Claim("userId", userId ?? ""),
                new Claim(ClaimTypes.Name, username ?? ""),
                new Claim("FullName", fullName ?? ""),
                new Claim(ClaimTypes.Role, role ?? ""),
                new Claim("role", role ?? "")
            };

            var identity = new ClaimsIdentity(claims, "jwt");
            var user = new ClaimsPrincipal(identity);

            return new AuthenticationState(user);
        }
        catch
        {
            return new AuthenticationState(_anonymous);
        }
    }

    public void NotifyUserAuthentication(string token)
    {
        var authState = GetAuthenticationStateAsync();
        NotifyAuthenticationStateChanged(authState);
    }

    public async Task NotifyUserAuthenticationAsync(string token)
    {
        var authState = await GetAuthenticationStateAsync();
        NotifyAuthenticationStateChanged(Task.FromResult(authState));
    }

    public void NotifyUserLogout()
    {
        var authState = Task.FromResult(new AuthenticationState(_anonymous));
        NotifyAuthenticationStateChanged(authState);
    }

    private async Task ClearStorage()
    {
        await _localStorage.RemoveItemAsync("authToken");
        await _localStorage.RemoveItemAsync("userId");
        await _localStorage.RemoveItemAsync("username");
        await _localStorage.RemoveItemAsync("fullName");
        await _localStorage.RemoveItemAsync("role");
        await _localStorage.RemoveItemAsync("expiresAt");
    }
}
</file>

<file path="MegaMarket.BlazorUI/Services/Auth/LocalStorageService.cs">
using Microsoft.JSInterop;

namespace MegaMarket.BlazorUI.Services.Auth;

public class LocalStorageService
{
    private readonly IJSRuntime _jsRuntime;

    public LocalStorageService(IJSRuntime jsRuntime)
    {
        _jsRuntime = jsRuntime;
    }

    public async Task SetItemAsync(string key, string value)
    {
        try
        {
            await _jsRuntime.InvokeVoidAsync("localStorageHelper.setItem", key, value);
        }
        catch (InvalidOperationException)
        {
            // JS Interop not available (prerendering)
        }
    }

    public async Task<string?> GetItemAsync(string key)
    {
        try
        {
            return await _jsRuntime.InvokeAsync<string?>("localStorageHelper.getItem", key);
        }
        catch (InvalidOperationException)
        {
            // JS Interop not available (prerendering)
            return null;
        }
    }

    public async Task RemoveItemAsync(string key)
    {
        try
        {
            await _jsRuntime.InvokeVoidAsync("localStorageHelper.removeItem", key);
        }
        catch (InvalidOperationException)
        {
            // JS Interop not available (prerendering)
        }
    }

    public async Task ClearAsync()
    {
        try
        {
            await _jsRuntime.InvokeVoidAsync("localStorageHelper.clear");
        }
        catch (InvalidOperationException)
        {
            // JS Interop not available (prerendering)
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Services/CustomerLoyalty/CustomerService.cs">
using MegaMarket.BlazorUI.Services.Auth;
using System.Net.Http.Headers;
using System.Net.Http.Json;
namespace MegaMarket.BlazorUI.Services.CustomerLoyalty
{
    public class CustomerDto
    {
        public int CustomerId { get; set; }
        public string? FullName { get; set; }
        public string? Phone { get; set; }
        public string? Email { get; set; }
        public int Points { get; set; }
        public string? Rank { get; set; }
    }

    public class CreateCustomerDto
    {
        public string? FullName { get; set; }
        public string? Phone { get; set; }
        public string? Email { get; set; }
        public int Points { get; set; } = 0;
    }

    public class UpdateCustomerDto
    {
        public string? FullName { get; set; }
        public string? Phone { get; set; }
        public string? Email { get; set; }
        public int Points { get; set; }
        public string? Rank { get; set; }
    }

    public class CustomerService
    {
        private readonly HttpClient _httpClient;
        private readonly IConfiguration _config;
        private string _apiBaseUrl;
        private readonly AuthService _authService;

        public CustomerService(HttpClient httpClient, IConfiguration config, AuthService authService)
        {
            _httpClient = httpClient;
            _config = config;
            _apiBaseUrl = config["ApiSettings:BaseUrl"] ?? "https://localhost:7284";
            _authService = authService;
        }

        public async Task<List<CustomerDto>> GetAllCustomersAsync()
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.GetAsync($"{_apiBaseUrl}/api/customers");
                if (response.IsSuccessStatusCode)
                {
                    return await response.Content.ReadFromJsonAsync<List<CustomerDto>>() ?? new();
                }
                return new();
            }
            catch (Exception ex)
            {
                throw new Exception($"Error fetching customers: {ex.Message}", ex);
            }
        }

        public async Task<CustomerDto?> GetCustomerByIdAsync(int id)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.GetAsync($"{_apiBaseUrl}/api/customers/{id}");
                if (response.IsSuccessStatusCode)
                {
                    return await response.Content.ReadFromJsonAsync<CustomerDto>();
                }
                return null;
            }
            catch (Exception ex)
            {
                throw new Exception($"Error fetching customer {id}: {ex.Message}", ex);
            }
        }

        public async Task<CustomerDto> CreateCustomerAsync(CreateCustomerDto request)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.PostAsJsonAsync($"{_apiBaseUrl}/api/customers", request);
                if (response.IsSuccessStatusCode)
                {
                    return await response.Content.ReadFromJsonAsync<CustomerDto>() ?? new();
                }
                throw new Exception("Failed to create customer");
            }
            catch (Exception ex)
            {
                throw new Exception($"Error creating customer: {ex.Message}", ex);
            }
        }

        public async Task<CustomerDto> UpdateCustomerAsync(int id, UpdateCustomerDto request)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.PutAsJsonAsync($"{_apiBaseUrl}/api/customers/{id}", request);
                if (response.IsSuccessStatusCode)
                {
                    return await response.Content.ReadFromJsonAsync<CustomerDto>() ?? new();
                }
                throw new Exception("Failed to update customer");
            }
            catch (Exception ex)
            {
                throw new Exception($"Error updating customer: {ex.Message}", ex);
            }
        }

        public async Task DeleteCustomerAsync(int id)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.DeleteAsync($"{_apiBaseUrl}/api/customers/{id}");
                if (!response.IsSuccessStatusCode)
                {
                    throw new Exception("Failed to delete customer");
                }
            }
            catch (Exception ex)
            {
                throw new Exception($"Error deleting customer: {ex.Message}", ex);
            }
        }

        private async Task AddAuthorizationHeaderAsync()
        {
            var token = await _authService.GetTokenAsync();
            if (!string.IsNullOrEmpty(token))
            {
                _httpClient.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Bearer", token);
            }
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Services/CustomerLoyalty/RewardManagementService.cs">
using MegaMarket.BlazorUI.Services.Auth;
using System.Net.Http.Headers;
using System.Net.Http.Json;
namespace MegaMarket.BlazorUI.Services.CustomerLoyalty
{
    public class RewardManagementDto
    {
        public int RewardId { get; set; }
        public string Name { get; set; } = "";
        public string? Description { get; set; }
        public int PointCost { get; set; }
        public string RewardType { get; set; } = "Gift";
        public decimal? Value { get; set; }
        public int QuantityAvailable { get; set; }
        public bool IsActive { get; set; } = true;
    }

    public class CreateRewardDto
    {
        public string Name { get; set; } = "";
        public string? Description { get; set; }
        public int PointCost { get; set; }
        public string RewardType { get; set; } = "Gift";
        public decimal? Value { get; set; }
        public int QuantityAvailable { get; set; }
    }

    public class UpdateRewardDto
    {
        public string Name { get; set; } = "";
        public string? Description { get; set; }
        public int PointCost { get; set; }
        public string RewardType { get; set; } = "Gift";
        public decimal? Value { get; set; }
        public int QuantityAvailable { get; set; }
    }

    public class RewardManagementService
    {
        private readonly HttpClient _httpClient;
        private readonly IConfiguration _config;
        private string _apiBaseUrl;
        private readonly AuthService _authService;

        public RewardManagementService(HttpClient httpClient, IConfiguration config, AuthService authService)
        {
            _httpClient = httpClient;
            _config = config;
            _apiBaseUrl = config["ApiSettings:BaseUrl"] ?? "https://localhost:7224";
            _authService = authService;
        }

        public async Task<List<RewardManagementDto>> GetAllRewardsAsync()
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.GetAsync($"{_apiBaseUrl}/api/rewards");
                if (response.IsSuccessStatusCode)
                {
                    return await response.Content.ReadFromJsonAsync<List<RewardManagementDto>>() ?? new();
                }
                return new();
            }
            catch (Exception ex)
            {
                throw new Exception($"Error fetching rewards: {ex.Message}", ex);
            }
        }

        public async Task<RewardManagementDto?> GetRewardByIdAsync(int id)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.GetAsync($"{_apiBaseUrl}/api/rewards/{id}");
                if (response.IsSuccessStatusCode)
                {
                    return await response.Content.ReadFromJsonAsync<RewardManagementDto>();
                }
                return null;
            }
            catch (Exception ex)
            {
                throw new Exception($"Error fetching reward {id}: {ex.Message}", ex);
            }
        }

        public async Task<RewardManagementDto> CreateRewardAsync(CreateRewardDto request)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.PostAsJsonAsync($"{_apiBaseUrl}/api/rewards", request);
                if (response.IsSuccessStatusCode)
                {
                    return await response.Content.ReadFromJsonAsync<RewardManagementDto>() ?? new();
                }
                throw new Exception("Failed to create reward");
            }
            catch (Exception ex)
            {
                throw new Exception($"Error creating reward: {ex.Message}", ex);
            }
        }

        public async Task<RewardManagementDto> UpdateRewardAsync(int id, UpdateRewardDto request)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.PutAsJsonAsync($"{_apiBaseUrl}/api/rewards/{id}", request);
                if (response.IsSuccessStatusCode)
                {
                    return await response.Content.ReadFromJsonAsync<RewardManagementDto>() ?? new();
                }
                throw new Exception("Failed to update reward");
            }
            catch (Exception ex)
            {
                throw new Exception($"Error updating reward: {ex.Message}", ex);
            }
        }

        public async Task DeleteRewardAsync(int id)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.DeleteAsync($"{_apiBaseUrl}/api/rewards/{id}");
                if (!response.IsSuccessStatusCode)
                {
                    throw new Exception("Failed to delete reward");
                }
            }
            catch (Exception ex)
            {
                throw new Exception($"Error deleting reward: {ex.Message}", ex);
            }
        }

        private async Task AddAuthorizationHeaderAsync()
        {
            var token = await _authService.GetTokenAsync();
            if (!string.IsNullOrEmpty(token))
            {
                _httpClient.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Bearer", token);
            }
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Services/Dashboard/DashboardApiClient.cs">
using System.Net.Http.Json;
using System.Text.Json;
using MegaMarket.BlazorUI.Models.Dashboard;
using MegaMarket.BlazorUI.Services.Auth;

namespace MegaMarket.BlazorUI.Services.Dashboard;

public class DashboardApiClient
{
    private readonly HttpClient _httpClient;
    private readonly AuthService _authService;
    private readonly JsonSerializerOptions _serializerOptions = new(JsonSerializerDefaults.Web);

    public DashboardApiClient(HttpClient httpClient, AuthService authService)
    {
        _httpClient = httpClient;
        _authService = authService;
    }

    private async Task AddAuthorizationHeader()
    {
        var token = await _authService.GetTokenAsync();
        if (!string.IsNullOrEmpty(token))
        {
            _httpClient.DefaultRequestHeaders.Authorization =
                new System.Net.Http.Headers.AuthenticationHeaderValue("Bearer", token);
        }
    }

    // ==================== SALES DASHBOARD ====================
    public async Task<SalesDashboardDto?> GetSalesDashboardAsync(DateRangeEnum dateRange)
    {
        try
        {
            await AddAuthorizationHeader();
            var response = await _httpClient.GetFromJsonAsync<SalesDashboardDto>(
                $"api/SalesDashboard?dateRange={dateRange}", _serializerOptions);
            return response;
        }
        catch
        {
            return null;
        }
    }

    // ==================== INVENTORY DASHBOARD ====================
    public async Task<InventoryDashboardDto?> GetInventoryDashboardAsync()
    {
        try
        {
            await AddAuthorizationHeader();
            var response = await _httpClient.GetFromJsonAsync<InventoryDashboardDto>(
                "api/InventoryDashboard", _serializerOptions);
            return response;
        }
        catch
        {
            return null;
        }
    }

    // ==================== CUSTOMER DASHBOARD ====================
    public async Task<CustomerDashboardDto?> GetCustomerDashboardAsync(DateRangeEnum dateRange)
    {
        try
        {
            await AddAuthorizationHeader();
            var response = await _httpClient.GetFromJsonAsync<CustomerDashboardDto>(
                $"api/CustomerDashboard?dateRange={dateRange}", _serializerOptions);
            return response;
        }
        catch
        {
            return null;
        }
    }

    // ==================== EMPLOYEE DASHBOARD ====================
    public async Task<EmployeeDashboardDto?> GetEmployeeDashboardAsync(DateRangeEnum dateRange)
    {
        try
        {
            await AddAuthorizationHeader();
            var response = await _httpClient.GetFromJsonAsync<EmployeeDashboardDto>(
                $"api/EmployeeDashboard?dateRange={dateRange}", _serializerOptions);
            return response;
        }
        catch
        {
            return null;
        }
    }

    public async Task<List<EmployeeWorkSummaryDto>?> GetEmployeeWorkSummaryAsync(DateRangeEnum dateRange)
    {
        try
        {
            await AddAuthorizationHeader();
            var response = await _httpClient.GetFromJsonAsync<List<EmployeeWorkSummaryDto>>(
                $"api/EmployeeDashboard/work-summary?dateRange={dateRange}", _serializerOptions);
            return response;
        }
        catch
        {
            return null;
        }
    }

    public async Task<AttendanceRateDto?> GetAttendanceStatisticsAsync(int employeeId, DateRangeEnum dateRange)
    {
        try
        {
            await AddAuthorizationHeader();
            var response = await _httpClient.GetFromJsonAsync<AttendanceRateDto>(
                $"api/EmployeeDashboard/attendance-statistics/{employeeId}?dateRange={dateRange}", _serializerOptions);
            return response;
        }
        catch
        {
            return null;
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Services/Imports/ImportService.cs">
using System.Net.Http.Headers;
using System.Net.Http.Json;
using MegaMarket.BlazorUI.Services.Auth;

namespace MegaMarket.BlazorUI.Services.Imports;

public class ImportService
{
    private readonly HttpClient _httpClient;
    private readonly string _apiBaseUrl;
    private readonly AuthService _authService;

    public ImportService(HttpClient httpClient, IConfiguration configuration, AuthService authService)
    {
        _httpClient = httpClient;
        _authService = authService;
        var baseUrl = configuration["ApiSettings:BaseUrl"] ?? configuration["ApiBaseUrl"] ?? "https://localhost:7284";
        _apiBaseUrl = baseUrl.TrimEnd('/');
    }

    public async Task<List<ImportSummaryDto>> GetImportsAsync()
    {
        await AddAuthorizationHeaderAsync();
        var result = await _httpClient.GetFromJsonAsync<List<ImportSummaryDto>>($"{_apiBaseUrl}/api/imports");
        return result ?? new List<ImportSummaryDto>();
    }

    public async Task<ImportDetailDto?> GetImportAsync(int id)
    {
        await AddAuthorizationHeaderAsync();
        return await _httpClient.GetFromJsonAsync<ImportDetailDto>($"{_apiBaseUrl}/api/imports/{id}");
    }

    public async Task<ImportDetailDto> CreateImportAsync(ImportCreateRequest request)
    {
        await AddAuthorizationHeaderAsync();
        var response = await _httpClient.PostAsJsonAsync($"{_apiBaseUrl}/api/imports", request);
        if (response.IsSuccessStatusCode)
        {
            return await response.Content.ReadFromJsonAsync<ImportDetailDto>() ?? new ImportDetailDto();
        }

        var details = await response.Content.ReadAsStringAsync();
        throw new InvalidOperationException($"Unable to save import: {details}");
    }

    public async Task<ImportDetailDto> UpdateImportAsync(int id, ImportCreateRequest request)
    {
        await AddAuthorizationHeaderAsync();
        var response = await _httpClient.PutAsJsonAsync($"{_apiBaseUrl}/api/imports/{id}", new ImportUpdateRequest(id, request));
        if (response.IsSuccessStatusCode)
        {
            return await response.Content.ReadFromJsonAsync<ImportDetailDto>() ?? new ImportDetailDto();
        }

        var details = await response.Content.ReadAsStringAsync();
        throw new InvalidOperationException($"Unable to update import: {details}");
    }

    public async Task DeleteImportAsync(int id)
    {
        await AddAuthorizationHeaderAsync();
        var response = await _httpClient.DeleteAsync($"{_apiBaseUrl}/api/imports/{id}");
        if (!response.IsSuccessStatusCode)
        {
            var details = await response.Content.ReadAsStringAsync();
            throw new InvalidOperationException($"Unable to delete import: {details}");
        }
    }

    private async Task AddAuthorizationHeaderAsync()
    {
        var token = await _authService.GetTokenAsync();
        if (!string.IsNullOrEmpty(token))
        {
            _httpClient.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Bearer", token);
        }
    }
}

public record ImportSummaryDto
{
    public int ImportId { get; init; }
    public DateTime ImportDate { get; init; }
    public string Supplier { get; init; } = string.Empty;
    public string Staff { get; init; } = string.Empty;
    public decimal TotalCost { get; init; }
    public string Status { get; init; } = "Draft";
    public bool NearExpiry { get; init; }
    public bool Expired { get; init; }
    public int ItemCount { get; init; }
}

public record ImportDetailDto : ImportSummaryDto
{
    public List<ImportLineDto> Items { get; init; } = new();
}

public record ImportLineDto
{
    public int ProductId { get; init; }
    public string ProductName { get; init; } = string.Empty;
    public string Barcode { get; init; } = string.Empty;
    public int Quantity { get; init; }
    public decimal UnitPrice { get; init; }
    public DateTime? ExpiryDate { get; init; }
    public string? Category { get; init; }
    public bool IsPerishable { get; init; }
    public decimal LineTotal => Quantity * UnitPrice;
}

public record ImportLineCreateRequest
{
    public int? ProductId { get; init; }
    public string ProductName { get; init; } = string.Empty;
    public string? Barcode { get; init; }
    public int Quantity { get; init; }
    public decimal UnitPrice { get; init; }
    public DateTime? ExpiryDate { get; init; }
}

public record ImportCreateRequest
{
    public string Supplier { get; init; } = string.Empty;
    public DateTime ImportDate { get; init; } = DateTime.Today;
    public string Status { get; init; } = "Draft";
    public string Staff { get; init; } = "Admin User";
    public List<ImportLineCreateRequest> Items { get; init; } = new();
}

public record ImportUpdateRequest
{
    public int ImportId { get; init; }
    public string Supplier { get; init; } = string.Empty;
    public DateTime ImportDate { get; init; } = DateTime.Today;
    public string Status { get; init; } = "Draft";
    public string Staff { get; init; } = "Admin User";
    public List<ImportLineCreateRequest> Items { get; init; } = new();

    public ImportUpdateRequest(int importId, ImportCreateRequest request)
    {
        ImportId = importId;
        Supplier = request.Supplier;
        ImportDate = request.ImportDate;
        Status = request.Status;
        Staff = request.Staff;
        Items = request.Items;
    }
}
</file>

<file path="MegaMarket.BlazorUI/Services/Products/ProductService.cs">
using System.ComponentModel.DataAnnotations;
using System.Net.Http.Headers;
using System.Net.Http.Json;
using MegaMarket.BlazorUI.Services.Auth;

namespace MegaMarket.BlazorUI.Services.Products;

public class ProductDto
{
    public int ProductId { get; set; }
    public string Barcode { get; set; } = string.Empty;
    public string Name { get; set; } = string.Empty;
    public string? Category { get; set; }
    public string? UnitLabel { get; set; }
    public decimal UnitPrice { get; set; }
    public decimal? OriginalPrice { get; set; }
    public int? DiscountPercent { get; set; }
    public int QuantityInStock { get; set; }
    public int MinQuantity { get; set; }
    public DateTime? ExpiryDate { get; set; }
    public bool IsPerishable { get; set; }
    public string? ImageUrl { get; set; }
}

public class ProductUpsertRequest
{
    public string Barcode { get; set; } = string.Empty;
    public string Name { get; set; } = string.Empty;
    public string? Category { get; set; }
    public string? UnitLabel { get; set; }
    public decimal? OriginalPrice { get; set; }
    public decimal UnitPrice { get; set; }
    public int? DiscountPercent { get; set; }
    public int QuantityInStock { get; set; }
    public int MinQuantity { get; set; }
    public bool IsPerishable { get; set; }
    public DateTime? ExpiryDate { get; set; }
    public string? ImageUrl { get; set; }
}

public class ProductInputModel : IValidatableObject
{
    public int ProductId { get; set; }

    [Required(ErrorMessage = "Barcode is required")]
    [StringLength(100)]
    public string Barcode { get; set; } = string.Empty;

    [Required(ErrorMessage = "Name is required")]
    [StringLength(200)]
    public string Name { get; set; } = string.Empty;

    [StringLength(100)]
    public string? Category { get; set; }

    [StringLength(50)]
    public string? UnitLabel { get; set; }

    [Range(0, double.MaxValue, ErrorMessage = "Original price must be >= 0")]
    public decimal? OriginalPrice { get; set; }

    [Range(0, double.MaxValue, ErrorMessage = "Unit price must be >= 0")]
    public decimal UnitPrice { get; set; }

    [Range(0, 100, ErrorMessage = "Discount must be between 0 and 100")]
    public int? DiscountPercent { get; set; }

    [Range(0, int.MaxValue, ErrorMessage = "Quantity must be >= 0")]
    public int QuantityInStock { get; set; }

    [Range(0, int.MaxValue, ErrorMessage = "Min quantity must be >= 0")]
    public int MinQuantity { get; set; }

    public bool IsPerishable { get; set; }

    public DateTime? ExpiryDate { get; set; }

    [StringLength(500)]
    [Url(ErrorMessage = "Image URL must be a valid URL")]
    public string? ImageUrl { get; set; }

    public ProductUpsertRequest ToRequest() => new()
    {
        Barcode = Barcode.Trim(),
        Name = Name.Trim(),
        Category = string.IsNullOrWhiteSpace(Category) ? null : Category.Trim(),
        UnitLabel = string.IsNullOrWhiteSpace(UnitLabel) ? null : UnitLabel.Trim(),
        OriginalPrice = OriginalPrice,
        UnitPrice = UnitPrice,
        DiscountPercent = DiscountPercent,
        QuantityInStock = QuantityInStock,
        MinQuantity = MinQuantity,
        IsPerishable = IsPerishable,
        ExpiryDate = ExpiryDate?.Date,
        ImageUrl = string.IsNullOrWhiteSpace(ImageUrl) ? null : ImageUrl.Trim()
    };

    public IEnumerable<ValidationResult> Validate(ValidationContext validationContext)
    {
        if (IsPerishable)
        {
            if (!ExpiryDate.HasValue)
            {
                yield return new ValidationResult("Expiry date is required for perishable items", new[] { nameof(ExpiryDate) });
            }
            else if (ExpiryDate.Value.Date < DateTime.Today)
            {
                yield return new ValidationResult("Expiry date must be today or later", new[] { nameof(ExpiryDate) });
            }
        }
    }
}

public class ProductService
{
    private readonly HttpClient _httpClient;
    private readonly string _apiBaseUrl;
    private readonly AuthService _authService;

    public ProductService(HttpClient httpClient, IConfiguration configuration, AuthService authService)
    {
        _httpClient = httpClient;
        _authService = authService;
        var baseUrl = configuration["ApiSettings:BaseUrl"] ??
                      configuration["ApiBaseUrl"] ??
                      "https://localhost:7284";
        _apiBaseUrl = baseUrl.TrimEnd('/');
    }

    public async Task<List<ProductDto>> GetProductsAsync()
    {
        try
        {
            await AddAuthorizationHeaderAsync();
            var products = await _httpClient.GetFromJsonAsync<List<ProductDto>>($"{_apiBaseUrl}/api/products");
            return products ?? new List<ProductDto>();
        }
        catch (HttpRequestException ex)
        {
            throw new InvalidOperationException("Unable to load products right now. Please try again.", ex);
        }
    }

    public async Task<ProductDto?> GetProductAsync(int id)
    {
        try
        {
            await AddAuthorizationHeaderAsync();
            return await _httpClient.GetFromJsonAsync<ProductDto>($"{_apiBaseUrl}/api/products/{id}");
        }
        catch (HttpRequestException ex)
        {
            throw new InvalidOperationException($"Unable to load product {id}.", ex);
        }
    }

    public async Task<ProductDto> CreateProductAsync(ProductInputModel product)
    {
        await AddAuthorizationHeaderAsync();
        var response = await _httpClient.PostAsJsonAsync($"{_apiBaseUrl}/api/products", product.ToRequest());

        if (response.IsSuccessStatusCode)
        {
            return await response.Content.ReadFromJsonAsync<ProductDto>() ?? new ProductDto();
        }

        var details = await response.Content.ReadAsStringAsync();
        throw new InvalidOperationException($"Create failed: {details}");
    }

    public async Task<ProductDto> UpdateProductAsync(int id, ProductInputModel product)
    {
        await AddAuthorizationHeaderAsync();
        var response = await _httpClient.PutAsJsonAsync($"{_apiBaseUrl}/api/products/{id}", product.ToRequest());

        if (response.IsSuccessStatusCode)
        {
            if (response.StatusCode == System.Net.HttpStatusCode.NoContent ||
                response.Content.Headers.ContentLength == 0)
            {
                return MapInputToDto(id, product);
            }

            return await response.Content.ReadFromJsonAsync<ProductDto>() ?? MapInputToDto(id, product);
        }

        var details = await response.Content.ReadAsStringAsync();
        throw new InvalidOperationException($"Update failed: {details}");
    }

    public async Task DeleteProductAsync(int id)
    {
        await AddAuthorizationHeaderAsync();
        var response = await _httpClient.DeleteAsync($"{_apiBaseUrl}/api/products/{id}");
        if (!response.IsSuccessStatusCode)
        {
            var details = await response.Content.ReadAsStringAsync();
            throw new InvalidOperationException($"Delete failed: {details}");
        }
    }

    private async Task AddAuthorizationHeaderAsync()
    {
        var token = await _authService.GetTokenAsync();
        if (!string.IsNullOrEmpty(token))
        {
            _httpClient.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Bearer", token);
        }
    }

    private static ProductDto MapInputToDto(int id, ProductInputModel product) => new()
    {
        ProductId = id,
        Barcode = product.Barcode,
        Name = product.Name,
        Category = product.Category,
        UnitLabel = product.UnitLabel,
        UnitPrice = product.UnitPrice,
        OriginalPrice = product.OriginalPrice,
        DiscountPercent = product.DiscountPercent,
        QuantityInStock = product.QuantityInStock,
        MinQuantity = product.MinQuantity,
        ExpiryDate = product.ExpiryDate,
        IsPerishable = product.IsPerishable,
        ImageUrl = product.ImageUrl
    };
}
</file>

<file path="MegaMarket.BlazorUI/wwwroot/css/custom.css">
/* Text Gradient for Titles */
.text-gradient {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-weight: bold;
}

/* Avatar Circle (Large - for profile pages) */
.avatar-circle {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2em;
    color: white;
    font-weight: bold;
}

/* Avatar Circle Small (for top bar) */
.avatar-circle-small {
    width: 32px;
    height: 32px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    color: white;
    font-weight: bold;
}

/* Login Card */
.login-card {
    max-width: 450px;
    margin: 100px auto;
}

/* Stats Card Hover Effect */
.stats-card {
    transition: transform 0.2s, box-shadow 0.2s;
}

.stats-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

/* Shift Card Hover Effect */
.shift-card {
    transition: transform 0.2s, box-shadow 0.2s;
}

.shift-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2) !important;
}

/* Modal Overlay */
.modal-backdrop {
    background: rgba(0, 0, 0, 0.5);
}

/* Check-In/Out Button */
.btn-check-in {
    font-size: 1.2em;
    padding: 1rem 2rem;
    border-radius: 8px;
}

/* Card Shadows */
.card {
    transition: box-shadow 0.2s;
}

.card:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
}

/* Table Hover */
.table-hover tbody tr:hover {
    background-color: rgba(0, 123, 255, 0.05);
    cursor: pointer;
}

/* Badge Styles */
.badge {
    font-weight: 500;
    padding: 0.35em 0.65em;
}

/* Empty State */
.empty-state {
    padding: 3rem 0;
    text-align: center;
    color: #6c757d;
}

.empty-state-icon {
    font-size: 4em;
    opacity: 0.5;
}

/* Loading Spinner */
.loading-container {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 200px;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .login-card {
        margin: 50px auto;
    }

    .avatar-circle {
        width: 60px;
        height: 60px;
        font-size: 1.5em;
    }
}
</file>

<file path="MegaMarket.Data/Repositories/IPointTransactionRepository.cs">
using MegaMarket.Data.Models;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace MegaMarket.Data.Repositories
{
    public interface IPointTransactionRepository
    {
        // get all pointtracsaction and filter
        Task<IEnumerable<PointTransaction>> GetPointTransactionsAsync(DateTime? fromDate, DateTime? toDate, string? type);

        // get point transaction by id 
        Task<PointTransaction?> GetPointTransactionByIdAsync(int id);

        // get history point transaction of customer by id 
        Task<IEnumerable<PointTransaction>> GetPointHistoryByCustomerIdAsync(int customerId);

        // add and subtract point
        Task<PointTransaction> AddTransactionAsync(PointTransaction transaction);
    }
}
</file>

<file path="MegaMarket.Data/Repositories/PointTransactionRepository.cs">
using MegaMarket.Data.Data;
using MegaMarket.Data.Models;
using Microsoft.EntityFrameworkCore;
using System;
using System.Collections.Generic;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace MegaMarket.Data.Repositories
{
    public class PointTransactionRepository : IPointTransactionRepository
    {
        private readonly MegaMarketDbContext _context;
        public PointTransactionRepository(MegaMarketDbContext context)
        {
            _context = context;
        }

        // get all point transactions and filter 
        public async Task<IEnumerable<PointTransaction>> GetPointTransactionsAsync(DateTime? fromDate, DateTime? toDate, string? type)
        {
            var query = _context.PointTransactions
                                .Include(pt => pt.Customer)
                                .AsQueryable();

            if (fromDate.HasValue)
                query = query.Where(pt => pt.CreatedAt >= fromDate.Value);

            if (toDate.HasValue)
                query = query.Where(pt => pt.CreatedAt <= toDate.Value);

            if (!string.IsNullOrWhiteSpace(type))
                query = query.Where(pt => pt.TransactionType == type);

            return await query
                .OrderByDescending(pt => pt.CreatedAt)
                .ToListAsync();
        }

        // get point transaction by id
        public async Task<PointTransaction?> GetPointTransactionByIdAsync(int id)
        {
            // find point transaction in db
            var point_transaction = await _context.PointTransactions.FindAsync(id);
            if (point_transaction != null)
            {
                return point_transaction;
            }
            return null;
        }


        // get history point transaction of customer by id 
        public async Task<IEnumerable<PointTransaction>> GetPointHistoryByCustomerIdAsync(int customerId)
        {
            return await _context.PointTransactions
                .Where(p => p.CustomerId == customerId)
                .Include(pt => pt.Customer)
                .OrderByDescending(p => p.CreatedAt)
                .ToListAsync();
        }

        // add and subtract point 
        public async Task<PointTransaction> AddTransactionAsync(PointTransaction transaction)
        {
            _context.PointTransactions.Add(transaction);
            await _context.SaveChangesAsync();
            return transaction;
        }
    }
}
</file>

<file path="MegaMarket.Tests/Integration/Controllers/CustomerRewards/CustomerRewardsControllerTests.cs">
using MegaMarket.API.DTOs.CustomerRewards;

namespace MegaMarket.Tests.Integration.Controllers.CustomerRewards;

public class CustomerRewardsControllerTests : IClassFixture<TestServerFixture>
{
    private readonly HttpClient _client;
    private readonly TestServerFixture _factory;

    public CustomerRewardsControllerTests(TestServerFixture factory)
    {
        _factory = factory;
        _client = factory.CreateClient();
    }

    [Fact]
    public async Task GetAll_NoTransactionsFound_ReturnsNotFound()
    {
        // Act - Query for non-existent customer rewards
        var response = await _client.GetAsync("/api/customerrewards?customerId=99999");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task GetByCustomer_CustomerWithNoRewards_ReturnsNotFound()
    {
        // Arrange - Customer with no rewards
        var customerId = 2;

        // Act
        var response = await _client.GetAsync($"/api/customerrewards/customer/{customerId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task RedeemReward_InvalidCustomerId_ReturnsBadRequest()
    {
        // Arrange
        var redeemRequest = new
        {
            CustomerId = 0, // Invalid
            RewardId = 1
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/customerrewards/redeem", redeemRequest);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.BadRequest);
        var content = await response.Content.ReadAsStringAsync();
        content.Should().Contain("Invalid customer ID");
    }

    [Fact]
    public async Task RedeemReward_InvalidRewardId_ReturnsBadRequest()
    {
        // Arrange
        var redeemRequest = new
        {
            CustomerId = 1,
            RewardId = 0 // Invalid
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/customerrewards/redeem", redeemRequest);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.BadRequest);
        var content = await response.Content.ReadAsStringAsync();
        content.Should().Contain("Invalid reward ID");
    }

    [Fact]
    public async Task ClaimReward_NonExistentReward_ReturnsNotFound()
    {
        // Arrange
        var redemptionId = 99999;

        // Act
        var response = await _client.PutAsync($"/api/customerrewards/{redemptionId}/claim", null);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task ApplyVoucherToInvoice_InvalidInvoiceId_ReturnsBadRequest()
    {
        // Arrange
        var redemptionId = 1;
        var applyRequest = new { InvoiceId = 0 }; // Invalid

        // Act
        var response = await _client.PutAsJsonAsync($"/api/customerrewards/{redemptionId}/apply-to-invoice", applyRequest);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.BadRequest);
        var content = await response.Content.ReadAsStringAsync();
        content.Should().Contain("Invalid invoice ID");
    }

    [Fact]
    public async Task ApplyVoucherToInvoice_NonExistentRedemption_ReturnsNotFound()
    {
        // Arrange
        var redemptionId = 99999;
        var applyRequest = new { InvoiceId = 123 };

        // Act
        var response = await _client.PutAsJsonAsync($"/api/customerrewards/{redemptionId}/apply-to-invoice", applyRequest);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }
}
</file>

<file path="MegaMarket.Tests/Integration/Controllers/Customers/CustomersControllerTests.cs">
using MegaMarket.API.DTOs.Customers;

namespace MegaMarket.Tests.Integration.Controllers.Customers;

public class CustomersControllerTests : IClassFixture<TestServerFixture>
{
    private readonly HttpClient _client;
    private readonly TestServerFixture _factory;

    public CustomersControllerTests(TestServerFixture factory)
    {
        _factory = factory;
        _client = factory.CreateClient();
    }

    [Fact]
    public async Task GetAllCustomers_ReturnsSuccess_WithListOfCustomers()
    {
        // Act
        var response = await _client.GetAsync("/api/customers");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var customers = await response.Content.ReadFromJsonAsync<List<CustomerResponseDto>>();
        customers.Should().NotBeNull();
        customers.Should().HaveCountGreaterThan(0);
        customers.Should().Contain(c => c.FullName == "Nguyen Van A");
    }

    [Fact]
    public async Task GetCustomerById_ExistingId_ReturnsCustomer()
    {
        // Arrange
        var customerId = 1;

        // Act
        var response = await _client.GetAsync($"/api/customers/{customerId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var customer = await response.Content.ReadFromJsonAsync<CustomerResponseDto>();
        customer.Should().NotBeNull();
        customer!.CustomerId.Should().Be(customerId);
        customer.FullName.Should().Be("Nguyen Van A");
    }

    [Fact]
    public async Task GetCustomerById_NonExistingId_ReturnsNotFound()
    {
        // Arrange
        var customerId = 99999;

        // Act
        var response = await _client.GetAsync($"/api/customers/{customerId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task CreateCustomer_ValidData_ReturnsCreated()
    {
        // Arrange
        var newCustomer = new CreateCustomerRequestDto
        {
            FullName = "Pham Van D",
            Phone = "0909999999",
            Email = "phamvand@email.com",
            Points = 0
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/customers", newCustomer);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.Created);
        var createdCustomer = await response.Content.ReadFromJsonAsync<CustomerResponseDto>();
        createdCustomer.Should().NotBeNull();
        createdCustomer!.FullName.Should().Be(newCustomer.FullName);
        createdCustomer.Phone.Should().Be(newCustomer.Phone);
        createdCustomer.Email.Should().Be(newCustomer.Email);

        // Verify Location header contains customer ID
        response.Headers.Location.Should().NotBeNull();
        response.Headers.Location!.ToString().Should().Contain(createdCustomer.CustomerId.ToString());
    }

    [Fact]
    public async Task UpdateCustomer_NonExistingId_ReturnsBadRequest()
    {
        // Arrange
        var customerId = 99999;
        var updateDto = new UpdateCustomerRequestDto
        {
            FullName = "Non Existing Customer",
            Phone = "0909999999",
            Email = "nonexisting@email.com"
        };

        // Act
        var response = await _client.PutAsJsonAsync($"/api/customers/{customerId}", updateDto);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.BadRequest);
    }

    [Fact]
    public async Task DeleteCustomer_ExistingId_ReturnsSuccess()
    {
        // Arrange - Create a customer to delete
        var newCustomer = new CreateCustomerRequestDto
        {
            FullName = "To Be Deleted",
            Phone = "0908888888",
            Email = "tobedeleted@email.com",
            Points = 0
        };
        var createResponse = await _client.PostAsJsonAsync("/api/customers", newCustomer);
        var createdCustomer = await createResponse.Content.ReadFromJsonAsync<CustomerResponseDto>();

        // Act
        var response = await _client.DeleteAsync($"/api/customers/{createdCustomer!.CustomerId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var message = await response.Content.ReadAsStringAsync();
        message.Should().Contain("Delete successfully!");

        // Verify customer is deleted
        var getResponse = await _client.GetAsync($"/api/customers/{createdCustomer.CustomerId}");
        getResponse.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task DeleteCustomer_NonExistingId_ReturnsNotFound()
    {
        // Arrange
        var customerId = 99999;

        // Act
        var response = await _client.DeleteAsync($"/api/customers/{customerId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task SearchCustomers_ByName_ReturnsSuccess()
    {
        // Arrange
        var searchQuery = "Nguyen";

        // Act
        var response = await _client.GetAsync($"/api/customers/search?name={searchQuery}");

        // Assert - Just verify endpoint works
        response.StatusCode.Should().BeOneOf(HttpStatusCode.OK, HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task SearchCustomers_ByPhone_ReturnsMatchingCustomers()
    {
        // Arrange
        var phoneQuery = "0901234567";

        // Act
        var response = await _client.GetAsync($"/api/customers/search?phone={phoneQuery}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var customers = await response.Content.ReadFromJsonAsync<List<CustomerResponseDto>>();
        customers.Should().NotBeNull();
        customers.Should().HaveCount(1);
        customers![0].Phone.Should().Be(phoneQuery);
    }

    [Fact]
    public async Task SearchCustomers_NoMatch_ReturnsResponse()
    {
        // Arrange
        var searchQuery = "NonExistingCustomerXYZ123";

        // Act
        var response = await _client.GetAsync($"/api/customers/search?name={searchQuery}");

        // Assert - API may return OK with empty list or NotFound
        response.StatusCode.Should().BeOneOf(HttpStatusCode.OK, HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task GetCustomerPointHistory_ExistingCustomerWithPoints_ReturnsHistory()
    {
        // Arrange - First create a customer and add some points
        var newCustomer = new CreateCustomerRequestDto
        {
            FullName = "Customer With Points",
            Phone = "0907777777",
            Email = "withpoints@email.com",
            Points = 100
        };
        var createResponse = await _client.PostAsJsonAsync("/api/customers", newCustomer);
        var customer = await createResponse.Content.ReadFromJsonAsync<CustomerResponseDto>();

        // Add some point transactions via Points API
        await _client.PostAsJsonAsync($"/api/points/{customer!.CustomerId}/add", new { points = 50, description = "Test points" });
        await _client.PostAsJsonAsync($"/api/points/{customer.CustomerId}/add", new { points = 30, description = "More test points" });

        // Act
        var response = await _client.GetAsync($"/api/customers/{customer.CustomerId}/Points");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var history = await response.Content.ReadFromJsonAsync<List<object>>();
        history.Should().NotBeNull();
        history.Should().HaveCountGreaterThan(0);
    }

    [Fact]
    public async Task GetCustomerPointHistory_CustomerWithNoHistory_ReturnsNotFound()
    {
        // Arrange - Create a customer without any point transactions
        var newCustomer = new CreateCustomerRequestDto
        {
            FullName = "Customer No Points",
            Phone = "0906666666",
            Email = "nopoints@email.com",
            Points = 0
        };
        var createResponse = await _client.PostAsJsonAsync("/api/customers", newCustomer);
        var customer = await createResponse.Content.ReadFromJsonAsync<CustomerResponseDto>();

        // Act
        var response = await _client.GetAsync($"/api/customers/{customer!.CustomerId}/Points");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }
}
</file>

<file path="MegaMarket.Tests/Integration/Controllers/Imports/ImportsControllerTests.cs">
using MegaMarket.API.DTOs.Imports;

namespace MegaMarket.Tests.Integration.Controllers.Imports;

public class ImportsControllerTests : IClassFixture<TestServerFixture>
{
    private readonly HttpClient _client;
    private readonly TestServerFixture _factory;

    public ImportsControllerTests(TestServerFixture factory)
    {
        _factory = factory;
        _client = factory.CreateClient();
    }

    [Fact]
    public async Task GetImports_ReturnsSuccess()
    {
        // Act
        var response = await _client.GetAsync("/api/imports");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
    }

    [Fact]
    public async Task GetImport_NonExistingId_ReturnsNotFound()
    {
        // Arrange
        var importId = 99999;

        // Act
        var response = await _client.GetAsync($"/api/imports/{importId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task DeleteImport_NonExistingId_ReturnsNotFound()
    {
        // Arrange
        var importId = 99999;

        // Act
        var response = await _client.DeleteAsync($"/api/imports/{importId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }
}
</file>

<file path="MegaMarket.Tests/Integration/Controllers/Invoice/InvoiceControllerTests.cs">
namespace MegaMarket.Tests.Integration.Controllers.Invoice;

public class InvoiceControllerTests : IClassFixture<TestServerFixture>
{
    private readonly HttpClient _client;
    private readonly TestServerFixture _factory;

    public InvoiceControllerTests(TestServerFixture factory)
    {
        _factory = factory;
        _client = factory.CreateClient();
    }

    [Fact]
    public async Task SaveInvoice_ValidMinimalData_ReturnsSuccess()
    {
        // Arrange - Minimal required fields only
        var invoice = new
        {
            CustomerId = 1,
            TotalAmount = 100000,
            PaymentMethod = "Cash"
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/invoice", invoice);

        // Assert
        response.StatusCode.Should().BeOneOf(HttpStatusCode.OK, HttpStatusCode.Created, HttpStatusCode.BadRequest);
        // Note: This test just verifies the endpoint exists and responds
    }
}
</file>

<file path="MegaMarket.Tests/Integration/Controllers/Points/PointsControllerTests.cs">
using MegaMarket.API.DTOs.PointTransaction;
using MegaMarket.API.DTOs.PointTransactions;

namespace MegaMarket.Tests.Integration.Controllers.Points;

public class PointsControllerTests : IClassFixture<TestServerFixture>
{
    private readonly HttpClient _client;
    private readonly TestServerFixture _factory;

    public PointsControllerTests(TestServerFixture factory)
    {
        _factory = factory;
        _client = factory.CreateClient();
    }

    [Fact]
    public async Task AddPoints_ValidRequest_ReturnsSuccess()
    {
        // Arrange
        var customerId = 1;
        var addPointsRequest = new AddPointRequestDto
        {
            Points = 100,
            Description = "Test points addition",
            InvoiceId = null
        };

        // Act
        var response = await _client.PostAsJsonAsync($"/api/points/{customerId}/add", addPointsRequest);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var result = await response.Content.ReadFromJsonAsync<PointTransactionResponseDto>();
        result.Should().NotBeNull();
        result!.CustomerId.Should().Be(customerId);
        result.PointChange.Should().Be(100);
        result.TransactionType.Should().Contain("Earn");
    }

    [Fact]
    public async Task AddPoints_WithInvoiceId_ReturnsSuccess()
    {
        // Arrange
        var customerId = 2;
        var addPointsRequest = new AddPointRequestDto
        {
            Points = 50,
            Description = "Points from purchase",
            InvoiceId = 123
        };

        // Act
        var response = await _client.PostAsJsonAsync($"/api/points/{customerId}/add", addPointsRequest);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var result = await response.Content.ReadFromJsonAsync<PointTransactionResponseDto>();
        result.Should().NotBeNull();
        result!.InvoiceId.Should().Be(123);
        result.PointChange.Should().Be(50);
    }

    [Fact]
    public async Task AddPoints_ZeroPoints_ReturnsBadRequest()
    {
        // Arrange
        var customerId = 1;
        var addPointsRequest = new AddPointRequestDto
        {
            Points = 0, // Invalid
            Description = "Zero points"
        };

        // Act
        var response = await _client.PostAsJsonAsync($"/api/points/{customerId}/add", addPointsRequest);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.BadRequest);
        var content = await response.Content.ReadAsStringAsync();
        content.Should().Contain("Points must be greater than 0");
    }

    [Fact]
    public async Task AddPoints_NegativePoints_ReturnsBadRequest()
    {
        // Arrange
        var customerId = 1;
        var addPointsRequest = new AddPointRequestDto
        {
            Points = -10, // Invalid
            Description = "Negative points"
        };

        // Act
        var response = await _client.PostAsJsonAsync($"/api/points/{customerId}/add", addPointsRequest);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.BadRequest);
    }

    [Fact]
    public async Task AddPoints_NonExistentCustomer_ReturnsNotFound()
    {
        // Arrange
        var customerId = 99999;
        var addPointsRequest = new AddPointRequestDto
        {
            Points = 100,
            Description = "Test"
        };

        // Act
        var response = await _client.PostAsJsonAsync($"/api/points/{customerId}/add", addPointsRequest);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
        var content = await response.Content.ReadAsStringAsync();
        content.Should().Contain("Customer not found");
    }

    [Fact]
    public async Task SubtractPoints_ValidRequest_ReturnsSuccess()
    {
        // Arrange - First add some points
        var customerId = 1;
        await _client.PostAsJsonAsync($"/api/points/{customerId}/add", new AddPointRequestDto
        {
            Points = 500,
            Description = "Initial points"
        });

        // Subtract points
        var subtractRequest = new SubtractPointRequestDto
        {
            Points = 100,
            TransactionType = "Redeem",
            Description = "Test subtraction"
        };

        // Act
        var response = await _client.PostAsJsonAsync($"/api/points/{customerId}/subtract", subtractRequest);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var result = await response.Content.ReadFromJsonAsync<PointTransactionResponseDto>();
        result.Should().NotBeNull();
        result!.CustomerId.Should().Be(customerId);
        result.PointChange.Should().Be(-100); // Negative for subtraction
        result.TransactionType.Should().Be("Redeem");
    }

    [Fact]
    public async Task SubtractPoints_InsufficientBalance_ReturnsBadRequest()
    {
        // Arrange
        var customerId = 2; // Customer with limited points
        var subtractRequest = new SubtractPointRequestDto
        {
            Points = 10000, // More than available
            TransactionType = "Redeem",
            Description = "Too many points"
        };

        // Act
        var response = await _client.PostAsJsonAsync($"/api/points/{customerId}/subtract", subtractRequest);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.BadRequest);
    }

    [Fact]
    public async Task SubtractPoints_NonExistentCustomer_ReturnsNotFound()
    {
        // Arrange
        var customerId = 99999;
        var subtractRequest = new SubtractPointRequestDto
        {
            Points = 50,
            TransactionType = "Redeem",
            Description = "Test"
        };

        // Act
        var response = await _client.PostAsJsonAsync($"/api/points/{customerId}/subtract", subtractRequest);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
        var content = await response.Content.ReadAsStringAsync();
        content.Should().Contain("Customer not found");
    }

    [Fact]
    public async Task GetPointTransactionById_ExistingTransaction_ReturnsTransaction()
    {
        // Arrange - Create a transaction first
        var customerId = 1;
        var addResponse = await _client.PostAsJsonAsync($"/api/points/{customerId}/add", new AddPointRequestDto
        {
            Points = 75,
            Description = "Test transaction"
        });
        var transaction = await addResponse.Content.ReadFromJsonAsync<PointTransactionResponseDto>();

        // Act
        var response = await _client.GetAsync($"/api/points/{transaction!.TransactionId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var result = await response.Content.ReadFromJsonAsync<PointTransactionResponseDto>();
        result.Should().NotBeNull();
        result!.TransactionId.Should().Be(transaction.TransactionId);
        result.PointChange.Should().Be(75);
    }

    [Fact]
    public async Task GetPointTransactionById_NonExistentTransaction_ReturnsNotFound()
    {
        // Arrange
        var transactionId = 99999;

        // Act
        var response = await _client.GetAsync($"/api/points/{transactionId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task GetAll_WithoutFilters_ReturnsAllTransactions()
    {
        // Arrange - Create some transactions
        await _client.PostAsJsonAsync($"/api/points/1/add", new AddPointRequestDto
        {
            Points = 25,
            Description = "Test 1"
        });
        await _client.PostAsJsonAsync($"/api/points/2/add", new AddPointRequestDto
        {
            Points = 30,
            Description = "Test 2"
        });

        // Act
        var response = await _client.GetAsync("/api/points");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var transactions = await response.Content.ReadFromJsonAsync<List<PointTransactionResponseDto>>();
        transactions.Should().NotBeNull();
        transactions.Should().HaveCountGreaterThan(0);
    }

    [Fact]
    public async Task GetAll_FilterByCustomerId_ReturnsResponse()
    {
        // Arrange
        var customerId = 3;

        // Act
        var response = await _client.GetAsync($"/api/points?customerId={customerId}");

        // Assert - Just verify endpoint works
        response.StatusCode.Should().BeOneOf(HttpStatusCode.OK, HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task GetAll_NoTransactionsFound_ReturnsResponse()
    {
        // Act - Query for non-existent customer
        var response = await _client.GetAsync("/api/points?customerId=99999");

        // Assert - May return NotFound or OK with empty list
        response.StatusCode.Should().BeOneOf(HttpStatusCode.OK, HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task PointsFlow_AddAndSubtract_UpdatesBalanceCorrectly()
    {
        // This test demonstrates the complete points flow

        // Step 1: Add initial points
        var customerId = 1;
        var addResponse1 = await _client.PostAsJsonAsync($"/api/points/{customerId}/add", new AddPointRequestDto
        {
            Points = 200,
            Description = "Initial balance"
        });
        addResponse1.StatusCode.Should().Be(HttpStatusCode.OK);

        // Step 2: Add more points
        var addResponse2 = await _client.PostAsJsonAsync($"/api/points/{customerId}/add", new AddPointRequestDto
        {
            Points = 100,
            Description = "Additional points"
        });
        addResponse2.StatusCode.Should().Be(HttpStatusCode.OK);

        // Step 3: Subtract some points
        var subtractResponse = await _client.PostAsJsonAsync($"/api/points/{customerId}/subtract", new SubtractPointRequestDto
        {
            Points = 50,
            TransactionType = "Redeem",
            Description = "Redeem reward"
        });
        subtractResponse.StatusCode.Should().Be(HttpStatusCode.OK);

        // Step 4: Verify transaction history
        var historyResponse = await _client.GetAsync($"/api/points?customerId={customerId}");
        historyResponse.StatusCode.Should().Be(HttpStatusCode.OK);
        var history = await historyResponse.Content.ReadFromJsonAsync<List<PointTransactionResponseDto>>();
        history.Should().NotBeNull();
        history.Should().HaveCountGreaterThan(2);
    }

    [Fact]
    public async Task AddPoints_MultipleTransactionTypes_ReturnsSuccess()
    {
        // Test various transaction scenarios
        var customerId = 1;

        // Purchase points
        var response1 = await _client.PostAsJsonAsync($"/api/points/{customerId}/add", new AddPointRequestDto
        {
            Points = 80,
            Description = "Points from purchase",
            InvoiceId = 100
        });
        response1.StatusCode.Should().Be(HttpStatusCode.OK);

        // Bonus points
        var response2 = await _client.PostAsJsonAsync($"/api/points/{customerId}/add", new AddPointRequestDto
        {
            Points = 20,
            Description = "Bonus points"
        });
        response2.StatusCode.Should().Be(HttpStatusCode.OK);

        // Promotional points
        var response3 = await _client.PostAsJsonAsync($"/api/points/{customerId}/add", new AddPointRequestDto
        {
            Points = 50,
            Description = "Promotional campaign"
        });
        response3.StatusCode.Should().Be(HttpStatusCode.OK);
    }

    [Fact]
    public async Task SubtractPoints_ValidRequest_ReturnsSuccessOrBadRequest()
    {
        // Arrange - Try to subtract from customer
        var customerId = 3;
        var subtractRequest = new SubtractPointRequestDto
        {
            Points = 10,
            TransactionType = "Redeem",
            Description = "Test subtraction"
        };

        // Act
        var response = await _client.PostAsJsonAsync($"/api/points/{customerId}/subtract", subtractRequest);

        // Assert - May succeed if enough points, or fail if not
        response.StatusCode.Should().BeOneOf(HttpStatusCode.OK, HttpStatusCode.BadRequest, HttpStatusCode.NotFound);
    }
}
</file>

<file path="MegaMarket.Tests/Integration/Controllers/Products/ProductsControllerTests.cs">
using MegaMarket.API.DTOs.Products;

namespace MegaMarket.Tests.Integration.Controllers.Products;

public class ProductsControllerTests : IClassFixture<TestServerFixture>
{
    private readonly HttpClient _client;
    private readonly TestServerFixture _factory;

    public ProductsControllerTests(TestServerFixture factory)
    {
        _factory = factory;
        _client = factory.CreateClient();
    }

    [Fact]
    public async Task GetProducts_ReturnsSuccess_WithListOfProducts()
    {
        // Act
        var response = await _client.GetAsync("/api/products");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var products = await response.Content.ReadFromJsonAsync<List<ProductDto>>();
        products.Should().NotBeNull();
        products.Should().HaveCountGreaterThan(0);
        products.Should().Contain(p => p.Name == "Organic Apples 1kg");
    }

    [Fact]
    public async Task GetProduct_ExistingId_ReturnsProduct()
    {
        // Arrange
        var productId = 1;

        // Act
        var response = await _client.GetAsync($"/api/products/{productId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var product = await response.Content.ReadFromJsonAsync<ProductDto>();
        product.Should().NotBeNull();
        product!.ProductId.Should().Be(productId);
        product.Name.Should().Be("Organic Apples 1kg");
        product.Barcode.Should().Be("1110001110001");
    }

    [Fact]
    public async Task GetProduct_NonExistingId_ReturnsNotFound()
    {
        // Arrange
        var productId = 99999;

        // Act
        var response = await _client.GetAsync($"/api/products/{productId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task CreateProduct_ValidData_ReturnsCreated()
    {
        // Arrange
        var newProduct = new ProductCreateUpdateDto
        {
            Barcode = "9999999999999",
            Name = "Test Product",
            Category = "Test Category",
            UnitLabel = "Piece",
            UnitPrice = 50000,
            OriginalPrice = 60000,
            DiscountPercent = 10,
            QuantityInStock = 100,
            MinQuantity = 20,
            IsPerishable = false,
            ImageUrl = "https://example.com/image.jpg"
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/products", newProduct);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.Created);
        var createdProduct = await response.Content.ReadFromJsonAsync<ProductDto>();
        createdProduct.Should().NotBeNull();
        createdProduct!.Name.Should().Be(newProduct.Name);
        createdProduct.Barcode.Should().Be(newProduct.Barcode);
        createdProduct.UnitPrice.Should().Be(newProduct.UnitPrice);
        createdProduct.QuantityInStock.Should().Be(newProduct.QuantityInStock);

        // Verify Location header contains product ID
        response.Headers.Location.Should().NotBeNull();
        response.Headers.Location!.ToString().Should().Contain(createdProduct.ProductId.ToString());
    }

    [Fact]
    public async Task CreateProduct_PerishableWithExpiryDate_ReturnsCreated()
    {
        // Arrange
        var newProduct = new ProductCreateUpdateDto
        {
            Barcode = "8888888888888",
            Name = "Fresh Vegetables",
            Category = "Produce",
            UnitLabel = "Kg",
            UnitPrice = 30000,
            QuantityInStock = 50,
            MinQuantity = 10,
            IsPerishable = true,
            ExpiryDate = DateTime.Today.AddDays(7)
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/products", newProduct);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.Created);
        var createdProduct = await response.Content.ReadFromJsonAsync<ProductDto>();
        createdProduct.Should().NotBeNull();
        createdProduct!.IsPerishable.Should().BeTrue();
        createdProduct.ExpiryDate.Should().NotBeNull();
        createdProduct.ExpiryDate!.Value.Date.Should().Be(DateTime.Today.AddDays(7));
    }

    [Fact]
    public async Task UpdateProduct_ValidData_ReturnsNoContent()
    {
        // Arrange - First create a product to update
        var createDto = new ProductCreateUpdateDto
        {
            Barcode = "7777777777777",
            Name = "Product To Update",
            Category = "Test",
            UnitLabel = "Unit",
            UnitPrice = 40000,
            QuantityInStock = 80,
            MinQuantity = 15,
            IsPerishable = false
        };
        var createResponse = await _client.PostAsJsonAsync("/api/products", createDto);
        var createdProduct = await createResponse.Content.ReadFromJsonAsync<ProductDto>();

        // Update the product
        var updateDto = new ProductCreateUpdateDto
        {
            Barcode = "7777777777777",
            Name = "Product Updated",
            Category = "Test Updated",
            UnitLabel = "Unit",
            UnitPrice = 45000,
            QuantityInStock = 90,
            MinQuantity = 15,
            IsPerishable = false
        };

        // Act
        var response = await _client.PutAsJsonAsync($"/api/products/{createdProduct!.ProductId}", updateDto);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NoContent);

        // Verify the update
        var getResponse = await _client.GetAsync($"/api/products/{createdProduct.ProductId}");
        var updatedProduct = await getResponse.Content.ReadFromJsonAsync<ProductDto>();
        updatedProduct!.Name.Should().Be("Product Updated");
        updatedProduct.Category.Should().Be("Test Updated");
        updatedProduct.UnitPrice.Should().Be(45000);
    }

    [Fact]
    public async Task UpdateProduct_NonExistingId_ReturnsNotFound()
    {
        // Arrange
        var productId = 99999;
        var updateDto = new ProductCreateUpdateDto
        {
            Barcode = "6666666666666",
            Name = "Non Existing Product",
            Category = "Test",
            UnitLabel = "Unit",
            UnitPrice = 10000,
            QuantityInStock = 50,
            MinQuantity = 10,
            IsPerishable = false
        };

        // Act
        var response = await _client.PutAsJsonAsync($"/api/products/{productId}", updateDto);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task DeleteProduct_ExistingId_ReturnsNoContent()
    {
        // Arrange - Create a product to delete
        var createDto = new ProductCreateUpdateDto
        {
            Barcode = "5555555555555",
            Name = "Product To Delete",
            Category = "Test",
            UnitLabel = "Unit",
            UnitPrice = 25000,
            QuantityInStock = 60,
            MinQuantity = 10,
            IsPerishable = false
        };
        var createResponse = await _client.PostAsJsonAsync("/api/products", createDto);
        var createdProduct = await createResponse.Content.ReadFromJsonAsync<ProductDto>();

        // Act
        var response = await _client.DeleteAsync($"/api/products/{createdProduct!.ProductId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NoContent);

        // Verify product is deleted
        var getResponse = await _client.GetAsync($"/api/products/{createdProduct.ProductId}");
        getResponse.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task DeleteProduct_NonExistingId_ReturnsNotFound()
    {
        // Arrange
        var productId = 99999;

        // Act
        var response = await _client.DeleteAsync($"/api/products/{productId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task CreateProduct_WithDiscount_CalculatesCorrectly()
    {
        // Arrange
        var newProduct = new ProductCreateUpdateDto
        {
            Barcode = "4444444444444",
            Name = "Discounted Product",
            Category = "Sale",
            UnitLabel = "Unit",
            UnitPrice = 90000,
            OriginalPrice = 100000,
            DiscountPercent = 10,
            QuantityInStock = 40,
            MinQuantity = 10,
            IsPerishable = false
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/products", newProduct);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.Created);
        var createdProduct = await response.Content.ReadFromJsonAsync<ProductDto>();
        createdProduct.Should().NotBeNull();
        createdProduct!.OriginalPrice.Should().Be(100000);
        createdProduct.UnitPrice.Should().Be(90000);
        createdProduct.DiscountPercent.Should().Be(10);
    }

    [Fact]
    public async Task GetProducts_VerifyAllSeededProducts_Present()
    {
        // Act
        var response = await _client.GetAsync("/api/products");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var products = await response.Content.ReadFromJsonAsync<List<ProductDto>>();
        products.Should().NotBeNull();

        // Verify seeded products from TestData
        products.Should().Contain(p => p.Barcode == "1110001110001" && p.Name == "Organic Apples 1kg");
        products.Should().Contain(p => p.Barcode == "2220002220002" && p.Name == "Whole Milk 1L");
        products.Should().Contain(p => p.Barcode == "3330003330003" && p.Name == "Free Range Eggs 12ct");
        products.Should().Contain(p => p.Barcode == "4440004440004" && p.Name == "Roasted Coffee Beans 500g");
    }

    [Fact]
    public async Task UpdateProduct_UpdateStockQuantity_ReturnsNoContent()
    {
        // Arrange
        var productId = 1; // Using seeded product

        var updateDto = new ProductCreateUpdateDto
        {
            Barcode = "1110001110001",
            Name = "Organic Apples 1kg",
            Category = "Produce",
            UnitLabel = "Bag",
            UnitPrice = 45000,
            QuantityInStock = 200, // Updated quantity
            MinQuantity = 30,
            IsPerishable = true,
            ExpiryDate = DateTime.Today.AddDays(10)
        };

        // Act
        var response = await _client.PutAsJsonAsync($"/api/products/{productId}", updateDto);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NoContent);

        // Verify stock update
        var getResponse = await _client.GetAsync($"/api/products/{productId}");
        var product = await getResponse.Content.ReadFromJsonAsync<ProductDto>();
        product!.QuantityInStock.Should().Be(200);
    }
}
</file>

<file path="MegaMarket.Tests/Integration/Controllers/Reports/ReportsControllerTests.cs">
namespace MegaMarket.Tests.Integration.Controllers.Reports;

public class ReportsControllerTests : IClassFixture<TestServerFixture>
{
    private readonly HttpClient _client;
    private readonly TestServerFixture _factory;

    public ReportsControllerTests(TestServerFixture factory)
    {
        _factory = factory;
        _client = factory.CreateClient();
    }

    [Fact]
    public async Task GetTopCustomers_DefaultLimit_ReturnsSuccessOrNotFound()
    {
        // Act
        var response = await _client.GetAsync("/api/reports/customers/top");

        // Assert
        response.StatusCode.Should().BeOneOf(HttpStatusCode.OK, HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task GetTopCustomers_CustomLimit_ReturnsSuccessOrNotFound()
    {
        // Arrange
        var limit = 5;

        // Act
        var response = await _client.GetAsync($"/api/reports/customers/top?limit={limit}");

        // Assert
        response.StatusCode.Should().BeOneOf(HttpStatusCode.OK, HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task GetTopRewards_DefaultLimit_ReturnsSuccessOrNotFound()
    {
        // Act
        var response = await _client.GetAsync("/api/reports/rewards/top");

        // Assert
        response.StatusCode.Should().BeOneOf(HttpStatusCode.OK, HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task GetTopRewards_CustomLimit_ReturnsSuccessOrNotFound()
    {
        // Arrange
        var limit = 3;

        // Act
        var response = await _client.GetAsync($"/api/reports/rewards/top?limit={limit}");

        // Assert
        response.StatusCode.Should().BeOneOf(HttpStatusCode.OK, HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task GetPointsSummary_ReturnsSuccessOrNotFound()
    {
        // Act
        var response = await _client.GetAsync("/api/reports/points/summary");

        // Assert
        response.StatusCode.Should().BeOneOf(HttpStatusCode.OK, HttpStatusCode.NotFound);
    }
}
</file>

<file path="MegaMarket.Tests/Integration/Controllers/Rewards/RewardsControllerTests.cs">
using MegaMarket.API.DTOs.Rewards;

namespace MegaMarket.Tests.Integration.Controllers.Rewards;

public class RewardsControllerTests : IClassFixture<TestServerFixture>
{
    private readonly HttpClient _client;
    private readonly TestServerFixture _factory;

    public RewardsControllerTests(TestServerFixture factory)
    {
        _factory = factory;
        _client = factory.CreateClient();
    }

    [Fact]
    public async Task GetAllRewards_ReturnsSuccess_WithListOfRewards()
    {
        // Act
        var response = await _client.GetAsync("/api/rewards");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var rewards = await response.Content.ReadFromJsonAsync<List<RewardResponseDto>>();
        rewards.Should().NotBeNull();
        rewards.Should().HaveCountGreaterThan(0);
        rewards.Should().Contain(r => r.Name == "10% Discount Voucher");
    }

    [Fact]
    public async Task GetRewardById_ExistingId_ReturnsReward()
    {
        // Arrange
        var rewardId = 1;

        // Act
        var response = await _client.GetAsync($"/api/rewards/{rewardId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var reward = await response.Content.ReadFromJsonAsync<RewardResponseDto>();
        reward.Should().NotBeNull();
        reward!.RewardId.Should().Be(rewardId);
        reward.Name.Should().Be("10% Discount Voucher");
        reward.PointCost.Should().Be(100);
    }

    [Fact]
    public async Task GetRewardById_NonExistingId_ReturnsNotFound()
    {
        // Arrange
        var rewardId = 99999;

        // Act
        var response = await _client.GetAsync($"/api/rewards/{rewardId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task CreateReward_ValidData_ReturnsCreated()
    {
        // Arrange
        var newReward = new CreateRewardRequestDto
        {
            Name = "100k Cash Voucher",
            Description = "100,000 VND discount voucher",
            PointCost = 1000,
            RewardType = "Voucher",
            Value = 100000,
            QuantityAvailable = 50
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/rewards", newReward);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.Created);
        var createdReward = await response.Content.ReadFromJsonAsync<RewardResponseDto>();
        createdReward.Should().NotBeNull();
        createdReward!.Name.Should().Be(newReward.Name);
        createdReward.PointCost.Should().Be(newReward.PointCost);
        createdReward.RewardType.Should().Be(newReward.RewardType);
        createdReward.Value.Should().Be(newReward.Value);
        createdReward.IsActive.Should().BeTrue();

        // Verify Location header contains reward ID
        response.Headers.Location.Should().NotBeNull();
        response.Headers.Location!.ToString().Should().Contain(createdReward.RewardId.ToString());
    }

    [Fact]
    public async Task CreateReward_FreeGiftType_ReturnsCreated()
    {
        // Arrange
        var newReward = new CreateRewardRequestDto
        {
            Name = "Free Coffee Mug",
            Description = "Free branded coffee mug",
            PointCost = 300,
            RewardType = "Gift",
            Value = 0,
            QuantityAvailable = 100
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/rewards", newReward);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.Created);
        var createdReward = await response.Content.ReadFromJsonAsync<RewardResponseDto>();
        createdReward.Should().NotBeNull();
        createdReward!.RewardType.Should().Be("Gift");
        createdReward.Value.Should().Be(0);
    }

    [Fact]
    public async Task CreateReward_InvalidPointCost_ReturnsBadRequest()
    {
        // Arrange - PointCost must be at least 1
        var invalidReward = new CreateRewardRequestDto
        {
            Name = "Invalid Reward",
            Description = "This should fail",
            PointCost = 0, // Invalid: must be >= 1
            RewardType = "Voucher",
            Value = 10000,
            QuantityAvailable = 10
        };

        // Act
        var response = await _client.PostAsJsonAsync("/api/rewards", invalidReward);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.BadRequest);
    }

    [Fact]
    public async Task UpdateReward_ValidData_ReturnsSuccess()
    {
        // Arrange - First create a reward to update
        var createDto = new CreateRewardRequestDto
        {
            Name = "Reward To Update",
            Description = "Original description",
            PointCost = 500,
            RewardType = "Voucher",
            Value = 50000,
            QuantityAvailable = 30
        };
        var createResponse = await _client.PostAsJsonAsync("/api/rewards", createDto);
        var createdReward = await createResponse.Content.ReadFromJsonAsync<RewardResponseDto>();

        // Update the reward
        var updateDto = new UpdateRewardRequestDto
        {
            Name = "Reward Updated",
            Description = "Updated description",
            PointCost = 600,
            RewardType = "Voucher",
            Value = 60000,
            QuantityAvailable = 40
        };

        // Act
        var response = await _client.PutAsJsonAsync($"/api/rewards/{createdReward!.RewardId}", updateDto);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var updatedReward = await response.Content.ReadFromJsonAsync<RewardResponseDto>();
        updatedReward.Should().NotBeNull();
        updatedReward!.Name.Should().Be(updateDto.Name);
        updatedReward.Description.Should().Be(updateDto.Description);
        updatedReward.PointCost.Should().Be(updateDto.PointCost);
        updatedReward.Value.Should().Be(updateDto.Value);
    }

    [Fact]
    public async Task UpdateReward_NonExistingId_ReturnsBadRequest()
    {
        // Arrange
        var rewardId = 99999;
        var updateDto = new UpdateRewardRequestDto
        {
            Name = "Non Existing Reward",
            Description = "This should fail",
            PointCost = 100,
            RewardType = "Voucher",
            Value = 10000,
            QuantityAvailable = 10
        };

        // Act
        var response = await _client.PutAsJsonAsync($"/api/rewards/{rewardId}", updateDto);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.BadRequest);
    }

    [Fact]
    public async Task DeleteReward_ExistingId_ReturnsNoContent()
    {
        // Arrange - Create a reward to delete (soft delete: sets IsActive = false)
        var createDto = new CreateRewardRequestDto
        {
            Name = "Reward To Delete",
            Description = "Will be soft deleted",
            PointCost = 200,
            RewardType = "Voucher",
            Value = 20000,
            QuantityAvailable = 20
        };
        var createResponse = await _client.PostAsJsonAsync("/api/rewards", createDto);
        var createdReward = await createResponse.Content.ReadFromJsonAsync<RewardResponseDto>();

        // Act
        var response = await _client.DeleteAsync($"/api/rewards/{createdReward!.RewardId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NoContent);

        // Verify reward is soft deleted (IsActive = false)
        var getResponse = await _client.GetAsync($"/api/rewards/{createdReward.RewardId}");
        if (getResponse.StatusCode == HttpStatusCode.OK)
        {
            var deletedReward = await getResponse.Content.ReadFromJsonAsync<RewardResponseDto>();
            deletedReward!.IsActive.Should().BeFalse();
        }
    }

    [Fact]
    public async Task DeleteReward_NonExistingId_ReturnsNotFound()
    {
        // Arrange
        var rewardId = 99999;

        // Act
        var response = await _client.DeleteAsync($"/api/rewards/{rewardId}");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.NotFound);
    }

    [Fact]
    public async Task GetAllRewards_VerifySeededRewards_Present()
    {
        // Act
        var response = await _client.GetAsync("/api/rewards");

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var rewards = await response.Content.ReadFromJsonAsync<List<RewardResponseDto>>();
        rewards.Should().NotBeNull();

        // Verify seeded rewards from TestData
        rewards.Should().Contain(r => r.Name == "10% Discount Voucher" && r.PointCost == 100);
        rewards.Should().Contain(r => r.Name == "Free Shipping Voucher" && r.PointCost == 200);
        rewards.Should().Contain(r => r.Name == "50k Cash Voucher" && r.PointCost == 500);
    }

    [Fact]
    public async Task CreateReward_MultipleRewardTypes_ReturnsCreated()
    {
        // Test creating different reward types
        var rewardTypes = new[]
        {
            new CreateRewardRequestDto
            {
                Name = "Percentage Discount",
                Description = "20% off",
                PointCost = 200,
                RewardType = "Percentage",
                Value = 20,
                QuantityAvailable = 100
            },
            new CreateRewardRequestDto
            {
                Name = "Fixed Amount Discount",
                Description = "75k off",
                PointCost = 750,
                RewardType = "FixedAmount",
                Value = 75000,
                QuantityAvailable = 50
            },
            new CreateRewardRequestDto
            {
                Name = "Free Product",
                Description = "Free item",
                PointCost = 400,
                RewardType = "Product",
                Value = 0,
                QuantityAvailable = 30
            }
        };

        // Act & Assert
        foreach (var rewardDto in rewardTypes)
        {
            var response = await _client.PostAsJsonAsync("/api/rewards", rewardDto);
            response.StatusCode.Should().Be(HttpStatusCode.Created);

            var created = await response.Content.ReadFromJsonAsync<RewardResponseDto>();
            created.Should().NotBeNull();
            created!.RewardType.Should().Be(rewardDto.RewardType);
        }
    }

    [Fact]
    public async Task UpdateReward_UpdateQuantityOnly_ReturnsSuccess()
    {
        // Arrange - Create a reward
        var createDto = new CreateRewardRequestDto
        {
            Name = "Limited Reward",
            Description = "Limited quantity",
            PointCost = 150,
            RewardType = "Voucher",
            Value = 15000,
            QuantityAvailable = 10
        };
        var createResponse = await _client.PostAsJsonAsync("/api/rewards", createDto);
        var createdReward = await createResponse.Content.ReadFromJsonAsync<RewardResponseDto>();

        // Update only quantity
        var updateDto = new UpdateRewardRequestDto
        {
            Name = createdReward!.Name,
            Description = createdReward.Description,
            PointCost = createdReward.PointCost,
            RewardType = createdReward.RewardType,
            Value = createdReward.Value,
            QuantityAvailable = 50 // Increased quantity
        };

        // Act
        var response = await _client.PutAsJsonAsync($"/api/rewards/{createdReward.RewardId}", updateDto);

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var updatedReward = await response.Content.ReadFromJsonAsync<RewardResponseDto>();
        updatedReward!.QuantityAvailable.Should().Be(50);
    }
}
</file>

<file path=".claude/settings.local.json">
{
  "permissions": {
    "allow": [
      "Bash(dir:*)",
      "Bash(findstr:*)",
      "Bash(powershell:*)",
      "Bash(git -C \"d:\\se310\\MegaMarket\" status)",
      "Bash(git -C \"d:\\se310\\MegaMarket\" log --oneline -10)",
      "Bash(git -C \"d:\\se310\\MegaMarket\" diff --name-only)",
      "Bash(git -C \"d:\\se310\\MegaMarket\" status -s)",
      "Bash(git -C \"d:\\se310\\MegaMarket\" log --all --oneline)",
      "Bash(git -C \"d:\\se310\\MegaMarket\" branch -a)",
      "Bash(git -C \"d:\\se310\\MegaMarket\" log dev --oneline)",
      "Bash(git -C \"d:\\se310\\MegaMarket\" show dev:MegaMarket.Tests/)",
      "Bash(git -C \"d:\\se310\\MegaMarket\" show master:MegaMarket.Tests/)",
      "Bash(git -C \"d:\\se310\\MegaMarket\" show HEAD~0:MegaMarket.Tests/)",
      "Bash(git add:*)",
      "Bash(dotnet build:*)",
      "Bash(dotnet test:*)",
      "Bash(git reset:*)",
      "Bash(dotnet ef migrations:*)",
      "Bash(dotnet ef database update:*)",
      "Bash(git -C \"d:\\se310\\MegaMarket\" diff --stat)",
      "Bash(git -C \"d:\\se310\\MegaMarket\" add MegaMarket.API/Data/DbSeeder.cs MegaMarket.API/MegaMarket.API.csproj MegaMarket.API/Program.cs MegaMarket.BlazorUI/Components/Pages/Auth/Login.razor MegaMarket.BlazorUI/Components/Routes.razor MegaMarket.BlazorUI/Components/_Imports.razor MegaMarket.BlazorUI/Components/Layout/AuthLayout.razor MegaMarket.BlazorUI/Program.cs MegaMarket.BlazorUI/Services/Auth/LocalStorageService.cs MegaMarket.BlazorUI/Services/GraphQL/GraphQLClient.cs MegaMarket.BlazorUI/appsettings.json)"
    ]
  }
}
</file>

<file path="MegaMarket.API/Controllers/CustomersController.cs">
using MegaMarket.API.DTOs.Customers;
using MegaMarket.API.Services;
using Microsoft.AspNetCore.Authorization;
using Microsoft.AspNetCore.Http;
using Microsoft.AspNetCore.Mvc;
using System.Diagnostics.Contracts;
using System.Threading.Tasks;

namespace MegaMarket.API.Controllers
{
    [Authorize]
    [Route("api/[controller]")]
    [ApiController]
    public class CustomersController : ControllerBase
    {
        private readonly ICustomerService _customerService;
        private readonly IPointTransactionService _pointTransactionService;
        public CustomersController(ICustomerService customerService, IPointTransactionService pointTransactionService)
        {
            _customerService = customerService;
            _pointTransactionService = pointTransactionService;
        }

        //api/customers : get all customers
        [HttpGet]
        public async Task<IActionResult> GetAllCustomers()
        {
            // get all customers
            var customers = await _customerService.GetAllCustomersAsync();
            return Ok(customers);
        }

        //api/customers/{id}
        [HttpGet("{id}")]
        public async Task<IActionResult> GetCustomerById(int id)
        {
            var customer = await _customerService.GetCustomerById(id);
            if (customer == null)
            {
                return NotFound();
            }
            return Ok(customer);
        }

        //api/customers : create a customer
        [HttpPost]
        [Authorize(Roles = "Admin,Manager")]
        public async Task<IActionResult> CreateCustomer([FromBody] CreateCustomerRequestDto requestDto)
        {
            if (!ModelState.IsValid)
            {
                return BadRequest(ModelState);
            }
            // create a customer
            var response = await _customerService.CreateCustomerAsync(requestDto);
            if (response == null)
            {
                return BadRequest("Can't create customer. The phone may already exist.");
            }
            return CreatedAtAction(nameof(GetCustomerById), new { id = response.CustomerId }, response);
        }

        //api/customers/{id} : update customer
        [HttpPut("{id}")]
        public async Task<IActionResult> UpdateCustomer(int id, [FromBody] UpdateCustomerRequestDto requestDto)
        {
            if (!ModelState.IsValid)
            {
                return BadRequest(ModelState);
            }

            var response = await _customerService.UpdateCustomerAsync(id, requestDto);
            if (response == null)
            {
                return BadRequest("Can't update customer. The phone may already exist.");
            }
            return Ok(response);
        }

        //api/customers/{id} : delete cutomer
        [HttpDelete("{id}")]
        public async Task<IActionResult> DeleteCustomer(int id)
        {
            try
            {
                var response = await _customerService.DeleteCustomerAsync(id);
                if (response)
                {
                    return Ok("Delete successfully!");
                }
                return NotFound();
            }
            catch (Exception ex)
            {
                // display status error
                return StatusCode(500, $"Internal server error: {ex.Message}");
            }
        }


        //api/customers/search
        [HttpGet("search")]
        public async Task<IActionResult> FilterCustomers([FromQuery] FilterCustomerRequestDto filter)
        {
            var results = await _customerService.FilterCustomersAsync(filter);

            if (!results.Any())
            {
                return NotFound("No suitable customers were found.");
            }

            return Ok(results);
        }

        // GET: api/customers/{id}/points
        [HttpGet("{id}/Points")]
        public async Task<IActionResult> GetCustomerPointHistory(int id)
        {
            var history = await _pointTransactionService.GetPointHistoryAsync(id);

            if (!history.Any())
                return NotFound($"Customer {id} has no point history.");

            return Ok(history);
        }


    }
}
</file>

<file path="MegaMarket.API/Controllers/EmployeeDashboardController.cs">
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Authorization;
using MegaMarket.API.Services;
using MegaMarket.API.DTOs.Dashboard.Common;
using System.Security.Claims;

namespace MegaMarket.API.Controllers;

[Authorize]
[Route("api/[controller]")]
[ApiController]
public class EmployeeDashboardController : ControllerBase
{
    private readonly DashboardEmployeeService _service;

    public EmployeeDashboardController(DashboardEmployeeService service)
    {
        _service = service;
    }

    // GET: api/EmployeeDashboard?dateRange=TODAY
    [HttpGet]
    [Authorize(Roles = "Admin,Manager,Cashier,Warehouse")]
    public async Task<IActionResult> GetEmployeeDashboard([FromQuery] string dateRange = "TODAY")
    {
        try
        {
            var currentUserId = int.Parse(User.FindFirst(ClaimTypes.NameIdentifier)!.Value);
            var currentRole = User.FindFirst(ClaimTypes.Role)?.Value;

            if (!Enum.TryParse<DateRangeEnum>(dateRange, true, out var dateRangeEnum))
            {
                return BadRequest(new { message = "Invalid date range. Use: TODAY, THIS_WEEK, THIS_MONTH, THIS_YEAR" });
            }

            var result = await _service.GetEmployeeDashboardAsync(dateRangeEnum, currentRole, currentUserId);
            return Ok(result);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = $"Failed to load employee dashboard: {ex.Message}" });
        }
    }

    // GET: api/EmployeeDashboard/work-summary?dateRange=TODAY
    [HttpGet("work-summary")]
    [Authorize(Roles = "Admin,Manager")]
    public async Task<IActionResult> GetEmployeeWorkSummary([FromQuery] string dateRange = "TODAY")
    {
        try
        {
            if (!Enum.TryParse<DateRangeEnum>(dateRange, true, out var dateRangeEnum))
            {
                return BadRequest(new { message = "Invalid date range. Use: TODAY, THIS_WEEK, THIS_MONTH, THIS_YEAR" });
            }

            var result = await _service.GetEmployeeWorkSummaryAsync(dateRangeEnum);
            return Ok(result);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = $"Failed to load employee work summary: {ex.Message}" });
        }
    }

    // GET: api/EmployeeDashboard/attendance-statistics/{employeeId}?dateRange=TODAY
    [HttpGet("attendance-statistics/{employeeId}")]
    public async Task<IActionResult> GetAttendanceStatistics(int employeeId, [FromQuery] string dateRange = "TODAY")
    {
        try
        {
            var currentUserId = int.Parse(User.FindFirst(ClaimTypes.NameIdentifier)!.Value);
            var currentRole = User.FindFirst(ClaimTypes.Role)?.Value;

            if (!Enum.TryParse<DateRangeEnum>(dateRange, true, out var dateRangeEnum))
            {
                return BadRequest(new { message = "Invalid date range. Use: TODAY, THIS_WEEK, THIS_MONTH, THIS_YEAR" });
            }

            // Access control: Admin and Manager can see all employees, Employee can only see themselves
            if (currentRole != "Admin" && currentRole != "Manager" && employeeId != currentUserId)
            {
                return Forbid();
            }

            var result = await _service.GetAttendanceStatisticsAsync(employeeId, dateRangeEnum);
            return Ok(result);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = $"Failed to load attendance statistics: {ex.Message}" });
        }
    }
}
</file>

<file path="MegaMarket.API/Controllers/ImportsController.cs">
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Authorization;
using MegaMarket.API.DTOs.Imports;
using MegaMarket.API.Services.Interfaces;
using MegaMarket.Data.Models;

namespace MegaMarket.API.Controllers;

[Authorize]
[ApiController]
[Route("api/[controller]")]
public class ImportsController : ControllerBase
{
    private readonly IImportService _importService;

    public ImportsController(IImportService importService)
    {
        _importService = importService;
    }

    [HttpGet]
    public async Task<ActionResult<IEnumerable<ImportSummaryDto>>> GetImports()
    {
        var imports = await _importService.GetAllAsync();
        var result = imports.Select(MapToSummary);
        return Ok(result);
    }

    [HttpGet("{id:int}")]
    public async Task<ActionResult<ImportDetailDto>> GetImport(int id)
    {
        var import = await _importService.GetByIdAsync(id);
        if (import is null)
        {
            return NotFound();
        }

        return Ok(MapToDetail(import));
    }

    [HttpPost]
    [Authorize(Roles = "Admin,Manager,Warehouse")]
    public async Task<ActionResult<ImportDetailDto>> CreateImport([FromBody] ImportCreateDto dto)
    {
        if (!ModelState.IsValid)
        {
            return ValidationProblem(ModelState);
        }

        try
        {
            var import = await _importService.CreateAsync(dto);
            var result = MapToDetail(import);
            return CreatedAtAction(nameof(GetImport), new { id = result.ImportId }, result);
        }
        catch (InvalidOperationException ex)
        {
            return BadRequest(ex.Message);
        }
    }

    [HttpPut("{id:int}")]
    public async Task<ActionResult<ImportDetailDto>> UpdateImport(int id, [FromBody] ImportUpdateDto dto)
    {
        if (id != dto.ImportId)
        {
            return BadRequest("Mismatched import id.");
        }

        if (!ModelState.IsValid)
        {
            return ValidationProblem(ModelState);
        }

        try
        {
            var updated = await _importService.UpdateAsync(dto);
            if (updated is null)
            {
                return NotFound();
            }

            return Ok(MapToDetail(updated));
        }
        catch (InvalidOperationException ex)
        {
            return BadRequest(ex.Message);
        }
    }

    [HttpDelete("{id:int}")]
    public async Task<ActionResult> DeleteImport(int id)
    {
        var deleted = await _importService.DeleteAsync(id);
        if (!deleted)
        {
            return NotFound();
        }

        return NoContent();
    }

    private static ImportSummaryDto MapToSummary(Import import)
    {
        var expiryFlags = GetExpiryFlags(import);
        return new ImportSummaryDto
        {
            ImportId = import.ImportId,
            ImportDate = import.ImportDate,
            Supplier = import.Supplier?.Name ?? "Unknown",
            Staff = import.User?.FullName ?? "Unknown",
            TotalCost = import.TotalCost,
            Status = import.Status,
            NearExpiry = expiryFlags.nearExpiry,
            Expired = expiryFlags.expired,
            ItemCount = import.ImportDetails.Count
        };
    }

    private static ImportDetailDto MapToDetail(Import import)
    {
        var summary = MapToSummary(import);
        var items = import.ImportDetails
            .Select(id => new ImportLineDto
            {
                ProductId = id.ProductId,
                ProductName = id.Product?.Name ?? "Unknown",
                Barcode = id.Product?.Barcode ?? string.Empty,
                Quantity = id.Quantity,
                UnitPrice = id.UnitPrice,
                ExpiryDate = id.ExpiryDate,
                Category = id.Product?.Category,
                IsPerishable = id.Product?.IsPerishable ?? false
            })
            .ToList();

        return new ImportDetailDto
        {
            ImportId = summary.ImportId,
            ImportDate = summary.ImportDate,
            Supplier = summary.Supplier,
            Staff = summary.Staff,
            TotalCost = summary.TotalCost,
            Status = summary.Status,
            NearExpiry = summary.NearExpiry,
            Expired = summary.Expired,
            ItemCount = summary.ItemCount,
            Items = items
        };
    }

    private static (bool expired, bool nearExpiry) GetExpiryFlags(Import import)
    {
        var expiries = import.ImportDetails
            .Where(id => id.ExpiryDate.HasValue)
            .Select(id => (id.ExpiryDate!.Value.Date - DateTime.Today).TotalDays)
            .ToList();

        var expired = expiries.Any(days => days < 0);
        var nearExpiry = expiries.Any(days => days >= 0 && days <= 7);

        return (expired, nearExpiry);
    }
}
</file>

<file path="MegaMarket.API/Controllers/ProductsController.cs">
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Authorization;
using Microsoft.EntityFrameworkCore;
using MegaMarket.API.DTOs.Products;
using MegaMarket.API.Services.Interfaces;
using MegaMarket.Data.Models;

namespace MegaMarket.API.Controllers;

[Authorize]
[ApiController]
[Route("api/[controller]")]
public class ProductsController : ControllerBase
{
    private readonly IProductService _productService;

    public ProductsController(IProductService productService)
    {
        _productService = productService;
    }

    [HttpGet]
    public async Task<ActionResult<IEnumerable<ProductDto>>> GetProducts()
    {
        var products = await _productService.GetAllAsync();
        var result = products.Select(MapToDto);
        return Ok(result);
    }

    [HttpGet("{id:int}")]
    public async Task<ActionResult<ProductDto>> GetProduct(int id)
    {
        var product = await _productService.GetByIdAsync(id);
        if (product is null)
        {
            return NotFound();
        }

        return Ok(MapToDto(product));
    }

    [HttpPost]
    [Authorize(Roles = "Admin,Manager")]
    public async Task<ActionResult<ProductDto>> CreateProduct([FromBody] ProductCreateUpdateDto dto)
    {
        try
        {
            var product = await _productService.CreateAsync(MapToEntity(dto));
            var result = MapToDto(product);
            return CreatedAtAction(nameof(GetProduct), new { id = result.ProductId }, result);
        }
        catch (DbUpdateException ex)
        {
            return Conflict($"Could not create product: {ex.GetBaseException().Message}");
        }
    }

    [HttpPut("{id:int}")]
    [Authorize(Roles = "Admin,Manager")]
    public async Task<ActionResult> UpdateProduct(int id, [FromBody] ProductCreateUpdateDto dto)
    {
        try
        {
            var updated = await _productService.UpdateAsync(MapToEntity(dto, id));
            if (!updated)
            {
                return NotFound();
            }

            return NoContent();
        }
        catch (DbUpdateException ex)
        {
            return Conflict($"Could not update product: {ex.GetBaseException().Message}");
        }
    }

    [HttpDelete("{id:int}")]
    [Authorize(Roles = "Admin,Manager")]
    public async Task<ActionResult> DeleteProduct(int id)
    {
        try
        {
            var deleted = await _productService.DeleteAsync(id);
            if (!deleted)
            {
                return NotFound();
            }

            return NoContent();
        }
        catch (DbUpdateException ex)
        {
            return Conflict($"Could not delete product: {ex.GetBaseException().Message}");
        }
    }

    private static ProductDto MapToDto(Product product) =>
        new()
        {
            ProductId = product.ProductId,
            Barcode = product.Barcode,
            Name = product.Name,
            Category = product.Category,
            UnitLabel = product.UnitLabel,
            UnitPrice = product.UnitPrice,
            OriginalPrice = product.OriginalPrice,
            DiscountPercent = product.DiscountPercent,
            QuantityInStock = product.QuantityInStock,
            MinQuantity = product.MinQuantity,
            ExpiryDate = product.ExpiryDate,
            IsPerishable = product.IsPerishable,
            ImageUrl = product.ImageUrl
        };

    private static Product MapToEntity(ProductCreateUpdateDto dto, int? id = null) =>
        new()
        {
            ProductId = id ?? 0,
            Barcode = dto.Barcode,
            Name = dto.Name,
            Category = dto.Category,
            UnitLabel = dto.UnitLabel,
            UnitPrice = dto.UnitPrice,
            OriginalPrice = dto.OriginalPrice,
            DiscountPercent = dto.DiscountPercent,
            QuantityInStock = dto.QuantityInStock,
            MinQuantity = dto.MinQuantity,
            ExpiryDate = dto.ExpiryDate,
            IsPerishable = dto.IsPerishable,
            ImageUrl = dto.ImageUrl
        };
}
</file>

<file path="MegaMarket.API/Controllers/SalesDashboardController.cs">
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Authorization;
using MegaMarket.API.Services;
using MegaMarket.API.DTOs.Dashboard.Common;
using System.Security.Claims;

namespace MegaMarket.API.Controllers;

[Authorize]
[Route("api/[controller]")]
[ApiController]
public class SalesDashboardController : ControllerBase
{
    private readonly DashboardSalesService _service;

    public SalesDashboardController(DashboardSalesService service)
    {
        _service = service;
    }

    // GET: api/SalesDashboard?dateRange=TODAY
    [HttpGet]
    [Authorize(Roles = "Admin,Manager")]
    public async Task<IActionResult> GetSalesDashboard([FromQuery] string dateRange = "TODAY")
    {
        try
        {
            var currentUserId = int.Parse(User.FindFirst(ClaimTypes.NameIdentifier)!.Value);
            var currentRole = User.FindFirst(ClaimTypes.Role)?.Value;

            if (!Enum.TryParse<DateRangeEnum>(dateRange, true, out var dateRangeEnum))
            {
                return BadRequest(new { message = "Invalid date range. Use: TODAY, THIS_WEEK, THIS_MONTH, THIS_YEAR" });
            }

            var result = await _service.GetSalesDashboardAsync(dateRangeEnum, currentRole, currentUserId);
            return Ok(result);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = $"Failed to load sales data: {ex.Message}" });
        }
    }

    // GET: api/SalesDashboard/revenue-trend?dateRange=TODAY
    [HttpGet("revenue-trend")]
    [Authorize(Roles = "Admin,Manager")]
    public async Task<IActionResult> GetRevenueTrend([FromQuery] string dateRange = "TODAY")
    {
        try
        {
            if (!Enum.TryParse<DateRangeEnum>(dateRange, true, out var dateRangeEnum))
            {
                return BadRequest(new { message = "Invalid date range" });
            }

            var result = await _service.GetRevenueTrendAsync(dateRangeEnum);
            return Ok(result);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = ex.Message });
        }
    }

    // GET: api/SalesDashboard/top-products?dateRange=TODAY&limit=10
    [HttpGet("top-products")]
    public async Task<IActionResult> GetTopSellingProducts(
        [FromQuery] string dateRange = "TODAY",
        [FromQuery] int limit = 10)
    {
        try
        {
            var currentRole = User.FindFirst(ClaimTypes.Role)?.Value;

            if (!Enum.TryParse<DateRangeEnum>(dateRange, true, out var dateRangeEnum))
            {
                return BadRequest(new { message = "Invalid date range" });
            }

            var result = await _service.GetTopSellingProductsAsync(dateRangeEnum, limit, currentRole);
            return Ok(result);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = ex.Message });
        }
    }
}
</file>

<file path="MegaMarket.API/Services/PointTransactionService.cs">
using MegaMarket.API.DTOs.Customers;
using MegaMarket.API.DTOs.PointTransaction;
using MegaMarket.API.DTOs.PointTransactions;
using MegaMarket.Data.Models;
using MegaMarket.Data.Repositories;

namespace MegaMarket.API.Services
{
    public class PointTransactionService : IPointTransactionService
    {
        private readonly IPointTransactionRepository _pointTransactionRepository;
        private readonly ICustomerRepository _customerRepository;
        public PointTransactionService(IPointTransactionRepository pointTransactionRepository, ICustomerRepository customerRepository)
        {
            _pointTransactionRepository = pointTransactionRepository;
            _customerRepository = customerRepository;
        }


        // get a point transaction
        public async Task<PointTransactionResponseDto?> GetPointTransactionAsyncById(int id)
        {
            // get point transaction by id
            var point_transaction = await _pointTransactionRepository.GetPointTransactionByIdAsync(id);
            // check exist
            if (point_transaction == null)
            {
                return null;
            }
            // return for client
            return new PointTransactionResponseDto
            {
                TransactionId = point_transaction.TransactionId,
                CustomerId = point_transaction.CustomerId,
                InvoiceId = point_transaction.InvoiceId,
                PointChange = point_transaction.PointChange,
                TransactionType = point_transaction.TransactionType,
                CreatedAt = point_transaction.CreatedAt,
                Description = point_transaction.Description,
                CustomerName = point_transaction.Customer?.FullName
            };
        }


        // filter poit transactions
        public async Task<IEnumerable<PointTransactionResponseDto>> GetFilteredPointTransactionsAsync(FilterPointTransactionRequestDto filter)
        {
            var transactions = await _pointTransactionRepository.GetPointTransactionsAsync(
                filter.FromDate,
                filter.ToDate,
                filter.TransactionType
            );

            return transactions.Select(pt => new PointTransactionResponseDto
            {
                TransactionId = pt.TransactionId,
                CustomerId = pt.CustomerId,
                InvoiceId = pt.InvoiceId,
                PointChange = pt.PointChange,
                TransactionType = pt.TransactionType,
                CreatedAt = pt.CreatedAt,
                Description = pt.Description,
                CustomerName = pt.Customer?.FullName
            });
        }

        // get history point transaction of customer by id 
        public async Task<IEnumerable<HistoryPointResponseDto>> GetPointHistoryAsync(int customerId)
        {
            var list = await _pointTransactionRepository.GetPointHistoryByCustomerIdAsync(customerId);

            return list.Select(p => new HistoryPointResponseDto
            {
                TransactionId = p.TransactionId,
                PointChange = p.PointChange,
                TransactionType = p.TransactionType,
                CreatedAt = p.CreatedAt,
                Description = p.Description,
                InvoiceId = p.InvoiceId,
            });
        }

        // add point for customer
        public async Task<PointTransactionResponseDto?> AddPointAsync(int customerId, AddPointRequestDto dto)
        {
            var customer = await _customerRepository.GetCustomerByIdAsync(customerId);
            if (customer == null)
                return null;

            int newPoints = customer.Points + dto.Points;
            await _customerRepository.UpdateCustomerPointsAsync(customerId, newPoints);
            await _customerRepository.UpdateCustomerRankAsync(customerId);

            var pt = new PointTransaction
            {
                CustomerId = customerId,
                InvoiceId = dto.InvoiceId,
                PointChange = dto.Points,
                TransactionType = "Earn",
                CreatedAt = DateTime.Now,
                Description = dto.Description
                    ?? (dto.InvoiceId != null ? $"Earned from invoice #{dto.InvoiceId}" : "Earned manually"),
                Customer = customer  // include to display customer name 
            };

            var created = await _pointTransactionRepository.AddTransactionAsync(pt);

            return new PointTransactionResponseDto
            {
                TransactionId = created.TransactionId,
                CustomerId = created.CustomerId,
                CustomerName = customer.FullName,        // map with customer 
                InvoiceId = created.InvoiceId,
                PointChange = created.PointChange,
                TransactionType = created.TransactionType,
                CreatedAt = created.CreatedAt,
                Description = created.Description
            };
        }

        // subtract point for customer
        public async Task<PointTransactionResponseDto?> SubtractPointAsync(int customerId, SubtractPointRequestDto dto)
        {
            var customer = await _customerRepository.GetCustomerByIdAsync(customerId);
            if (customer == null)
                return null;

            // Validate: enough poit to subtract
            if (customer.Points < dto.Points)
                throw new Exception("Customer does not have enough points.");

            // Validate transaction type
            string[] validTypes = { "Redeem", "Adjust" };
            if (!validTypes.Contains(dto.TransactionType))
                throw new Exception("Invalid transaction type. Must be Redeem or Adjust.");

            // Update point balance
            int newPoints = customer.Points - dto.Points;
            await _customerRepository.UpdateCustomerPointsAsync(customerId, newPoints);
            await _customerRepository.UpdateCustomerRankAsync(customerId);

            // Create transaction object
            var pt = new PointTransaction
            {
                CustomerId = customerId,
                InvoiceId = null,           // subtract = không liên quan invoice
                PointChange = -dto.Points,   // subtract = - add
                TransactionType = dto.TransactionType,
                CreatedAt = DateTime.Now,
                Description = dto.Description
                    ?? (dto.TransactionType == "Redeem"
                            ? "Redeemed points"
                            : "Adjusted by admin"),
                Customer = customer   // get customer name by mapping
            };

            var created = await _pointTransactionRepository.AddTransactionAsync(pt);

            // Return response DTO
            return new PointTransactionResponseDto
            {
                TransactionId = created.TransactionId,
                CustomerId = created.CustomerId,
                CustomerName = customer.FullName,
                InvoiceId = created.InvoiceId,
                PointChange = created.PointChange,
                TransactionType = created.TransactionType,
                CreatedAt = created.CreatedAt,
                Description = created.Description
            };
        }



    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/App.razor">
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="/" />
    <link rel="stylesheet" href="bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />
    <link rel="stylesheet" href="app.css" />
    <link rel="stylesheet" href="css/custom.css" />
    <link rel="stylesheet" href="MegaMarket.BlazorUI.styles.css" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <HeadOutlet @rendermode="InteractiveServer" />
</head>

<body>
    <Routes @rendermode="InteractiveServer" />
    <script src="_framework/blazor.web.js"></script>
    <script src="js/localStorage.js"></script>
</body>

</html>
</file>

<file path="MegaMarket.BlazorUI/Components/Layout/MainLayout.razor">
@inherits LayoutComponentBase

<div class="page">
    <div class="sidebar">
        <NavMenu />
    </div>

    <main class="main-content">
        <div class="top-bar">
            <div class="container-fluid px-4 d-flex justify-content-end align-items-center">
                <LoginDisplay />
            </div>
        </div>

        <article class="content-scroll px-4">
            @Body
        </article>
    </main>
</div>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">🗙</a>
</div>

<style>
    .page {
        position: relative;
        display: flex;
        flex-direction: row;
        height: 100vh;
        overflow: hidden;
    }

    .sidebar {
        width: 260px;
        background-color: #f8f9fa;
        border-right: 1px solid #dee2e6;
        overflow-y: auto;
        flex-shrink: 0;
    }

    .main-content {
        flex: 1;
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }

    .top-bar {
        background-color: white;
        border-bottom: 1px solid #dee2e6;
        padding: 0.75rem 0;
        flex-shrink: 0;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }

    .content-scroll {
        flex: 1;
        overflow-y: auto;
        overflow-x: hidden;
        padding-top: 1.5rem;
        padding-bottom: 2rem;
    }
</style>
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Attendance/AttendanceHistory.razor">
@page "/attendance/history"
@attribute [Authorize(Roles = "Admin,Manager")]
@using MegaMarket.Data.Models
@inject Services.Attendance.AttendanceApiClient AttendanceApiClient
@inject Services.ShiftTypes.ShiftTypesApiClient ShiftTypesApiClient
@inject AuthenticationStateProvider AuthStateProvider

<div class="container-fluid mt-4">
    @* Header *@
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="text-gradient mb-1">Attendance History</h2>
            <p class="text-muted">View and track all attendance records</p>
        </div>
    </div>

    @* Error Message *@
    @if (!string.IsNullOrEmpty(errorMessage))
    {
        <ErrorAlert ErrorMessage="@errorMessage" OnDismiss="@(() => errorMessage = null)" />
    }

    @* Loading State *@
    @if (isLoading)
    {
        <LoadingSpinner Message="Loading attendance history..." />
    }
    else
    {
        @* Stats Cards *@
        <AttendanceStats Attendances="@filteredAttendances" />

        @* Filters *@
        <div class="card mb-4">
            <div class="card-body">
                <div class="row g-3">
                    <div class="col-md-3">
                        <label class="form-label">From Date</label>
                        <input type="date" class="form-control" @bind="filterFromDate" @bind:after="ApplyFilters" />
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">To Date</label>
                        <input type="date" class="form-control" @bind="filterToDate" @bind:after="ApplyFilters" />
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">Shift Type</label>
                        <select class="form-select" @bind="filterShiftTypeId" @bind:after="ApplyFilters">
                            <option value="0">All Shifts</option>
                            @if (shiftTypes != null)
                            {
                                @foreach (var shift in shiftTypes)
                                {
                                    <option value="@shift.ShiftTypeId">@shift.Name</option>
                                }
                            }
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">Status</label>
                        <select class="form-select" @bind="filterStatus" @bind:after="ApplyFilters">
                            <option value="All">All Status</option>
                            <option value="OnTime">On Time</option>
                            <option value="Late">Late</option>
                            <option value="Incomplete">Incomplete</option>
                        </select>
                    </div>
                </div>
                <div class="mt-3">
                    <button class="btn btn-outline-secondary btn-sm" @onclick="ClearFilters">
                        <span class="bi bi-x-circle me-1"></span> Clear Filters
                    </button>
                </div>
            </div>
        </div>

        @* Attendance Table *@
        @if (filteredAttendances == null || !filteredAttendances.Any())
        {
            <EmptyState
                Icon="📅"
                Title="No Attendance Records Found"
                Description="No attendance records match your current filters." />
        }
        else
        {
            <AttendanceTable Attendances="@filteredAttendances" />
        }
    }
</div>

@code {
    private List<MegaMarket.Data.Models.Attendance>? allAttendances;
    private List<MegaMarket.Data.Models.Attendance>? filteredAttendances;
    private List<ShiftType>? shiftTypes;
    private bool isLoading = true;
    private string? errorMessage;

    // Filters
    private DateTime? filterFromDate;
    private DateTime? filterToDate;
    private int filterShiftTypeId = 0;
    private string filterStatus = "All";

    protected override async Task OnInitializedAsync()
    {
        await LoadData();
    }

    private async Task LoadData()
    {
        try
        {
            isLoading = true;
            errorMessage = null;

            // Admin và Manager có quyền xem toàn bộ
            allAttendances = await AttendanceApiClient.GetAttendancesAsync();

            if (allAttendances == null)
            {
                allAttendances = new List<MegaMarket.Data.Models.Attendance>();
            }

            // Load shift types for filter
            shiftTypes = await ShiftTypesApiClient.GetShiftTypesAsync();
            if (shiftTypes == null)
            {
                shiftTypes = new List<ShiftType>();
            }

            // Initialize filters with default date range (last 30 days)
            filterToDate = DateTime.Today;
            filterFromDate = DateTime.Today.AddDays(-30);

            ApplyFilters();
        }
        catch (Exception ex)
        {
            errorMessage = $"Failed to load data: {ex.Message}";
        }
        finally
        {
            isLoading = false;
        }
    }

    private void ApplyFilters()
    {
        if (allAttendances == null)
        {
            filteredAttendances = new List<MegaMarket.Data.Models.Attendance>();
            return;
        }

        var query = allAttendances.AsEnumerable();

        // Filter by date range
        if (filterFromDate.HasValue)
        {
            query = query.Where(a => a.Date.Date >= filterFromDate.Value.Date);
        }

        if (filterToDate.HasValue)
        {
            query = query.Where(a => a.Date.Date <= filterToDate.Value.Date);
        }

        // Filter by shift type
        if (filterShiftTypeId > 0)
        {
            query = query.Where(a => a.ShiftTypeId == filterShiftTypeId);
        }

        // Filter by status
        if (filterStatus == "OnTime")
        {
            query = query.Where(a => !a.IsLate && a.CheckOut != null);
        }
        else if (filterStatus == "Late")
        {
            query = query.Where(a => a.IsLate);
        }
        else if (filterStatus == "Incomplete")
        {
            query = query.Where(a => a.CheckOut == null);
        }

        filteredAttendances = query.OrderByDescending(a => a.Date).ToList();
    }

    private void ClearFilters()
    {
        filterFromDate = DateTime.Today.AddDays(-30);
        filterToDate = DateTime.Today;
        filterShiftTypeId = 0;
        filterStatus = "All";
        ApplyFilters();
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Employees/Components/EmployeeFormModal.razor">
@* Employee Form Modal Component *@

@if (IsVisible)
{
    <div class="modal show d-block" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
            <div class="modal-content">
                <EditForm Model="formModel" OnValidSubmit="HandleSubmit">
                    <DataAnnotationsValidator />

                    <div class="modal-header">
                        <h5 class="modal-title">
                            @(IsEditMode ? $"Edit Employee: {Employee?.FullName}" : "Add New Employee")
                        </h5>
                        <button type="button" class="btn-close" @onclick="HandleCancel"></button>
                    </div>

                    <div class="modal-body">
                        @if (!string.IsNullOrEmpty(errorMessage))
                        {
                            <div class="alert alert-danger">
                                <strong>Error:</strong> @errorMessage
                            </div>
                        }

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="fullName" class="form-label">Full Name <span class="text-danger">*</span></label>
                                <InputText id="fullName" class="form-control" @bind-Value="formModel.FullName" placeholder="Enter full name" />
                                <ValidationMessage For="@(() => formModel.FullName)" />
                            </div>

                            <div class="col-md-6 mb-3">
                                <label for="username" class="form-label">Username <span class="text-danger">*</span></label>
                                <InputText id="username" class="form-control" @bind-Value="formModel.Username" placeholder="Enter username" />
                                <ValidationMessage For="@(() => formModel.Username)" />
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="password" class="form-label">
                                    Password @(IsEditMode ? "(leave blank to keep current)" : "")<span class="text-danger">@(IsEditMode ? "" : "*")</span>
                                </label>
                                <InputText id="password" type="password" class="form-control" @bind-Value="formModel.Password" placeholder="Enter password" />
                                <ValidationMessage For="@(() => formModel.Password)" />
                                @if (!IsEditMode)
                                {
                                    <div class="form-text">Minimum 6 characters</div>
                                }
                            </div>

                            <div class="col-md-6 mb-3">
                                <label for="role" class="form-label">Role <span class="text-danger">*</span></label>
                                <InputSelect id="role" class="form-select" @bind-Value="formModel.Role">
                                    <option value="Admin">Admin</option>
                                    <option value="Manager">Manager</option>
                                    <option value="Cashier">Cashier</option>
                                    <option value="Warehouse">Warehouse</option>
                                </InputSelect>
                                <ValidationMessage For="@(() => formModel.Role)" />
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="phone" class="form-label">📞 Phone</label>
                                <InputText id="phone" class="form-control" @bind-Value="formModel.Phone" placeholder="Enter phone number" />
                                <ValidationMessage For="@(() => formModel.Phone)" />
                            </div>

                            <div class="col-md-6 mb-3">
                                <label for="email" class="form-label">✉️ Email</label>
                                <InputText id="email" type="email" class="form-control" @bind-Value="formModel.Email" placeholder="Enter email address" />
                                <ValidationMessage For="@(() => formModel.Email)" />
                            </div>
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" @onclick="HandleCancel">Cancel</button>
                        <button type="submit" class="btn btn-primary" disabled="@isSaving">
                            @if (isSaving)
                            {
                                <span class="spinner-border spinner-border-sm me-1"></span>
                            }
                            <span>@(IsEditMode ? "Update Employee" : "Create Employee")</span>
                        </button>
                    </div>
                </EditForm>
            </div>
        </div>
    </div>
    <div class="modal-backdrop show"></div>
}

@code {
    [Parameter]
    public bool IsVisible { get; set; }

    [Parameter]
    public MegaMarket.Data.Models.User? Employee { get; set; }

    [Parameter]
    public EventCallback<EmployeeManagement.EmployeeFormData> OnSave { get; set; }

    [Parameter]
    public EventCallback OnCancel { get; set; }

    private EmployeeFormModel formModel = new();
    private bool isSaving = false;
    private string? errorMessage;

    private bool IsEditMode => Employee != null;

    protected override void OnParametersSet()
    {
        if (IsVisible)
        {
            if (Employee != null)
            {
                // Edit mode - populate form with employee data
                formModel = new EmployeeFormModel
                {
                    FullName = Employee.FullName,
                    Username = Employee.Username,
                    Password = null, // Don't populate password
                    Role = Employee.Role,
                    Phone = Employee.Phone,
                    Email = Employee.Email
                };
            }
            else
            {
                // Create mode - reset form
                formModel = new EmployeeFormModel();
            }

            errorMessage = null;
        }
    }

    private async Task HandleSubmit()
    {
        try
        {
            isSaving = true;
            errorMessage = null;

            var formData = new EmployeeManagement.EmployeeFormData
            {
                FullName = formModel.FullName,
                Username = formModel.Username,
                Password = formModel.Password,
                Role = formModel.Role,
                Phone = formModel.Phone,
                Email = formModel.Email
            };

            if (OnSave.HasDelegate)
            {
                await OnSave.InvokeAsync(formData);
            }
        }
        catch (Exception ex)
        {
            errorMessage = ex.Message;
        }
        finally
        {
            isSaving = false;
        }
    }

    private async Task HandleCancel()
    {
        if (OnCancel.HasDelegate)
        {
            await OnCancel.InvokeAsync();
        }
    }

    public class EmployeeFormModel
    {
        [Required(ErrorMessage = "Full name is required")]
        [StringLength(100, ErrorMessage = "Full name cannot exceed 100 characters")]
        public string FullName { get; set; } = string.Empty;

        [Required(ErrorMessage = "Username is required")]
        [StringLength(50, ErrorMessage = "Username cannot exceed 50 characters")]
        public string Username { get; set; } = string.Empty;

        [StringLength(255, MinimumLength = 6, ErrorMessage = "Password must be at least 6 characters")]
        public string? Password { get; set; }

        [Required(ErrorMessage = "Role is required")]
        public string Role { get; set; } = "Cashier";

        [Phone(ErrorMessage = "Invalid phone number format")]
        [StringLength(15)]
        public string? Phone { get; set; }

        [EmailAddress(ErrorMessage = "Invalid email address format")]
        [StringLength(100)]
        public string? Email { get; set; }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Employees/EmployeeManagement.razor">
@page "/employees"
@attribute [Authorize(Roles = "Admin,Manager")]
@using MegaMarket.Data.Models
@using MegaMarket.API.DTOs
@inject Services.Users.UsersApiClient UsersApiClient
@inject NavigationManager NavigationManager

<div class="container-fluid">
    @* Header *@
    <div class="row mb-4">
        <div class="col">
            <h2 class="text-gradient">👥 Employee Management</h2>
            <p class="text-muted small">Manage employees and their information</p>
        </div>
        <div class="col-auto">
            <button class="btn btn-primary" @onclick="ShowCreateModal">
                <span class="bi bi-plus-circle me-1"></span> Add Employee
            </button>
        </div>
    </div>

    @* Main Content *@
    <div class="row">
        @* Employee List *@
        <div class="col-lg-8 mb-4">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Employee List</h5>
                </div>
                <div class="card-body">
                    @if (isLoading)
                    {
                        <LoadingSpinner Message="Loading employees..." />
                    }
                    else if (!string.IsNullOrEmpty(errorMessage))
                    {
                        <ErrorAlert ErrorMessage="@errorMessage" OnDismiss="ClearError" />
                    }
                    else if (employees == null || !employees.Any())
                    {
                        <EmptyState Icon="👤"
                                    Title="No employees found"
                                    Description="Add your first employee to get started"
                                    ActionText="Add Employee"
                                    OnAction="ShowCreateModal" />
                    }
                    else
                    {
                        <EmployeeList Employees="@employees"
                                      OnEmployeeSelected="HandleEmployeeSelected"
                                      OnEditEmployee="HandleEditEmployee"
                                      OnDeleteEmployee="ShowDeleteConfirmation" />
                    }
                </div>
            </div>
        </div>

        @* Detail Panel *@
        <div class="col-lg-4 mb-4">
            @if (selectedEmployee != null)
            {
                <EmployeeDetailPanel Employee="@selectedEmployee"
                                     OnEdit="() => HandleEditEmployee(selectedEmployee)"
                                     OnDelete="() => ShowDeleteConfirmation(selectedEmployee)" />
            }
            else
            {
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body d-flex align-items-center justify-content-center">
                        <div class="text-center text-muted">
                            <p style="font-size: 3em;">👈</p>
                            <p>Select an employee to view details</p>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>

@* Employee Form Modal *@
@if (showFormModal)
{
    <EmployeeFormModal Employee="@employeeToEdit"
                       IsVisible="@showFormModal"
                       OnSave="HandleSaveEmployee"
                       OnCancel="HideFormModal" />
}

@* Delete Confirmation Modal *@
@if (showDeleteModal && employeeToDelete != null)
{
    <ConfirmDialog IsVisible="@showDeleteModal"
                   Title="Delete Employee"
                   Message="@($"Are you sure you want to delete {employeeToDelete.FullName}? This action cannot be undone and will delete all associated attendance records.")"
                   ConfirmText="Delete"
                   OnConfirm="HandleDeleteEmployee"
                   OnCancel="HideDeleteModal" />
}

@code {
    private List<User>? employees;
    private User? selectedEmployee;
    private User? employeeToEdit;
    private User? employeeToDelete;

    private bool isLoading = false;
    private string? errorMessage;
    private bool showFormModal = false;
    private bool showDeleteModal = false;

    protected override async Task OnInitializedAsync()
    {
        await LoadEmployees();
    }

    private async Task LoadEmployees()
    {
        try
        {
            isLoading = true;
            errorMessage = null;

            employees = await UsersApiClient.GetUsersAsync();

            if (employees == null)
            {
                errorMessage = "Failed to load employees.";
                employees = new List<User>();
            }
        }
        catch (Exception ex)
        {
            errorMessage = $"Failed to load employees: {ex.Message}";
            employees = new List<User>();
        }
        finally
        {
            isLoading = false;
        }
    }

    private void HandleEmployeeSelected(User employee)
    {
        selectedEmployee = employee;
    }

    private void ShowCreateModal()
    {
        employeeToEdit = null;
        showFormModal = true;
    }

    private void HandleEditEmployee(User employee)
    {
        employeeToEdit = employee;
        showFormModal = true;
    }

    private void HideFormModal()
    {
        showFormModal = false;
        employeeToEdit = null;
    }

    private async Task HandleSaveEmployee(EmployeeFormData formData)
    {
        try
        {
            // Convert form data to DTO
            var input = new UserInputDto
            {
                FullName = formData.FullName,
                Username = formData.Username,
                Password = formData.Password,
                Role = formData.Role,
                Phone = formData.Phone,
                Email = formData.Email
            };

            if (employeeToEdit == null)
            {
                // Create new employee
                await UsersApiClient.CreateUserAsync(input);
            }
            else
            {
                // Update existing employee
                await UsersApiClient.UpdateUserAsync(employeeToEdit.UserId, input);
            }

            HideFormModal();
            await LoadEmployees();

            // Clear selection if we updated the selected employee
            if (selectedEmployee?.UserId == employeeToEdit?.UserId && employeeToEdit != null)
            {
                selectedEmployee = employees?.FirstOrDefault(e => e.UserId == employeeToEdit.UserId);
            }
        }
        catch (Exception ex)
        {
            errorMessage = $"Failed to save employee: {ex.Message}";
        }
    }

    private void ShowDeleteConfirmation(User employee)
    {
        employeeToDelete = employee;
        showDeleteModal = true;
    }

    private void HideDeleteModal()
    {
        showDeleteModal = false;
        employeeToDelete = null;
    }

    private async Task HandleDeleteEmployee()
    {
        if (employeeToDelete == null) return;

        try
        {
            var success = await UsersApiClient.DeleteUserAsync(employeeToDelete.UserId);

            if (!success)
            {
                errorMessage = "Failed to delete employee.";
            }

            HideDeleteModal();
            await LoadEmployees();

            // Clear selection if we deleted the selected employee
            if (selectedEmployee?.UserId == employeeToDelete.UserId)
            {
                selectedEmployee = null;
            }
        }
        catch (Exception ex)
        {
            errorMessage = $"Failed to delete employee: {ex.Message}";
            HideDeleteModal();
        }
    }

    private void ClearError()
    {
        errorMessage = null;
    }

    // Form Data (used by the form modal)
    public class EmployeeFormData
    {
        public string FullName { get; set; } = string.Empty;
        public string Username { get; set; } = string.Empty;
        public string? Password { get; set; }
        public string Role { get; set; } = "Employee";
        public string? Phone { get; set; }
        public string? Email { get; set; }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Invoice/InvoiceManagement.razor">
@page "/invoice"

@inject IHttpClientFactory HttpClientFactory
@using System.Globalization
@using System.ComponentModel.DataAnnotations
@using System.ComponentModel.DataAnnotations.Schema
@using MegaMarket.API.DTOs.Invoice

<div class="invoice-container">
    <h2>Invoice Mangagement</h2>

    <div class="search-area">
        <h4>Search</h4>
        <div class="search-input-group">
            <label for="searchId">Invoice ID:</label>
            <input id="searchId" @bind="SearchInvoiceId" placeholder="Input invoice ID" />

            <label for="searchDate">Created at:</label>
            <input id="searchDate" @bind="SearchDate" type="date" />

            <button class="btn-primary" @onclick="ApplyFilter">Search</button>
            <button class="btn-secondary" @onclick="ClearFilter">Clear filter</button>
        </div>
    </div>

    <div class="invoice-grid">
        <div>
            <h4>Invoice list (@FilteredInvoices.Count)</h4>
            <table class="table" style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="background-color: #f1f1f1;">
                        <th style="padding: 10px; border: 1px solid #ddd;">ID</th>
                        <th style="padding: 10px; border: 1px solid #ddd;">Created at</th>
                        <th style="padding: 10px; border: 1px solid #ddd;">Total</th>
                        <th style="padding: 10px; border: 1px solid #ddd;">TT</th>
                        <th style="padding: 10px; border: 1px solid #ddd;">Action</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var invoice in FilteredInvoices)
                    {
                        <tr style="@(SelectedInvoice?.InvoiceId == invoice.InvoiceId ? "background-color: #e0f7fa;" : "")" @onclick="() => SelectInvoice(invoice.InvoiceId)">
                            <td style="padding: 10px; border: 1px solid #ddd;">@invoice.InvoiceId</td>
                            <td style="padding: 10px; border: 1px solid #ddd;">@invoice.CreatedAt.ToString("dd/MM/yyyy HH:mm")</td>
                            <td style="padding: 10px; border: 1px solid #ddd; text-align: right;">@FormatCurrency(invoice.TotalAmount)</td>
                            <td style="padding: 10px; border: 1px solid #ddd;">@invoice.PaymentMethod</td>
                            <td style="padding: 10px; border: 1px solid #ddd;">
                                <button class="btn-success" @onclick="() => ShowPrintPreview(invoice.InvoiceId)">In HĐ</button>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

        <div class="detail-view">
            @if (SelectedInvoice != null)
            {
                <h4>Invoice Detail #@SelectedInvoice.InvoiceId</h4>

                <div class="detail-section">
                    <strong>Overview</strong>
                    <div class="detail-row"><span>User:</span> <span>@SelectedInvoice.User.Username</span></div>
                    <div class="detail-row"><span>Customer:</span> <span>@(SelectedInvoice.Customer?.FullName ?? "Khách lẻ")</span></div>
                    <div class="detail-row"><span>Created at:</span> <span>@SelectedInvoice.CreatedAt.ToString("dd/MM/yyyy HH:mm:ss")</span></div>
                    <div class="detail-row"><span>Method:</span> <span>@SelectedInvoice.PaymentMethod</span></div>
                    <div class="detail-row"><span>Status:</span> <span>@SelectedInvoice.Status</span></div>
                </div>

                <div class="detail-section">
                    <strong>Product detail</strong>
                    <table style="width: 100%; font-size: 0.9em; margin-top: 5px;">
                        @foreach (var detail in SelectedInvoice.InvoiceDetails)
                        {
                            <tr>
                                <td>@detail.Product.Name (@detail.Quantity)</td>
                                <td style="text-align: right;">@FormatCurrency(detail.Quantity * detail.UnitPrice)</td>
                            </tr>
                        }
                    </table>
                </div>

                <div class="detail-section">
                    <strong>Summary</strong>
                    <div class="detail-row"><span>Total before discount:</span> <span>@FormatCurrency(SelectedInvoice.TotalBeforeDiscount)</span></div>
                    <div class="detail-row"><span>Promotion ID:</span> <span>@(SelectedInvoice.Promotion?.Name ?? "Không")</span></div>
                    <div class="detail-row"><span>Received amount:</span> <span>@FormatCurrency(SelectedInvoice.ReceivedAmount)</span></div>
                    <div class="detail-row"><span>Change amount:</span> <span>@FormatCurrency(SelectedInvoice.ChangeAmount)</span></div>
                    <div class="detail-row" style="font-weight: bold;"><span>Total amount:</span> <span>@FormatCurrency(SelectedInvoice.TotalAmount)</span></div>
                </div>
            }
            else
            {
                <p style="text-align: center; color: #6c757d;">Please select a invoice.</p>
            }
        </div>
    </div>
</div>

@if (IsPrintModalVisible && InvoiceToPrint != null)
{
    <div class="print-modal" @onclick="HidePrintPreview">
        <div class="print-content" @onclick:stopPropagation="true">
            <div class="receipt-header">
                <strong>SIÊU THỊ MAXIMART</strong><br />
                <small>Địa chỉ: 123 Lê Lợi, TP.HCM</small><br />
                <small>ĐT: 028 1234 5678</small>
            </div>

            <div class="receipt-divider"></div>

            <div class="receipt-line"><span>Mã HĐ:</span> <span>#@InvoiceToPrint.InvoiceId</span></div>
            <div class="receipt-line"><span>Ngày:</span> <span>@InvoiceToPrint.CreatedAt.ToString("dd/MM/yyyy HH:mm:ss")</span></div>
            <div class="receipt-line"><span>NV:</span> <span>@InvoiceToPrint.User.FullName</span></div>
            <div class="receipt-line"><span>KH:</span> <span>@(InvoiceToPrint.Customer?.FullName ?? "Khách lẻ")</span></div>

            <div class="receipt-divider"></div>

            @foreach (var detail in InvoiceToPrint.InvoiceDetails)
            {
                <div class="receipt-line">
                    <span>@detail.Product.Name</span>
                    <span>@detail.Quantity x @FormatCurrency(detail.UnitPrice)</span>
                </div>
                <div class="receipt-line">
                    <span style="font-size: 0.8em;">KM: @FormatCurrency(detail.DiscountPerUnit)</span>
                    <span style="text-align: right;">@FormatCurrency(detail.Quantity * (detail.UnitPrice - detail.DiscountPerUnit))</span>
                </div>
            }

            <div class="receipt-divider"></div>

            <div class="receipt-line"><span>Tổng (trước KM):</span> <span>@FormatCurrency(InvoiceToPrint.TotalBeforeDiscount)</span></div>
            <div class="receipt-line"><span>Khuyến mãi:</span> <span>@FormatCurrency(InvoiceToPrint.TotalBeforeDiscount - InvoiceToPrint.TotalAmount)</span></div>
            <div class="receipt-line receipt-total"><span>TỔNG CỘNG:</span> <span>@FormatCurrency(InvoiceToPrint.TotalAmount)</span></div>

            <div class="receipt-divider"></div>

            <div class="receipt-line"><span>Thanh toán:</span> <span>@InvoiceToPrint.PaymentMethod</span></div>
            <div class="receipt-line"><span>Tiền nhận:</span> <span>@FormatCurrency(InvoiceToPrint.ReceivedAmount)</span></div>
            <div class="receipt-line"><span>Tiền thừa:</span> <span>@FormatCurrency(InvoiceToPrint.ChangeAmount)</span></div>

            <div class="receipt-footer">
                <p>Cảm ơn quý khách!</p>
                <small>Hóa đơn không phải là biên lai chính thức</small>
            </div>

            <button class="btn-primary" style="width: 100%; margin-top: 15px;" @onclick="PrintReceipt">Print</button>
            <button class="btn-secondary" style="width: 100%; margin-top: 5px;" @onclick="HidePrintPreview">Close</button>
        </div>
    </div>
}


@code {
    // -----------------------------------------------------------------------
    // STATE VÀ DỮ LIỆU
    // -----------------------------------------------------------------------

    private List<InvoiceResDto> AllInvoices { get; set; } = new List<InvoiceResDto>();
    private List<InvoiceResDto> FilteredInvoices { get; set; } = new List<InvoiceResDto>();
    private InvoiceResDto? SelectedInvoice { get; set; }
    private InvoiceResDto? InvoiceToPrint { get; set; }

    private string SearchInvoiceId { get; set; } = "";
    private DateTime? SearchDate { get; set; }

    // Trạng thái modal in
    private bool IsPrintModalVisible { get; set; } = false;

    [Inject]
    public IJSRuntime JSRuntime { get; set; } = default!;

    // -----------------------------------------------------------------------
    // LIFECYCLE VÀ KHỞI TẠO DỮ LIỆU MẪU
    // -----------------------------------------------------------------------

    protected override async Task OnInitializedAsync()
    {
        try
        {
            var client = HttpClientFactory.CreateClient("MegaMarket.API");
            AllInvoices = await client.GetFromJsonAsync<List<InvoiceResDto>>("api/Invoice") ?? new List<InvoiceResDto>();
            FilteredInvoices = AllInvoices;
        }
        catch (Exception ex)
        {
            Console.Error.WriteLine($"Error fetching invoices: {ex.Message}");
			AllInvoices = new List<InvoiceResDto>();
		}
    }

    // -----------------------------------------------------------------------
    // HÀM HỖ TRỢ HIỂN THỊ
    // -----------------------------------------------------------------------
    private string FormatCurrency(decimal amount)
    {
        var culture = new CultureInfo("vi-VN");
        return string.Format(culture, "{0:N0} VNĐ", amount);
    }

    // -----------------------------------------------------------------------
    // LOGIC TÌM KIẾM VÀ DANH SÁCH
    // -----------------------------------------------------------------------
    private void SelectInvoice(int id)
    {
        SelectedInvoice = AllInvoices.FirstOrDefault(i => i.InvoiceId == id);
    }

    private void ApplyFilter()
    {
        IEnumerable<InvoiceResDto> query = AllInvoices;

        // Lọc theo Mã hóa đơn
        if (!string.IsNullOrWhiteSpace(SearchInvoiceId) && int.TryParse(SearchInvoiceId, out var id))
        {
            query = query.Where(i => i.InvoiceId == id);
        }

        // Lọc theo Ngày tạo hóa đơn CreatedAt
        if (SearchDate.HasValue)
        {
            // So sánh chỉ phần ngày (Date)
            query = query.Where(i => i.CreatedAt.Date == SearchDate.Value.Date);
        }

        FilteredInvoices = query.ToList();
        SelectedInvoice = null; // Reset chi tiết khi filter
    }

    private void ClearFilter()
    {
        SearchInvoiceId = "";
        SearchDate = null;
        FilteredInvoices = AllInvoices;
        SelectedInvoice = null;
    }

    // -----------------------------------------------------------------------
    // LOGIC IN HÓA ĐƠN
    // -----------------------------------------------------------------------
    private void ShowPrintPreview(int id)
    {
        InvoiceToPrint = AllInvoices.FirstOrDefault(i => i.InvoiceId == id);
        if (InvoiceToPrint != null)
        {
            IsPrintModalVisible = true;
        }
    }

    private void HidePrintPreview()
    {
        IsPrintModalVisible = false;
        InvoiceToPrint = null;
    }

    private async Task PrintReceipt()
    {
        if (InvoiceToPrint == null) return;

        // **Lưu ý:** Trong ứng dụng thực tế, bạn sẽ cần thư viện JS hoặc CSS media print
        // để chỉ in nội dung hóa đơn (receipt-content)
        await JSRuntime.InvokeVoidAsync("alert", $"Đang gửi lệnh in hóa đơn #{InvoiceToPrint.InvoiceId}");

        // Giả lập lệnh in thực tế (chỉ đóng modal)
        // await JSRuntime.InvokeVoidAsync("window.print");

        HidePrintPreview();
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Loyalty/LoyaltyDashboard.razor">
@page "/loyalty"
@using MegaMarket.BlazorUI.Services.CustomerLoyalty
@inject CustomerService CustomerService
@inject LoyaltyService LoyaltyService
@inject ReportService ReportService
@rendermode InteractiveServer

<div class="container-fluid mt-4">
    <div class="row mb-4">
        <div class="col">
            <h2 class="text-gradient">👑 Loyalty Dashboard</h2>
            <p class="text-muted small">Manage customer loyalty and reward programs</p>
        </div>
    </div>

    @if (isLoading)
    {
        <div class="alert alert-info">
            <div class="spinner-border spinner-border-sm me-2" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            Loading customer data...
        </div>
    }
    else if (errorMessage != null)
    {
        <div class="alert alert-danger alert-dismissible fade show">
            <strong>⚠️ Error:</strong> @errorMessage
            <button class="btn-close" @onclick="() => { errorMessage = null; }"></button>
        </div>
    }

    <!-- POINTS SUMMARY STATS -->
    <div class="row mb-4">
        <div class="col">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0">📊 Points Summary</h5>
                </div>
                <div class="card-body">
                    @if (pointsSummary != null && pointsSummary.Count > 0)
                    {
                        <div class="row g-3">
                            @foreach (var stat in pointsSummary)
                            {
                                <div class="col-md-4">
                                    <div class="p-3 bg-light rounded">
                                        <p class="text-muted small mb-2">
                                            @if (stat.TransactionType == "Earn")
                                            {
                                                <span>⬆️ Total Earned</span>
                                            }
                                            else if (stat.TransactionType == "Redeem")
                                            {
                                                <span>⬇️ Total Redeemed</span>
                                            }
                                            else
                                            {
                                                <span>🔧 @stat.TransactionType</span>
                                            }
                                        </p>
                                        <h4 class="@(stat.TransactionType == "Earn" ? "text-success" : "text-danger")">
                                            @stat.TotalPoints
                                        </h4>
                                    </div>
                                </div>
                            }
                        </div>
                    }
                    else
                    {
                        <p class="text-muted">No points data available</p>
                    }
                </div>
            </div>
        </div>
    </div>

    <!-- Customer Selection Section -->
    <div class="card mb-4 border-0 shadow-sm">
        <div class="card-header bg-gradient-primary text-white border-0 rounded-top">
            <h5 class="mb-0">🔍 Select Customer</h5>
        </div>
        <div class="card-body">
            <!-- Search Bar -->
            <div class="row mb-3">
                <div class="col-md-12">
                    <label class="form-label fw-bold">🔎 Search by Name or Phone</label>
                    <input 
                        type="text" 
                        class="form-control form-control-lg" 
                        placeholder="Type customer name or phone number..."
                        @bind="searchTerm"
                        @bind:event="oninput"
                        @onchange="ApplySearch" />
                </div>
            </div>

            <!-- Customer List Table -->
            <div class="table-responsive">
                <table class="table table-hover mb-0">
                    <thead class="table-light">
                        <tr>
                            <th>Name</th>
                            <th>Phone</th>
                            <th>Email</th>
                            <th width="10%">Points</th>
                            <th width="10%">Rank</th>
                            <th width="12%" class="text-center">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (paginatedCustomers != null && paginatedCustomers.Count > 0)
                        {
                            @foreach (var customer in paginatedCustomers)
                            {
                                <tr class="@(selectedCustomer?.CustomerId == customer.CustomerId ? "table-active" : "")" 
                                    style="cursor: pointer;" 
                                    @onclick="() => SelectAndLoad(customer)">
                                    <td><strong>@customer.FullName</strong></td>
                                    <td>@customer.Phone</td>
                                    <td>@customer.Email</td>
                                    <td>
                                        <span class="badge bg-success">@customer.Points</span>
                                    </td>
                                    <td>
                                        @RenderRankBadge(customer.Rank)
                                    </td>
                                    <td class="text-center">
                                        <button class="btn btn-sm btn-primary" 
                                                @onclick="() => SelectAndLoad(customer)"
                                                @onclick:stopPropagation>
                                            📊 View
                                        </button>
                                    </td>
                                </tr>
                            }
                        }
                        else
                        {
                            <tr>
                                <td colspan="6" class="text-center text-muted py-4">
                                    No customers found
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            @if (filteredCustomers != null && filteredCustomers.Count > pageSize)
            {
                <nav class="mt-3" aria-label="Page navigation">
                    <ul class="pagination mb-0">
                        <li class="page-item @(currentPage == 1 ? "disabled" : "")">
                            <button class="page-link" @onclick="PreviousPage" disabled="@(currentPage == 1)">Previous</button>
                        </li>
                        
                        @for (int i = 1; i <= totalPages; i++)
                        {
                            int pageNum = i;
                            <li class="page-item @(currentPage == pageNum ? "active" : "")">
                                <button class="page-link" @onclick="() => GoToPage(pageNum)">@pageNum</button>
                            </li>
                        }
                        
                        <li class="page-item @(currentPage == totalPages ? "disabled" : "")">
                            <button class="page-link" @onclick="NextPage" disabled="@(currentPage == totalPages)">Next</button>
                        </li>
                    </ul>
                </nav>
            }

            <!-- Info Text -->
            <div class="mt-3 text-muted small">
                <p>📌 Click on a row or <strong>View</strong> button to load customer details</p>
                <p>Showing <strong>@(paginatedCustomers?.Count ?? 0)</strong> of <strong>@(filteredCustomers?.Count ?? 0)</strong> customers (Page @currentPage/@totalPages)</p>
            </div>
        </div>
    </div>

    @if (selectedCustomer != null && loyaltyLoaded)
    {
        <!-- Customer Profile & Summary -->
        <div class="row mb-4">
            <!-- Customer Profile Card -->
            <div class="col-lg-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body">
                        <div class="text-center mb-3">
                            <div class="avatar-circle mx-auto mb-3" style="width: 80px; height: 80px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <span style="font-size: 2em; color: white;">👤</span>
                            </div>
                            <h4>@selectedCustomer.FullName</h4>
                            <p class="text-muted mb-3">@GetRankTitle(selectedCustomer.Rank)</p>
                            @RenderRankBadge(selectedCustomer.Rank)
                        </div>

                        <hr />

                        <div class="mb-3">
                            <label class="text-muted small">Phone</label>
                            <p class="mb-2"><strong>📞 @selectedCustomer.Phone</strong></p>
                            
                            <label class="text-muted small">Email</label>
                            <p class="mb-2"><strong>✉️ @selectedCustomer.Email</strong></p>
                            
                            <label class="text-muted small">Member Status</label>
                            <p><strong>⭐ Active Member</strong></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Points & Stats -->
            <div class="col-lg-8">
                <div class="row g-3 mb-3">
                    <!-- Current Points -->
                    <div class="col-md-6">
                        <div class="card border-0 shadow-sm bg-success-light">
                            <div class="card-body text-center">
                                <p class="text-muted small mb-2">💰 Current Points</p>
                                <h2 class="text-success" style="font-size: 3em;">@selectedCustomer.Points</h2>
                                <small class="text-muted">Available to spend</small>
                            </div>
                        </div>
                    </div>

                    <!-- Redeem Button -->
                    <div class="col-md-6">
                        <button class="btn btn-lg btn-warning w-100 h-100" 
                                style="border-radius: 8px;"
                                @onclick="OpenRedeemModal">
                            <span style="font-size: 1.5em;">🎁</span>
                            <div>Redeem Reward</div>
                            <small>Use points to get rewards</small>
                        </button>
                    </div>
                </div>

                <!-- Quick Stats -->
                <div class="row g-3">
                    <div class="col-md-4">
                        <div class="card border-0 shadow-sm">
                            <div class="card-body text-center">
                                <p class="text-muted small mb-2">📈 Total Earned</p>
                                <h5 class="text-info">@GetTotalEarned()</h5>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card border-0 shadow-sm">
                            <div class="card-body text-center">
                                <p class="text-muted small mb-2">📉 Total Redeemed</p>
                                <h5 class="text-danger">@GetTotalRedeemed()</h5>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card border-0 shadow-sm">
                            <div class="card-body text-center">
                                <p class="text-muted small mb-2">🎁 Rewards Claimed</p>
                                <h5 class="text-primary">@(customerRewards?.Count ?? 0)</h5>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- History & Rewards Section -->
        <div class="row g-4">
            <!-- Points History -->
            <div class="col-lg-6">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-header bg-light border-0">
                        <h5 class="mb-0">📜 Recent Points Activity</h5>
                    </div>
                    <div class="card-body p-0">
                        @if (pointHistory != null && pointHistory.Count > 0)
                        {
                            <div class="list-group list-group-flush">
                                @foreach (var history in pointHistory.Take(8))
                                {
                                    <div class="list-group-item px-4 py-3 border-bottom">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="mb-1">
                                                    @GetHistoryIcon(history.TransactionType) @history.TransactionType
                                                </h6>
                                                <small class="text-muted">@history.Description</small>
                                            </div>
                                            <span class="badge @GetHistoryBadgeClass(history.TransactionType)" style="font-size: 0.9em;">
                                                @(history.PointChange > 0 ? "+" : "")@history.PointChange
                                            </span>
                                        </div>
                                        <small class="text-muted d-block mt-2">
                                            📅 @history.CreatedAt.ToString("dd/MM/yyyy HH:mm")
                                        </small>
                                    </div>
                                }
                            </div>
                        }
                        else
                        {
                            <div class="p-4 text-center text-muted">
                                <p>No points activity yet</p>
                            </div>
                        }
                    </div>
                </div>
            </div>

            <!-- My Rewards -->
            <div class="col-lg-6">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-header bg-light border-0">
                        <h5 class="mb-0">🎁 My Rewards</h5>
                    </div>
                    <div class="card-body p-0">
                        @if (customerRewards != null && customerRewards.Count > 0)
                        {
                            <div class="list-group list-group-flush">
                                @foreach (var reward in customerRewards.Take(8))
                                {
                                    <div class="list-group-item px-4 py-3 border-bottom">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="mb-1">@reward.RewardName</h6>
                                                <small class="text-muted">
                                                    Redeemed: @reward.RedeemedAt.ToString("dd/MM/yyyy")
                                                </small>
                                            </div>
                                            <div>
                                                @RenderRewardStatusBadge(reward.Status)
                                            </div>
                                        </div>
                                        
                                        @* Actions based on status *@
                                        @if (reward.Status == "Pending")
                                        {
                                            <div class="mt-2">
                                                <button class="btn btn-sm btn-success" @onclick="() => ClaimReward(reward.RedemptionId)">
                                                    ✓ Claim
                                                </button>
                                            </div>
                                        }
                                        else if (reward.Status == "Claimed")
                                        {
                                            <div class="mt-2">
                                                <button class="btn btn-sm btn-info" 
                                                        @onclick="() => UseReward(reward.RedemptionId)"
                                                        disabled="@(reward.InvoiceId == null)"
                                                    >
                                                    💳 Apply to Invoice
                                                </button>
                                                @if (reward.InvoiceId == null)
                                                {
                                                    <small class="text-muted ms-2">Chờ thanh toán...</small>
                                                }
                                            </div>
                                        }
                                    </div>
                                }
                            </div>
                        }
                        else
                        {
                            <div class="p-4 text-center text-muted">
                                <p>No rewards yet. Start redeeming! 🎯</p>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    }
</div>

<!-- Redeem Modal -->
@if (showRedeemModal && selectedCustomer != null)
{
    <div class="modal fade show d-block" style="background-color: rgba(0, 0, 0, 0.5);">
        <div class="modal-dialog modal-lg">
            <div class="modal-content border-0">
                <div class="modal-header bg-warning text-dark border-0">
                    <h5 class="modal-title">🎁 Redeem Reward</h5>
                    <button type="button" class="btn-close" @onclick="CloseRedeemModal"></button>
                </div>
                <div class="modal-body">
                    <RedeemModal 
                        CustomerId="selectedCustomer.CustomerId"
                        CurrentPoints="selectedCustomer.Points"
                        OnRedeemSuccess="HandleRedeemSuccess"
                        OnCancel="CloseRedeemModal" />
                </div>
            </div>
        </div>
    </div>
}

<style>
    .bg-gradient-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    }

    .bg-success-light {
        background-color: rgba(25, 135, 84, 0.1) !important;
    }

    .text-gradient {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .avatar-circle {
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    }

    .table-hover tbody tr:hover {
        background-color: rgba(102, 126, 234, 0.1);
        cursor: pointer;
    }

    .table-active {
        background-color: rgba(102, 126, 234, 0.2) !important;
    }
</style>

@code {
    private List<CustomerDto> allCustomers = new();
    private List<CustomerDto> filteredCustomers = new();
    private List<CustomerDto> paginatedCustomers = new();
    private CustomerDto? selectedCustomer = null;
    private List<CustomerRewardDto> customerRewards = new();
    private List<PointHistoryDto> pointHistory = new();
    private List<PointsSummaryDto> pointsSummary = new();
    private string searchTerm = "";
    private bool isLoading = true;
    private bool loyaltyLoaded = false;
    private bool showRedeemModal = false;
    private string? errorMessage = null;
    
    private int currentPage = 1;
    private int pageSize = 10;
    private int totalPages = 1;

    protected override async Task OnInitializedAsync()
    {
        await LoadAllCustomers();
        await LoadPointsSummary();
    }

    private async Task LoadPointsSummary()
    {
        try
        {
            pointsSummary = await ReportService.GetPointsSummaryAsync();
        }
        catch (Exception ex)
        {
            // Silent fail - không hiển thị error nếu không lấy được stats
        }
    }

    private async Task LoadAllCustomers()
    {
        isLoading = true;
        errorMessage = null;
        try
        {
            allCustomers = await CustomerService.GetAllCustomersAsync();
            ApplySearch();
        }
        catch (Exception ex)
        {
            errorMessage = $"Error loading customers: {ex.Message}";
        }
        finally
        {
            isLoading = false;
        }
    }

    private void ApplySearch()
    {
        currentPage = 1;
        
        if (string.IsNullOrWhiteSpace(searchTerm))
        {
            filteredCustomers = allCustomers;
        }
        else
        {
            filteredCustomers = allCustomers
                .Where(c => 
                    c.FullName?.Contains(searchTerm, StringComparison.OrdinalIgnoreCase) == true ||
                    c.Phone?.Contains(searchTerm, StringComparison.OrdinalIgnoreCase) == true
                )
                .ToList();
        }
        
        UpdatePagination();
    }

    private void UpdatePagination()
    {
        totalPages = (filteredCustomers?.Count ?? 0 + pageSize - 1) / pageSize;
        if (totalPages == 0) totalPages = 1;
        if (currentPage > totalPages) currentPage = totalPages;
        
        paginatedCustomers = filteredCustomers?
            .Skip((currentPage - 1) * pageSize)
            .Take(pageSize)
            .ToList() ?? new();
    }

    private void NextPage()
    {
        if (currentPage < totalPages)
        {
            currentPage++;
            UpdatePagination();
        }
    }

    private void PreviousPage()
    {
        if (currentPage > 1)
        {
            currentPage--;
            UpdatePagination();
        }
    }

    private void GoToPage(int page)
    {
        currentPage = page;
        UpdatePagination();
    }

    private async Task SelectAndLoad(CustomerDto customer)
    {
        selectedCustomer = customer;
        await LoadCustomerLoyalty();
    }

    private async Task LoadCustomerLoyalty()
    {
        if (selectedCustomer == null) return;

        isLoading = true;
        errorMessage = null;
        try
        {
            customerRewards = await LoyaltyService.GetCustomerRewardsAsync(selectedCustomer.CustomerId);
            pointHistory = await LoyaltyService.GetPointHistoryAsync(selectedCustomer.CustomerId);
            loyaltyLoaded = true;
        }
        catch (Exception ex)
        {
            errorMessage = $"Error loading loyalty data: {ex.Message}";
        }
        finally
        {
            isLoading = false;
        }
    }

    private void OpenRedeemModal()
    {
        showRedeemModal = true;
    }

    private void CloseRedeemModal()
    {
        showRedeemModal = false;
    }

    private async Task HandleRedeemSuccess()
    {
        CloseRedeemModal();
        if (selectedCustomer != null)
        {
            await LoadCustomerLoyalty();
        }
    }

    private string GetRankTitle(string? rank) => rank switch
    {
        "Gold" => "Gold Member",
        "Silver" => "Silver Member",
        "Platinum" => "Platinum VIP",
        _ => "Member"
    };

    private string GetRankBadgeClass(string? rank) => rank switch
    {
        "Gold" => "bg-warning text-dark",
        "Silver" => "bg-secondary",
        "Platinum" => "bg-info",
        _ => "bg-light text-dark"
    };

    private string GetHistoryIcon(string? type) => type switch
    {
        "Earn" => "⬆️",
        "Redeem" => "⬇️",
        "Adjust" => "🔧",
        _ => "❓"
    };

    private string GetHistoryBadgeClass(string? type) => type switch
    {
        "Earn" => "bg-success",
        "Redeem" => "bg-danger",
        "Adjust" => "bg-warning text-dark",
        _ => "bg-light text-dark"
    };

    private RenderFragment RenderRankBadge(string? rank) => @<span class="badge @GetRankBadgeClass(rank)" style="font-size: 0.9em;">@rank</span>;

    private RenderFragment RenderRewardStatusBadge(string? status) => @<span class="badge @GetStatusBadgeClass(status)">@status</span>;

    private string GetStatusBadgeClass(string? status) => status switch
    {
        "Pending" => "bg-warning text-dark",
        "Claimed" => "bg-info",
        "Used" => "bg-success",
        _ => "bg-light text-dark"
    };

    private int GetTotalEarned()
    {
        return pointHistory?.Where(p => p.TransactionType == "Earn").Sum(p => p.PointChange) ?? 0;
    }

    private int GetTotalRedeemed()
    {
        var total = pointHistory?.Where(p => p.TransactionType == "Redeem").Sum(p => p.PointChange) ?? 0;
        return Math.Abs(total);
    }

    private async Task ClaimReward(int redemptionId)
    {
        errorMessage = null;
        try
        {
            await LoyaltyService.ClaimRewardAsync(redemptionId);
            await LoadCustomerLoyalty(); // Refresh data
        }
        catch (Exception ex)
        {
            errorMessage = $"Error claiming reward: {ex.Message}";
        }
    }

    private async Task UseReward(int redemptionId)
    {
        errorMessage = null;
        try
        {
            await LoyaltyService.UseRewardAsync(redemptionId);
            await LoadCustomerLoyalty(); // Refresh data
        }
        catch (Exception ex)
        {
            errorMessage = $"Error using reward: {ex.Message}";
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Profile/MyProfile.razor">
@page "/profile"
@attribute [Authorize]
@using MegaMarket.Data.Models
@using MegaMarket.API.DTOs
@inject Services.Users.UsersApiClient UsersApiClient
@inject Services.Attendance.AttendanceApiClient AttendanceApiClient
@inject AuthenticationStateProvider AuthStateProvider

<div class="container mt-4">
    @* Header *@
    <div class="mb-4">
        <h2 class="text-gradient mb-1">My Profile</h2>
        <p class="text-muted">View and manage your personal information</p>
    </div>

    @* Error Message *@
    @if (!string.IsNullOrEmpty(errorMessage))
    {
        <ErrorAlert ErrorMessage="@errorMessage" OnDismiss="@(() => errorMessage = null)" />
    }

    @* Success Message *@
    @if (!string.IsNullOrEmpty(successMessage))
    {
        <div class="alert alert-success alert-dismissible fade show">
            <strong>✓ Success:</strong> @successMessage
            <button class="btn-close" @onclick="@(() => successMessage = null)"></button>
        </div>
    }

    @* Loading State *@
    @if (isLoading)
    {
        <LoadingSpinner Message="Loading your profile..." />
    }
    else if (currentUser != null)
    {
        <div class="row">
            @* Profile Card *@
            <div class="col-lg-4 mb-4">
                <div class="card border-0 shadow-sm">
                    <div class="card-body text-center p-4">
                        <div class="avatar-circle mx-auto mb-3">
                            @GetInitials(currentUser.FullName)
                        </div>
                        <h4 class="mb-1">@currentUser.FullName</h4>
                        <p class="text-muted mb-3">@currentUser.Username</p>
                        <StatusBadge Status="@currentUser.Role" />

                        @if (!isEditing)
                        {
                            <div class="mt-4">
                                <button class="btn btn-primary w-100" @onclick="EnableEditing">
                                    <span class="bi bi-pencil me-1"></span> Edit Profile
                                </button>
                            </div>
                        }
                    </div>
                </div>

                @* Quick Stats *@
                <div class="card border-0 shadow-sm mt-3">
                    <div class="card-header bg-primary text-white">
                        <h6 class="mb-0"><span class="bi bi-graph-up me-2"></span>Quick Stats</h6>
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between mb-2">
                            <span class="text-muted">This Month:</span>
                            <strong>@monthlyAttendance days</strong>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span class="text-muted">Total Hours:</span>
                            <strong>@totalHours.ToString("F1") hrs</strong>
                        </div>
                        <div class="d-flex justify-content-between">
                            <span class="text-muted">Punctuality:</span>
                            <strong class="text-success">@onTimePercentage%</strong>
                        </div>
                    </div>
                </div>
            </div>

            @* Profile Information *@
            <div class="col-lg-8 mb-4">
                <div class="card border-0 shadow-sm">
                    <div class="card-header">
                        <h5 class="mb-0"><span class="bi bi-person me-2"></span>Profile Information</h5>
                    </div>
                    <div class="card-body">
                        @if (isEditing)
                        {
                            <EditForm Model="editModel" OnValidSubmit="HandleSave">
                                <DataAnnotationsValidator />

                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Full Name <span class="text-danger">*</span></label>
                                        <InputText class="form-control" @bind-Value="editModel.FullName" />
                                        <ValidationMessage For="@(() => editModel.FullName)" />
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Username</label>
                                        <input type="text" class="form-control" value="@currentUser.Username" disabled />
                                        <div class="form-text">Username cannot be changed</div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Phone Number</label>
                                        <InputText class="form-control" @bind-Value="editModel.Phone" placeholder="e.g., 0123456789" />
                                        <ValidationMessage For="@(() => editModel.Phone)" />
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Email</label>
                                        <InputText class="form-control" @bind-Value="editModel.Email" placeholder="e.g., user@example.com" />
                                        <ValidationMessage For="@(() => editModel.Email)" />
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">New Password</label>
                                    <InputText type="password" class="form-control" @bind-Value="editModel.Password" placeholder="Leave blank to keep current password" />
                                    <ValidationMessage For="@(() => editModel.Password)" />
                                    <div class="form-text">Only fill this if you want to change your password</div>
                                </div>

                                <div class="d-flex gap-2">
                                    <button type="submit" class="btn btn-primary" disabled="@isSaving">
                                        @if (isSaving)
                                        {
                                            <span class="spinner-border spinner-border-sm me-1"></span>
                                        }
                                        Save Changes
                                    </button>
                                    <button type="button" class="btn btn-secondary" @onclick="CancelEditing">Cancel</button>
                                </div>
                            </EditForm>
                        }
                        else
                        {
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label text-muted">Full Name</label>
                                    <p class="mb-0"><strong>@currentUser.FullName</strong></p>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label text-muted">Username</label>
                                    <p class="mb-0"><strong>@currentUser.Username</strong></p>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label text-muted">Phone Number</label>
                                    <p class="mb-0"><strong>@(string.IsNullOrEmpty(currentUser.Phone) ? "Not provided" : currentUser.Phone)</strong></p>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label text-muted">Email</label>
                                    <p class="mb-0"><strong>@(string.IsNullOrEmpty(currentUser.Email) ? "Not provided" : currentUser.Email)</strong></p>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label text-muted">Role</label>
                                    <p class="mb-0"><StatusBadge Status="@currentUser.Role" /></p>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label text-muted">User ID</label>
                                    <p class="mb-0"><strong>#@currentUser.UserId</strong></p>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    }
</div>

@code {
    private bool isLoading = true;
    private bool isEditing = false;
    private bool isSaving = false;
    private string? errorMessage;
    private string? successMessage;

    private User? currentUser;
    private ProfileEditModel editModel = new();

    // Stats
    private int monthlyAttendance = 0;
    private decimal totalHours = 0;
    private int onTimePercentage = 0;

    protected override async Task OnInitializedAsync()
    {
        await LoadProfile();
    }

    private async Task LoadProfile()
    {
        try
        {
            isLoading = true;
            errorMessage = null;

            // Get current user info
            var authState = await AuthStateProvider.GetAuthenticationStateAsync();
            var user = authState.User;
            var userIdClaim = user.FindFirst("userId")?.Value;

            if (string.IsNullOrEmpty(userIdClaim) || !int.TryParse(userIdClaim, out var userId))
            {
                errorMessage = "Unable to identify current user. Please log in again.";
                return;
            }

            // Load user details
            currentUser = await UsersApiClient.GetUserAsync(userId);

            if (currentUser == null)
            {
                errorMessage = "Failed to load user information.";
                return;
            }

            // Load attendance stats
            var allAttendances = await AttendanceApiClient.GetAttendancesByUserAsync(userId);

            if (allAttendances != null)
            {
                // This month's stats
                var monthStart = new DateTime(DateTime.Today.Year, DateTime.Today.Month, 1);
                var monthRecords = allAttendances.Where(a => a.Date >= monthStart && a.Date <= DateTime.Today).ToList();
                monthlyAttendance = monthRecords.Count;

                var onTimeCount = monthRecords.Count(a => !a.IsLate);
                onTimePercentage = monthlyAttendance > 0 ? (int)((double)onTimeCount / monthlyAttendance * 100) : 0;

                var completedMonthRecords = monthRecords.Where(a => a.CheckOut != null).ToList();
                if (completedMonthRecords.Any())
                {
                    totalHours = (decimal)completedMonthRecords.Sum(a => (a.CheckOut!.Value - a.CheckIn!.Value).TotalHours);
                }
            }
        }
        catch (Exception ex)
        {
            errorMessage = $"Failed to load profile: {ex.Message}";
        }
        finally
        {
            isLoading = false;
        }
    }

    private void EnableEditing()
    {
        if (currentUser == null) return;

        editModel = new ProfileEditModel
        {
            FullName = currentUser.FullName,
            Phone = currentUser.Phone ?? "",
            Email = currentUser.Email ?? "",
            Password = ""
        };

        isEditing = true;
    }

    private void CancelEditing()
    {
        isEditing = false;
        editModel = new ProfileEditModel();
    }

    private async Task HandleSave()
    {
        if (currentUser == null) return;

        try
        {
            isSaving = true;
            errorMessage = null;
            successMessage = null;

            var input = new UserInputDto
            {
                FullName = editModel.FullName,
                Username = currentUser.Username,
                Password = editModel.Password,
                Role = currentUser.Role,
                Phone = editModel.Phone,
                Email = editModel.Email
            };

            var updatedUser = await UsersApiClient.UpdateUserAsync(currentUser.UserId, input);

            if (updatedUser != null)
            {
                currentUser = updatedUser;
                successMessage = "Profile updated successfully!";
                isEditing = false;
            }
            else
            {
                errorMessage = "Failed to update profile.";
            }
        }
        catch (Exception ex)
        {
            errorMessage = $"Failed to update profile: {ex.Message}";
        }
        finally
        {
            isSaving = false;
        }
    }

    private string GetInitials(string fullName)
    {
        if (string.IsNullOrEmpty(fullName)) return "??";

        var parts = fullName.Split(' ', StringSplitOptions.RemoveEmptyEntries);
        if (parts.Length == 1)
        {
            return parts[0].Substring(0, Math.Min(2, parts[0].Length)).ToUpper();
        }

        return $"{parts[0][0]}{parts[^1][0]}".ToUpper();
    }

    // Form model (used by edit form)
    public class ProfileEditModel
    {
        [Required(ErrorMessage = "Full name is required")]
        [StringLength(100, ErrorMessage = "Full name cannot exceed 100 characters")]
        public string FullName { get; set; } = string.Empty;

        [Phone(ErrorMessage = "Invalid phone number format")]
        public string? Phone { get; set; }

        [EmailAddress(ErrorMessage = "Invalid email format")]
        public string? Email { get; set; }

        [StringLength(100, MinimumLength = 6, ErrorMessage = "Password must be between 6 and 100 characters")]
        public string? Password { get; set; }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/ShiftTypes/Components/ShiftTypeCard.razor">
@* Shift Type Card Component *@

<div class="card border-0 shadow-sm h-100 shift-card">
    <div class="card-header bg-@GetShiftColor() text-white">
        <div class="d-flex justify-content-between align-items-center">
            <h5 class="mb-0">@ShiftType.Name</h5>
            <span class="badge bg-white text-@GetShiftColor() fw-bold">@GetShiftIcon()</span>
        </div>
    </div>
    <div class="card-body">
        <div class="mb-3">
            <div class="d-flex align-items-center mb-2">
                <span class="bi bi-clock me-2 text-muted"></span>
                <strong>Shift Hours</strong>
            </div>
            <div class="ps-4">
                <span class="badge bg-light text-dark">
                    @FormatTime(ShiftType.StartTime) - @FormatTime(ShiftType.EndTime)
                </span>
            </div>
        </div>

        <div class="mb-3">
            <div class="d-flex align-items-center mb-2">
                <span class="bi bi-cash-coin me-2 text-muted"></span>
                <strong>Wage Rate</strong>
            </div>
            <div class="ps-4">
                <h4 class="text-@GetShiftColor() mb-0">$@ShiftType.WagePerHour.ToString("F2")<small class="text-muted fs-6">/hour</small></h4>
            </div>
        </div>

        <div class="mb-3">
            <div class="d-flex align-items-center mb-2">
                <span class="bi bi-hourglass-split me-2 text-muted"></span>
                <strong>Duration</strong>
            </div>
            <div class="ps-4">
                <span class="text-muted">@GetDuration() hours</span>
            </div>
        </div>

        @* Actions *@
        <div class="d-flex gap-2 mt-3">
            <button class="btn btn-sm btn-outline-primary flex-fill" @onclick="OnEdit">
                <span class="bi bi-pencil me-1"></span> Edit
            </button>
            <button class="btn btn-sm btn-outline-danger" @onclick="OnDelete">
                <span class="bi bi-trash"></span>
            </button>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public MegaMarket.Data.Models.ShiftType ShiftType { get; set; } = null!;

    [Parameter]
    public EventCallback OnEdit { get; set; }

    [Parameter]
    public EventCallback OnDelete { get; set; }

    private string GetShiftColor()
    {
        var startHour = ShiftType.StartTime.Hours;
        return startHour switch
        {
            >= 6 and < 12 => "primary",      // Morning (Blue)
            >= 12 and < 18 => "warning",     // Afternoon (Orange/Yellow)
            _ => "secondary"                 // Night (Gray)
        };
    }

    private string GetShiftIcon()
    {
        var startHour = ShiftType.StartTime.Hours;
        return startHour switch
        {
            >= 6 and < 12 => "🌅",    // Morning
            >= 12 and < 18 => "☀️",   // Afternoon
            >= 18 and < 22 => "🌆",   // Evening
            _ => "🌙"                 // Night
        };
    }

    private string FormatTime(TimeSpan time)
    {
        return DateTime.Today.Add(time).ToString("h:mm tt");
    }

    private double GetDuration()
    {
        var duration = ShiftType.EndTime - ShiftType.StartTime;
        if (duration.TotalHours < 0)
        {
            // Handle overnight shifts
            duration = duration.Add(TimeSpan.FromHours(24));
        }
        return Math.Round(duration.TotalHours, 1);
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Routes.razor">
@using Microsoft.AspNetCore.Components.Authorization

<CascadingAuthenticationState>
    <Router AppAssembly="@typeof(Program).Assembly">
        <Found Context="routeData">
            <AuthorizeRouteView RouteData="@routeData"
                                DefaultLayout="@typeof(Layout.MainLayout)">
                <NotAuthorized>
                    <RedirectToLogin />
                </NotAuthorized>
            </AuthorizeRouteView>

            <FocusOnNavigate RouteData="@routeData" Selector="h1" />
        </Found>
    </Router>
</CascadingAuthenticationState>
</file>

<file path="MegaMarket.BlazorUI/Services/Auth/AuthService.cs">
using MegaMarket.BlazorUI.Services.Auth;
using Microsoft.AspNetCore.Components.Authorization;
using System.Security.Claims;

namespace MegaMarket.BlazorUI.Services.Auth;

public class AuthService
{
    private readonly LocalStorageService _localStorage;
    private readonly AuthenticationStateProvider _authStateProvider;
    private const string TokenKey = "authToken";

    public AuthService(
        LocalStorageService localStorage,
        AuthenticationStateProvider authStateProvider)
    {
        _localStorage = localStorage;
        _authStateProvider = authStateProvider;
    }

    public async Task<bool> LoginAsync(string token, string userId, string username, string fullName, string role, DateTime expiresAt)
    {
        try
        {
            // Store token info in localStorage
            await _localStorage.SetItemAsync(TokenKey, token);
            await _localStorage.SetItemAsync("userId", userId);
            await _localStorage.SetItemAsync("username", username);
            await _localStorage.SetItemAsync("fullName", fullName);
            await _localStorage.SetItemAsync("role", role);
            await _localStorage.SetItemAsync("expiresAt", expiresAt.ToString("O"));

            // Notify authentication state changed
            await ((CustomAuthStateProvider)_authStateProvider).NotifyUserAuthenticationAsync(token);

            return true;
        }
        catch
        {
            return false;
        }
    }

    public async Task LogoutAsync()
    {
        await _localStorage.RemoveItemAsync(TokenKey);
        await _localStorage.RemoveItemAsync("userId");
        await _localStorage.RemoveItemAsync("username");
        await _localStorage.RemoveItemAsync("fullName");
        await _localStorage.RemoveItemAsync("role");
        await _localStorage.RemoveItemAsync("expiresAt");

        ((CustomAuthStateProvider)_authStateProvider).NotifyUserLogout();
    }

    public async Task<string?> GetTokenAsync()
    {
        return await _localStorage.GetItemAsync(TokenKey);
    }

    public async Task<bool> IsAuthenticatedAsync()
    {
        var token = await GetTokenAsync();
        if (string.IsNullOrEmpty(token))
            return false;

        var expiresAtStr = await _localStorage.GetItemAsync("expiresAt");
        if (string.IsNullOrEmpty(expiresAtStr))
            return false;

        if (DateTime.TryParse(expiresAtStr, out var expiresAt))
        {
            return DateTime.UtcNow < expiresAt;
        }

        return false;
    }

    public async Task<ClaimsPrincipal> GetCurrentUserAsync()
    {
        var token = await GetTokenAsync();
        if (string.IsNullOrEmpty(token))
            return new ClaimsPrincipal(new ClaimsIdentity());

        var userId = await _localStorage.GetItemAsync("userId");
        var username = await _localStorage.GetItemAsync("username");
        var fullName = await _localStorage.GetItemAsync("fullName");
        var role = await _localStorage.GetItemAsync("role");

        var claims = new List<Claim>
        {
            new Claim(ClaimTypes.NameIdentifier, userId ?? ""),
            new Claim(ClaimTypes.Name, username ?? ""),
            new Claim("FullName", fullName ?? ""),
            new Claim(ClaimTypes.Role, role ?? "")
        };

        var identity = new ClaimsIdentity(claims, "jwt");
        return new ClaimsPrincipal(identity);
    }

    public async Task<string?> GetUserRoleAsync()
    {
        return await _localStorage.GetItemAsync("role");
    }
}
</file>

<file path="MegaMarket.BlazorUI/Services/CustomerLoyalty/LoyaltyService.cs">
using MegaMarket.BlazorUI.Services.Auth;
using System.Net.Http.Headers;
using System.Net.Http.Json;
namespace MegaMarket.BlazorUI.Services.CustomerLoyalty
{
    public class CustomerRewardDto
    {
        public int RedemptionId { get; set; }
        public int CustomerId { get; set; }
        public string? CustomerName { get; set; }
        public int RewardId { get; set; }
        public string? RewardName { get; set; }
        public int? InvoiceId { get; set; }
        public DateTime RedeemedAt { get; set; }
        public string? Status { get; set; }
        public DateTime? UsedAt { get; set; }
    }

    public class RedeemRewardDto
    {
        public int CustomerId { get; set; }
        public int RewardId { get; set; }
        public int? InvoiceId { get; set; } = 0;
    }

    public class PointHistoryDto
    {
        public int TransactionId { get; set; }
        public int PointChange { get; set; }
        public string? TransactionType { get; set; }
        public DateTime CreatedAt { get; set; }
        public string? Description { get; set; }
        public int? InvoiceId { get; set; }
        public string? CustomerName { get; set; }
    }

    public class RewardDto
    {
        public int RewardId { get; set; }
        public string Name { get; set; } = "";
        public string? Description { get; set; }
        public int PointCost { get; set; }
        public string RewardType { get; set; } = "";
        public int QuantityAvailable { get; set; }
        public bool IsActive { get; set; }
    }

    public class LoyaltyService
    {
        private readonly HttpClient _httpClient;
        private readonly IConfiguration _config;
        private string _apiBaseUrl;
        private readonly AuthService _authService;

        public LoyaltyService(HttpClient httpClient, IConfiguration config, AuthService authService)
        {
            _httpClient = httpClient;
            _config = config;
            _apiBaseUrl = config["ApiSettings:BaseUrl"] ?? "https://localhost:7224";
            _authService = authService;
        }

        public async Task<List<CustomerRewardDto>> GetAllRewardsAsync(string? status = null, int? customerId = null)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var url = $"{_apiBaseUrl}/api/customerrewards";
                if (!string.IsNullOrWhiteSpace(status) || customerId.HasValue)
                {
                    var query = new List<string>();
                    if (!string.IsNullOrWhiteSpace(status))
                        query.Add($"status={status}");
                    if (customerId.HasValue)
                        query.Add($"customerId={customerId.Value}");
                    url += "?" + string.Join("&", query);
                }

                var response = await _httpClient.GetAsync(url);
                if (response.IsSuccessStatusCode)
                {
                    return await response.Content.ReadFromJsonAsync<List<CustomerRewardDto>>() ?? new();
                }
                return new();
            }
            catch (Exception ex)
            {
                throw new Exception($"Error fetching rewards: {ex.Message}", ex);
            }
        }

        public async Task<List<RewardDto>> GetAvailableRewardsAsync()
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.GetAsync($"{_apiBaseUrl}/api/rewards");
                if (response.IsSuccessStatusCode)
                {
                    return await response.Content.ReadFromJsonAsync<List<RewardDto>>() ?? new();
                }
                return new();
            }
            catch (Exception ex)
            {
                throw new Exception($"Error fetching available rewards: {ex.Message}", ex);
            }
        }

        public async Task<List<CustomerRewardDto>> GetCustomerRewardsAsync(int customerId)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.GetAsync($"{_apiBaseUrl}/api/customerrewards/customer/{customerId}");
                if (response.IsSuccessStatusCode)
                {
                    return await response.Content.ReadFromJsonAsync<List<CustomerRewardDto>>() ?? new();
                }
                return new();
            }
            catch (Exception ex)
            {
                throw new Exception($"Error fetching customer rewards: {ex.Message}", ex);
            }
        }

        public async Task<CustomerRewardDto> RedeemRewardAsync(RedeemRewardDto request)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.PostAsJsonAsync($"{_apiBaseUrl}/api/customerrewards/redeem", request);
                if (response.IsSuccessStatusCode)
                {
                    var jsonContent = await response.Content.ReadAsStringAsync();
                    using (var jsonDoc = System.Text.Json.JsonDocument.Parse(jsonContent))
                    {
                        var root = jsonDoc.RootElement;
                        if (root.TryGetProperty("data", out var dataElement))
                        {
                            var options = new System.Text.Json.JsonSerializerOptions { PropertyNameCaseInsensitive = true };
                            return System.Text.Json.JsonSerializer.Deserialize<CustomerRewardDto>(dataElement.GetRawText(), options) ?? new();
                        }
                    }
                    return new();
                }
                var errorContent = await response.Content.ReadAsStringAsync();
                throw new Exception($"Failed to redeem reward: {errorContent}");
            }
            catch (Exception ex)
            {
                throw new Exception($"Error redeeming reward: {ex.Message}", ex);
            }
        }

        public async Task<CustomerRewardDto> UseRewardAsync(int rewardId)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.PutAsJsonAsync($"{_apiBaseUrl}/api/customerrewards/{rewardId}/use", new { });
                if (response.IsSuccessStatusCode)
                {
                    return await response.Content.ReadFromJsonAsync<CustomerRewardDto>() ?? new();
                }
                throw new Exception("Failed to use reward");
            }
            catch (Exception ex)
            {
                throw new Exception($"Error using reward: {ex.Message}", ex);
            }
        }

        public async Task<CustomerRewardDto> ApplyVoucherToInvoiceAsync(int redemptionId, int invoiceId)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var request = new { invoiceId };
                var response = await _httpClient.PutAsJsonAsync($"{_apiBaseUrl}/api/customerrewards/{redemptionId}/apply-to-invoice", request);
                if (response.IsSuccessStatusCode)
                {
                    var jsonContent = await response.Content.ReadAsStringAsync();
                    using (var jsonDoc = System.Text.Json.JsonDocument.Parse(jsonContent))
                    {
                        var root = jsonDoc.RootElement;
                        if (root.TryGetProperty("data", out var dataElement))
                        {
                            var options = new System.Text.Json.JsonSerializerOptions { PropertyNameCaseInsensitive = true };
                            return System.Text.Json.JsonSerializer.Deserialize<CustomerRewardDto>(dataElement.GetRawText(), options) ?? new();
                        }
                    }
                    return new();
                }
                throw new Exception("Failed to apply voucher to invoice");
            }
            catch (Exception ex)
            {
                throw new Exception($"Error applying voucher: {ex.Message}", ex);
            }
        }

        public async Task<CustomerRewardDto> ClaimRewardAsync(int rewardId)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.PutAsJsonAsync($"{_apiBaseUrl}/api/customerrewards/{rewardId}/claim", new { });
                if (response.IsSuccessStatusCode)
                {
                    return await response.Content.ReadFromJsonAsync<CustomerRewardDto>() ?? new();
                }
                throw new Exception("Failed to claim reward");
            }
            catch (Exception ex)
            {
                throw new Exception($"Error claiming reward: {ex.Message}", ex);
            }
        }

        public async Task DeleteRewardAsync(int rewardId)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.DeleteAsync($"{_apiBaseUrl}/api/customerrewards/{rewardId}");
                if (!response.IsSuccessStatusCode)
                {
                    throw new Exception("Failed to delete reward");
                }
            }
            catch (Exception ex)
            {
                throw new Exception($"Error deleting reward: {ex.Message}", ex);
            }
        }

        public async Task<List<PointHistoryDto>> GetPointHistoryAsync(int customerId)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.GetAsync($"{_apiBaseUrl}/api/points?customerId={customerId}");
                if (response.IsSuccessStatusCode)
                {
                    return await response.Content.ReadFromJsonAsync<List<PointHistoryDto>>() ?? new();
                }
                return new();
            }
            catch (Exception ex)
            {
                throw new Exception($"Error fetching point history: {ex.Message}", ex);
            }
        }

        private async Task AddAuthorizationHeaderAsync()
        {
            var token = await _authService.GetTokenAsync();
            if (!string.IsNullOrEmpty(token))
            {
                _httpClient.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Bearer", token);
            }
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Services/CustomerLoyalty/ReportService.cs">
using MegaMarket.BlazorUI.Services.Auth;
using System.Net.Http.Headers;
using System.Net.Http.Json;
using System.Text.Json;
namespace MegaMarket.BlazorUI.Services.CustomerLoyalty
{
    public class TopCustomerDto
    {
        public int CustomerId { get; set; }
        public string? FullName { get; set; }
        public string? Phone { get; set; }
        public int Points { get; set; }
        public string? Rank { get; set; }
    }

    public class TopRewardDto
    {
        public int RewardId { get; set; }
        public string? RewardName { get; set; }
        public string? RewardType { get; set; }
        public int TotalRedeemed { get; set; }
    }

    public class PointsSummaryDto
    {
        public string? TransactionType { get; set; }
        public int TotalPoints { get; set; }
    }

    public class ReportService
    {
        private readonly HttpClient _httpClient;
        private readonly IConfiguration _config;
        private string _apiBaseUrl;
        private readonly AuthService _authService;
        public ReportService(HttpClient httpClient, IConfiguration config, AuthService authService)
        {
            _httpClient = httpClient;
            _config = config;
            _apiBaseUrl = config["ApiSettings:BaseUrl"] ?? "https://localhost:7284";
            _authService = authService;
        }

        public async Task<List<TopCustomerDto>> GetTopCustomersAsync(int limit = 5)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.GetAsync($"{_apiBaseUrl}/api/reports/customers/top?limit={limit}");
                if (response.IsSuccessStatusCode)
                {
                    var jsonString = await response.Content.ReadAsStringAsync();
                    System.Diagnostics.Debug.WriteLine($"[ReportService] TopCustomers Response: {jsonString}");
                    
                    using (JsonDocument doc = JsonDocument.Parse(jsonString))
                    {
                        var root = doc.RootElement;
                        
                        // Check if "data" property exists
                        if (root.TryGetProperty("data", out var dataElement))
                        {
                            var result = JsonSerializer.Deserialize<List<TopCustomerDto>>(dataElement.GetRawText(),
                                new System.Text.Json.JsonSerializerOptions { PropertyNameCaseInsensitive = true }) ?? new();
                            
                            System.Diagnostics.Debug.WriteLine($"[ReportService] Deserialized {result.Count} customers");
                            return result;
                        }
                        else
                        {
                            System.Diagnostics.Debug.WriteLine($"[ReportService] 'data' property not found in response");
                            return new();
                        }
                    }
                }
                System.Diagnostics.Debug.WriteLine($"[ReportService] API returned non-success status: {response.StatusCode}");
                return new();
            }
            catch (Exception ex)
            {
                System.Diagnostics.Debug.WriteLine($"[ReportService] Exception: {ex.Message}");
                throw new Exception($"Error fetching top customers: {ex.Message}", ex);
            }
        }

        public async Task<List<TopRewardDto>> GetTopRewardsAsync(int limit = 5)
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.GetAsync($"{_apiBaseUrl}/api/reports/rewards/top?limit={limit}");
                if (response.IsSuccessStatusCode)
                {
                    var jsonString = await response.Content.ReadAsStringAsync();
                    System.Diagnostics.Debug.WriteLine($"[ReportService] TopRewards Response: {jsonString}");
                    
                    using (JsonDocument doc = JsonDocument.Parse(jsonString))
                    {
                        var root = doc.RootElement;
                        System.Diagnostics.Debug.WriteLine($"[ReportService] Root element: {root}");
                        
                        // Check if "data" property exists
                        if (root.TryGetProperty("data", out var dataElement))
                        {
                            var result = JsonSerializer.Deserialize<List<TopRewardDto>>(dataElement.GetRawText(), 
                                new System.Text.Json.JsonSerializerOptions { PropertyNameCaseInsensitive = true }) ?? new();
                            
                            System.Diagnostics.Debug.WriteLine($"[ReportService] Deserialized {result.Count} rewards");
                            return result;
                        }
                        else
                        {
                            System.Diagnostics.Debug.WriteLine($"[ReportService] 'data' property not found in response");
                            return new();
                        }
                    }
                }
                System.Diagnostics.Debug.WriteLine($"[ReportService] API returned non-success status: {response.StatusCode}");
                return new();
            }
            catch (Exception ex)
            {
                System.Diagnostics.Debug.WriteLine($"[ReportService] Exception: {ex.Message}");
                throw new Exception($"Error fetching top rewards: {ex.Message}", ex);
            }
        }

        public async Task<List<PointsSummaryDto>> GetPointsSummaryAsync()
        {
            await AddAuthorizationHeaderAsync();
            try
            {
                var response = await _httpClient.GetAsync($"{_apiBaseUrl}/api/reports/points/summary");
                if (response.IsSuccessStatusCode)
                {
                    var jsonString = await response.Content.ReadAsStringAsync();
                    System.Diagnostics.Debug.WriteLine($"[ReportService] PointsSummary Response: {jsonString}");
                    
                    using (JsonDocument doc = JsonDocument.Parse(jsonString))
                    {
                        var root = doc.RootElement;
                        
                        // Check if "data" property exists
                        if (root.TryGetProperty("data", out var dataElement))
                        {
                            var result = JsonSerializer.Deserialize<List<PointsSummaryDto>>(dataElement.GetRawText(),
                                new System.Text.Json.JsonSerializerOptions { PropertyNameCaseInsensitive = true }) ?? new();
                            
                            System.Diagnostics.Debug.WriteLine($"[ReportService] Deserialized {result.Count} points summary records");
                            return result;
                        }
                        else
                        {
                            System.Diagnostics.Debug.WriteLine($"[ReportService] 'data' property not found in response");
                            return new();
                        }
                    }
                }
                System.Diagnostics.Debug.WriteLine($"[ReportService] API returned non-success status: {response.StatusCode}");
                return new();
            }
            catch (Exception ex)
            {
                System.Diagnostics.Debug.WriteLine($"[ReportService] Exception: {ex.Message}");
                throw new Exception($"Error fetching points summary: {ex.Message}", ex);
            }
        }

        private async Task AddAuthorizationHeaderAsync()
        {
            var token = await _authService.GetTokenAsync();
            if (!string.IsNullOrEmpty(token))
            {
                _httpClient.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Bearer", token);
            }
        }
    }
}
</file>

<file path="MegaMarket.Data/DataAccess/PromotionDAO.cs">
using MegaMarket.Data.Data;
using MegaMarket.Data.Models;
using Microsoft.EntityFrameworkCore;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace MegaMarket.Data.DataAccess
{
    public class PromotionDAO
    {
        private readonly MegaMarketDbContext _context;
        public PromotionDAO(MegaMarketDbContext context)
        {
            _context = context;
        }
        // Data Access Object methods for Promotion entity
        public async Task<List<Promotion>> GetAllPromotions()
        {
            var listPromotions = new List<Promotion>();
            try
            {
                listPromotions = await _context.Promotions
                    .Include(p => p.PromotionProducts)
                        .ThenInclude(pp => pp.Product)
                    .ToListAsync();
                return listPromotions;
            }
            catch (Exception ex)
            {
                throw new Exception("Error retrieving promotions: " + ex.Message);
            }
        }
        public async Task<Promotion> CreatePromotion(Promotion promotion)
        {
            try
            {
                _context.Promotions.Add(promotion);
                await _context.SaveChangesAsync();
                return promotion;
            }
            catch (Exception ex)
            {
                throw new Exception("Error creating promotion: " + ex.Message);
            }
        }
        public async Task<Promotion> UpdatePromotion(Promotion promotion)
        {
            try
            {
                _context.Promotions.Update(promotion);
                await _context.SaveChangesAsync();
                return promotion;
            }
            catch (Exception ex)
            {
                throw new Exception("Error updating promotion: " + ex.Message);
            }
        }
        public async Task DeletePromotion(int promotionId)
        {
            try
            {
                var promotion = await _context.Promotions.FindAsync(promotionId);
                if (promotion != null)
                {
                    _context.Promotions.Remove(promotion);
                    await _context.SaveChangesAsync();
                }
                else
                {
                    throw new Exception("Promotion not found.");
                }
            }
            catch (Exception ex)
            {
                throw new Exception("Error deleting promotion: " + ex.Message);
            }
        }
        public async Task<List<PromotionProduct>> GetAllPromotionProducts()
        {
            var list = new List<PromotionProduct>();
            try
            {
                list = await _context.PromotionProducts
                    .Include(pp => pp.Promotion)
                    .Include(pp => pp.Product)
                    .ToListAsync();
                return list;
            }
            catch (Exception ex)
            {
                throw new Exception("Error retrieving promotions: " + ex.Message);
            }
        }
    }
}
</file>

<file path="MegaMarket.Data/Repositories/CustomerRepository.cs">
using MegaMarket.Data.Models;
using MegaMarket.Data.Data;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Collections.Immutable;
using Microsoft.EntityFrameworkCore;
namespace MegaMarket.Data.Repositories
{
    public class CustomerRepository : ICustomerRepository
    {
        private readonly MegaMarketDbContext _context;
        public CustomerRepository(MegaMarketDbContext context)
        {
            _context = context;
        }

        // get all customers
        public async Task<IEnumerable<Customer>> GetCustomersAsync()
        {
            // get all customers from db 
            var customers = await _context.Customers.ToListAsync();
            return customers;
        }

        // create a customer 
        public async Task<Customer> CreateCustomerAsync(Customer customer)
        {
            try
            {
                // add customer in db
                _context.Add(customer);
                await _context.SaveChangesAsync();
                return customer;
            }
            catch (Exception ex)
            {
                // log error 
                throw new Exception($"Error when adding customer in repository: {ex.Message}");
            }
        }

        // get customer by id 
        public async Task<Customer?> GetCustomerByIdAsync(int id)
        {
            // find customer in db
            var customer = await _context.Customers.FindAsync(id);
            if (customer != null)
            {
                return customer;
            }
            return null;
        }

        // check phone exsit
        public async Task<bool> IsExistPhoneAsync(string phoneNumber)
        {
            return await _context.Customers.AnyAsync(c => c.Phone == phoneNumber);
        }

        // update customer
        public async Task<Customer?> UpdateCustomerAsync(Customer customer)
        {
            try
            {
                // get customer in db
                var customer_exist = await _context.Customers.FindAsync(customer.CustomerId);
                if (customer_exist == null)
                {
                    return null;
                }

                // save changes in customer
                customer_exist.FullName = customer.FullName;
                customer_exist.Phone = customer.Phone;
                customer_exist.Email = customer.Email;
                customer_exist.Rank = customer.Rank;
                customer_exist.Points = customer.Points;
                // save in db
                await _context.SaveChangesAsync();
                return customer_exist;
            }
            catch (Exception ex)
            {
                throw new Exception($"Error when updating customer in repository: {ex.Message}");
            }
        }

        // delete customer
        public async Task<bool> DeleteCustomerAsync(int id)
        {
            // get customer in db
            var customer = await _context.Customers.FindAsync(id);
            if (customer == null)
            {
                return false;
            }

            try
            {
                //delete from db 
                _context.Customers.Remove(customer);
                await _context.SaveChangesAsync();
                return true;
            }
            catch (Exception)
            {
                return false;
            }
        }

        // filter customer by fullname, phone, rank
        public async Task<IEnumerable<Customer>> FilterCustomersAsync(string? fullName, string? phone, string? rank)
        {
            var query = _context.Customers.AsQueryable();

            if (!string.IsNullOrWhiteSpace(fullName))
            {
                query = query.Where(c => c.FullName != null && c.FullName.ToLower().Contains(fullName.ToLower()));
            }

            if (!string.IsNullOrWhiteSpace(phone))
            {
                query = query.Where(c => c.Phone != null && c.Phone.ToLower().Contains(phone.ToLower()));
            }

            if (!string.IsNullOrWhiteSpace(rank))
            {
                query = query.Where(c => c.Rank == rank);
            }

            return await query.ToListAsync();
        }


        // update point 
        public async Task<bool> UpdateCustomerPointsAsync(int customerId, int newPoints)
        {
            var customer = await _context.Customers.FindAsync(customerId);
            if (customer == null) return false;

            customer.Points = newPoints;

            await _context.SaveChangesAsync();
            return true;
        }

        // update customer rank based on total points
        public async Task UpdateCustomerRankAsync(int customerId)
        {
            var customer = await _context.Customers.FindAsync(customerId);
            if (customer == null) return;
            if (customer.Points >= 2000)
            {
                customer.Rank = "Platinum";
            }
            else if (customer.Points >= 1000)
            {
                customer.Rank = "Gold";
            }
            else
            {
                customer.Rank = "Silver";
            }
            await _context.SaveChangesAsync();

        }
    }
}
</file>

<file path="MegaMarket.Data/Repositories/ICustomerRepository.cs">
using MegaMarket.Data.Models;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace MegaMarket.Data.Repositories
{
    public interface ICustomerRepository
    {
        // get all customers
        Task<IEnumerable<Customer>> GetCustomersAsync();

        // create a customer 
        Task<Customer> CreateCustomerAsync(Customer customer);

        //get a customer by id
        Task<Customer?> GetCustomerByIdAsync(int id);

        // check phone number is exsit 
        Task<bool> IsExistPhoneAsync(string phoneNumber);

        // update information of the customer
        Task<Customer?> UpdateCustomerAsync(Customer customer);

        // delete a customer
        Task<bool> DeleteCustomerAsync(int id);

        // filter customer by field
        Task<IEnumerable<Customer>> FilterCustomersAsync(string? fullName, string? phone, string? rank);

        // update point 
        Task<bool> UpdateCustomerPointsAsync(int customerId, int newPoints);

        // update customer rank based on total points
        Task UpdateCustomerRankAsync(int customerId);
    }
}
</file>

<file path="MegaMarket.Data/Repositories/Implementations/PromotionRepository.cs">
using MegaMarket.Data.DataAccess;
using MegaMarket.Data.Models;
using MegaMarket.Data.Repositories.Interfaces;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace MegaMarket.Data.Repositories.Implementations
{
    public class PromotionRepository : IPromotionRepository
    {
        private readonly PromotionDAO _promotionDAO;
        public PromotionRepository(PromotionDAO promotionDAO)
        {
            _promotionDAO = promotionDAO;
        }
        // Repository methods for Promotion entity
        public Task<List<Promotion>> GetAllPromotions() => _promotionDAO.GetAllPromotions();
        public Task<Promotion> CreatePromotion(Promotion promotion) => _promotionDAO.CreatePromotion(promotion);
        public Task<Promotion> UpdatePromotion(Promotion promotion) => _promotionDAO.UpdatePromotion(promotion);
        public Task DeletePromotion(int promotionId) => _promotionDAO.DeletePromotion(promotionId);
        public Task<List<PromotionProduct>> GetAllPromotionProducts() => _promotionDAO.GetAllPromotionProducts();
    }
}
</file>

<file path="MegaMarket.Data/Repositories/Interfaces/IPromotionRepository.cs">
using MegaMarket.Data.Models;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace MegaMarket.Data.Repositories.Interfaces
{
    public interface IPromotionRepository
    {
        Task<List<Promotion>> GetAllPromotions();
        Task<Promotion> CreatePromotion(Promotion promotion);
        Task<Promotion> UpdatePromotion(Promotion promotion);
        Task DeletePromotion(int promotionId);
        Task<List<PromotionProduct>> GetAllPromotionProducts();
    }
}
</file>

<file path="MegaMarket.Tests/Fixtures/TestData.cs">
namespace MegaMarket.Tests.Fixtures;

public static class TestData
{
    public static void SeedTestData(MegaMarketDbContext context)
    {
        // Clear existing data
        context.Database.EnsureDeleted();
        context.Database.EnsureCreated();

        SeedCustomers(context);
        SeedRewards(context);
        SeedProducts(context);
        SeedSuppliers(context);
        SeedUsers(context);
        SeedShiftTypes(context);
        SeedAttendances(context);

        context.SaveChanges();
    }

    private static void SeedCustomers(MegaMarketDbContext context)
    {
        var customers = new[]
        {
            new Customer
            {
                CustomerId = 1,
                FullName = "Nguyen Van A",
                Phone = "0901234567",
                Email = "nguyenvana@email.com",
                Points = 1000,
                Rank = "Gold"
            },
            new Customer
            {
                CustomerId = 2,
                FullName = "Tran Thi B",
                Phone = "0907654321",
                Email = "tranthib@email.com",
                Points = 500,
                Rank = "Silver"
            },
            new Customer
            {
                CustomerId = 3,
                FullName = "Le Van C",
                Phone = "0912345678",
                Email = "levanc@email.com",
                Points = 2000,
                Rank = "Platinum"
            }
        };

        context.Customers.AddRange(customers);
    }

    private static void SeedRewards(MegaMarketDbContext context)
    {
        var rewards = new[]
        {
            new Reward
            {
                RewardId = 1,
                Name = "10% Discount Voucher",
                Description = "Get 10% off your next purchase",
                PointCost = 100,
                RewardType = "Voucher",
                Value = 10,
                IsActive = true
            },
            new Reward
            {
                RewardId = 2,
                Name = "Free Shipping Voucher",
                Description = "Free shipping on orders over 500k",
                PointCost = 200,
                RewardType = "Voucher",
                Value = 0,
                IsActive = true
            },
            new Reward
            {
                RewardId = 3,
                Name = "50k Cash Voucher",
                Description = "50,000 VND discount voucher",
                PointCost = 500,
                RewardType = "Voucher",
                Value = 50000,
                IsActive = true
            }
        };

        context.Rewards.AddRange(rewards);
    }

    private static void SeedProducts(MegaMarketDbContext context)
    {
        var products = new[]
        {
            new Product
            {
                ProductId = 1,
                Barcode = "1110001110001",
                Name = "Organic Apples 1kg",
                Category = "Produce",
                UnitLabel = "Bag",
                UnitPrice = 45000,
                QuantityInStock = 120,
                MinQuantity = 30,
                IsPerishable = true,
                ExpiryDate = DateTime.Today.AddDays(10)
            },
            new Product
            {
                ProductId = 2,
                Barcode = "2220002220002",
                Name = "Whole Milk 1L",
                Category = "Dairy",
                UnitLabel = "Bottle",
                UnitPrice = 18000,
                QuantityInStock = 220,
                MinQuantity = 60,
                IsPerishable = true,
                ExpiryDate = DateTime.Today.AddDays(5)
            },
            new Product
            {
                ProductId = 3,
                Barcode = "3330003330003",
                Name = "Free Range Eggs 12ct",
                Category = "Dairy",
                UnitLabel = "Carton",
                UnitPrice = 52000,
                QuantityInStock = 150,
                MinQuantity = 40,
                IsPerishable = true,
                ExpiryDate = DateTime.Today.AddDays(2)
            },
            new Product
            {
                ProductId = 4,
                Barcode = "4440004440004",
                Name = "Roasted Coffee Beans 500g",
                Category = "Beverages",
                UnitLabel = "Bag",
                UnitPrice = 95000,
                QuantityInStock = 80,
                MinQuantity = 20,
                IsPerishable = false
            }
        };

        context.Products.AddRange(products);
    }

    private static void SeedSuppliers(MegaMarketDbContext context)
    {
        var suppliers = new[]
        {
            new Supplier
            {
                SupplierId = 1,
                Name = "Fresh Foods Co.",
                Phone = "555-1200"
            },
            new Supplier
            {
                SupplierId = 2,
                Name = "Dairy Direct",
                Phone = "555-8831"
            },
            new Supplier
            {
                SupplierId = 3,
                Name = "Global Groceries",
                Phone = "555-7412"
            }
        };

        context.Suppliers.AddRange(suppliers);
    }

    private static void SeedUsers(MegaMarketDbContext context)
    {
        var users = new[]
        {
            new User
            {
                UserId = 1,
                FullName = "Admin User",
                Username = "admin",
                Password = "Password123!",
                Role = "Admin"
            },
            new User
            {
                UserId = 2,
                FullName = "John Manager",
                Username = "john.manager",
                Password = "Password123!",
                Role = "Manager"
            }
        };

        context.Users.AddRange(users);
    }

    private static void SeedShiftTypes(MegaMarketDbContext context)
    {
        var shiftTypes = new[]
        {
            new ShiftType
            {
                ShiftTypeId = 1,
                Name = "Morning Shift",
                StartTime = new TimeSpan(6, 0, 0),   // 6:00 AM
                EndTime = new TimeSpan(14, 0, 0),     // 2:00 PM
                WagePerHour = 40000
            },
            new ShiftType
            {
                ShiftTypeId = 2,
                Name = "Afternoon Shift",
                StartTime = new TimeSpan(14, 0, 0),   // 2:00 PM
                EndTime = new TimeSpan(22, 0, 0),     // 10:00 PM
                WagePerHour = 45000
            },
            new ShiftType
            {
                ShiftTypeId = 3,
                Name = "Night Shift",
                StartTime = new TimeSpan(22, 0, 0),   // 10:00 PM
                EndTime = new TimeSpan(6, 0, 0),      // 6:00 AM
                WagePerHour = 50000
            }
        };

        context.ShiftTypes.AddRange(shiftTypes);
    }

    private static void SeedAttendances(MegaMarketDbContext context)
    {
        var attendances = new[]
        {
            new MegaMarket.Data.Models.Attendance
            {
                AttendanceId = 1,
                UserId = 1,
                ShiftTypeId = 1,
                Date = DateTime.Today,
                CheckIn = DateTime.Today.AddHours(6).AddMinutes(5),
                CheckOut = DateTime.Today.AddHours(14).AddMinutes(10),
                IsLate = true,
                Note = "Test attendance for admin user"
            },
            new MegaMarket.Data.Models.Attendance
            {
                AttendanceId = 2,
                UserId = 2,
                ShiftTypeId = 2,
                Date = DateTime.Today,
                CheckIn = DateTime.Today.AddHours(14),
                CheckOut = DateTime.Today.AddHours(22),
                IsLate = false,
                Note = "Test attendance for manager user"
            },
            new MegaMarket.Data.Models.Attendance
            {
                AttendanceId = 3,
                UserId = 1,
                ShiftTypeId = 1,
                Date = DateTime.Today.AddDays(-1),
                CheckIn = DateTime.Today.AddDays(-1).AddHours(6),
                CheckOut = DateTime.Today.AddDays(-1).AddHours(14),
                IsLate = false,
                Note = "Yesterday's attendance"
            }
        };

        context.Attendances.AddRange(attendances);
    }

    // Factory methods for creating test entities
    public static Customer CreateCustomer(
        string fullName = "Test Customer",
        string phone = "0900000000",
        string? email = null,
        int points = 0)
    {
        return new Customer
        {
            FullName = fullName,
            Phone = phone,
            Email = email ?? $"{phone}@test.com",
            Points = points,
            Rank = "Silver"
        };
    }

    public static Reward CreateReward(
        string name = "Test Reward",
        int pointCost = 100,
        string rewardType = "Voucher",
        decimal value = 10)
    {
        return new Reward
        {
            Name = name,
            Description = $"Test description for {name}",
            PointCost = pointCost,
            RewardType = rewardType,
            Value = value,
            IsActive = true
        };
    }

    public static Product CreateProduct(
        string barcode = "9999999999999",
        string name = "Test Product",
        decimal unitPrice = 10000,
        int quantityInStock = 100)
    {
        return new Product
        {
            Barcode = barcode,
            Name = name,
            Category = "Test",
            UnitLabel = "Unit",
            UnitPrice = unitPrice,
            QuantityInStock = quantityInStock,
            MinQuantity = 10,
            IsPerishable = false
        };
    }
}
</file>

<file path="MegaMarket.Tests/Fixtures/TestServerFixture.cs">
using Microsoft.AspNetCore.Hosting;
using Microsoft.AspNetCore.TestHost;
using Microsoft.Extensions.DependencyInjection.Extensions;
using Microsoft.AspNetCore.Authentication;
using MegaMarket.Tests.Helpers;

namespace MegaMarket.Tests.Fixtures;

public class TestServerFixture : WebApplicationFactory<Program>
{
    private readonly string _dbName = $"TestDb_{Guid.NewGuid()}";

    protected override void ConfigureWebHost(IWebHostBuilder builder)
    {
        builder.ConfigureTestServices(services =>
        {
            // Replace real authentication with test authentication
            services.AddAuthentication(TestAuthHandler.SchemeName)
                .AddScheme<AuthenticationSchemeOptions, TestAuthHandler>(
                    TestAuthHandler.SchemeName, options => { });

            // Remove the actual DbContext registration
            var descriptor = services.SingleOrDefault(
                d => d.ServiceType == typeof(DbContextOptions<MegaMarketDbContext>));
            if (descriptor != null)
            {
                services.Remove(descriptor);
            }

            // Remove DbContextFactory if registered
            var factoryDescriptor = services.SingleOrDefault(
                d => d.ServiceType == typeof(IDbContextFactory<MegaMarketDbContext>));
            if (factoryDescriptor != null)
            {
                services.Remove(factoryDescriptor);
            }

            // Add in-memory database - SAME NAME for both!
            services.AddDbContext<MegaMarketDbContext>(options =>
            {
                options.UseInMemoryDatabase(_dbName);
            });

            services.AddDbContextFactory<MegaMarketDbContext>(options =>
            {
                options.UseInMemoryDatabase(_dbName);
            });

            // Build the service provider and seed test data
            var sp = services.BuildServiceProvider();
            using var scope = sp.CreateScope();
            var db = scope.ServiceProvider.GetRequiredService<MegaMarketDbContext>();

            // Ensure database is created
            db.Database.EnsureCreated();

            // Seed test data
            TestData.SeedTestData(db);
        });

        builder.UseEnvironment("Testing");
    }

    public async Task<T> ExecuteDbContextAsync<T>(Func<MegaMarketDbContext, Task<T>> action)
    {
        using var scope = Services.CreateScope();
        var db = scope.ServiceProvider.GetRequiredService<MegaMarketDbContext>();
        return await action(db);
    }

    public async Task ExecuteDbContextAsync(Func<MegaMarketDbContext, Task> action)
    {
        using var scope = Services.CreateScope();
        var db = scope.ServiceProvider.GetRequiredService<MegaMarketDbContext>();
        await action(db);
    }

    public T ExecuteDbContext<T>(Func<MegaMarketDbContext, T> action)
    {
        using var scope = Services.CreateScope();
        var db = scope.ServiceProvider.GetRequiredService<MegaMarketDbContext>();
        return action(db);
    }
}
</file>

<file path="MegaMarket.API/Controllers/CustomerRewardsController.cs">
using MegaMarket.API.DTOs.CustomerRewards;
using MegaMarket.API.Services;
using Microsoft.AspNetCore.Mvc;

[Route("api/[controller]")]
[ApiController]
public class CustomerRewardsController : ControllerBase
{
    private readonly ICustomerRewardService _customerRewardService;

    public CustomerRewardsController(ICustomerRewardService customerRewardService)
    {
        _customerRewardService = customerRewardService;
    }

    /// <summary>
    /// GET /api/customerrewards?status=Pending&customerId=3
    /// Lấy danh sách tất cả rewards với tùy chọn lọc theo status hoặc customerId
    /// Dùng cho: Reports, Admin dashboard
    /// </summary>
    [HttpGet]
    public async Task<IActionResult> GetAll([FromQuery] string? status, [FromQuery] int? customerId)
    {
        var result = await _customerRewardService.GetAllAsync(status, customerId);

        if (!result.Any())
            return NotFound("No customer rewards found.");

        return Ok(result);
    }

    /// <summary>
    /// GET /api/customerrewards/customer/{id}
    /// Lấy tất cả rewards của 1 customer
    /// Dùng cho: Loyalty Dashboard - hiển thị "My Rewards" section
    /// </summary>
    [HttpGet("customer/{id}")]
    public async Task<IActionResult> GetByCustomer(int id)
    {
        var result = await _customerRewardService.GetByCustomerIdAsync(id);

        if (!result.Any())
            return NotFound("This customer has no reward history or does not exist.");

        return Ok(result);
    }

    /// <summary>
    /// POST /api/customerrewards/redeem
    /// ① Customer chọn reward + click "Redeem Now"
    /// ② Backend thực hiện (transaction):
    ///    - Trừ points từ customer
    ///    - Giảm quantity_available của reward
    ///    - Tạo CustomerReward với Status = "Pending"
    ///    - Tạo PointTransaction (type='Redeem')
    /// ③ Frontend: Hiển thị reward ở "My Rewards" với Status=Pending
    /// ④ Next step: Click "Claim" để chuyển sang Claimed/Used
    /// </summary>
    [HttpPost("redeem")]
    public async Task<IActionResult> RedeemReward([FromBody] RedeemRewardRequestDto request)
    {
        try
        {
            // Validate request
            if (request == null)
                return BadRequest(new { message = "Request body is required." });

            if (request.CustomerId <= 0)
                return BadRequest(new { message = "Invalid customer ID." });

            if (request.RewardId <= 0)
                return BadRequest(new { message = "Invalid reward ID." });

            // Call service to redeem reward
            var result = await _customerRewardService.RedeemRewardAsync(
                customerId: request.CustomerId,
                rewardId: request.RewardId,
                invoiceId: request.InvoiceId ?? null
            );

            return Ok(new { message = "Reward redeemed successfully.", data = result });
        }
        catch (Exception ex)
        {
            return BadRequest(new { message = ex.Message });
        }
    }

    /// <summary>
    /// PUT /api/customerrewards/{id}/claim
    /// ① Staff/Admin xác nhận khách nhân được reward
    /// ② Logic dựa theo loại reward:
    ///    - 🎁 GIFT (vật lý): Pending → tự động → Used (vì đã nhận vật)
    ///    - 🎟️ VOUCHER/DISCOUNT: Pending → Claimed (chờ áp dụng vào invoice)
    /// ③ Frontend: Refresh data, button Claim mất, hiện Apply to Invoice (chỉ Voucher)
    /// Dùng cho: Loyalty Dashboard - "My Rewards" section
    /// </summary>
    [HttpPut("{id}/claim")]
    public async Task<IActionResult> ClaimReward(int id)
    {
        try
        {
            var result = await _customerRewardService.ClaimRewardAsync(id);

            if (result == null)
                return NotFound(new { message = "Reward redemption not found." });

            return Ok(new { 
                message = $"Reward claimed successfully. Status: {result.Status}",
                data = result 
            });
        }
        catch (Exception ex)
        {
            return BadRequest(new { message = ex.Message });
        }
    }

    /// <summary>
    /// PUT /api/customerrewards/{id}/use
    /// ⚠️ KHÔNG DÙNG TRONG NORMAL FLOW - Giữ lại cho edge cases
    /// Thay vào đó dùng: PUT /api/customerrewards/{id}/apply-to-invoice
    /// 
    /// Điều kiện:
    /// - Status phải = "Claimed"
    /// - Voucher/Discount phải có InvoiceId
    /// 
    /// Result: Claimed → Used + UsedAt = DateTime.Now
    /// </summary>
    [HttpPut("{id}/use")]
    public async Task<IActionResult> UseReward(int id, [FromBody] UseRewardRequestDto? request)
    {
        try
        {
            var result = await _customerRewardService.UseRewardAsync(id);

            if (result == null)
                return NotFound(new { message = "Reward redemption not found." });

            return Ok(new { 
                message = "Reward used successfully.",
                data = result 
            });
        }
        catch (Exception ex)
        {
            return BadRequest(new { message = ex.Message });
        }
    }

    /// <summary>
    /// PUT /api/customerrewards/{id}/apply-to-invoice
    /// ① Checkout/Payment module gọi endpoint này
    /// ② Áp dụng voucher vào invoice:
    ///    - Update InvoiceId (tham chiếu đến invoice)
    ///    - Update Status: Claimed → Used
    ///    - Update UsedAt = DateTime.Now
    /// ③ Voucher giờ đã được áp dụng, có thể tính discount vào total invoice
    /// ④ Frontend: Button "Apply to Invoice" mất, hiện Status=Used
    /// 
    /// Request body: { "invoiceId": 123 }
    /// Dùng cho: Invoice/Checkout module
    /// </summary>
    [HttpPut("{id}/apply-to-invoice")]
    public async Task<IActionResult> ApplyVoucherToInvoice(int id, [FromBody] UseRewardRequestDto request)
    {
        try
        {
            if (request?.InvoiceId == null || request.InvoiceId <= 0)
                return BadRequest(new { message = "Invalid invoice ID." });

            var result = await _customerRewardService.ApplyVoucherToInvoiceAsync(id, request.InvoiceId.Value);

            if (result == null)
                return NotFound(new { message = "Reward redemption not found." });

            return Ok(new { 
                message = "✅ Voucher applied to invoice successfully!",
                data = result 
            });
        }
        catch (Exception ex)
        {
            return BadRequest(new { message = ex.Message });
        }
    }

    // DELETE /api/customerrewards/{id}
    // ⚠️ ENDPOINT NÀY CHƯA ĐƯỢC IMPLEMENT - DÙNG TRONG FUTURE NẾU CẦN
    // Mục đích: Xóa reward + hoàn lại points cho customer
    // Status phải = "Pending" mới được xóa
}
</file>

<file path="MegaMarket.API/Controllers/UsersController.cs">
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Authorization;
using MegaMarket.API.Services;
using MegaMarket.API.DTOs;
using System.Security.Claims;

namespace MegaMarket.API.Controllers;

[Route("api/[controller]")]
[ApiController]
public class UsersController : ControllerBase
{
    private readonly UserService _userService;
    private readonly AuthService _authService;

    public UsersController(UserService userService, AuthService authService)
    {
        _userService = userService;
        _authService = authService;
    }

    // POST: api/Users/login
    [HttpPost("login")]
    [AllowAnonymous]
    public async Task<IActionResult> Login([FromBody] LoginInputDto input)
    {
        try
        {
            if (string.IsNullOrWhiteSpace(input.Username) || string.IsNullOrWhiteSpace(input.Password))
            {
                return BadRequest(new { message = "Username and password are required" });
            }

            var result = await _authService.LoginAsync(input);

            if (result == null)
            {
                return Unauthorized(new { message = "Invalid username or password" });
            }

            return Ok(result);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = $"Login failed: {ex.Message}" });
        }
    }

    // GET: api/Users
    [Authorize(Roles = "Admin,Manager")]
    [HttpGet]
    public async Task<IActionResult> GetUsers()
    {
        try
        {
            var currentRole = User.FindFirst(ClaimTypes.Role)?.Value;
            var users = await _userService.GetAllUsersAsync();

            // Manager cannot see Admin users
            if (currentRole == "Manager")
            {
                users = users.Where(u => u.Role != "Admin").ToList();
            }

            return Ok(users);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = $"Failed to load users: {ex.Message}" });
        }
    }

    // GET: api/Users/5
    [Authorize]
    [HttpGet("{id}")]
    public async Task<IActionResult> GetUser(int id)
    {
        try
        {
            var currentUserId = int.Parse(User.FindFirst(ClaimTypes.NameIdentifier)!.Value);
            var currentRole = User.FindFirst(ClaimTypes.Role)?.Value;

            // Access control: Admin and Manager can see all, Employee can only see themselves
            if (currentRole != "Admin" && currentRole != "Manager" && currentUserId != id)
            {
                return Forbid();
            }

            var user = await _userService.GetUserByIdAsync(id);

            if (user == null)
            {
                return NotFound(new { message = "User not found" });
            }

            // Manager cannot view Admin users
            if (currentRole == "Manager" && user.Role == "Admin")
            {
                return Forbid();
            }

            return Ok(user);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = $"Failed to load user: {ex.Message}" });
        }
    }

    // GET: api/Users/username/john
    [Authorize]
    [HttpGet("username/{username}")]
    public async Task<IActionResult> GetUserByUsername(string username)
    {
        try
        {
            var user = await _userService.GetUserByUsernameAsync(username);

            if (user == null)
            {
                return NotFound(new { message = "User not found" });
            }

            return Ok(user);
        }
        catch (Exception ex)
        {
            return StatusCode(500, new { message = $"Failed to load user: {ex.Message}" });
        }
    }

    // POST: api/Users
    [HttpPost]
    [Authorize(Roles = "Admin")]
    public async Task<IActionResult> CreateUser([FromBody] UserInputDto input)
    {
        try
        {
            var user = await _userService.CreateUserAsync(input);
            return CreatedAtAction(nameof(GetUser), new { id = user.UserId }, user);
        }
        catch (Exception ex)
        {
            return BadRequest(new { message = ex.Message });
        }
    }

    // PUT: api/Users/5
    [Authorize]
    [HttpPut("{id}")]
    public async Task<IActionResult> UpdateUser(int id, [FromBody] UserInputDto input)
    {
        try
        {
            var currentUserId = int.Parse(User.FindFirst(ClaimTypes.NameIdentifier)!.Value);
            var currentRole = User.FindFirst(ClaimTypes.Role)?.Value;

            // Get the user being updated to check their role
            var targetUser = await _userService.GetUserByIdAsync(id);
            if (targetUser == null)
            {
                return NotFound(new { message = "User not found" });
            }

            // Access control: Admin and Manager can update all, Employee can only update themselves
            // Additionally, non-Admin cannot change roles
            if (currentRole != "Admin" && currentRole != "Manager")
            {
                if (currentUserId != id)
                {
                    return Forbid();
                }

                // Employee cannot change their own role
                if (targetUser.Role != input.Role)
                {
                    return BadRequest(new { message = "You cannot change your own role" });
                }
            }
            else if (currentRole == "Manager")
            {
                // Manager cannot update Admin users
                if (targetUser.Role == "Admin")
                {
                    return Forbid();
                }

                // Manager cannot change roles
                if (targetUser.Role != input.Role)
                {
                    return BadRequest(new { message = "Manager cannot change user roles" });
                }

                // Manager cannot create Admin users (by changing role to Admin)
                if (input.Role == "Admin")
                {
                    return BadRequest(new { message = "Manager cannot set user role to Admin" });
                }
            }

            var user = await _userService.UpdateUserAsync(id, input);
            return Ok(user);
        }
        catch (Exception ex)
        {
            return BadRequest(new { message = ex.Message });
        }
    }

    // DELETE: api/Users/5
    [HttpDelete("{id}")]
    [Authorize(Roles = "Admin")]
    public async Task<IActionResult> DeleteUser(int id)
    {
        try
        {
            var currentUserId = int.Parse(User.FindFirst(ClaimTypes.NameIdentifier)!.Value);

            // Prevent admin from deleting themselves
            if (currentUserId == id)
            {
                return BadRequest(new { message = "You cannot delete your own account" });
            }

            var result = await _userService.DeleteUserAsync(id);

            if (!result)
            {
                return NotFound(new { message = "User not found" });
            }

            return Ok(new { message = "User deleted successfully" });
        }
        catch (Exception ex)
        {
            return BadRequest(new { message = ex.Message });
        }
    }
}
</file>

<file path="MegaMarket.API/Services/CustomerRewardService.cs">
using MegaMarket.API.DTOs.CustomerRewards;
using MegaMarket.Data.Models;
using MegaMarket.Data.Repositories;

/// <summary>
/// CustomerRewardService - Xử lý logic liên quan đến customer redemptions (đổi quà)
/// 
/// FLOW TỔNG QUÁT:
/// 1. REDEEM: Customer chọn quà, backend trừ points + giảm quantity → Status=Pending
/// 2. CLAIM: Staff/Admin xác nhận → Gift:Used, Voucher:Claimed
/// 3. USE/APPLY: Voucher áp dụng vào invoice → Status=Used
/// 
/// ⚠️ LƯU Ý VỀ LOGIC:
/// - RedeemRewardAsync: Sử dụng transaction đảm bảo atomicity
/// - ClaimRewardAsync: Tự động phân biệt Gift vs Voucher
/// - ApplyVoucherToInvoiceAsync: CHÍNH là flow từ Checkout (không dùng UseRewardAsync)
/// - UseRewardAsync: Edge case, nếu cần update manual từ Dashboard
/// </summary>
public class CustomerRewardService : ICustomerRewardService
{
    private readonly ICustomerRewardRepository _customerRewardRepo;
    private readonly ICustomerRepository _customerRepo;
    private readonly IRewardRepository _rewardRepo;

    public CustomerRewardService(ICustomerRewardRepository customerRewardRepo, ICustomerRepository customerRepo, IRewardRepository rewardRepo)
    {
        _customerRewardRepo = customerRewardRepo;
        _customerRepo = customerRepo;
        _rewardRepo = rewardRepo;
    }

    /// <summary>
    /// Lấy tất cả customer rewards với optional filter
    /// Dùng cho: Reports, Admin dashboard
    /// </summary>
    public async Task<IEnumerable<CustomerRewardResponseDto>> GetAllAsync(string? status, int? customerId)
    {
        // get data from db
        var data = await _customerRewardRepo.GetAllAsync(status, customerId);

        // map to dto and return
        return data.Select(cr => new CustomerRewardResponseDto
        {
            RedemptionId = cr.RedemptionId,
            CustomerId = cr.CustomerId,
            CustomerName = cr.Customer?.FullName ?? "",
            RewardId = cr.RewardId,
            RewardName = cr.Reward?.Name ?? "",
            InvoiceId = cr.InvoiceId,
            RedeemedAt = cr.RedeemedAt,
            Status = cr.Status,
            UsedAt = cr.UsedAt
        });
    }

    /// <summary>
    /// Lấy tất cả rewards của 1 customer
    /// Dùng cho: Loyalty Dashboard - "My Rewards" section
    /// </summary>
    public async Task<IEnumerable<CustomerRewardResponseDto>> GetByCustomerIdAsync(int customerId)
    {
        // Check customer exists
        var customerExists = await _customerRepo.GetCustomerByIdAsync(customerId);
        if (customerExists == null)
            return Enumerable.Empty<CustomerRewardResponseDto>();

        // get data from db
        var list = await _customerRewardRepo.GetByCustomerIdAsync(customerId);

        return list.Select(cr => new CustomerRewardResponseDto
        {
            RedemptionId = cr.RedemptionId,
            CustomerId = cr.CustomerId,
            CustomerName = cr.Customer?.FullName ?? "",
            RewardId = cr.RewardId,
            RewardName = cr.Reward?.Name ?? "",
            InvoiceId = cr.InvoiceId,
            RedeemedAt = cr.RedeemedAt,
            Status = cr.Status,
            UsedAt = cr.UsedAt
        });

    }

    /// <summary>
    /// REDEEM FLOW - Step 1
    /// ① Customer chọn reward + click "Redeem Now"
    /// ② Validations:
    ///    - Customer có đủ points?
    ///    - Reward còn stock?
    /// ③ Repository handle transaction:
    ///    - Trừ points từ customer
    ///    - Giảm quantity_available
    ///    - Tạo CustomerReward (Status=Pending)
    ///    - Tạo PointTransaction (type='Redeem')
    /// ④ Update customer rank sau khi trừ points
    /// Result: Status=Pending, chờ Staff claim
    /// </summary>
    public async Task<CustomerRewardResponseDto> RedeemRewardAsync(int customerId, int rewardId, int? invoiceId)
    {
        // Step 1: Validate customer exists
        var customer = await _customerRepo.GetCustomerByIdAsync(customerId);
        if (customer == null)
            throw new Exception("Customer not found.");

        // Step 2: Validate reward exists
        var reward = await _rewardRepo.GetRewardByIdAsync(rewardId);
        if (reward == null)
            throw new Exception("Reward not found.");

        // Step 3: Check sufficient points
        if (customer.Points < reward.PointCost)
            throw new Exception($"Insufficient points to redeem this reward. Required: {reward.PointCost}, Available: {customer.Points}");

        // Step 4: Check reward availability
        if (reward.QuantityAvailable <= 0)
            throw new Exception("Reward is out of stock.");

        // Step 5: Call repository to handle transaction (atomicity guaranteed)
        var customerReward = await _customerRewardRepo.RedeemRewardAsync(customerId, rewardId, invoiceId, reward.PointCost);

        // Step 6: Update rank after redeeming (có thể thay đổi rank nếu points đủ điều kiện)
        await _customerRepo.UpdateCustomerRankAsync(customerId);

        // Step 7: Return response DTO
        return new CustomerRewardResponseDto
        {
            RedemptionId = customerReward.RedemptionId,
            CustomerId = customerReward.CustomerId,
            CustomerName = customer.FullName ?? "",
            RewardId = customerReward.RewardId,
            RewardName = reward.Name ?? "",
            InvoiceId = customerReward.InvoiceId,
            RedeemedAt = customerReward.RedeemedAt,
            Status = customerReward.Status,
            UsedAt = customerReward.UsedAt
        };
    }

    /// <summary>
    /// CLAIM FLOW - Step 2 - Xác nhận nhân quà
    /// ① Staff/Admin xác nhận khách nhân được reward
    /// ② Logic phân biệt theo loại reward:
    ///    - 🎁 GIFT: Pending → Used (vật lý đã nhận, không cần bước Use)
    ///    - 🎟️ VOUCHER/DISCOUNT: Pending → Claimed (chờ áp dụng vào invoice)
    /// Result: 
    ///    - Gift: UsedAt = DateTime.Now
    ///    - Voucher: InvoiceId = null, chờ áp dụng
    /// </summary>
    public async Task<CustomerRewardResponseDto?> ClaimRewardAsync(int id)
    {
        var reward = await _customerRewardRepo.GetCustomerRewardByIdAsync(id);
        if (reward == null)
            return null;

        // only pending rewards can be claimed
        if (reward.Status != "Pending")
            throw new Exception($"Reward must be in 'Pending' status. Current status: {reward.Status}");

        // Phân biệt theo loại reward
        if (reward.Reward.RewardType == "Gift")
        {
            // Gift: tự động sang Used vì vật lý đã nhận
            reward.Status = "Used";
            reward.UsedAt = DateTime.Now;
        }
        else if (reward.Reward.RewardType == "Voucher" || reward.Reward.RewardType == "Discount")
        {
            // Voucher: sang Claimed, chờ áp dụng vào invoice
            reward.Status = "Claimed";
        }

        await _customerRewardRepo.UpdateCustomerRewardAsync(reward);

        return new CustomerRewardResponseDto
        {
            RedemptionId = reward.RedemptionId,
            CustomerId = reward.CustomerId,
            CustomerName = reward.Customer?.FullName ?? "",
            RewardId = reward.RewardId,
            RewardName = reward.Reward?.Name ?? "",
            InvoiceId = reward.InvoiceId,
            RedeemedAt = reward.RedeemedAt,
            Status = reward.Status,
            UsedAt = reward.UsedAt
        };
    }

    /// <summary>
    /// ⚠️ EDGE CASE - Không dùng trong normal flow
    /// Dùng khi: Manual update từ Dashboard (không thường xuyên)
    /// 
    /// So sánh:
    /// - UseRewardAsync: Chỉ set Status=Used (không update InvoiceId)
    /// - ApplyVoucherToInvoiceAsync: CHÍNH là flow chuẩn (set cả InvoiceId)
    /// 
    /// Điều kiện: Status=Claimed + có InvoiceId
    /// </summary>
    public async Task<CustomerRewardResponseDto?> UseRewardAsync(int id)
    {
        var reward = await _customerRewardRepo.GetCustomerRewardByIdAsync(id);
        if (reward == null)
            return null;

        // only claimed rewards can be used (dành cho Voucher)
        if (reward.Status != "Claimed")
            throw new Exception($"Reward must be in 'Claimed' status before it can be used. Current status: {reward.Status}");

        // Chỉ cho phép use Voucher/Discount có InvoiceId
        if ((reward.Reward.RewardType == "Voucher" || reward.Reward.RewardType == "Discount"))
        {
            if (reward.InvoiceId == null)
                throw new Exception("❌ Voucher must be applied to an invoice. Use ApplyVoucherToInvoiceAsync instead.");
        }

        reward.Status = "Used";
        reward.UsedAt = DateTime.Now;

        await _customerRewardRepo.UpdateCustomerRewardAsync(reward);

        return new CustomerRewardResponseDto
        {
            RedemptionId = reward.RedemptionId,
            CustomerId = reward.CustomerId,
            CustomerName = reward.Customer?.FullName ?? "",
            RewardId = reward.RewardId,
            RewardName = reward.Reward?.Name ?? "",
            InvoiceId = reward.InvoiceId,
            RedeemedAt = reward.RedeemedAt,
            Status = reward.Status,
            UsedAt = reward.UsedAt
        };
    }

    /// <summary>
    /// USE FLOW (Checkout) - Step 3 - Áp dụng Voucher vào Invoice
    /// ✅ CHÍNH LÀ ENDPOINT DÙNG TRONG CHECKOUT FLOW
    /// 
    /// ① Checkout/Payment module gọi endpoint này
    /// ② Với InvoiceId từ invoice đã tạo
    /// ③ Backend:
    ///    - Set InvoiceId = request.invoiceId
    ///    - Update Status: Claimed → Used
    ///    - Set UsedAt = DateTime.Now
    /// ④ Voucher giờ đã được áp dụng, tính discount vào invoice
    /// 
    /// Request body: { "invoiceId": 123 }
    /// </summary>
    public async Task<CustomerRewardResponseDto?> ApplyVoucherToInvoiceAsync(int redemptionId, int invoiceId)
    {
        var reward = await _customerRewardRepo.GetCustomerRewardByIdAsync(redemptionId);
        if (reward == null)
            return null;

        // Chỉ Claimed rewards mới được apply
        if (reward.Status != "Claimed")
            throw new Exception($"Only Claimed rewards can be applied. Current status: {reward.Status}");

        // Chỉ Voucher/Discount mới apply vào invoice
        if (reward.Reward.RewardType != "Voucher" && reward.Reward.RewardType != "Discount")
            throw new Exception("Only Vouchers and Discounts can be applied to invoices.");

        // Update InvoiceId + Status
        reward.InvoiceId = invoiceId;
        reward.Status = "Used";
        reward.UsedAt = DateTime.Now;

        await _customerRewardRepo.UpdateCustomerRewardAsync(reward);

        return new CustomerRewardResponseDto
        {
            RedemptionId = reward.RedemptionId,
            CustomerId = reward.CustomerId,
            CustomerName = reward.Customer?.FullName ?? "",
            RewardId = reward.RewardId,
            RewardName = reward.Reward?.Name ?? "",
            InvoiceId = reward.InvoiceId,
            RedeemedAt = reward.RedeemedAt,
            Status = reward.Status,
            UsedAt = reward.UsedAt
        };
    }

    /// <summary>
    /// DELETE FLOW - Hủy reward + Hoàn lại points
    /// Điều kiện: Status = "Pending" (chưa được claim)
    /// 
    /// Thực hiện:
    /// ① Hoàn lại points cho customer
    /// ② Update rank (có thể downgrade)
    /// ③ Tăng quantity_available của reward
    /// ④ Xóa CustomerReward record
    /// 
    /// Dùng cho: Loyalty Dashboard - Customer tự hủy reward (nếu cho phép)
    /// </summary>
    public async Task DeleteCustomerRewardAsync(int id)
    {
        var reward = await _customerRewardRepo.GetCustomerRewardByIdAsync(id);
        if (reward == null)
            throw new Exception("Customer reward not found.");
        
        // only pending rewards can be deleted
        if (reward.Status != "Pending")
            throw new Exception("Only pending rewards can be deleted.");

        // Step 1: Hoàn lại points cho customer
        var customer = await _customerRepo.GetCustomerByIdAsync(reward.CustomerId);
        if (customer != null)
        {
            customer.Points += reward.Reward.PointCost;
            await _customerRepo.UpdateCustomerAsync(customer);
            // Step 2: Update rank (có thể downgrade)
            await _customerRepo.UpdateCustomerRankAsync(customer.CustomerId);
        }

        // Step 3: Tăng quantity_available (hoàn nguyên stock)
        var rewardItem = await _rewardRepo.GetRewardByIdAsync(reward.RewardId);
        if (rewardItem != null)
        {
            rewardItem.QuantityAvailable += 1;
            await _rewardRepo.UpdateRewardAsync(rewardItem);
        }

        // Step 4: Xóa redemption record
        await _customerRewardRepo.DeleteCustomerRewardAsync(id);
    }
}
</file>

<file path="MegaMarket.API/Services/ICustomerRewardService.cs">
using MegaMarket.API.DTOs.CustomerRewards;

public interface ICustomerRewardService
{
    // get all customer rewards with optional filtering by status and customerId
    Task<IEnumerable<CustomerRewardResponseDto>> GetAllAsync(string? status, int? customerId);

    // get customer rewards by customer id
    Task<IEnumerable<CustomerRewardResponseDto>> GetByCustomerIdAsync(int customerId);

    // use a customer reward by id and update its status to "Used"
    Task<CustomerRewardResponseDto?> UseRewardAsync(int id);

    // claim a customer reward by id and update its status to "Claimed"
    Task<CustomerRewardResponseDto?> ClaimRewardAsync(int id);

    // apply voucher to invoice (called from checkout/payment module)
    Task<CustomerRewardResponseDto?> ApplyVoucherToInvoiceAsync(int redemptionId, int invoiceId);

    // delete a customer reward by id and add back points to the customer
    Task DeleteCustomerRewardAsync(int id);

    // customer receives a reward by redeeming points
    Task<CustomerRewardResponseDto> RedeemRewardAsync(int customerId, int rewardId, int? invoiceId);
}
</file>

<file path="MegaMarket.API/Services/Implementations/InvoiceService.cs">
using MegaMarket.API.DTOs.Invoice;
using MegaMarket.API.DTOs.Products;
using MegaMarket.API.DTOs.User;
using MegaMarket.API.Services.Interfaces;
using MegaMarket.Data.Models;
using MegaMarket.Data.Repositories.Interfaces;

namespace MegaMarket.API.Services.Implementations
{
    public class InvoiceService : IInvoiceService
    {
        private readonly IInvoiceRepository _repository;
        public InvoiceService(IInvoiceRepository repository)
        {
            _repository = repository;
        }
        // Service methods for Invoice entity
        public async Task<List<InvoiceResDto>> GetAllInvoices()
        {
            var listInvoices = await _repository.GetAllInvoices();
            var result = listInvoices.Select(inv => new InvoiceResDto
            {
                InvoiceId = inv.InvoiceId,
                UserId = inv.UserId,
                TotalBeforeDiscount = inv.TotalBeforeDiscount,
                TotalAmount = inv.TotalAmount,
                ReceivedAmount = inv.ReceivedAmount,
                ChangeAmount = inv.ChangeAmount,
                PromotionId = inv.PromotionId,
                User = new UserResDto
                {
                    UserId = inv.User.UserId,
                    Username = inv.User.Username,
                    FullName = inv.User.FullName,
                    Email = inv.User.Email,
                    Role = inv.User.Role
                },
                InvoiceDetails = inv.InvoiceDetails.Select(d => new InvoiceDetailResDto
                {
                    ProductId = d.ProductId,
                    Quantity = d.Quantity,
                    UnitPrice = d.UnitPrice,
                    DiscountPerUnit = d.DiscountPerUnit,
                    PromotionId = d.PromotionId,
                    Product = new ProductDto
                    {
                        ProductId = d.Product.ProductId,
                        Name = d.Product.Name,
                        UnitPrice = d.Product.UnitPrice,
                    }
                }).ToList()
            }).ToList();

            return result;
        }
        public async Task<InvoiceResDto> SaveInvoice(InvoiceReqDto invoiceDto)
        {
            var invoiceDetails = new List<InvoiceDetail>();
            foreach (var detailDto in invoiceDto.InvoiceDetails)
            {
                var detail = new InvoiceDetail
                {
                    ProductId = detailDto.ProductId,
                    Quantity = detailDto.Quantity,
                    UnitPrice = detailDto.UnitPrice,
                    DiscountPerUnit = detailDto.DiscountPerUnit,
                    PromotionId = detailDto.PromotionId
                };
                invoiceDetails.Add(detail);
            }

            var invoice = new Invoice
            {
                UserId = 2,
                TotalBeforeDiscount = invoiceDto.TotalBeforeDiscount,
                TotalAmount = invoiceDto.TotalAmount,
                ReceivedAmount = invoiceDto.ReceivedAmount,
                ChangeAmount = invoiceDto.ChangeAmount,
                PromotionId = invoiceDto.PromotionId,
            };
            
            
            foreach (var detail in invoiceDetails)
            {
                invoice.InvoiceDetails.Add(detail);
            }

            var savedInvoice = await _repository.SaveInvoice(invoice);
            var result = new InvoiceResDto
            {
                UserId = savedInvoice.UserId,
                TotalBeforeDiscount = savedInvoice.TotalBeforeDiscount,
                TotalAmount = savedInvoice.TotalAmount,
                ReceivedAmount = savedInvoice.ReceivedAmount,
                ChangeAmount = savedInvoice.ChangeAmount,
                PromotionId = savedInvoice.PromotionId,
                User = new UserResDto
                {
                    UserId = savedInvoice.User.UserId,
                    Username = savedInvoice.User.Username,
                    FullName = savedInvoice.User.FullName,
                    Email = savedInvoice.User.Email,
                    Role = savedInvoice.User.Role
                },
                InvoiceDetails = savedInvoice.InvoiceDetails.Select(d => new InvoiceDetailResDto
                {
                    ProductId = d.ProductId,
                    Quantity = d.Quantity,
                    UnitPrice = d.UnitPrice,
                    DiscountPerUnit = d.DiscountPerUnit,
                    PromotionId = d.PromotionId,
                    Product = new ProductDto
                    {
                        ProductId = d.Product.ProductId,
                        Name = d.Product.Name,
                        UnitPrice = d.Product.UnitPrice,
                    }
                }).ToList()
            };

            return result;
        }
    }
}
</file>

<file path="MegaMarket.API/Services/Interfaces/IInvoiceService.cs">
using MegaMarket.API.DTOs.Invoice;
using MegaMarket.Data.Models;

namespace MegaMarket.API.Services.Interfaces
{
    public interface IInvoiceService
    {
        Task<List<InvoiceResDto>> GetAllInvoices();
        Task<InvoiceResDto> SaveInvoice(InvoiceReqDto invoiceDto);
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Sale/SalePage.razor">
@page "/sale"

@inject IHttpClientFactory HttpClientFactory
@using System.Globalization
@using MegaMarket.API.DTOs.Invoice
@using MegaMarket.API.DTOs.Products
@using MegaMarket.API.DTOs.Promotion
@using MegaMarket.Data.Models

<div class="checkout-container">
    <h2>Point Of Sale</h2>

    @if (!IsPaymentScreenVisible && LastCompletedInvoice == null)
    {
        <div class="product-list-area">
            <h3>Cart list</h3>
            <div class="product-list-header">
                <span class="col-name">Name</span>
                <span class="col-qty">Quantity</span>
                <span class="col-price">Unit Price</span>
                <span class="col-total">Total</span>
                <span class="col-action">Delete</span>
            </div>

            <div class="product-list">
                @if (CartItems.Any())
                {
                    @foreach (var item in CartItems)
                    {
                        <div class="product-item">
                            <span class="col-name">@item.Name</span>
                            <span class="col-qty">@item.Quantity</span>
                            <span class="col-price">@FormatCurrency(item.UnitPrice)</span>
                            <span class="col-total">@FormatCurrency(item.Total)</span>
                            <span class="col-action">
                                <button class="btn-delete" @onclick="() => RemoveItem(item.Barcode)">Delete</button>
                            </span>
                        </div>
                    }
                }
                else
                {
                    <p class="empty-cart">Empty cart.</p>
                }
            </div>

            <hr />

            <div class="total-area">
                <strong>Total amount:</strong>
                <span class="total-amount">@FormatCurrency(OriginalPrice)</span>
            </div>
        </div>

        <div class="input-keypad-area">
            <div class="input-form">
                <div class="input-group">
                    <label for="productCode">Barcode:</label>
                    <input id="productCode" @bind="InputProductCode"
                           placeholder="Input product's barcode" @onfocus="SetFocusToProductCode" />
                </div>

                <div class="input-group">
                    <label> Name:</label>
                    <span>@CurrentProductName</span>
                </div>

                <div class="input-group">
                    <label>Unit Price:</label>
                    <span class="display-price">@FormatCurrency(CurrentUnitPrice)</span>
                </div>

                <div class="input-group">
                    <label for="quantity">Quantity:</label>
                    <input id="quantity" @bind="InputQuantity" type="number" min="1"
                           placeholder="Số lượng" @onfocus="SetFocusToQuantity" />
                </div>

                <div class="input-group">
                    <button class="btn-add" @onclick="AddItem" disabled="@(CurrentUnitPrice == 0 || InputQuantity <= 0)">Add</button>
                </div>
            </div>

            <div class="numeric-keypad">
                <button @onclick="() => AppendToInput('7'.ToString())">7</button>
                <button @onclick="() => AppendToInput('8'.ToString())">8</button>
                <button @onclick="() => AppendToInput('9'.ToString())">9</button>

                <button @onclick="() => AppendToInput('4'.ToString())">4</button>
                <button @onclick="() => AppendToInput('5'.ToString())">5</button>
                <button @onclick="() => AppendToInput('6'.ToString())">6</button>

                <button @onclick="() => AppendToInput('1'.ToString())">1</button>
                <button @onclick="() => AppendToInput('2'.ToString())">2</button>
                <button @onclick="() => AppendToInput('3'.ToString())">3</button>

                <button @onclick="ClearLastInput">CE</button>
                <button @onclick="() => AppendToInput('0'.ToString())">0</button>
                <button @onclick="ClearAllInput">C</button>
            </div>
        </div>

        <hr />

        <div class="action-buttons">
            <button class="btn-primary" @onclick="Checkout" disabled="@(!CartItems.Any())">Checkout</button>
            <button class="btn-secondary" @onclick="CancelTransaction" disabled="@(!CartItems.Any())">Cancel</button>
        </div>
    }
    else if (LastCompletedInvoice == null)
    {
        <h2>Checkout detail</h2>

        <div class="payment-screen">
            <div class="payment-methods">
                <button class="@(SelectedPaymentMethod == PaymentMethod.Cash ? "active" : "")" @onclick="() => SetPaymentMethod(PaymentMethod.Cash)">Cash</button>
                <button class="@(SelectedPaymentMethod == PaymentMethod.BankTransfer ? "active" : "")" @onclick="() => SetPaymentMethod(PaymentMethod.BankTransfer)">Bank transfer</button>
                <button class="@(SelectedPaymentMethod == PaymentMethod.Card ? "active" : "")" @onclick="() => SetPaymentMethod(PaymentMethod.Card)">Card</button>
            </div>

            <div class="financial-summary">
                <div class="summary-row">
                    <span class="summary-label">Before discount:</span>
                    <span class="summary-value">@FormatCurrency(OriginalPrice)</span>
                </div>
                <div class="summary-row">
                    <span class="summary-label">Discount:</span>
                    <span class="summary-value negative">@FormatCurrency(DiscountAmountCalculated)</span>
                </div>
                <div class="summary-row">
                    <span class="summary-label">Round:</span>
                    <span class="summary-value">@FormatCurrency(RoundingAmount)</span>
                </div>

                <hr style="grid-column: 1 / -1; margin: 5px 0;" />

                <div class="summary-row">
                    <span class="summary-label"><strong>Amount to collect:</strong></span>
                    <span class="summary-value total negative">@FormatCurrency(AmountToCollect)</span>
                </div>

                <div class="summary-row">
                    <span class="summary-label">Collected:</span>
                    <span class="summary-value">@FormatCurrency(PaidAmountDisplay)</span>
                </div>

                <div class="summary-row">
                    <span class="summary-label">Amout missing:</span>
                    <span class="summary-value negative">@FormatCurrency(AmountMissing)</span>
                </div>

                <div class="summary-row">
                    <span class="summary-label">Change:</span>
                    <span class="summary-value positive">@FormatCurrency(ChangeAmount)</span>
                </div>
            </div>

            <div class="promo-details">
                <strong>Promotion detail:</strong>
                <ul>
                    @foreach (var detail in SelectedPromotion)
                    {
                        <li>@detail.Description</li>
					}
                </ul>
            </div>
        </div>

        @if (SelectedPaymentMethod == PaymentMethod.Cash)
        {
            <div class="input-keypad-area-center">
                <input id="amountPaid"
                       type="number"
                       value="@AmountPaid.ToString("N0", new CultureInfo("vi-VN"))"
                       @oninput="HandleAmountPaid" />

                <div class="numeric-keypad">
                    <button @onclick="() => CollectToInput('7'.ToString())">7</button>
                    <button @onclick="() => CollectToInput('8'.ToString())">8</button>
                    <button @onclick="() => CollectToInput('9'.ToString())">9</button>

                    <button @onclick="() => CollectToInput('4'.ToString())">4</button>
                    <button @onclick="() => CollectToInput('5'.ToString())">5</button>
                    <button @onclick="() => CollectToInput('6'.ToString())">6</button>

                    <button @onclick="() => CollectToInput('1'.ToString())">1</button>
                    <button @onclick="() => CollectToInput('2'.ToString())">2</button>
                    <button @onclick="() => CollectToInput('3'.ToString())">3</button>

                    <button @onclick="ClearLastInput">CE</button>
                    <button @onclick="() => CollectToInput('0'.ToString())">0</button>
                    <button @onclick="ClearAllInput">C</button>
                </div>
            </div>
        }

        <div class="action-buttons">
            <button class="btn-primary" @onclick="FinalizePayment" disabled="@(AmountMissing > 0)">Done</button>
            <button class="btn-secondary" @onclick="CancelPaymentScreen">Cancel</button>
        </div>
    }
    else if (LastCompletedInvoice != null)
    {
        <div class="invoice-completed-view">

            <div class="invoice-confirmation-panel">
                <h4>Invoice #@LastCompletedInvoice.InvoiceId completed!</h4>

                <div class="receipt-actions">
                    <button class="btn-primary" @onclick="PrintReceipt">🖨️ Print</button>
                    <button class="btn-success" @onclick="ResetToNewTransaction">⬅️ Back</button>
                </div>
            </div>

            <div class="receipt-preview-panel">
                <div class="print-content">
                    <div class="receipt-header">
                        <strong>HÓA ĐƠN SIÊU THỊ MAXIMART</strong><br />
                        <small>Địa chỉ: 123 Lê Lợi, TP.HCM</small>
                    </div>

                    <div class="receipt-divider"></div>

                    <div class="receipt-line"><span>Mã HĐ:</span> <span>#@LastCompletedInvoice.InvoiceId</span></div>
                    <div class="receipt-line"><span>Ngày:</span> <span>@LastCompletedInvoice.CreatedAt.ToString("dd/MM/yyyy HH:mm:ss")</span></div>
                    <div class="receipt-line"><span>NV:</span> <span>@LastCompletedInvoice.User.FullName</span></div>
                    <div class="receipt-line"><span>PTTT:</span> <span>@LastCompletedInvoice.PaymentMethod</span></div>

                    <div class="receipt-divider"></div>

                    @foreach (var detail in LastCompletedInvoice.InvoiceDetails)
                    {
                        var totalPerItem = detail.Quantity * detail.UnitPrice;
                        <div class="receipt-line">
                            <span style="max-width: 60%; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">@detail.Product.Name</span>
                            <span>@detail.Quantity x @FormatCurrency(detail.UnitPrice)</span>
                        </div>
                        <div class="receipt-line">
                            <span style="font-size: 0.8em; color: #6c757d;">KM: @FormatCurrency(detail.DiscountPerUnit)</span>
                            <span style="text-align: right;">@FormatCurrency(detail.Quantity * (detail.UnitPrice - detail.DiscountPerUnit))</span>
                        </div>
                    }

                    <div class="receipt-divider"></div>

                    <div class="receipt-line"><span>Tổng (trước KM):</span> <span>@FormatCurrency(LastCompletedInvoice.TotalBeforeDiscount)</span></div>
                    <div class="receipt-line"><span>Khuyến mãi:</span> <span class="negative">@FormatCurrency(LastCompletedInvoice.TotalBeforeDiscount - LastCompletedInvoice.TotalAmount)</span></div>
                    <div class="receipt-line receipt-total"><span>TỔNG CỘNG:</span> <span>@FormatCurrency(LastCompletedInvoice.TotalAmount)</span></div>

                    <div class="receipt-divider"></div>

                    <div class="receipt-line"><span>Khách trả:</span> <span>@FormatCurrency(LastCompletedInvoice.ReceivedAmount)</span></div>
                    <div class="receipt-line"><span>Tiền thừa:</span> <span class="positive">@FormatCurrency(LastCompletedInvoice.ChangeAmount)</span></div>

                    <div class="receipt-footer">
                        <p>Cảm ơn quý khách!</p>
                    </div>
                </div>
            </div>
        </div>
    }
</div>

@code {
    private List<ProductDto> Products = new List<ProductDto>();
    private Dictionary<string, ProductDto> ProductDB;
    private List<PromotionResDto> Promotions { get; set; } = new List<PromotionResDto>();
    private List<PromotionProductResDto> PromotionProducts = new List<PromotionProductResDto>();

    protected override async Task OnInitializedAsync()
    {
        try
        {
            var client = HttpClientFactory.CreateClient("MegaMarket.API");
            Products = await client.GetFromJsonAsync<List<ProductDto>>("api/Products") ?? new List<ProductDto>();
            Promotions = await client.GetFromJsonAsync<List<PromotionResDto>>("api/Promotion") ?? new List<PromotionResDto>();
            PromotionProducts = await client.GetFromJsonAsync<List<PromotionProductResDto>>("api/Promotion/PromotionProduct") ?? new List<PromotionProductResDto>();
            ProductDB = Products.ToDictionary(p => p.Barcode, p => p);
        }
        catch (Exception ex)
        {
            Console.Error.WriteLine($"Lỗi khi tải danh sách sản phẩm: {ex.Message}");
            Products = new List<ProductDto>();
            Promotions = new List<PromotionResDto>();
            PromotionProducts = new List<PromotionProductResDto>();
            ProductDB = new Dictionary<string, ProductDto>();
        }
    }


    // -----------------------------------------------------------------------
    // ENUM VÀ STATE (Trạng thái)
    // -----------------------------------------------------------------------

    public class CartItem
    {
        public int ProductId { get; set; }
        public string Barcode { get; set; } = string.Empty;
        public string Name { get; set; } = string.Empty;
        public int Quantity { get; set; }
        public decimal UnitPrice { get; set; }
        public decimal? DiscountPerUnit { get; set; } = 0;
        public decimal Total => Quantity * UnitPrice;
    }

    public enum PaymentMethod
    {
        Cash,
        BankTransfer,
        Card
    }

    private List<CartItem> CartItems = new List<CartItem>();
    private string InputProductCode { get; set; } = "";
    private string InputQuantityText { get; set; } = "1";
    private decimal CurrentUnitPrice { get; set; } = 0;
    private string CurrentProductName { get; set; } = "";
    private string CurrentFocusedInput { get; set; } = "ProductCode";

    // Trạng thái màn hình thanh toán
    private bool IsPaymentScreenVisible { get; set; } = false;
    private PaymentMethod SelectedPaymentMethod { get; set; } = PaymentMethod.Cash;
    private decimal AmountPaid { get; set; } = 0;
    private string AmountPaidInput { get; set; } = "";
    private List<PromotionResDto> SelectedPromotion = new List<PromotionResDto>();
    private Invoice? LastCompletedInvoice { get; set; }


    // -----------------------------------------------------------------------
    // CÁC THUỘC TÍNH TÍNH TOÁN
    // -----------------------------------------------------------------------

    private decimal TotalAmount => CartItems.Sum(item => item.Total);

    // Thuộc tính tính toán cho màn hình thanh toán
    private decimal OriginalPrice { get; set; } = 0;
    private decimal DiscountAmountCalculated { get; set; } = 0;
    private decimal AmountToCollect { get; set; } = 0;
    private decimal RoundingAmount { get; set; } = 0;

    private decimal AmountMissing => AmountToCollect - AmountPaid > 0 ? AmountToCollect - AmountPaid : 0;
    private decimal ChangeAmount => AmountPaid - AmountToCollect > 0 ? AmountPaid - AmountToCollect : 0;
    private decimal PaidAmountDisplay => AmountPaid;

    private int InputQuantity
    {
        get => int.TryParse(InputQuantityText, out var qty) && qty > 0 ? qty : 1;
        set => InputQuantityText = value.ToString();
    }

    // -----------------------------------------------------------------------
    // HÀM XỬ LÝ SỰ KIỆN
    // -----------------------------------------------------------------------

    [Inject]
    public IJSRuntime JSRuntime { get; set; } = default!;
    // Lấy khuyến mãi được chọn (nếu có)
    private void GetSelectedPromotion()
    {
        DateTime today = DateTime.Now;

        var result = Promotions.FirstOrDefault(p => p.StartDate <= today && p.EndDate >= today && p.Type.Equals("invoice", StringComparison.OrdinalIgnoreCase));
        if (result != null)
        {
            SelectedPromotion.Add(result);
        }
    }
    // Định dạng tiền tệ
    private string FormatCurrency(decimal amount)
    {
        var culture = new CultureInfo("vi-VN");
        // Hiển thị số 0 nếu giá trị âm hoặc null, ví dụ: Tiền thừa âm thì hiển thị 0
        if (amount < 0) return string.Format(culture, "-{0:N0} VNĐ", Math.Abs(amount));
        return string.Format(culture, "{0:N0} VNĐ", amount);
    }

    private void CalculateFinancialSummary()
    {
        OriginalPrice = CartItems.Sum(item => item.Total);

        if (SelectedPromotion != null && IsPaymentScreenVisible)
        {
            var sortedList = SelectedPromotion
            .OrderBy(p => p.Type.Equals("product", StringComparison.OrdinalIgnoreCase) ? 1 :
                          p.Type.Equals("invoice", StringComparison.OrdinalIgnoreCase) ? 2 :
            3)
            .ToList();
            foreach (var promo in sortedList)
            {
                if (promo.Type == "product")
                {
                    DiscountAmountCalculated += promo.DiscountValue;
                }
                else if (promo.Type == "invoice" && promo.DiscountType == "fixed")
                {
                    DiscountAmountCalculated += promo.DiscountValue;
                }
                else if (promo.Type == "invoice" && promo.DiscountType == "percent")
                {
                    DiscountAmountCalculated += OriginalPrice * (promo.DiscountValue / 100);
                }
            }
        }
        else
        {
            DiscountAmountCalculated = 0;
        }

        decimal amountBeforeRounding = OriginalPrice - DiscountAmountCalculated;

        // MOCK Làm tròn (Ví dụ: làm tròn xuống bội số 100 gần nhất)
        decimal rounded = Math.Floor(amountBeforeRounding / 100) * 100;

        RoundingAmount = amountBeforeRounding - rounded;
        AmountToCollect = rounded;

        // Nếu không phải tiền mặt, giả định đã thu bằng số cần thu
        if (IsPaymentScreenVisible && SelectedPaymentMethod != PaymentMethod.Cash)
        {
            AmountPaid = AmountToCollect;
        }
    }

    private void UpdateUnitPriceDisplay()
    {
        if (ProductDB.TryGetValue(InputProductCode, out var productInfo))
        {
            CurrentUnitPrice = productInfo.UnitPrice;
            CurrentProductName = productInfo.Name;
        }
        else
        {
            CurrentUnitPrice = 0;
            CurrentProductName = "";
        }
    }

    private void SetFocusToQuantity()
    {
        CurrentFocusedInput = "Quantity";
    }

    private void SetFocusToProductCode()
    {
        CurrentFocusedInput = "ProductCode";
    }

    private void AddItem()
    {
        UpdateUnitPriceDisplay();

        if (string.IsNullOrWhiteSpace(InputProductCode) || CurrentUnitPrice == 0 || InputQuantity <= 0)
        {
            Console.WriteLine("Lỗi: Vui lòng nhập mã sản phẩm hợp lệ và số lượng lớn hơn 0.");
            return;
        }

        var productInfo = ProductDB[InputProductCode];

        var existingItem = CartItems.FirstOrDefault(i => i.Barcode == InputProductCode);

        if (existingItem != null)
        {
            existingItem.Quantity += InputQuantity;
        }
        else
        {
            CartItems.Add(new CartItem
            {
				ProductId = productInfo.ProductId,
                Barcode = InputProductCode,
                Name = productInfo.Name,
                Quantity = InputQuantity,
                UnitPrice = productInfo.UnitPrice,
            });
        }

        // Reset inputs sau khi thêm
        InputProductCode = "";
        InputQuantityText = "1";
        CurrentUnitPrice = 0;
        CurrentProductName = "";
        CurrentFocusedInput = "ProductCode";

        CalculateFinancialSummary(); // <-- CẬP NHẬT TRẠNG THÁI TÀI CHÍNH
    }

    private void RemoveItem(string productId)
    {
        var itemToRemove = CartItems.FirstOrDefault(i => i.Barcode == productId);
        if (itemToRemove != null)
        {
            CartItems.Remove(itemToRemove);
            CalculateFinancialSummary(); // <-- CẬP NHẬT TRẠNG THÁI TÀI CHÍNH
        }
    }

    // Xử lý nút Thanh Toán cũ
    private void Checkout()
    {
        if (CartItems.Any())
        {
            IsPaymentScreenVisible = true;
            GetSelectedPromotion();
            foreach(var item in CartItems)
            {
                var query = PromotionProducts
                .Where(pp => pp.ProductId == item.ProductId)
                .Select(p => p.Promotion)
                .Where(p => p.StartDate <= DateTime.Today && p.EndDate >= DateTime.Today)
                .FirstOrDefault();

                // Console.WriteLine($"Kiểm tra khuyến mãi cho sản phẩm {item.Name}: {(query != null ? query : "Không có")}");
                if (query != null)
                {
                    SelectedPromotion.Add(query);
                }
            }

            foreach(var item in CartItems)
            {
                var applicablePromotion = SelectedPromotion
                    .Where(promo => promo.Type.Equals("product", StringComparison.OrdinalIgnoreCase))
                    .SelectMany(promo => promo.PromotionProducts)
                    // .Where(pp => pp.ProductId == item.ProductId)
                    // .Select(pp => pp.Promotion)
                    // .FirstOrDefault()
                    ;
				// Console.WriteLine($"Áp dụng khuyến mãi cho sản phẩm {item.Name}: {(applicablePromotion != null ? applicablePromotion.Description : "Không có")}");
                foreach(var promo in applicablePromotion)
                {
					Console.WriteLine($"Áp dụng khuyến mãi cho sản phẩm {item.Name}: {promo.ProductId}");
				}
    //             if (applicablePromotion != null)
    //             {
    //                 item.DiscountPerUnit = applicablePromotion.DiscountValue;
    //             }
    //             else
    //             {
    //                 item.DiscountPerUnit = 1;
				// }
            }

            CurrentFocusedInput = "AmountPaid";
            CalculateFinancialSummary(); // Tính toán lại số tiền lần cuối
            AmountPaidInput = "";
            AmountPaid = 0; // Gán tiền đã thu ban đầu bằng tiền cần thu

            // Nếu không phải tiền mặt, tự động set phương thức để trigger AmountPaid
            if (SelectedPaymentMethod != PaymentMethod.Cash)
            {
                SetPaymentMethod(SelectedPaymentMethod);
            }

            Console.WriteLine("Hiển thị màn hình thanh toán.");
        }
        else
        {
            Console.WriteLine("Lỗi: Giỏ hàng trống.");
        }
    }

    // Hàm mới: Hủy thanh toán trên màn hình thanh toán
    private void CancelPaymentScreen()
    {
		CurrentFocusedInput = "ProductCode";
        IsPaymentScreenVisible = false;
        AmountPaid = 0;
        SelectedPaymentMethod = PaymentMethod.Cash;
		SelectedPromotion.Clear();
		DiscountAmountCalculated = 0;
        Console.WriteLine("Hủy thanh toán, quay lại màn hình giỏ hàng.");
    }

    private InvoiceReqDto CreateCompletedInvoiceObject()
    {
        // Giả lập dữ liệu cần thiết cho Invoice
        var user = new User { UserId = 1, Username = "Lê Văn Tèo" }; // Giả lập thu ngân
        var customer = new Customer { CustomerId = 1, FullName = "Khách hàng" }; // Giả lập khách hàng

        // Tạo chi tiết hóa đơn từ CartItems
        var invoiceDetails = CartItems.Select(item =>
        {
            if (!ProductDB.TryGetValue(item.Barcode, out var productInfo))
            {
                Console.Error.WriteLine($"Lỗi: Không tìm thấy ProductId cho Barcode: {item.Barcode}");
                return null;
            }

            return new InvoiceDetailReqDto
            {
                ProductId = productInfo.ProductId,
                Quantity = item.Quantity,
                UnitPrice = item.UnitPrice,
				DiscountPerUnit = item.DiscountPerUnit ?? 2
            };
        })
        .Where(detail => detail != null)
        .ToList();

		var query = SelectedPromotion.FirstOrDefault(p => p.Type == "invoice");
        return new InvoiceReqDto
        {
            TotalBeforeDiscount = OriginalPrice,
            TotalAmount = AmountToCollect, // Số tiền sau KM và làm tròn
            PaymentMethod = SelectedPaymentMethod.ToString(),
            ReceivedAmount = AmountPaid,
            ChangeAmount = ChangeAmount,
            PromotionId = query.PromotionId,
            InvoiceDetails = invoiceDetails
        };
    }

    // Hàm mới: Hoàn tất thanh toán
    private async Task FinalizePayment()
    {
        if (AmountPaid >= AmountToCollect)
        {
            Console.WriteLine($"Giao dịch THÀNH CÔNG! Phương thức: {SelectedPaymentMethod}. Cần thu: {FormatCurrency(AmountToCollect)}. Khách trả: {FormatCurrency(AmountPaid)}. Tiền thừa: {FormatCurrency(ChangeAmount)}");
            var newInvoice = CreateCompletedInvoiceObject();
            var client = HttpClientFactory.CreateClient("MegaMarket.API");
            var response = await client.PostAsJsonAsync("api/Invoice", newInvoice);
            if (response.IsSuccessStatusCode)
            {
                LastCompletedInvoice = await response.Content.ReadFromJsonAsync<Invoice>();
                IsPaymentScreenVisible = false;
                Console.WriteLine($"Hóa đơn #{LastCompletedInvoice.InvoiceId} đã được lưu vào hệ thống.");
            }
            else
            {
                var errorContent = await response.Content.ReadAsStringAsync();
                Console.Error.WriteLine($"Lỗi khi lưu hóa đơn (Status: {response.StatusCode}): {errorContent}");
                return;
            }
        }
        else
        {
            Console.WriteLine("Lỗi: Số tiền đã thu không đủ để thanh toán.");
        }
    }

    private void ResetToNewTransaction()
    {
        // Dọn dẹp trạng thái
        CancelTransaction(); // Xóa giỏ hàng, reset input
		CurrentFocusedInput = "ProductCode";
        LastCompletedInvoice = null; // Trở về màn hình giỏ hàng
        IsPaymentScreenVisible = false;
		AmountPaidInput = "";
        AmountPaid = 0;
        SelectedPaymentMethod = PaymentMethod.Cash;
		SelectedPromotion.Clear();

        Console.WriteLine("Quay về giao dịch mới.");
    }

    private void SetPaymentMethod(PaymentMethod method)
    {
        SelectedPaymentMethod = method;
        if (method != PaymentMethod.Cash)
        {
            AmountPaid = AmountToCollect;
        }
        else
        {
            // Trở về mặc định số cần thu để dễ nhập liệu tiền thừa
            AmountPaid = 0;
        }
    }

    private void HandleAmountPaid(ChangeEventArgs e)
    {
        string value = e.Value?.ToString() ?? "0";
        // Loại bỏ ký tự phân cách hàng nghìn (dấu chấm)
        value = value.Replace(".", "").Replace(",", "");

        if (decimal.TryParse(value, out var amount))
        {
            AmountPaid = amount;
        }
        else
        {
            // Nếu nhập không hợp lệ, giữ nguyên giá trị cũ hoặc reset về 0
            AmountPaid = 0;
        }
    }

    // Xử lý nút Hủy Bỏ cũ (cho màn hình giỏ hàng)
    private void CancelTransaction()
    {
        CartItems.Clear();
        InputProductCode = "";
        InputQuantityText = "1";
        CurrentUnitPrice = 0;
        CurrentProductName = "";

        CalculateFinancialSummary(); // Reset lại số tiền

        Console.WriteLine("Giao dịch đã được hủy bỏ.");
    }

    // -----------------------------------------------------------------------
    // HÀM XỬ LÝ BÀN PHÍM SỐ (KHÔNG THAY ĐỔI)
    // -----------------------------------------------------------------------

    private void AppendToInput(string number)
    {
        if (CurrentFocusedInput == "ProductCode")
        {
            InputProductCode += number;
            UpdateUnitPriceDisplay();
        }
        else if (CurrentFocusedInput == "Quantity")
        {
            if (InputQuantityText == "0")
            {
                InputQuantityText = number;
            }
            else
            {
                InputQuantityText += number;
            }
        }
    }

    private void CollectToInput(string number)
    {
        AmountPaidInput += number;
        AmountPaid = Convert.ToDecimal(AmountPaidInput);
    }

    private void ClearLastInput()
    {
        if (CurrentFocusedInput == "ProductCode" && InputProductCode.Length > 0)
        {
            InputProductCode = InputProductCode.Substring(0, InputProductCode.Length - 1);
            UpdateUnitPriceDisplay();
        }
        else if (CurrentFocusedInput == "Quantity" && InputQuantityText.Length > 0)
        {
            InputQuantityText = InputQuantityText.Substring(0, InputQuantityText.Length - 1);
            if (string.IsNullOrWhiteSpace(InputQuantityText)) InputQuantityText = "1";
        }
		else if (CurrentFocusedInput == "AmountPaid" && AmountPaidInput.Length > 0)
        {
            AmountPaidInput = AmountPaidInput.Substring(0, AmountPaidInput.Length - 1);
            AmountPaid = string.IsNullOrWhiteSpace(AmountPaidInput) ? 0 : Convert.ToDecimal(AmountPaidInput);
		}
    }

    private void ClearAllInput()
    {
        if (CurrentFocusedInput == "ProductCode")
        {
            InputProductCode = "";
            CurrentUnitPrice = 0;
            CurrentProductName = "";
        }
        else if (CurrentFocusedInput == "Quantity")
        {
            InputQuantityText = "1";
        }
		else if (CurrentFocusedInput == "AmountPaid")
        {
            AmountPaidInput = "";
			AmountPaid = 0;
        }
    }

    private async Task PrintReceipt()
    {
        if (LastCompletedInvoice == null) return;

        // **Lưu ý:** Cần CSS media print để chỉ in phần hóa đơn
        await JSRuntime.InvokeVoidAsync("alert", $"Đang gửi lệnh in hóa đơn #{LastCompletedInvoice.InvoiceId}");

        // Giả lập lệnh in
        // await JSRuntime.InvokeVoidAsync("window.print");
    }
}
</file>

<file path="MegaMarket.Data/Repositories/CustomerRewardRepository.cs">
using MegaMarket.Data;
using MegaMarket.Data.Data;
using MegaMarket.Data.Models;
using Microsoft.EntityFrameworkCore;

public class CustomerRewardRepository : ICustomerRewardRepository
{
    private readonly MegaMarketDbContext _context;

    public CustomerRewardRepository(MegaMarketDbContext context)
    {
        _context = context;
    }

    // get all customer rewards with optional filtering by status and customerId
    public async Task<IEnumerable<CustomerReward>> GetAllAsync(string? status, int? customerId)
    {
        var query = _context.CustomerRewards
            .Include(cr => cr.Customer)
            .Include(cr => cr.Reward)
            .Include(cr => cr.Invoice)
            .AsQueryable();

        if (!string.IsNullOrWhiteSpace(status))
            query = query.Where(cr => cr.Status == status);

        if (customerId.HasValue)
            query = query.Where(cr => cr.CustomerId == customerId.Value);

        return await query
            .OrderByDescending(x => x.RedeemedAt)
            .ToListAsync();
    }

    // get customer rewards by customer id
    public async Task<IEnumerable<CustomerReward>> GetByCustomerIdAsync(int customerId)
    {
        return await _context.CustomerRewards
            .Include(cr => cr.Customer)
            .Include(cr => cr.Reward)
            .Include(cr => cr.Invoice)
            .Where(cr => cr.CustomerId == customerId)
            .OrderByDescending(cr => cr.RedeemedAt)
            .ToListAsync();
    }

    // get customer reward by id
    public async Task<CustomerReward?> GetCustomerRewardByIdAsync(int id)
    {
        return await _context.CustomerRewards
            .Include(cr => cr.Customer)
            .Include(cr => cr.Reward)
            .Include(cr => cr.Invoice)
            .FirstOrDefaultAsync(cr => cr.RedemptionId == id);
    }


    // update status of customer reward
    public async Task<CustomerReward> UpdateCustomerRewardAsync(CustomerReward reward)
    {
        _context.CustomerRewards.Update(reward);
        await _context.SaveChangesAsync();
        return reward;
    }

    // claim reward: Pending → Claimed (Voucher) hoặc Pending → Used (Gift)
    public async Task<CustomerReward> ClaimRewardAsync(int id)
    {
        var reward = await GetCustomerRewardByIdAsync(id);
        if (reward == null)
            throw new Exception("Reward not found.");

        // Only pending rewards can be claimed
        if (reward.Status != "Pending")
            throw new Exception($"Reward must be in 'Pending' status. Current status: {reward.Status}");

        // Nếu là Gift → tự động chuyển sang Used (vì đã nhận vật rồi)
        // Nếu là Voucher → chuyển sang Claimed (chờ áp dụng)
        if (reward.Reward.RewardType == "Gift")
        {
            reward.Status = "Used";
            reward.UsedAt = DateTime.Now;
        }
        else if (reward.Reward.RewardType == "Voucher" || reward.Reward.RewardType == "Discount")
        {
            reward.Status = "Claimed";
        }

        await UpdateCustomerRewardAsync(reward);
        return reward;
    }

    // delete customer reward by id and add again point for customer
    public async Task DeleteCustomerRewardAsync(int id)
    {
        var reward = await _context.CustomerRewards.FindAsync(id);
        if (reward != null)
        {
            _context.CustomerRewards.Remove(reward);
            await _context.SaveChangesAsync();
        }
    }

    // redeem reward with transaction: deduct points, reduce reward quantity, create CustomerReward and PointTransaction
    public async Task<CustomerReward> RedeemRewardAsync(int customerId, int rewardId, int? invoiceId, int pointCost)
    {
        using (var transaction = await _context.Database.BeginTransactionAsync())
        {
            try
            {
                // ① Trừ điểm khách hàng
                var customer = await _context.Customers.FindAsync(customerId);
                if (customer == null)
                    throw new Exception("Customer not found.");
                
                customer.Points -= pointCost;
                _context.Customers.Update(customer);

                // ② Giảm quantity_available của reward
                var reward = await _context.Rewards.FindAsync(rewardId);
                if (reward == null)
                    throw new Exception("Reward not found.");
                
                reward.QuantityAvailable -= 1;
                _context.Rewards.Update(reward);

                // ③ Thêm bản ghi CustomerRewards với status = "Pending"
                var customerReward = new CustomerReward
                {
                    CustomerId = customerId,
                    RewardId = rewardId,
                    InvoiceId = invoiceId,
                    RedeemedAt = DateTime.Now,
                    Status = "Pending"
                };
                _context.CustomerRewards.Add(customerReward);

                // ④ Thêm bản ghi PointTransaction với transaction_type = "Redeem"
                var pointTransaction = new PointTransaction
                {
                    CustomerId = customerId,
                    InvoiceId = invoiceId,
                    PointChange = -pointCost,
                    TransactionType = "Redeem",
                    CreatedAt = DateTime.Now,
                    Description = $"Redeemed reward: {reward.Name}"
                };
                _context.PointTransactions.Add(pointTransaction);

                // Save all changes
                await _context.SaveChangesAsync();

                // Commit transaction
                await transaction.CommitAsync();

                return customerReward;
            }
            catch (Exception ex)
            {
                await transaction.RollbackAsync();
                throw new Exception($"Error redeeming reward: {ex.Message}", ex);
            }
        }
    }
}
</file>

<file path="MegaMarket.Data/Repositories/ICustomerRewardRepository.cs">
using MegaMarket.Data.Models;
public interface ICustomerRewardRepository
{
    // get all customer rewards with optional filters( status, customerId)
    Task<IEnumerable<CustomerReward>> GetAllAsync(string? status, int? customerId);

    // get customer rewards by customerId
    Task<IEnumerable<CustomerReward>> GetByCustomerIdAsync(int customerId);

    // get customer reward by id
    Task<CustomerReward?> GetCustomerRewardByIdAsync(int id);

    // update status of customer reward
    Task<CustomerReward> UpdateCustomerRewardAsync(CustomerReward reward);

    // claim reward: Pending → Claimed
    Task<CustomerReward> ClaimRewardAsync(int id);

    // delete customer reward by id and add again point for customer
    Task DeleteCustomerRewardAsync(int id);

    // redeem reward with transaction: deduct points, reduce reward quantity, create CustomerReward and PointTransaction
    Task<CustomerReward> RedeemRewardAsync(int customerId, int rewardId, int? invoiceId, int pointCost);
}
</file>

<file path="MegaMarket.API/appsettings.json">
{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "Jwt": {
    "Key": "MegaMarket-Super-Secret-Key-2024-Minimum-32-Characters!",
    "Issuer": "MegaMarket",
    "Audience": "MegaMarket"
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "DefaultConnection": "Server=.\\SQLEXPRESS;Database=MegaMarket;Trusted_Connection=True;TrustServerCertificate=True"
  },
  "AllowedCorsOrigins": [
    "https://localhost:7168",
    "http://localhost:5023",
    "https://localhost:5023"
  ]



}
</file>

<file path="MegaMarket.API/Controllers/PromotionController.cs">
using MegaMarket.API.DTOs.Promotion;
using MegaMarket.API.Services.Interfaces;
using Microsoft.AspNetCore.Mvc;

namespace MegaMarket.API.Controllers
{
    [Route("api/[controller]")]
    [ApiController]
    public class PromotionController : ControllerBase
    {
        private readonly IPromotionService _service;
        public PromotionController(IPromotionService service)
        {
            _service = service;
        }
        // Controller methods for Promotion entity
        [HttpGet]
        public async Task<ActionResult> GetAllPromotions()
        {
            try
            {
                var promotions = await _service.GetAllPromotions();
                return Ok(promotions);
            }
            catch
            {
                return BadRequest(ModelState);
            }
        }

        [HttpPost]
        public async Task<ActionResult> CreatePromotion([FromBody] PromotionReqDto promotionDto)
        {
            try
            {
                var createdPromotion = await _service.CreatePromotion(promotionDto);
                return Ok(createdPromotion);
            }
            catch
            {
                return BadRequest(ModelState);
            }
        }

        [HttpPut("{promotionId}")]
        public async Task<ActionResult> UpdatePromotion(int promotionId, [FromBody] PromotionReqDto promotionDto)
        {
            try
            {
                var updatedPromotion = await _service.UpdatePromotion(promotionId, promotionDto);
                return Ok(updatedPromotion);
            }
            catch
            {
                return BadRequest(ModelState);
            }
        }

        [HttpDelete("{promotionId}")]
        public async Task<ActionResult> DeletePromotion(int promotionId)
        {
            try
            {
                await _service.DeletePromotion(promotionId);
                return Ok("Promotion deleted successfully");
            }
            catch
            {
                return BadRequest(ModelState);
            }
        }

        [HttpGet("PromotionProduct")]
        public async Task<ActionResult> GetAllPromotionProducts()
        {
            try
            {
                var promotionProducts = await _service.GetAllPromotionProducts();
                return Ok(promotionProducts);
            }
            catch
            {
                return BadRequest(ModelState);
            }
        }
    }
}
</file>

<file path="MegaMarket.API/Services/Interfaces/IPromotionService.cs">
using MegaMarket.API.DTOs.Promotion;
using MegaMarket.Data.Models;

namespace MegaMarket.API.Services.Interfaces
{
    public interface IPromotionService
    {
        Task<List<PromotionResDto>> GetAllPromotions();
        Task<PromotionResDto> CreatePromotion(PromotionReqDto promotionDto);
        Task<PromotionResDto> UpdatePromotion(int promotionId, PromotionReqDto promotionDto);
        Task DeletePromotion(int promotionId);
        Task<List<PromotionProductResDto>> GetAllPromotionProducts();
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Auth/Login.razor">
@page "/login"
@layout AuthLayout
@inject IHttpClientFactory HttpClientFactory
@inject AuthService AuthService
@inject NavigationManager NavigationManager

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div class="card border-0 shadow-sm login-card">
                <div class="card-body p-4">
                    <div class="text-center mb-4">
                        <h2 class="text-gradient">🏪 MegaMarket</h2>
                    </div>

                    @if (!string.IsNullOrEmpty(errorMessage))
                    {
                        <div class="alert alert-danger alert-dismissible fade show">
                            <strong>⚠️ Login Failed:</strong> @errorMessage
                            <button type="button" class="btn-close" @onclick="ClearError"></button>
                        </div>
                    }

                    <EditForm Model="loginModel" OnValidSubmit="HandleLogin">
                        <DataAnnotationsValidator />

                        <div class="mb-3">
                            <label for="username" class="form-label">Username</label>
                            <InputText id="username" class="form-control" @bind-Value="loginModel.Username" placeholder="Enter your username" />
                            <ValidationMessage For="@(() => loginModel.Username)" />
                        </div>

                        <div class="mb-3">
                            <label for="password" class="form-label">Password</label>
                            <InputText id="password" type="password" class="form-control" @bind-Value="loginModel.Password" placeholder="Enter your password" />
                            <ValidationMessage For="@(() => loginModel.Password)" />
                        </div>

                        <div class="d-grid gap-2 mt-4">
                            <button type="submit" class="btn btn-primary btn-lg" disabled="@isLoading">
                                @if (isLoading)
                                {
                                    <span class="spinner-border spinner-border-sm me-2"></span>
                                    <span>Logging in...</span>
                                }
                                else
                                {
                                    <span>Login</span>
                                }
                            </button>
                        </div>
                    </EditForm>

                    <div class="mt-4 text-center">
                        <small class="text-muted">
                            <strong>Test Credentials:</strong><br/>
                            Admin: admin / Password123!<br/>
                            Manager: john.manager / Password123!<br/>
                            Cashier: sarah.cashier / Password123!<br/>
                            Warehouse: mike.warehouse / Password123!
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    private LoginModel loginModel = new();
    private bool isLoading = false;
    private string? errorMessage;

    private async Task HandleLogin()
    {
        try
        {
            isLoading = true;
            errorMessage = null;

            // REST API Login Request
            var httpClient = HttpClientFactory.CreateClient("MegaMarket.API");
            var response = await httpClient.PostAsJsonAsync("api/users/login", new
            {
                username = loginModel.Username,
                password = loginModel.Password
            });

            if (response.IsSuccessStatusCode)
            {
                var loginResult = await response.Content.ReadFromJsonAsync<LoginResult>();

                if (loginResult != null)
                {
                    // Store authentication info
                    await AuthService.LoginAsync(
                        loginResult.Token,
                        loginResult.UserId.ToString(),
                        loginResult.Username,
                        loginResult.FullName,
                        loginResult.Role,
                        loginResult.ExpiresAt
                    );

                    // Redirect based on role
                    var redirectUrl = loginResult.Role switch
                    {
                        "Admin" => "/admin/dashboard",
                        "Manager" => "/manager/dashboard",
                        "Cashier" => "/cashier/dashboard",
                        "Warehouse" => "/warehouse/dashboard",
                        _ => "/employee/dashboard"
                    };
                    NavigationManager.NavigateTo(redirectUrl);
                }
                else
                {
                    errorMessage = "Login failed. Invalid response from server.";
                }
            }
            else if (response.StatusCode == System.Net.HttpStatusCode.Unauthorized)
            {
                errorMessage = "Invalid username or password";
            }
            else
            {
                var content = await response.Content.ReadFromJsonAsync<ErrorResponse>();
                errorMessage = content?.Message ?? "Login failed. Please try again.";
            }
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Login error: {ex.GetType().Name} - {ex.Message}");
            Console.WriteLine($"Stack trace: {ex.StackTrace}");
            errorMessage = $"Login error: {ex.Message}";
        }
        finally
        {
            isLoading = false;
        }
    }

    private void ClearError()
    {
        errorMessage = null;
    }

    public class LoginModel
    {
        [Required(ErrorMessage = "Username is required")]
        public string Username { get; set; } = string.Empty;

        [Required(ErrorMessage = "Password is required")]
        public string Password { get; set; } = string.Empty;
    }

    public class LoginResult
    {
        [System.Text.Json.Serialization.JsonPropertyName("token")]
        public string Token { get; set; } = string.Empty;

        [System.Text.Json.Serialization.JsonPropertyName("userId")]
        public int UserId { get; set; }

        [System.Text.Json.Serialization.JsonPropertyName("username")]
        public string Username { get; set; } = string.Empty;

        [System.Text.Json.Serialization.JsonPropertyName("fullName")]
        public string FullName { get; set; } = string.Empty;

        [System.Text.Json.Serialization.JsonPropertyName("role")]
        public string Role { get; set; } = string.Empty;

        [System.Text.Json.Serialization.JsonPropertyName("expiresAt")]
        public DateTime ExpiresAt { get; set; }
    }

    public class ErrorResponse
    {
        [System.Text.Json.Serialization.JsonPropertyName("message")]
        public string? Message { get; set; }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Dashboards/EmployeeDashboard.razor">
@page "/employee/dashboard"
@attribute [Authorize(Roles = "Employee")]
@inject Services.Dashboard.DashboardApiClient DashboardApiClient
@inject AuthenticationStateProvider AuthStateProvider
@using MegaMarket.BlazorUI.Models.Dashboard
@using ApexCharts

<div class="container-fluid mt-4">
    @* Header *@
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="text-gradient mb-1">Employee Dashboard</h2>
            <p class="text-muted mb-0">Sales and inventory overview</p>
        </div>
        <DateRangeSelector SelectedRange="@selectedRange" OnRangeChanged="@HandleRangeChanged" />
    </div>

    @* Error Message *@
    @if (!string.IsNullOrEmpty(globalErrorMessage))
    {
        <ErrorAlert ErrorMessage="@globalErrorMessage" OnDismiss="@(() => globalErrorMessage = null)" />
    }

    @* ==================== SALES ANALYTICS ==================== *@
    <div class="mb-5">
        <h4 class="mb-3">
            <span class="bi bi-graph-up me-2"></span>Sales & Revenue Overview
        </h4>

        <DashboardSection IsLoading="@isSalesLoading"
                          ErrorMessage="@salesErrorMessage"
                          ShowRetryButton="true"
                          OnRetry="@LoadSalesDashboard">
            @if (salesData != null)
            {
                @* Revenue Stats Row *@
                <div class="row mb-4">
                    <div class="col-md-4">
                        <StatsCard
                            Title="Total Revenue"
                            Value="@($"${salesData.TotalRevenue:N2}")"
                            SubLabel="@GetDateRangeLabel()"
                            Color="success" />
                    </div>
                    <div class="col-md-4">
                        <StatsCard
                            Title="Total Invoices"
                            Value="@salesData.TotalInvoices.ToString("N0")"
                            SubLabel="Completed orders"
                            Color="primary" />
                    </div>
                    <div class="col-md-4">
                        <StatsCard
                            Title="Average Order Value"
                            Value="@($"${salesData.AverageOrderValue:N2}")"
                            SubLabel="Per invoice"
                            Color="info" />
                    </div>
                </div>

                @* Charts Row *@
                <div class="row mb-4">
                    @* Revenue Trend Chart *@
                    <div class="col-lg-8 mb-3">
                        <ChartCard Title="Revenue Trend" Subtitle="@GetDateRangeLabel()" Height="350px">
                            @if (salesData.RevenueTrend.Any())
                            {
                                <ApexChart TItem="RevenueTrendDto"
                                           Title="Revenue Over Time"
                                           Options="@revenueTrendOptions">
                                    <ApexPointSeries TItem="RevenueTrendDto"
                                                     Items="@salesData.RevenueTrend"
                                                     Name="Revenue"
                                                     SeriesType="SeriesType.Area"
                                                     XValue="@(e => e.Date)"
                                                     YAggregate="@(e => (decimal?)e.Sum(f => f.Revenue))"
                                                     OrderBy="e => e.X" />
                                </ApexChart>
                            }
                            else
                            {
                                <div class="d-flex align-items-center justify-content-center h-100">
                                    <p class="text-muted">No revenue data available</p>
                                </div>
                            }
                        </ChartCard>
                    </div>

                    @* Payment Method Breakdown *@
                    <div class="col-lg-4 mb-3">
                        <ChartCard Title="Payment Methods" Subtitle="Revenue distribution" Height="350px">
                            @if (salesData.RevenueByPaymentMethod.Any())
                            {
                                <ApexChart TItem="RevenueByPaymentMethodDto"
                                           Options="@paymentMethodOptions">
                                    <ApexPointSeries TItem="RevenueByPaymentMethodDto"
                                                     Items="@salesData.RevenueByPaymentMethod"
                                                     Name="Revenue"
                                                     SeriesType="SeriesType.Pie"
                                                     XValue="@(e => e.PaymentMethod)"
                                                     YAggregate="@(e => (decimal?)e.Sum(f => f.Revenue))" />
                                </ApexChart>
                            }
                            else
                            {
                                <div class="d-flex align-items-center justify-content-center h-100">
                                    <p class="text-muted">No payment data available</p>
                                </div>
                            }
                        </ChartCard>
                    </div>
                </div>

                @* Top Selling Products *@
                <div class="card border-0 shadow-sm">
                    <div class="card-header bg-white">
                        <h5 class="mb-0">
                            <span class="bi bi-star me-2"></span>Top Selling Products
                        </h5>
                    </div>
                    <div class="card-body">
                        @if (salesData.TopSellingProducts.Any())
                        {
                            <div class="table-responsive">
                                <table class="table table-hover align-middle mb-0">
                                    <thead>
                                        <tr>
                                            <th>Product</th>
                                            <th class="text-end">Quantity Sold</th>
                                            <th class="text-end">Revenue</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var product in salesData.TopSellingProducts.Take(10))
                                        {
                                            <tr>
                                                <td>
                                                    <strong>@product.ProductName</strong>
                                                    <br />
                                                    <small class="text-muted">ID: @product.ProductId</small>
                                                </td>
                                                <td class="text-end">
                                                    <span class="badge bg-primary">@product.QuantitySold.ToString("N0")</span>
                                                </td>
                                                <td class="text-end">
                                                    <strong class="text-success">$@product.Revenue.ToString("N2")</strong>
                                                </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        }
                        else
                        {
                            <p class="text-muted mb-0">No sales data available</p>
                        }
                    </div>
                </div>
            }
        </DashboardSection>
    </div>

    @* ==================== INVENTORY ANALYTICS ==================== *@
    <div class="mb-5">
        <h4 class="mb-3">
            <span class="bi bi-box-seam me-2"></span>Inventory & Stock Overview
        </h4>

        <DashboardSection IsLoading="@isInventoryLoading"
                          ErrorMessage="@inventoryErrorMessage"
                          ShowRetryButton="true"
                          OnRetry="@LoadInventoryDashboard">
            @if (inventoryData != null)
            {
                @* Inventory Stats Row *@
                <div class="row mb-4">
                    <div class="col-md-3">
                        <StatsCard
                            Title="Total Products"
                            Value="@inventoryData.TotalProducts.ToString("N0")"
                            SubLabel="In catalog"
                            Color="primary" />
                    </div>
                    <div class="col-md-3">
                        <StatsCard
                            Title="Categories"
                            Value="@inventoryData.TotalCategories.ToString("N0")"
                            SubLabel="Product categories"
                            Color="info" />
                    </div>
                    <div class="col-md-3">
                        <StatsCard
                            Title="Low Stock Items"
                            Value="@inventoryData.LowStockCount.ToString("N0")"
                            SubLabel="Need attention"
                            Color="warning" />
                    </div>
                    <div class="col-md-3">
                        <StatsCard
                            Title="Out of Stock"
                            Value="@inventoryData.OutOfStockCount.ToString("N0")"
                            SubLabel="Urgent restock"
                            Color="danger" />
                    </div>
                </div>

                @* Stock by Category Chart *@
                <div class="row mb-4">
                    <div class="col-12">
                        <ChartCard Title="Stock by Category" Subtitle="Inventory distribution" Height="300px">
                            @if (inventoryData.StockByCategory.Any())
                            {
                                <ApexChart TItem="CategoryStockDto"
                                           Options="@categoryStockOptions">
                                    <ApexPointSeries TItem="CategoryStockDto"
                                                     Items="@inventoryData.StockByCategory"
                                                     Name="Quantity"
                                                     SeriesType="SeriesType.Bar"
                                                     XValue="@(e => e.CategoryName)"
                                                     YAggregate="@(e => e.Sum(f => f.TotalQuantity))"
                                                     OrderByDescending="e => e.Y" />
                                </ApexChart>
                            }
                            else
                            {
                                <div class="d-flex align-items-center justify-content-center h-100">
                                    <p class="text-muted">No category data available</p>
                                </div>
                            }
                        </ChartCard>
                    </div>
                </div>

                @* Alerts Row *@
                <div class="row">
                    @* Low Stock Products *@
                    <div class="col-lg-6 mb-3">
                        <div class="card border-0 shadow-sm">
                            <div class="card-header bg-warning text-dark">
                                <h5 class="mb-0">
                                    <span class="bi bi-exclamation-triangle me-2"></span>Low Stock Alert
                                </h5>
                            </div>
                            <div class="card-body">
                                @if (inventoryData.LowStockProducts.Any())
                                {
                                    <div class="list-group list-group-flush">
                                        @foreach (var product in inventoryData.LowStockProducts.Take(8))
                                        {
                                            <div class="list-group-item px-0">
                                                <div class="d-flex justify-content-between">
                                                    <div>
                                                        <strong>@product.ProductName</strong>
                                                        <br />
                                                        <small class="text-muted">@product.CategoryName</small>
                                                    </div>
                                                    <div class="text-end">
                                                        <span class="badge bg-danger">@product.CurrentStock / @product.MinimumStock</span>
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                    </div>
                                    @if (inventoryData.LowStockProducts.Count > 8)
                                    {
                                        <div class="text-center mt-2">
                                            <small class="text-muted">And @(inventoryData.LowStockProducts.Count - 8) more items...</small>
                                        </div>
                                    }
                                }
                                else
                                {
                                    <p class="text-muted mb-0">All products are well stocked!</p>
                                }
                            </div>
                        </div>
                    </div>

                    @* Expiring Products *@
                    <div class="col-lg-6 mb-3">
                        <div class="card border-0 shadow-sm">
                            <div class="card-header bg-danger text-white">
                                <h5 class="mb-0">
                                    <span class="bi bi-calendar-x me-2"></span>Expiring Soon
                                </h5>
                            </div>
                            <div class="card-body">
                                @if (inventoryData.ExpiringProducts.Any())
                                {
                                    <div class="list-group list-group-flush">
                                        @foreach (var product in inventoryData.ExpiringProducts.Take(8))
                                        {
                                            <div class="list-group-item px-0">
                                                <div class="d-flex justify-content-between">
                                                    <div>
                                                        <strong>@product.ProductName</strong>
                                                        <br />
                                                        <small class="text-muted">Qty: @product.Quantity</small>
                                                    </div>
                                                    <div class="text-end">
                                                        <div class="badge bg-danger">@product.DaysUntilExpiry days</div>
                                                        <br />
                                                        <small class="text-muted">@product.ExpiryDate.ToString("MMM dd")</small>
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                    </div>
                                    @if (inventoryData.ExpiringProducts.Count > 8)
                                    {
                                        <div class="text-center mt-2">
                                            <small class="text-muted">And @(inventoryData.ExpiringProducts.Count - 8) more items...</small>
                                        </div>
                                    }
                                }
                                else
                                {
                                    <p class="text-muted mb-0">No products expiring soon</p>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            }
        </DashboardSection>
    </div>

    @* ==================== PERSONAL PERFORMANCE INSIGHTS ==================== *@
    <div class="mb-5">
        <h4 class="mb-3">
            <span class="bi bi-trophy me-2"></span>My Performance Insights
        </h4>

        <DashboardSection IsLoading="@isAttendanceLoading"
                          ErrorMessage="@attendanceErrorMessage"
                          ShowRetryButton="true"
                          OnRetry="@LoadAttendanceStatistics">
            @if (attendanceData != null)
            {
                @* Performance Stats Row *@
                <div class="row mb-4">
                    <div class="col-md-3">
                        <StatsCard
                            Title="Total Working Days"
                            Value="@attendanceData.TotalWorkingDays.ToString("N0")"
                            SubLabel="@GetDateRangeLabel()"
                            Color="primary" />
                    </div>
                    <div class="col-md-3">
                        <StatsCard
                            Title="Attended Days"
                            Value="@attendanceData.AttendedDays.ToString("N0")"
                            SubLabel="Present at work"
                            Color="success" />
                    </div>
                    <div class="col-md-3">
                        <StatsCard
                            Title="Absent Days"
                            Value="@attendanceData.AbsentDays.ToString("N0")"
                            SubLabel="Days missed"
                            Color="danger" />
                    </div>
                    <div class="col-md-3">
                        <StatsCard
                            Title="Late Days"
                            Value="@attendanceData.LateDays.ToString("N0")"
                            SubLabel="Late arrivals"
                            Color="warning" />
                    </div>
                </div>

                @* Attendance Rate Card *@
                <div class="row">
                    <div class="col-12">
                        <div class="card border-0 shadow-sm">
                            <div class="card-header bg-white">
                                <h5 class="mb-0">
                                    <span class="bi bi-graph-up me-2"></span>Attendance Performance
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="row align-items-center">
                                    <div class="col-md-6">
                                        <div class="text-center p-4">
                                            <div class="mb-3">
                                                <h1 class="display-3 mb-0 @GetAttendanceRateColor(attendanceData.AttendanceRate)">
                                                    @attendanceData.AttendanceRate.ToString("F1")%
                                                </h1>
                                                <p class="text-muted mb-0">Attendance Rate</p>
                                            </div>
                                            <div class="progress" style="height: 30px;">
                                                <div class="progress-bar @GetAttendanceRateColorClass(attendanceData.AttendanceRate)"
                                                     role="progressbar"
                                                     style="width: @attendanceData.AttendanceRate%">
                                                    @attendanceData.AttendanceRate.ToString("F1")%
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="p-3">
                                            <h6 class="mb-3">Performance Summary</h6>
                                            <ul class="list-unstyled mb-0">
                                                <li class="mb-2">
                                                    <span class="bi bi-check-circle text-success me-2"></span>
                                                    <strong>@attendanceData.AttendedDays</strong> days attended out of <strong>@attendanceData.TotalWorkingDays</strong>
                                                </li>
                                                <li class="mb-2">
                                                    <span class="bi bi-x-circle text-danger me-2"></span>
                                                    <strong>@attendanceData.AbsentDays</strong> days absent
                                                </li>
                                                <li class="mb-2">
                                                    <span class="bi bi-clock text-warning me-2"></span>
                                                    <strong>@attendanceData.LateDays</strong> late arrivals
                                                </li>
                                                <li class="mt-3">
                                                    @if (attendanceData.AttendanceRate >= 95)
                                                    {
                                                        <span class="badge bg-success p-2">
                                                            <span class="bi bi-trophy me-1"></span>
                                                            Excellent Performance!
                                                        </span>
                                                    }
                                                    else if (attendanceData.AttendanceRate >= 90)
                                                    {
                                                        <span class="badge bg-success p-2">
                                                            <span class="bi bi-star me-1"></span>
                                                            Great Work!
                                                        </span>
                                                    }
                                                    else if (attendanceData.AttendanceRate >= 75)
                                                    {
                                                        <span class="badge bg-warning p-2">
                                                            <span class="bi bi-info-circle me-1"></span>
                                                            Keep It Up!
                                                        </span>
                                                    }
                                                    else
                                                    {
                                                        <span class="badge bg-danger p-2">
                                                            <span class="bi bi-exclamation-triangle me-1"></span>
                                                            Needs Improvement
                                                        </span>
                                                    }
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </DashboardSection>
    </div>
</div>

@code {
    // State
    private DateRangeEnum selectedRange = DateRangeEnum.Today;
    private string? globalErrorMessage;

    // Sales Data
    private bool isSalesLoading = true;
    private string? salesErrorMessage;
    private SalesDashboardDto? salesData;

    // Inventory Data
    private bool isInventoryLoading = true;
    private string? inventoryErrorMessage;
    private InventoryDashboardDto? inventoryData;

    // Attendance Data
    private bool isAttendanceLoading = true;
    private string? attendanceErrorMessage;
    private AttendanceRateDto? attendanceData;
    private int currentUserId = 0;

    // Chart Options
    private ApexChartOptions<RevenueTrendDto> revenueTrendOptions = new()
    {
        Chart = new Chart
        {
            Toolbar = new Toolbar { Show = false },
            Zoom = new Zoom { Enabled = false }
        },
        Stroke = new Stroke { Curve = Curve.Smooth, Width = 2 },
        DataLabels = new DataLabels { Enabled = false },
        Colors = new List<string> { "#28a745" },
        Fill = new Fill
        {
            Type = new List<FillType> { FillType.Gradient },
            Gradient = new FillGradient
            {
                ShadeIntensity = 1,
                OpacityFrom = 0.7,
                OpacityTo = 0.3
            }
        }
    };

    private ApexChartOptions<RevenueByPaymentMethodDto> paymentMethodOptions = new()
    {
        Chart = new Chart { Toolbar = new Toolbar { Show = false } },
        Legend = new Legend { Position = LegendPosition.Bottom },
        Colors = new List<string> { "#007bff", "#28a745", "#ffc107", "#dc3545" }
    };

    private ApexChartOptions<CategoryStockDto> categoryStockOptions = new()
    {
        Chart = new Chart
        {
            Toolbar = new Toolbar { Show = false },
            Zoom = new Zoom { Enabled = false }
        },
        PlotOptions = new PlotOptions
        {
            Bar = new PlotOptionsBar
            {
                Horizontal = true,
                Distributed = true
            }
        },
        DataLabels = new DataLabels { Enabled = false },
        Legend = new Legend { Show = false },
        Colors = new List<string> { "#007bff", "#6610f2", "#6f42c1", "#e83e8c", "#dc3545", "#fd7e14", "#ffc107", "#28a745" }
    };

    protected override async Task OnInitializedAsync()
    {
        // Get current user ID first
        var authState = await AuthStateProvider.GetAuthenticationStateAsync();
        var user = authState.User;
        var userIdClaim = user.FindFirst("userId")?.Value;

        if (!string.IsNullOrEmpty(userIdClaim) && int.TryParse(userIdClaim, out currentUserId))
        {
            await LoadAllDashboards();
        }
        else
        {
            globalErrorMessage = "Unable to identify current user. Please log in again.";
        }
    }

    private async Task LoadAllDashboards()
    {
        await Task.WhenAll(
            LoadSalesDashboard(),
            LoadInventoryDashboard(),
            LoadAttendanceStatistics()
        );
    }

    private async Task LoadSalesDashboard()
    {
        try
        {
            isSalesLoading = true;
            salesErrorMessage = null;

            var result = await DashboardApiClient.GetSalesDashboardAsync(selectedRange);

            if (result != null)
            {
                salesData = result;
            }
            else
            {
                salesErrorMessage = "No sales data returned from server";
            }
        }
        catch (Exception ex)
        {
            salesErrorMessage = $"Failed to load sales data: {ex.Message}";
        }
        finally
        {
            isSalesLoading = false;
        }
    }

    private async Task LoadInventoryDashboard()
    {
        try
        {
            isInventoryLoading = true;
            inventoryErrorMessage = null;

            var result = await DashboardApiClient.GetInventoryDashboardAsync();

            if (result != null)
            {
                inventoryData = result;
            }
            else
            {
                inventoryErrorMessage = "No inventory data returned from server";
            }
        }
        catch (Exception ex)
        {
            inventoryErrorMessage = $"Failed to load inventory data: {ex.Message}";
        }
        finally
        {
            isInventoryLoading = false;
        }
    }

    private async Task LoadAttendanceStatistics()
    {
        try
        {
            isAttendanceLoading = true;
            attendanceErrorMessage = null;

            var result = await DashboardApiClient.GetAttendanceStatisticsAsync(currentUserId, selectedRange);

            if (result != null)
            {
                attendanceData = result;
            }
            else
            {
                attendanceErrorMessage = "No attendance data returned from server";
            }
        }
        catch (Exception ex)
        {
            attendanceErrorMessage = $"Failed to load attendance data: {ex.Message}";
        }
        finally
        {
            isAttendanceLoading = false;
        }
    }

    private async Task HandleRangeChanged(DateRangeEnum newRange)
    {
        selectedRange = newRange;
        await LoadAllDashboards();
    }

    private string GetDateRangeLabel()
    {
        return selectedRange switch
        {
            DateRangeEnum.Today => "Today",
            DateRangeEnum.ThisWeek => "This Week",
            DateRangeEnum.ThisMonth => "This Month",
            DateRangeEnum.ThisYear => "This Year",
            _ => "Unknown"
        };
    }

    private string GetAttendanceRateColor(decimal rate)
    {
        if (rate >= 90) return "text-success";
        if (rate >= 75) return "text-warning";
        return "text-danger";
    }

    private string GetAttendanceRateColorClass(decimal rate)
    {
        if (rate >= 90) return "bg-success";
        if (rate >= 75) return "bg-warning";
        return "bg-danger";
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Home.razor">
@page "/"
@inject NavigationManager Nav
@inject AuthenticationStateProvider Auth

<PageTitle>MegaMarket</PageTitle>

@code {
    protected override async Task OnInitializedAsync()
    {
        var state = await Auth.GetAuthenticationStateAsync();
        var user = state.User;

        if (user.Identity?.IsAuthenticated != true)
        {
            Nav.NavigateTo("/login", replace: true);
            return;
        }

        var role = user.FindFirst("role")?.Value?.ToLower();

        var target = role switch
        {
            "admin"     => "/admin/dashboard",
            "manager"   => "/manager/dashboard",
            "cashier"   => "/cashier/dashboard",
            "warehouse" => "/warehouse/dashboard",
            _           => "/login"
        };

        Nav.NavigateTo(target, replace: true);
    }
}
</file>

<file path="MegaMarket.BlazorUI/MegaMarket.BlazorUI.csproj">
<Project Sdk="Microsoft.NET.Sdk.Web">
  <PropertyGroup>
    <TargetFramework>net8.0</TargetFramework>
    <Nullable>enable</Nullable>
    <ImplicitUsings>enable</ImplicitUsings>
  </PropertyGroup>
  <ItemGroup>
    <PackageReference Include="Blazor-ApexCharts" Version="3.4.0" />
    <PackageReference Include="Microsoft.AspNetCore.Components.Authorization" Version="8.0.21" />
    <PackageReference Include="Microsoft.AspNetCore.Components.WebAssembly.Authentication" Version="8.0.21" />
  </ItemGroup>
  <ItemGroup>
    <Folder Include="Models\" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\MegaMarket.API\MegaMarket.API.csproj" />
    <ProjectReference Include="..\MegaMarket.Data\MegaMarket.Data.csproj" />
  </ItemGroup>

</Project>
</file>

<file path="MegaMarket.BlazorUI/wwwroot/app.css">
html, body {
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
}

a, .btn-link {
    color: #006bb7;
}

.btn-primary {
    color: #fff;
    background-color: #1b6ec2;
    border-color: #1861ac;
}

.btn:focus, .btn:active:focus, .btn-link.nav-link:focus, .form-control:focus, .form-check-input:focus {
    box-shadow: 0 0 0 0.1rem white, 0 0 0 0.25rem #258cfb;
}

.content {
    padding-top: 1.1rem;
}

h1:focus {
    outline: none;
}

.valid.modified:not([type=checkbox]) {
    outline: 1px solid #26b050;
}

.invalid {
    outline: 1px solid #e50000;
}

.validation-message {
    color: #e50000;
}

.blazor-error-boundary {
    background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYiIGhlaWdodD0iNDkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIG92ZXJmbG93PSJoaWRkZW4iPjxkZWZzPjxjbGlwUGF0aCBpZD0iY2xpcDAiPjxyZWN0IHg9IjIzNSIgeT0iNTEiIHdpZHRoPSI1NiIgaGVpZ2h0PSI0OSIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMCkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMzUgLTUxKSI+PHBhdGggZD0iTTI2My41MDYgNTFDMjY0LjcxNyA1MSAyNjUuODEzIDUxLjQ4MzcgMjY2LjYwNiA1Mi4yNjU4TDI2Ny4wNTIgNTIuNzk4NyAyNjcuNTM5IDUzLjYyODMgMjkwLjE4NSA5Mi4xODMxIDI5MC41NDUgOTIuNzk1IDI5MC42NTYgOTIuOTk2QzI5MC44NzcgOTMuNTEzIDI5MSA5NC4wODE1IDI5MSA5NC42NzgyIDI5MSA5Ny4wNjUxIDI4OS4wMzggOTkgMjg2LjYxNyA5OUwyNDAuMzgzIDk5QzIzNy45NjMgOTkgMjM2IDk3LjA2NTEgMjM2IDk0LjY3ODIgMjM2IDk0LjM3OTkgMjM2LjAzMSA5NC4wODg2IDIzNi4wODkgOTMuODA3MkwyMzYuMzM4IDkzLjAxNjIgMjM2Ljg1OCA5Mi4xMzE0IDI1OS40NzMgNTMuNjI5NCAyNTkuOTYxIDUyLjc5ODUgMjYwLjQwNyA1Mi4yNjU4QzI2MS4yIDUxLjQ4MzcgMjYyLjI5NiA1MSAyNjMuNTA2IDUxWk0yNjMuNTg2IDY2LjAxODNDMjYwLjczNyA2Ni4wMTgzIDI1OS4zMTMgNjcuMTI0NSAyNTkuMzEzIDY5LjMzNyAyNTkuMzEzIDY5LjYxMDIgMjU5LjMzMiA2OS44NjA4IDI1OS4zNzEgNzAuMDg4N0wyNjEuNzk1IDg0LjAxNjEgMjY1LjM4IDg0LjAxNjEgMjY3LjgyMSA2OS43NDc1QzI2Ny44NiA2OS43MzA5IDI2Ny44NzkgNjkuNTg3NyAyNjcuODc5IDY5LjMxNzkgMjY3Ljg3OSA2Ny4xMTgyIDI2Ni40NDggNjYuMDE4MyAyNjMuNTg2IDY2LjAxODNaTTI2My41NzYgODYuMDU0N0MyNjEuMDQ5IDg2LjA1NDcgMjU5Ljc4NiA4Ny4zMDA1IDI1OS43ODYgODkuNzkyMSAyNTkuNzg2IDkyLjI4MzcgMjYxLjA0OSA5My41Mjk1IDI2My41NzYgOTMuNTI5NSAyNjYuMTE2IDkzLjUyOTUgMjY3LjM4NyA5Mi4yODM3IDI2Ny4zODcgODkuNzkyMSAyNjcuMzg3IDg3LjMwMDUgMjY2LjExNiA4Ni4wNTQ3IDI2My41NzYgODYuMDU0N1oiIGZpbGw9IiNGRkU1MDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvZz48L3N2Zz4=) no-repeat 1rem/1.8rem, #b32121;
    padding: 1rem 1rem 1rem 3.7rem;
    color: white;
}

    .blazor-error-boundary::after {
        content: "An error has occurred."
    }

.darker-border-checkbox.form-check-input {
    border-color: #929292;
}

/* Main element - do not center content */
main {
    flex-grow: 1;
    width: 100%;
}

/* Checkout Styles */
.checkout-container {
    max-width: 1200px;
    margin: 10px auto;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 8px;
    display: grid;
    grid-template-columns: 2fr 1fr; /* Chia làm 2 cột: Danh sách và Nhập liệu/Keypad */
    gap: 20px;
}

.promotion-container {
    display: flex;
    flex-direction: column;
    grid-column: 1 / -1; /* Chiếm toàn bộ chiều rộng */
}

    h2 {
        grid-column: 1 / -1; /* Tiêu đề chiếm toàn bộ chiều rộng */
        text-align: center;
        color: #007bff;
    }

hr {
    grid-column: 1 / -1;
    border: none;
    border-top: 1px solid #eee;
}

/* 1. Khu vực Danh sách sản phẩm */
.product-list-area {
    display: flex;
    flex-direction: column;
}

.product-list-header, .product-item {
    display: grid;
    grid-template-columns: 4fr 1fr 2fr 2fr 1fr; /* Cột: Tên, SL, Đơn Giá, Thành Tiền, Xóa */
    padding: 8px 0;
    border-bottom: 1px solid #eee;
    align-items: center;
}

.product-list-header {
    font-weight: bold;
    background-color: #f8f9fa;
    border-top: 1px solid #ccc;
}

.product-list {
    max-height: 400px; /* Giới hạn chiều cao cho danh sách */
    overflow-y: auto;
    border: 1px solid #ccc;
    margin-bottom: 10px;
}

.product-item:nth-child(even) {
    background-color: #f2f2f2;
}

.col-qty, .col-price, .col-total {
    text-align: right;
    padding-right: 5px;
}

.col-action {
    text-align: center;
}

.empty-cart {
    text-align: center;
    padding: 20px;
    color: #6c757d;
}

/* Tổng tiền */
.total-area {
    display: flex;
    justify-content: flex-end;
    font-size: 1.5em;
    padding: 10px 0;
    gap: 20px;
}

.total-amount {
    color: #dc3545;
    font-weight: bold;
}

/* 2. Khu vực Nhập liệu và Bàn phím số */
.input-keypad-area {
    display: flex;
    flex-direction: column;
    gap: 20px;
}
.input-keypad-area-center {
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 20px;
}

.input-form {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

.input-group {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

    .input-group label {
        font-weight: bold;
        min-width: 120px;
    }

    .input-group input, .display-price {
        flex-grow: 1;
        padding: 8px;
        border: 1px solid #ced4da;
        border-radius: 4px;
        font-size: 1em;
    }

.display-price {
    background-color: #e9ecef;
    font-weight: bold;
    text-align: right;
    color: #28a745;
}

/* Bàn phím số */
.numeric-keypad {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
}

    .numeric-keypad button {
        padding: 15px;
        font-size: 1.5em;
        background-color: #f8f9fa;
        border: 1px solid #ced4da;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.2s;
    }

        .numeric-keypad button:hover {
            background-color: #e2e6ea;
        }

/* 3. Nút chức năng */
.action-buttons {
    grid-column: 1 / -1;
    display: flex;
    justify-content: center;
    gap: 20px;
    padding: 10px 0;
}

    .action-buttons button, .btn-add, .btn-delete {
        padding: 10px 20px;
        font-size: 1.1em;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-weight: bold;
        transition: background-color 0.2s;
    }

.btn-primary {
    background-color: #28a745; /* Màu xanh lá cho Thanh Toán */
    color: white;
}

.btn-secondary {
    background-color: #6c757d; /* Màu xám cho Hủy Bỏ */
    color: white;
}

.btn-primary:hover {
    background-color: #218838;
}

.btn-secondary:hover {
    background-color: #5a6268;
}

.btn-add {
    background-color: #007bff; /* Màu xanh dương cho Thêm */
    color: white;
    width: 100%;
}

    .btn-add:hover {
        background-color: #0056b3;
    }

.btn-delete {
    background-color: #dc3545; /* Màu đỏ cho Xóa */
    color: white;
    font-size: 0.9em;
    padding: 5px 10px;
}

    .btn-delete:hover {
        background-color: #c82333;
    }

/* New CSS for Payment Screen */
.payment-screen {
    padding: 20px;
    /*grid-column: 1 / -1;*/ /* Chiếm toàn bộ chiều rộng */
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.payment-methods {
    display: flex;
    justify-content: center;
    gap: 15px;
    padding-bottom: 20px;
    grid-column: 1 / -1;
}

    .payment-methods button {
        padding: 10px 20px;
        font-size: 1.1em;
        border: 1px solid #ced4da;
        border-radius: 6px;
        background-color: #f8f9fa;
        cursor: pointer;
        transition: all 0.2s;
    }

        .payment-methods button.active {
            background-color: #007bff;
            color: white;
            border-color: #007bff;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0, 123, 255, 0.2);
        }

.financial-summary {
    display: grid;
    grid-template-columns: 1fr 1fr; /* Chia làm 2 cột: Label và Value */
    gap: 10px 20px;
    border: 1px solid #eee;
    padding: 15px;
    border-radius: 6px;
    background-color: #ffffff;
}

.summary-row {
    display: contents; /* Giữ cho các phần tử con nằm trong grid */
}

.summary-label {
    font-weight: 500;
}

.summary-value {
    text-align: right;
    font-weight: bold;
}

    .summary-value.positive {
        color: #28a745; /* Tiền thừa */
    }

    .summary-value.negative {
        color: #dc3545; /* Khuyến mãi, Còn thiếu */
    }

    .summary-value.total {
        font-size: 1.2em;
        border-top: 2px solid #333;
        padding-top: 5px;
    }

.promo-details {
    padding: 15px;
    border: 1px dashed #ffc107;
    background-color: #fffbe3;
    border-radius: 6px;
    color: #856404;
}

.payment-input-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

    .payment-input-group label {
        font-weight: bold;
    }

    .payment-input-group input {
        padding: 10px;
        font-size: 1.5em;
        text-align: right;
        border: 2px solid #007bff;
        border-radius: 4px;
    }

.promotion-container {
    max-width: 1000px;
    margin: 20px auto;
    padding: 20px;
}

.promotion-list, .edit-form {
    border: 1px solid #ccc;
    padding: 15px;
    border-radius: 8px;
    margin-top: 20px;
}

.btn-action {
    margin-left: 10px;
    padding: 5px 10px;
    border-radius: 4px;
    cursor: pointer;
}

.btn-primary {
    background-color: #007bff;
    color: white;
    border: none;
}

.btn-success {
    background-color: #28a745;
    color: white;
    border: none;
}

.btn-danger {
    background-color: #dc3545;
    color: white;
    border: none;
}

.btn-secondary {
    background-color: #6c757d;
    color: white;
    border: none;
}

.form-group {
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 10px;
}

    .form-group label {
        display: block;
        font-weight: bold;
        margin-bottom: 0;
        min-width: 120px;
    }

    .form-group input, .form-group select, .form-group textarea {
        flex-grow: 1;
        padding: 8px;
        border: 1px solid #ced4da;
        border-radius: 4px;
    }
.invoice-container {
    max-width: 1400px;
    margin: 20px auto;
    padding: 20px;
}

.invoice-grid {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 20px;
}

.search-area {
    padding: 15px;
    border: 1px solid #ddd;
    border-radius: 8px;
    margin-bottom: 20px;
}

.search-input-group {
    display: flex;
    gap: 10px;
    align-items: center;
    margin-bottom: 10px;
}

    .search-input-group label {
        font-weight: bold;
        min-width: 80px;
    }

    .search-input-group input, .search-input-group select {
        flex-grow: 1;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
    }

.detail-view {
    border: 1px solid #007bff;
    padding: 15px;
    border-radius: 8px;
    background-color: #f7faff;
}

.detail-section {
    margin-top: 15px;
    padding-top: 10px;
    border-top: 1px dashed #ccc;
}

.detail-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 5px;
}

/* Style cho Print Preview Modal */
.print-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.print-content {
    background-color: white;
    padding: 20px;
    border-radius: 8px;
    max-width: 400px;
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
    overflow-y: auto;
    max-height: 90vh;
}

.receipt-header, .receipt-footer {
    text-align: center;
    margin-bottom: 10px;
}

.receipt-line {
    display: flex;
    justify-content: space-between;
    margin-bottom: 3px;
    font-size: 0.9em;
}

.receipt-divider {
    border-top: 1px dashed #333;
    margin: 8px 0;
}

.receipt-total {
    font-weight: bold;
    font-size: 1.1em;
}

.invoice-completed-view {
    grid-column: 1 / -1; /* Chiếm toàn bộ chiều ngang của .checkout-container */
    display: grid;
    grid-template-columns: 1fr 1fr; /* Chia thành 2 cột: Confirmation/Actions và Receipt */
    gap: 30px;
    padding: 20px 0;
    align-items: flex-start; /* Quan trọng để nội dung không bị kéo dài */
}

.invoice-confirmation-panel {
    padding: 30px;
    border: 2px solid #28a745;
    border-radius: 8px;
    background-color: #e6ffed;
    text-align: center;
    /* Đảm bảo nó không bị kéo dài quá */
}

.receipt-actions {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 20px;
}

.receipt-preview-panel {
    display: flex;
    justify-content: center;
    align-items: flex-start;
}
</file>

<file path="MegaMarket.Data/DataAccess/InvoiceDAO.cs">
using MegaMarket.Data.Data;
using MegaMarket.Data.Models;
using Microsoft.EntityFrameworkCore;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace MegaMarket.Data.DataAccess
{
    public class InvoiceDAO
    {
        private readonly MegaMarketDbContext _context;
        public InvoiceDAO(MegaMarketDbContext context)
        {
            _context = context;
        }
        // Data Access Object methods for Invoice entity
        public async Task<List<Invoice>> GetAllInvoices()
        {
            var listInvoices = new List<Invoice>();
            try
            {
                listInvoices = await _context.Invoices
                    .Include(inv => inv.User)
                    .Include(inv => inv.InvoiceDetails)
                        .ThenInclude(id => id.Product)
                    .ToListAsync();
                return listInvoices;
            }
            catch (Exception ex)
            {
                throw new Exception("Error retrieving invoices: " + ex.Message);
            }
        }
        public async Task<Invoice> SaveInvoice(Invoice i)
        {
            try
            {
                _context.Invoices.Add(i);
                await _context.SaveChangesAsync();

                var insertedInvoice = await _context.Invoices
                    .Include(inv => inv.User)
                    .Include(inv => inv.InvoiceDetails)
                        .ThenInclude(id => id.Product)
                    .FirstOrDefaultAsync(inv => inv.InvoiceId == i.InvoiceId);
                return insertedInvoice;
            }
            catch (Exception ex)
            {
                throw new Exception("Error saving invoice: " + ex.Message);
            }
        }
    }
}
</file>

<file path="MegaMarket.API/Controllers/InvoiceController.cs">
using MegaMarket.API.DTOs.Invoice;
using MegaMarket.API.Services.Interfaces;
using MegaMarket.Data.Models;
using Microsoft.AspNetCore.Http;
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Authorization;

namespace MegaMarket.API.Controllers
{
    [Authorize]
    [Route("api/[controller]")]
    [ApiController]
    public class InvoiceController : ControllerBase
    {
        private readonly IInvoiceService _service;
        public InvoiceController(IInvoiceService service)
        {
            _service = service;
        }
        // Controller methods for Invoice entity
        [HttpGet]
        public async Task<ActionResult> GetAllInvoices()
        {
            try
            {
                var listInvoices = await _service.GetAllInvoices();
                return Ok(listInvoices);
            } catch
            {
                return BadRequest(ModelState);
            }
        }
        // POST: InvoiceController/Create
        [HttpPost]
        public async Task<ActionResult> SaveInvoice([FromBody]InvoiceReqDto invoice)
        {
            try
            {
                var savedInvoice = await _service.SaveInvoice(invoice);
                return Ok(savedInvoice);
            }
            catch
            {
                return BadRequest(ModelState);
            }
        }
    }
}
</file>

<file path="MegaMarket.API/Data/DbSeeder.cs">
using Microsoft.EntityFrameworkCore;
using MegaMarket.Data.Data;
using MegaMarket.Data.Models;

namespace MegaMarket.API.Data;

public static class DbSeeder
{
    public static async Task SeedAsync(MegaMarketDbContext dbContext)
    {
        await dbContext.Database.MigrateAsync();

        await SeedUsersAsync(dbContext);
        await SeedShiftTypesAsync(dbContext);
        await SeedAttendancesAsync(dbContext);
        await SeedSuppliersAsync(dbContext);
        await SeedProductsAsync(dbContext);
        await SeedImportsAsync(dbContext);
        await SeedCustomersAsync(dbContext);
        await SeedPromotionsAsync(dbContext);
        await SeedRewardsAsync(dbContext);
        await SeedInvoicesAsync(dbContext);
        await SeedOrderRequestsAsync(dbContext);
    }

    private static async Task SeedUsersAsync(MegaMarketDbContext dbContext)
    {
        if (await dbContext.Users.AnyAsync())
        {
            return;
        }

        // Fixed BCrypt hash for "Password123!" - matches SQL setup script
        // This ensures consistent data between DbSeeder and SQL file
        const string passwordHash = "$2a$12$dXVEhDlHpyOvZ8hgHfwKJeX3tfKp1KUi.q1eIP43AmSmYhLpdj.w.";

        var users = new[]
        {
            // Quản trị hệ thống (System Admin)
            new User { FullName = "Admin User", Username = "admin", Password = passwordHash, Role = "Admin", Email = "admin@megamarket.com", Phone = "0901234567" },

            // Quản lý cửa hàng (Manager)
            new User { FullName = "John Manager", Username = "john.manager", Password = passwordHash, Role = "Manager", Email = "john@megamarket.com", Phone = "0907654321" },

            // Thu ngân/POS (Cashier)
            new User { FullName = "Sarah Cashier", Username = "sarah.cashier", Password = passwordHash, Role = "Cashier", Email = "sarah@megamarket.com", Phone = "0912345678" },

            // Nhân viên kho (Warehouse)
            new User { FullName = "Mike Warehouse", Username = "mike.warehouse", Password = passwordHash, Role = "Warehouse", Email = "mike@megamarket.com", Phone = "0923456789" }
        };

        dbContext.Users.AddRange(users);
        await dbContext.SaveChangesAsync();
    }

    private static async Task SeedShiftTypesAsync(MegaMarketDbContext dbContext)
    {
        if (await dbContext.ShiftTypes.AnyAsync())
        {
            return;
        }

        var shiftTypes = new[]
        {
            new ShiftType
            {
                Name = "Morning Shift",
                StartTime = new TimeSpan(6, 0, 0),   // 6:00 AM
                EndTime = new TimeSpan(14, 0, 0),    // 2:00 PM
                WagePerHour = 40000
            },
            new ShiftType
            {
                Name = "Afternoon Shift",
                StartTime = new TimeSpan(14, 0, 0),  // 2:00 PM
                EndTime = new TimeSpan(22, 0, 0),    // 10:00 PM
                WagePerHour = 45000
            },
            new ShiftType
            {
                Name = "Night Shift",
                StartTime = new TimeSpan(22, 0, 0),  // 10:00 PM
                EndTime = new TimeSpan(6, 0, 0),     // 6:00 AM
                WagePerHour = 55000
            },
            new ShiftType
            {
                Name = "Full Day",
                StartTime = new TimeSpan(8, 0, 0),   // 8:00 AM
                EndTime = new TimeSpan(17, 0, 0),    // 5:00 PM
                WagePerHour = 42000
            }
        };

        dbContext.ShiftTypes.AddRange(shiftTypes);
        await dbContext.SaveChangesAsync();
    }

    private static async Task SeedAttendancesAsync(MegaMarketDbContext dbContext)
    {
        if (await dbContext.Attendances.AnyAsync())
        {
            return;
        }

        var users = await dbContext.Users.ToListAsync();
        var shiftTypes = await dbContext.ShiftTypes.ToListAsync();

        if (!users.Any() || !shiftTypes.Any())
        {
            return;
        }

        var admin = users.FirstOrDefault(u => u.Role == "Admin");
        var manager = users.FirstOrDefault(u => u.Role == "Manager");
        var cashier = users.FirstOrDefault(u => u.Role == "Cashier");
        var warehouse = users.FirstOrDefault(u => u.Role == "Warehouse");

        var morningShift = shiftTypes.FirstOrDefault(s => s.Name == "Morning Shift");
        var afternoonShift = shiftTypes.FirstOrDefault(s => s.Name == "Afternoon Shift");
        var fullDayShift = shiftTypes.FirstOrDefault(s => s.Name == "Full Day");

        if (admin == null || morningShift == null || afternoonShift == null || fullDayShift == null)
        {
            return;
        }

        var attendances = new List<Attendance>();

        // Admin - Last 7 days
        for (int i = 7; i >= 1; i--)
        {
            var date = DateTime.Today.AddDays(-i);
            attendances.Add(new Attendance
            {
                UserId = admin.UserId,
                ShiftTypeId = fullDayShift.ShiftTypeId,
                Date = date,
                CheckIn = date.AddHours(8).AddMinutes(i % 2 == 0 ? 0 : 5),
                CheckOut = date.AddHours(17).AddMinutes(i % 2 == 0 ? 0 : 10),
                IsLate = i % 2 != 0,
                Note = i % 2 == 0 ? "On time" : "Late check-in"
            });
        }

        // Manager - Last 5 days
        if (manager != null)
        {
            for (int i = 5; i >= 1; i--)
            {
                var date = DateTime.Today.AddDays(-i);
                attendances.Add(new Attendance
                {
                    UserId = manager.UserId,
                    ShiftTypeId = morningShift.ShiftTypeId,
                    Date = date,
                    CheckIn = date.AddHours(6),
                    CheckOut = date.AddHours(14),
                    IsLate = false,
                    Note = "Regular shift"
                });
            }
        }

        // Cashier - Last 3 days
        if (cashier != null)
        {
            for (int i = 3; i >= 1; i--)
            {
                var date = DateTime.Today.AddDays(-i);
                attendances.Add(new Attendance
                {
                    UserId = cashier.UserId,
                    ShiftTypeId = afternoonShift.ShiftTypeId,
                    Date = date,
                    CheckIn = date.AddHours(14).AddMinutes(i % 2 == 0 ? 0 : 5),
                    CheckOut = date.AddHours(22),
                    IsLate = i % 2 != 0,
                    Note = i % 2 == 0 ? "On time" : "Traffic delay"
                });
            }
        }

        // Warehouse - Last 4 days
        if (warehouse != null)
        {
            for (int i = 4; i >= 1; i--)
            {
                var date = DateTime.Today.AddDays(-i);
                attendances.Add(new Attendance
                {
                    UserId = warehouse.UserId,
                    ShiftTypeId = fullDayShift.ShiftTypeId,
                    Date = date,
                    CheckIn = date.AddHours(8),
                    CheckOut = date.AddHours(17),
                    IsLate = false,
                    Note = "Inventory check"
                });
            }
        }

        dbContext.Attendances.AddRange(attendances);
        await dbContext.SaveChangesAsync();
    }

    private static async Task SeedSuppliersAsync(MegaMarketDbContext dbContext)
    {
        if (await dbContext.Suppliers.AnyAsync())
        {
            return;
        }

        var suppliers = new[]
        {
            new Supplier { Name = "Fresh Foods Co.", Phone = "555-1200" },
            new Supplier { Name = "Dairy Direct", Phone = "555-8831" },
            new Supplier { Name = "Global Groceries", Phone = "555-7412" },
            new Supplier { Name = "Premium Produce", Phone = "555-9102" }
        };

        dbContext.Suppliers.AddRange(suppliers);
        await dbContext.SaveChangesAsync();
    }

    private static async Task SeedProductsAsync(MegaMarketDbContext dbContext)
    {
        if (await dbContext.Products.AnyAsync())
        {
            return;
        }

        var products = new[]
        {
            new Product
            {
                Barcode = "1110001110001",
                Name = "Organic Apples 1kg",
                Category = "Produce",
                UnitLabel = "Bag",
                UnitPrice = 45000,
                QuantityInStock = 120,
                MinQuantity = 30,
                IsPerishable = true,
                ExpiryDate = DateTime.Today.AddDays(10)
            },
            new Product
            {
                Barcode = "2220002220002",
                Name = "Whole Milk 1L",
                Category = "Dairy",
                UnitLabel = "Bottle",
                UnitPrice = 18000,
                QuantityInStock = 220,
                MinQuantity = 60,
                IsPerishable = true,
                ExpiryDate = DateTime.Today.AddDays(5)
            },
            new Product
            {
                Barcode = "3330003330003",
                Name = "Free Range Eggs 12ct",
                Category = "Dairy",
                UnitLabel = "Carton",
                UnitPrice = 52000,
                QuantityInStock = 150,
                MinQuantity = 40,
                IsPerishable = true,
                ExpiryDate = DateTime.Today.AddDays(2)
            },
            new Product
            {
                Barcode = "4440004440004",
                Name = "Roasted Coffee Beans 500g",
                Category = "Beverages",
                UnitLabel = "Bag",
                UnitPrice = 95000,
                QuantityInStock = 80,
                MinQuantity = 20,
                IsPerishable = false
            },
            new Product
            {
                Barcode = "5550005550005",
                Name = "Bottled Water 24x500ml",
                Category = "Beverages",
                UnitLabel = "Pack",
                UnitPrice = 120000,
                QuantityInStock = 60,
                MinQuantity = 15,
                IsPerishable = false
            }
        };

        dbContext.Products.AddRange(products);
        await dbContext.SaveChangesAsync();
    }

    private static async Task SeedImportsAsync(MegaMarketDbContext dbContext)
    {
        if (await dbContext.Imports.AnyAsync())
        {
            return;
        }

        var users = await dbContext.Users.ToListAsync();
        var suppliers = await dbContext.Suppliers.ToListAsync();
        var products = await dbContext.Products.ToListAsync();

        if (!users.Any() || !suppliers.Any() || !products.Any())
        {
            return;
        }

        var admin = users.First();

        Import BuildImport(string supplierName, DateTime importDate, string status, params (string barcode, int qty, decimal price, int expiryOffset)[] items)
        {
            var supplier = suppliers.First(s => s.Name == supplierName);
            var import = new Import
            {
                SupplierId = supplier.SupplierId,
                UserId = admin.UserId,
                ImportDate = importDate,
                Status = status
            };

            foreach (var (barcode, qty, price, expiryOffset) in items)
            {
                var product = products.First(p => p.Barcode == barcode);
                import.ImportDetails.Add(new ImportDetail
                {
                    ProductId = product.ProductId,
                    Quantity = qty,
                    UnitPrice = price,
                    ExpiryDate = expiryOffset == 0 ? null : DateTime.Today.AddDays(expiryOffset)
                });
                product.QuantityInStock += qty;
                product.UnitPrice = price;
                if (expiryOffset != 0)
                {
                    product.IsPerishable = true;
                    product.ExpiryDate = DateTime.Today.AddDays(expiryOffset);
                }
            }

            import.TotalCost = import.ImportDetails.Sum(d => d.Quantity * d.UnitPrice);
            return import;
        }

        var imports = new[]
        {
            BuildImport("Fresh Foods Co.", DateTime.Today.AddDays(-8), "Completed",
                ("1110001110001", 80, 42000, 12),
                ("3330003330003", 60, 50000, 5)),
            BuildImport("Dairy Direct", DateTime.Today.AddDays(-3), "Completed",
                ("2220002220002", 120, 17000, 6)),
            BuildImport("Global Groceries", DateTime.Today.AddDays(-1), "Draft",
                ("4440004440004", 50, 90000, 0),
                ("5550005550005", 40, 115000, 0)),
            BuildImport("Premium Produce", DateTime.Today.AddDays(-15), "Cancelled",
                ("1110001110001", 40, 43000, -1))
        };

        dbContext.Imports.AddRange(imports);
        await dbContext.SaveChangesAsync();
    }

    private static async Task SeedCustomersAsync(MegaMarketDbContext dbContext)
    {
        if (await dbContext.Customers.AnyAsync())
        {
            return;
        }

        var customers = new[]
        {
            new Customer { FullName = "Nguyen Van A", Phone = "0909123456", Email = "nguyenvana@email.com", Points = 1250, Rank = "Gold" },
            new Customer { FullName = "Tran Thi B", Phone = "0918765432", Email = "tranthib@email.com", Points = 850, Rank = "Silver" },
            new Customer { FullName = "Le Van C", Phone = "0987654321", Email = "levanc@email.com", Points = 2500, Rank = "Platinum" },
            new Customer { FullName = "Pham Thi D", Phone = "0976543210", Email = "phamthid@email.com", Points = 450, Rank = "Silver" },
            new Customer { FullName = "Hoang Van E", Phone = "0965432109", Email = "hoangvane@email.com", Points = 150, Rank = "Silver" }
        };

        dbContext.Customers.AddRange(customers);
        await dbContext.SaveChangesAsync();
    }

    private static async Task SeedPromotionsAsync(MegaMarketDbContext dbContext)
    {
        if (await dbContext.Promotions.AnyAsync())
        {
            return;
        }

        var products = await dbContext.Products.ToListAsync();
        if (!products.Any())
        {
            return;
        }

        var apples = products.FirstOrDefault(p => p.Barcode == "1110001110001");
        var milk = products.FirstOrDefault(p => p.Barcode == "2220002220002");
        var eggs = products.FirstOrDefault(p => p.Barcode == "3330003330003");
        var coffee = products.FirstOrDefault(p => p.Barcode == "4440004440004");

        var promotions = new[]
        {
            new Promotion
            {
                Name = "Summer Sale 2024",
                Description = "Discount for all products in summer",
                DiscountType = "percent",
                DiscountValue = 15,
                StartDate = DateTime.Today.AddDays(-10),
                EndDate = DateTime.Today.AddDays(20),
                Type = "product",
                PromotionProducts = new List<PromotionProduct>
                {
                    new PromotionProduct { ProductId = apples!.ProductId },
                    new PromotionProduct { ProductId = coffee!.ProductId }
                }
            },
            new Promotion
            {
                Name = "New Year Special",
                Description = "Special discount for new year shopping",
                DiscountType = "percent",
                DiscountValue = 20,
                StartDate = DateTime.Today.AddDays(-30),
                EndDate = DateTime.Today.AddDays(-5),
                Type = "invoice"
            },
            new Promotion
            {
                Name = "Weekend Deal",
                Description = "Fixed discount on weekends",
                DiscountType = "fixed",
                DiscountValue = 50000,
                StartDate = DateTime.Today.AddDays(-2),
                EndDate = DateTime.Today.AddDays(5),
                Type = "invoice"
            },
            new Promotion
            {
                Name = "Dairy Products Promo",
                Description = "Special for dairy category",
                DiscountType = "percent",
                DiscountValue = 10,
                StartDate = DateTime.Today.AddDays(-5),
                EndDate = DateTime.Today.AddDays(25),
                Type = "product",
                PromotionProducts = new List<PromotionProduct>
                {
                    new PromotionProduct { ProductId = milk!.ProductId },
                    new PromotionProduct { ProductId = eggs!.ProductId }
                }
            }
        };

        dbContext.Promotions.AddRange(promotions);
        await dbContext.SaveChangesAsync();
    }

    private static async Task SeedRewardsAsync(MegaMarketDbContext dbContext)
    {
        if (await dbContext.Rewards.AnyAsync())
        {
            return;
        }

        var rewards = new[]
        {
            new Reward { Name = "Free Coffee Voucher", Description = "Get a free coffee bag", PointCost = 500, RewardType = "Voucher", Value = 95000, QuantityAvailable = 50, IsActive = true },
            new Reward { Name = "10% Discount Coupon", Description = "10% off on next purchase", PointCost = 300, RewardType = "Discount", Value = 0, QuantityAvailable = 100, IsActive = true },
            new Reward { Name = "Shopping Bag", Description = "Reusable shopping bag", PointCost = 200, RewardType = "Gift", Value = 0, QuantityAvailable = 75, IsActive = true },
            new Reward { Name = "50k Cash Voucher", Description = "50,000 VND discount voucher", PointCost = 800, RewardType = "Voucher", Value = 50000, QuantityAvailable = 30, IsActive = true },
            new Reward { Name = "Premium Gift Set", Description = "Special gift set for loyal customers", PointCost = 2000, RewardType = "Gift", Value = 0, QuantityAvailable = 20, IsActive = true }
        };

        dbContext.Rewards.AddRange(rewards);
        await dbContext.SaveChangesAsync();
    }

    private static async Task SeedInvoicesAsync(MegaMarketDbContext dbContext)
    {
        if (await dbContext.Invoices.AnyAsync())
        {
            return;
        }

        var users = await dbContext.Users.ToListAsync();
        var customers = await dbContext.Customers.ToListAsync();
        var products = await dbContext.Products.ToListAsync();
        var promotions = await dbContext.Promotions.ToListAsync();
        var rewards = await dbContext.Rewards.ToListAsync();

        if (!users.Any() || !customers.Any() || !products.Any())
        {
            return;
        }

        var cashier = users.FirstOrDefault(u => u.Role == "Cashier");
        var customer1 = customers.FirstOrDefault(c => c.FullName == "Nguyen Van A");
        var customer2 = customers.FirstOrDefault(c => c.FullName == "Tran Thi B");
        var customer3 = customers.FirstOrDefault(c => c.FullName == "Le Van C");

        var apples = products.FirstOrDefault(p => p.Barcode == "1110001110001");
        var milk = products.FirstOrDefault(p => p.Barcode == "2220002220002");
        var eggs = products.FirstOrDefault(p => p.Barcode == "3330003330003");
        var coffee = products.FirstOrDefault(p => p.Barcode == "4440004440004");
        var water = products.FirstOrDefault(p => p.Barcode == "5550005550005");

        var weekendDeal = promotions.FirstOrDefault(p => p.Name == "Weekend Deal");
        var discountCoupon = rewards.FirstOrDefault(r => r.Name == "10% Discount Coupon");
        var shoppingBag = rewards.FirstOrDefault(r => r.Name == "Shopping Bag");

        if (cashier == null || customer1 == null || customer2 == null || customer3 == null)
        {
            return;
        }

        // Invoice 1: Customer purchase with promotion
        var invoice1 = new Invoice
        {
            UserId = cashier.UserId,
            CustomerId = customer1.CustomerId,
            CreatedAt = DateTime.Now.AddDays(-2),
            TotalBeforeDiscount = 300000,
            TotalAmount = 250000,
            PaymentMethod = "cash",
            ReceivedAmount = 300000,
            ChangeAmount = 50000,
            Status = "Paid",
            PromotionId = weekendDeal?.PromotionId,
            InvoiceDetails = new List<InvoiceDetail>
            {
                new InvoiceDetail { ProductId = apples!.ProductId, Quantity = 3, UnitPrice = 45000, DiscountPerUnit = 0 },
                new InvoiceDetail { ProductId = milk!.ProductId, Quantity = 5, UnitPrice = 18000, DiscountPerUnit = 0 },
                new InvoiceDetail { ProductId = coffee!.ProductId, Quantity = 1, UnitPrice = 95000, DiscountPerUnit = 0 }
            },
            PointTransactions = new List<PointTransaction>
            {
                new PointTransaction { CustomerId = customer1.CustomerId, PointChange = 50, TransactionType = "Earn", CreatedAt = DateTime.Now.AddDays(-2), Description = "Points earned from purchase" }
            }
        };

        // Invoice 2: Non-customer purchase
        var invoice2 = new Invoice
        {
            UserId = cashier.UserId,
            CustomerId = null,
            CreatedAt = DateTime.Now.AddDays(-1),
            TotalBeforeDiscount = 156000,
            TotalAmount = 156000,
            PaymentMethod = "card",
            ReceivedAmount = 156000,
            ChangeAmount = 0,
            Status = "Paid",
            InvoiceDetails = new List<InvoiceDetail>
            {
                new InvoiceDetail { ProductId = eggs!.ProductId, Quantity = 2, UnitPrice = 52000, DiscountPerUnit = 0 },
                new InvoiceDetail { ProductId = milk.ProductId, Quantity = 2, UnitPrice = 18000, DiscountPerUnit = 0 },
                new InvoiceDetail { ProductId = water!.ProductId, Quantity = 1, UnitPrice = 120000, DiscountPerUnit = 0 }
            }
        };

        // Invoice 3: Customer purchase earning points
        var invoice3 = new Invoice
        {
            UserId = cashier.UserId,
            CustomerId = customer3.CustomerId,
            CreatedAt = DateTime.Now.AddHours(-5),
            TotalBeforeDiscount = 450000,
            TotalAmount = 450000,
            PaymentMethod = "bank_transfer",
            ReceivedAmount = 450000,
            ChangeAmount = 0,
            Status = "Paid",
            InvoiceDetails = new List<InvoiceDetail>
            {
                new InvoiceDetail { ProductId = coffee.ProductId, Quantity = 2, UnitPrice = 95000, DiscountPerUnit = 0 },
                new InvoiceDetail { ProductId = water.ProductId, Quantity = 2, UnitPrice = 120000, DiscountPerUnit = 0 },
                new InvoiceDetail { ProductId = apples.ProductId, Quantity = 1, UnitPrice = 45000, DiscountPerUnit = 0 }
            },
            PointTransactions = new List<PointTransaction>
            {
                new PointTransaction { CustomerId = customer3.CustomerId, PointChange = 90, TransactionType = "Earn", CreatedAt = DateTime.Now.AddHours(-5), Description = "Points earned from purchase" }
            }
        };

        dbContext.Invoices.AddRange(new[] { invoice1, invoice2, invoice3 });
        await dbContext.SaveChangesAsync();

        // Point Transaction for redemption
        var pointRedemption = new PointTransaction
        {
            CustomerId = customer2.CustomerId,
            PointChange = -300,
            TransactionType = "Redeem",
            CreatedAt = DateTime.Now.AddDays(-3),
            Description = "Redeemed for 10% Discount Coupon"
        };

        dbContext.PointTransactions.Add(pointRedemption);

        // Customer Rewards
        if (discountCoupon != null && shoppingBag != null)
        {
            var customerRewards = new[]
            {
                new CustomerReward { CustomerId = customer2.CustomerId, RewardId = discountCoupon.RewardId, RedeemedAt = DateTime.Now.AddDays(-3), Status = "Claimed" },
                new CustomerReward { CustomerId = customer1.CustomerId, RewardId = shoppingBag.RewardId, InvoiceId = invoice1.InvoiceId, RedeemedAt = DateTime.Now.AddDays(-2), Status = "Used", UsedAt = DateTime.Now.AddDays(-2) }
            };

            dbContext.CustomerRewards.AddRange(customerRewards);
        }

        await dbContext.SaveChangesAsync();
    }

    private static async Task SeedOrderRequestsAsync(MegaMarketDbContext dbContext)
    {
        if (await dbContext.OrderRequests.AnyAsync())
        {
            return;
        }

        var products = await dbContext.Products.ToListAsync();
        if (!products.Any())
        {
            return;
        }

        var eggs = products.FirstOrDefault(p => p.Barcode == "3330003330003");
        var milk = products.FirstOrDefault(p => p.Barcode == "2220002220002");
        var apples = products.FirstOrDefault(p => p.Barcode == "1110001110001");

        if (eggs == null || milk == null || apples == null)
        {
            return;
        }

        var orderRequests = new[]
        {
            new OrderRequest { ProductId = eggs.ProductId, RequestedQuantity = 100, RequestDate = DateTime.Today.AddDays(-1), Status = "Pending" },
            new OrderRequest { ProductId = milk.ProductId, RequestedQuantity = 200, RequestDate = DateTime.Today.AddDays(-2), Status = "Ordered" },
            new OrderRequest { ProductId = apples.ProductId, RequestedQuantity = 150, RequestDate = DateTime.Today.AddDays(-5), Status = "Received" }
        };

        dbContext.OrderRequests.AddRange(orderRequests);
        await dbContext.SaveChangesAsync();
    }
}
</file>

<file path="MegaMarket.API/Services/Implementations/PromotionService.cs">
using MegaMarket.API.DTOs.Products;
using MegaMarket.API.DTOs.Promotion;
using MegaMarket.API.Services.Interfaces;
using MegaMarket.Data.Models;
using MegaMarket.Data.Repositories.Interfaces;

namespace MegaMarket.API.Services.Implementations
{
    public class PromotionService : IPromotionService
    {
        private readonly IPromotionRepository _repository;
        public PromotionService(IPromotionRepository repository)
        {
            _repository = repository;
        }
        // Service methods for Promotion entity
        public async Task<List<PromotionResDto>> GetAllPromotions()
        {
            var promotions = await _repository.GetAllPromotions();
            var result = promotions.Select(p => new PromotionResDto
            {
                PromotionId = p.PromotionId,
                Name = p.Name,
                Description = p.Description,
                DiscountType = p.DiscountType,
                DiscountValue = p.DiscountValue,
                StartDate = p.StartDate,
                EndDate = p.EndDate,
                Type = p.Type,
                PromotionProducts = p.PromotionProducts.Select(pp => new PromotionProductResDto
                {
                    PromotionId = pp.PromotionId,
                    ProductId = pp.ProductId,
                    Promotion = new PromotionResDto
                    {
                        PromotionId = pp.Promotion.PromotionId,
                        Name = pp.Promotion.Name,
                        Description = pp.Promotion.Description,
                        DiscountType = pp.Promotion.DiscountType,
                        DiscountValue = pp.Promotion.DiscountValue,
                        StartDate = pp.Promotion.StartDate,
                        EndDate = pp.Promotion.EndDate,
                        Type = pp.Promotion.Type,
                    },
                    Product = new ProductDto
                    {
                        ProductId = pp.Product.ProductId,
                        Name = pp.Product.Name,
                        UnitPrice = pp.Product.UnitPrice,
                    },
                }).ToList()
            }).ToList();
            return result;
        }
        public async Task<PromotionResDto> CreatePromotion(PromotionReqDto promotionDto)
        {
            var promotion = new Promotion
            {
                Name = promotionDto.Name,
                Description = promotionDto.Description,
                DiscountType = promotionDto.DiscountType,
                DiscountValue = promotionDto.DiscountValue,
                StartDate = promotionDto.StartDate,
                EndDate = promotionDto.EndDate,
                Type = promotionDto.Type,
            };
            foreach (var productId in promotionDto.PromotionProducts)
            {
                promotion.PromotionProducts.Add(new PromotionProduct
                {
                    ProductId = productId
                });
            }
            var createdPromotion = await _repository.CreatePromotion(promotion);
            var result = new PromotionResDto
            {
                PromotionId = createdPromotion.PromotionId,
                Name = createdPromotion.Name,
                Description = createdPromotion.Description,
                DiscountType = createdPromotion.DiscountType,
                DiscountValue = createdPromotion.DiscountValue,
                StartDate = createdPromotion.StartDate,
                EndDate = createdPromotion.EndDate,
                Type = createdPromotion.Type,
            };

            return result;
        }
        public async Task<PromotionResDto> UpdatePromotion(int promotionId, PromotionReqDto promotionDto)
        {
            var promotion = new Promotion
            {
                PromotionId = promotionId,
                Name = promotionDto.Name,
                Description = promotionDto.Description,
                DiscountType = promotionDto.DiscountType,
                DiscountValue = promotionDto.DiscountValue,
                StartDate = promotionDto.StartDate,
                EndDate = promotionDto.EndDate,
                Type = promotionDto.Type,
            };
            var updatedPromotion = await _repository.UpdatePromotion(promotion);
            var result = new PromotionResDto
            {
                PromotionId = updatedPromotion.PromotionId,
                Name = updatedPromotion.Name,
                Description = updatedPromotion.Description,
                DiscountType = updatedPromotion.DiscountType,
                DiscountValue = updatedPromotion.DiscountValue,
                StartDate = updatedPromotion.StartDate,
                EndDate = updatedPromotion.EndDate,
                Type = updatedPromotion.Type,
            };
            return result;
        }
        public async Task DeletePromotion(int promotionId)
        {
            await _repository.DeletePromotion(promotionId);
        }
        public async Task<List<PromotionProductResDto>> GetAllPromotionProducts()
        {
            var promotionProduct = await _repository.GetAllPromotionProducts();
            var result = promotionProduct.Select(pp => new PromotionProductResDto
            {
                PromotionId = pp.PromotionId,
                ProductId = pp.ProductId,
                Promotion = new PromotionResDto
                {
                    PromotionId = pp.Promotion.PromotionId,
                    Name = pp.Promotion.Name,
                    Description = pp.Promotion.Description,
                    DiscountType = pp.Promotion.DiscountType,
                    DiscountValue = pp.Promotion.DiscountValue,
                    StartDate = pp.Promotion.StartDate,
                    EndDate = pp.Promotion.EndDate,
                    Type = pp.Promotion.Type,
                },
                Product = new ProductDto
                {
                    ProductId = pp.Product.ProductId,
                    Name = pp.Product.Name,
                    UnitPrice = pp.Product.UnitPrice,
                },
            }).ToList();

            return result;
        }
    }
}
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Dashboards/AdminDashboard.razor">
@page "/admin/dashboard"
@attribute [Authorize(Roles = "Admin")]
@inject Services.Dashboard.DashboardApiClient DashboardApiClient
@using MegaMarket.BlazorUI.Models.Dashboard
@using ApexCharts

<div class="container-fluid mt-4">
    @* Header *@
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="text-gradient mb-1">Admin Dashboard</h2>
            <p class="text-muted mb-0">Comprehensive business analytics and insights</p>
        </div>
        <DateRangeSelector SelectedRange="@selectedRange" OnRangeChanged="@HandleRangeChanged" />
    </div>

    @* Error Message *@
    @if (!string.IsNullOrEmpty(globalErrorMessage))
    {
        <ErrorAlert ErrorMessage="@globalErrorMessage" OnDismiss="@(() => globalErrorMessage = null)" />
    }

    @* ==================== SALES ANALYTICS ==================== *@
    <div class="mb-5">
        <h4 class="mb-3">
            <span class="bi bi-graph-up me-2"></span>Sales & Revenue Analytics
        </h4>

        <DashboardSection IsLoading="@isSalesLoading"
                          ErrorMessage="@salesErrorMessage"
                          ShowRetryButton="true"
                          OnRetry="@LoadSalesDashboard">
            @if (salesData != null)
            {
                @* Revenue Stats Row *@
                <div class="row mb-4">
                    <div class="col-md-4">
                        <StatsCard
                            Title="Total Revenue"
                            Value="@($"${salesData.TotalRevenue:N2}")"
                            SubLabel="@GetDateRangeLabel()"
                            Color="success" />
                    </div>
                    <div class="col-md-4">
                        <StatsCard
                            Title="Total Invoices"
                            Value="@salesData.TotalInvoices.ToString("N0")"
                            SubLabel="Completed orders"
                            Color="primary" />
                    </div>
                    <div class="col-md-4">
                        <StatsCard
                            Title="Average Order Value"
                            Value="@($"${salesData.AverageOrderValue:N2}")"
                            SubLabel="Per invoice"
                            Color="info" />
                    </div>
                </div>

                @* Charts Row *@
                <div class="row mb-4">
                    @* Revenue Trend Chart *@
                    <div class="col-lg-8 mb-3">
                        <ChartCard Title="Revenue Trend" Subtitle="@GetDateRangeLabel()" Height="350px">
                            @if (salesData.RevenueTrend.Any())
                            {
                                <ApexChart TItem="RevenueTrendDto"
                                           Title="Revenue Over Time"
                                           Options="@revenueTrendOptions">
                                    <ApexPointSeries TItem="RevenueTrendDto"
                                                     Items="@salesData.RevenueTrend"
                                                     Name="Revenue"
                                                     SeriesType="SeriesType.Area"
                                                     XValue="@(e => e.Date)"
                                                     YAggregate="@(e => (decimal?)e.Sum(f => f.Revenue))"
                                                     OrderBy="e => e.X" />
                                </ApexChart>
                            }
                            else
                            {
                                <div class="d-flex align-items-center justify-content-center h-100">
                                    <p class="text-muted">No revenue data available</p>
                                </div>
                            }
                        </ChartCard>
                    </div>

                    @* Payment Method Breakdown *@
                    <div class="col-lg-4 mb-3">
                        <ChartCard Title="Payment Methods" Subtitle="Revenue distribution" Height="350px">
                            @if (salesData.RevenueByPaymentMethod.Any())
                            {
                                <ApexChart TItem="RevenueByPaymentMethodDto"
                                           Options="@paymentMethodOptions">
                                    <ApexPointSeries TItem="RevenueByPaymentMethodDto"
                                                     Items="@salesData.RevenueByPaymentMethod"
                                                     Name="Revenue"
                                                     SeriesType="SeriesType.Pie"
                                                     XValue="@(e => e.PaymentMethod)"
                                                     YAggregate="@(e => (decimal?)e.Sum(f => f.Revenue))" />
                                </ApexChart>
                            }
                            else
                            {
                                <div class="d-flex align-items-center justify-content-center h-100">
                                    <p class="text-muted">No payment data available</p>
                                </div>
                            }
                        </ChartCard>
                    </div>
                </div>

                @* Top Selling Products *@
                <div class="card border-0 shadow-sm">
                    <div class="card-header bg-white">
                        <h5 class="mb-0">
                            <span class="bi bi-star me-2"></span>Top Selling Products
                        </h5>
                    </div>
                    <div class="card-body">
                        @if (salesData.TopSellingProducts.Any())
                        {
                            <div class="table-responsive">
                                <table class="table table-hover align-middle mb-0">
                                    <thead>
                                        <tr>
                                            <th>Product</th>
                                            <th class="text-end">Quantity Sold</th>
                                            <th class="text-end">Revenue</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var product in salesData.TopSellingProducts.Take(10))
                                        {
                                            <tr>
                                                <td>
                                                    <strong>@product.ProductName</strong>
                                                    <br />
                                                    <small class="text-muted">ID: @product.ProductId</small>
                                                </td>
                                                <td class="text-end">
                                                    <span class="badge bg-primary">@product.QuantitySold.ToString("N0")</span>
                                                </td>
                                                <td class="text-end">
                                                    <strong class="text-success">$@product.Revenue.ToString("N2")</strong>
                                                </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        }
                        else
                        {
                            <p class="text-muted mb-0">No sales data available</p>
                        }
                    </div>
                </div>
            }
        </DashboardSection>
    </div>

    @* ==================== INVENTORY ANALYTICS ==================== *@
    <div class="mb-5">
        <h4 class="mb-3">
            <span class="bi bi-box-seam me-2"></span>Inventory & Stock Analytics
        </h4>

        <DashboardSection IsLoading="@isInventoryLoading"
                          ErrorMessage="@inventoryErrorMessage"
                          ShowRetryButton="true"
                          OnRetry="@LoadInventoryDashboard">
            @if (inventoryData != null)
            {
                @* Inventory Stats Row *@
                <div class="row mb-4">
                    <div class="col-md-3">
                        <StatsCard
                            Title="Total Products"
                            Value="@inventoryData.TotalProducts.ToString("N0")"
                            SubLabel="In catalog"
                            Color="primary" />
                    </div>
                    <div class="col-md-3">
                        <StatsCard
                            Title="Categories"
                            Value="@inventoryData.TotalCategories.ToString("N0")"
                            SubLabel="Product categories"
                            Color="info" />
                    </div>
                    <div class="col-md-3">
                        <StatsCard
                            Title="Total Stock Value"
                            Value="@($"${inventoryData.TotalStockValue:N2}")"
                            SubLabel="Inventory value"
                            Color="success" />
                    </div>
                    <div class="col-md-3">
                        <StatsCard
                            Title="Low Stock Items"
                            Value="@inventoryData.LowStockCount.ToString("N0")"
                            SubLabel="@($"{inventoryData.OutOfStockCount} out of stock")"
                            Color="warning" />
                    </div>
                </div>

                @* Stock by Category Chart *@
                <div class="row mb-4">
                    <div class="col-12">
                        <ChartCard Title="Stock by Category" Subtitle="Inventory distribution" Height="300px">
                            @if (inventoryData.StockByCategory.Any())
                            {
                                <ApexChart TItem="CategoryStockDto"
                                           Options="@categoryStockOptions">
                                    <ApexPointSeries TItem="CategoryStockDto"
                                                     Items="@inventoryData.StockByCategory"
                                                     Name="Quantity"
                                                     SeriesType="SeriesType.Bar"
                                                     XValue="@(e => e.CategoryName)"
                                                     YAggregate="@(e => e.Sum(f => f.TotalQuantity))"
                                                     OrderByDescending="e => e.Y" />
                                </ApexChart>
                            }
                            else
                            {
                                <div class="d-flex align-items-center justify-content-center h-100">
                                    <p class="text-muted">No category data available</p>
                                </div>
                            }
                        </ChartCard>
                    </div>
                </div>

                @* Alerts Row *@
                <div class="row">
                    @* Low Stock Products *@
                    <div class="col-lg-6 mb-3">
                        <div class="card border-0 shadow-sm">
                            <div class="card-header bg-warning text-dark">
                                <h5 class="mb-0">
                                    <span class="bi bi-exclamation-triangle me-2"></span>Low Stock Alert
                                </h5>
                            </div>
                            <div class="card-body">
                                @if (inventoryData.LowStockProducts.Any())
                                {
                                    <div class="list-group list-group-flush">
                                        @foreach (var product in inventoryData.LowStockProducts.Take(5))
                                        {
                                            <div class="list-group-item px-0">
                                                <div class="d-flex justify-content-between">
                                                    <div>
                                                        <strong>@product.ProductName</strong>
                                                        <br />
                                                        <small class="text-muted">@product.CategoryName</small>
                                                    </div>
                                                    <div class="text-end">
                                                        <span class="badge bg-danger">@product.CurrentStock / @product.MinimumStock</span>
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                    </div>
                                    @if (inventoryData.LowStockProducts.Count > 5)
                                    {
                                        <div class="text-center mt-2">
                                            <small class="text-muted">And @(inventoryData.LowStockProducts.Count - 5) more...</small>
                                        </div>
                                    }
                                }
                                else
                                {
                                    <p class="text-muted mb-0">All products are well stocked!</p>
                                }
                            </div>
                        </div>
                    </div>

                    @* Expiring Products *@
                    <div class="col-lg-6 mb-3">
                        <div class="card border-0 shadow-sm">
                            <div class="card-header bg-danger text-white">
                                <h5 class="mb-0">
                                    <span class="bi bi-calendar-x me-2"></span>Expiring Soon
                                </h5>
                            </div>
                            <div class="card-body">
                                @if (inventoryData.ExpiringProducts.Any())
                                {
                                    <div class="list-group list-group-flush">
                                        @foreach (var product in inventoryData.ExpiringProducts.Take(5))
                                        {
                                            <div class="list-group-item px-0">
                                                <div class="d-flex justify-content-between">
                                                    <div>
                                                        <strong>@product.ProductName</strong>
                                                        <br />
                                                        <small class="text-muted">Qty: @product.Quantity</small>
                                                    </div>
                                                    <div class="text-end">
                                                        <div class="badge bg-danger">@product.DaysUntilExpiry days</div>
                                                        <br />
                                                        <small class="text-muted">@product.ExpiryDate.ToString("MMM dd")</small>
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                    </div>
                                    @if (inventoryData.ExpiringProducts.Count > 5)
                                    {
                                        <div class="text-center mt-2">
                                            <small class="text-muted">And @(inventoryData.ExpiringProducts.Count - 5) more...</small>
                                        </div>
                                    }
                                }
                                else
                                {
                                    <p class="text-muted mb-0">No products expiring soon</p>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            }
        </DashboardSection>
    </div>

    @* ==================== CUSTOMER ANALYTICS ==================== *@
    <div class="mb-5">
        <h4 class="mb-3">
            <span class="bi bi-people me-2"></span>Customer & Loyalty Analytics
        </h4>

        <DashboardSection IsLoading="@isCustomerLoading"
                          ErrorMessage="@customerErrorMessage"
                          ShowRetryButton="true"
                          OnRetry="@LoadCustomerDashboard">
            @if (customerData != null)
            {
                @* Customer Stats Row *@
                <div class="row mb-4">
                    <div class="col-md-3">
                        <StatsCard
                            Title="Total Customers"
                            Value="@customerData.TotalCustomers.ToString("N0")"
                            SubLabel="Registered customers"
                            Color="primary" />
                    </div>
                    <div class="col-md-3">
                        <StatsCard
                            Title="New Customers"
                            Value="@customerData.NewCustomers.ToString("N0")"
                            SubLabel="@GetDateRangeLabel()"
                            Color="success" />
                    </div>
                    <div class="col-md-3">
                        <StatsCard
                            Title="Average Spending"
                            Value="@($"${customerData.AverageSpending:N2}")"
                            SubLabel="Per customer"
                            Color="info" />
                    </div>
                    <div class="col-md-3">
                        <StatsCard
                            Title="Active Loyalty Points"
                            Value="@(customerData.LoyaltyPointsSummary?.ActivePoints.ToString("N0") ?? "N/A")"
                            SubLabel="Total points in system"
                            Color="warning" />
                    </div>
                </div>

                @* Charts Row *@
                <div class="row mb-4">
                    @* Customer Rank Distribution *@
                    <div class="col-lg-6 mb-3">
                        <ChartCard Title="Customer Rank Distribution" Subtitle="Customer segmentation" Height="350px">
                            @if (customerData.CustomerRankDistribution.Any())
                            {
                                <ApexChart TItem="CustomerRankDistributionDto"
                                           Options="@customerRankOptions">
                                    <ApexPointSeries TItem="CustomerRankDistributionDto"
                                                     Items="@customerData.CustomerRankDistribution"
                                                     Name="Customers"
                                                     SeriesType="SeriesType.Donut"
                                                     XValue="@(e => e.Rank)"
                                                     YAggregate="@(e => e.Sum(f => f.Count))" />
                                </ApexChart>
                            }
                            else
                            {
                                <div class="d-flex align-items-center justify-content-center h-100">
                                    <p class="text-muted">No customer rank data available</p>
                                </div>
                            }
                        </ChartCard>
                    </div>

                    @* Loyalty Points Summary *@
                    <div class="col-lg-6 mb-3">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-header bg-white">
                                <h5 class="mb-0">
                                    <span class="bi bi-gift me-2"></span>Loyalty Points Summary
                                </h5>
                            </div>
                            <div class="card-body">
                                @if (customerData.LoyaltyPointsSummary != null)
                                {
                                    <div class="row text-center">
                                        <div class="col-4">
                                            <div class="mb-3">
                                                <h3 class="text-primary mb-1">@customerData.LoyaltyPointsSummary.TotalPointsIssued.ToString("N0")</h3>
                                                <small class="text-muted">Total Issued</small>
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="mb-3">
                                                <h3 class="text-danger mb-1">@customerData.LoyaltyPointsSummary.TotalPointsRedeemed.ToString("N0")</h3>
                                                <small class="text-muted">Total Redeemed</small>
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="mb-3">
                                                <h3 class="text-success mb-1">@customerData.LoyaltyPointsSummary.ActivePoints.ToString("N0")</h3>
                                                <small class="text-muted">Active Points</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="progress" style="height: 25px;">
                                        <div class="progress-bar bg-success" role="progressbar"
                                             style="width: @(GetPercentage(customerData.LoyaltyPointsSummary.ActivePoints, customerData.LoyaltyPointsSummary.TotalPointsIssued))%">
                                            Active
                                        </div>
                                        <div class="progress-bar bg-danger" role="progressbar"
                                             style="width: @(GetPercentage(customerData.LoyaltyPointsSummary.TotalPointsRedeemed, customerData.LoyaltyPointsSummary.TotalPointsIssued))%">
                                            Redeemed
                                        </div>
                                    </div>
                                }
                                else
                                {
                                    <p class="text-muted mb-0">No loyalty points data available</p>
                                }
                            </div>
                        </div>
                    </div>
                </div>

                @* Top Customers *@
                <div class="card border-0 shadow-sm">
                    <div class="card-header bg-white">
                        <h5 class="mb-0">
                            <span class="bi bi-star me-2"></span>Top Customers by Spending
                        </h5>
                    </div>
                    <div class="card-body">
                        @if (customerData.TopCustomers.Any())
                        {
                            <div class="table-responsive">
                                <table class="table table-hover align-middle mb-0">
                                    <thead>
                                        <tr>
                                            <th>Customer</th>
                                            <th>Phone</th>
                                            <th class="text-end">Invoices</th>
                                            <th class="text-end">Total Spending</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var customer in customerData.TopCustomers.Take(10))
                                        {
                                            <tr>
                                                <td>
                                                    <strong>@customer.CustomerName</strong>
                                                    <br />
                                                    <small class="text-muted">ID: @customer.CustomerId</small>
                                                </td>
                                                <td>@customer.Phone</td>
                                                <td class="text-end">
                                                    <span class="badge bg-primary">@customer.InvoiceCount</span>
                                                </td>
                                                <td class="text-end">
                                                    <strong class="text-success">$@customer.TotalSpending.ToString("N2")</strong>
                                                </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        }
                        else
                        {
                            <p class="text-muted mb-0">No customer data available</p>
                        }
                    </div>
                </div>
            }
        </DashboardSection>
    </div>

    @* ==================== EMPLOYEE ANALYTICS ==================== *@
    <div class="mb-5">
        <h4 class="mb-3">
            <span class="bi bi-person-badge me-2"></span>Employee & Attendance Analytics
        </h4>

        <DashboardSection IsLoading="@isEmployeeLoading"
                          ErrorMessage="@employeeErrorMessage"
                          ShowRetryButton="true"
                          OnRetry="@LoadEmployeeDashboard">
            @if (employeeData != null)
            {
                @* Employee Stats Row *@
                <div class="row mb-4">
                    @if (employeeData.TotalEmployees.HasValue)
                    {
                        <div class="col-md-3">
                            <StatsCard
                                Title="Total Employees"
                                Value="@employeeData.TotalEmployees.Value.ToString("N0")"
                                SubLabel="Active staff members"
                                Color="primary" />
                        </div>
                    }
                    <div class="col-md-3">
                        <StatsCard
                            Title="Total Attendances"
                            Value="@employeeData.TotalAttendances.ToString("N0")"
                            SubLabel="@GetDateRangeLabel()"
                            Color="info" />
                    </div>
                    <div class="col-md-3">
                        <StatsCard
                            Title="On-Time Rate"
                            Value="@($"{employeeData.OnTimePercentage:F1}%")"
                            SubLabel="Attendance punctuality"
                            Color="success" />
                    </div>
                    @if (employeeData.TotalWages.HasValue)
                    {
                        <div class="col-md-3">
                            <StatsCard
                                Title="Total Wages"
                                Value="@($"${employeeData.TotalWages.Value:N2}")"
                                SubLabel="@GetDateRangeLabel()"
                                Color="warning" />
                        </div>
                    }
                </div>

                @* Charts Row *@
                <div class="row mb-4">
                    @* Attendance by Shift - Count *@
                    <div class="col-lg-6 mb-3">
                        <ChartCard Title="Attendance by Shift" Subtitle="Attendance count distribution" Height="350px">
                            @if (employeeData.AttendanceByShift.Any())
                            {
                                <ApexChart TItem="AttendanceByShiftDto"
                                           Options="@attendanceByShiftOptions">
                                    <ApexPointSeries TItem="AttendanceByShiftDto"
                                                     Items="@employeeData.AttendanceByShift"
                                                     Name="Attendances"
                                                     SeriesType="SeriesType.Donut"
                                                     XValue="@(e => e.ShiftName)"
                                                     YAggregate="@(e => e.Sum(f => f.AttendanceCount))" />
                                </ApexChart>
                            }
                            else
                            {
                                <div class="d-flex align-items-center justify-content-center h-100">
                                    <p class="text-muted">No shift attendance data available</p>
                                </div>
                            }
                        </ChartCard>
                    </div>

                    @* Total Hours by Shift *@
                    <div class="col-lg-6 mb-3">
                        <ChartCard Title="Work Hours by Shift" Subtitle="Total hours worked" Height="350px">
                            @if (employeeData.AttendanceByShift.Any())
                            {
                                <ApexChart TItem="AttendanceByShiftDto"
                                           Options="@hoursBarOptions">
                                    <ApexPointSeries TItem="AttendanceByShiftDto"
                                                     Items="@employeeData.AttendanceByShift"
                                                     Name="Hours"
                                                     SeriesType="SeriesType.Bar"
                                                     XValue="@(e => e.ShiftName)"
                                                     YAggregate="@(e => (decimal)e.Sum(f => f.TotalHoursWorked))"
                                                     OrderByDescending="e => e.Y" />
                                </ApexChart>
                            }
                            else
                            {
                                <div class="d-flex align-items-center justify-content-center h-100">
                                    <p class="text-muted">No hours data available</p>
                                </div>
                            }
                        </ChartCard>
                    </div>
                </div>

                @* Attendance Details Table *@
                <div class="card border-0 shadow-sm">
                    <div class="card-header bg-white">
                        <h5 class="mb-0">
                            <span class="bi bi-clipboard-data me-2"></span>Attendance by Shift Details
                        </h5>
                    </div>
                    <div class="card-body">
                        @if (employeeData.AttendanceByShift.Any())
                        {
                            <div class="table-responsive">
                                <table class="table table-hover align-middle mb-0">
                                    <thead>
                                        <tr>
                                            <th>Shift</th>
                                            <th class="text-end">Total Attendances</th>
                                            <th class="text-end">On Time</th>
                                            <th class="text-end">Late</th>
                                            <th class="text-end">Total Hours</th>
                                            <th class="text-end">Punctuality Rate</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var shift in employeeData.AttendanceByShift)
                                        {
                                            var punctualityRate = shift.AttendanceCount > 0 ? (double)shift.OnTimeCount / shift.AttendanceCount * 100 : 0;
                                            <tr>
                                                <td>
                                                    <strong>@shift.ShiftName</strong>
                                                </td>
                                                <td class="text-end">
                                                    <span class="badge bg-primary">@shift.AttendanceCount</span>
                                                </td>
                                                <td class="text-end">
                                                    <span class="badge bg-success">@shift.OnTimeCount</span>
                                                </td>
                                                <td class="text-end">
                                                    <span class="badge bg-warning">@shift.LateCount</span>
                                                </td>
                                                <td class="text-end">
                                                    <strong>@shift.TotalHoursWorked.ToString("F1")h</strong>
                                                </td>
                                                <td class="text-end">
                                                    <span class="badge @(punctualityRate >= 90 ? "bg-success" : punctualityRate >= 75 ? "bg-warning" : "bg-danger")">
                                                        @punctualityRate.ToString("F0")%
                                                    </span>
                                                </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        }
                        else
                        {
                            <p class="text-muted mb-0">No attendance data available</p>
                        }
                    </div>
                </div>
            }
        </DashboardSection>
    </div>
</div>

@code {
    // State
    private DateRangeEnum selectedRange = DateRangeEnum.Today;
    private string? globalErrorMessage;
    private bool _isLoading = false; // Prevent concurrent loads

    // Sales Data
    private bool isSalesLoading = true;
    private string? salesErrorMessage;
    private SalesDashboardDto? salesData;

    // Inventory Data
    private bool isInventoryLoading = true;
    private string? inventoryErrorMessage;
    private InventoryDashboardDto? inventoryData;

    // Customer Data
    private bool isCustomerLoading = true;
    private string? customerErrorMessage;
    private CustomerDashboardDto? customerData;

    // Employee Data
    private bool isEmployeeLoading = true;
    private string? employeeErrorMessage;
    private EmployeeDashboardDto? employeeData;

    // Chart Options
    private ApexChartOptions<RevenueTrendDto> revenueTrendOptions = new()
    {
        Chart = new Chart
        {
            Toolbar = new Toolbar { Show = false },
            Zoom = new Zoom { Enabled = false }
        },
        Stroke = new Stroke { Curve = Curve.Smooth, Width = 2 },
        DataLabels = new DataLabels { Enabled = false },
        Colors = new List<string> { "#28a745" },
        Fill = new Fill
        {
            Type = new List<FillType> { FillType.Gradient },
            Gradient = new FillGradient
            {
                ShadeIntensity = 1,
                OpacityFrom = 0.7,
                OpacityTo = 0.3
            }
        }
    };

    private ApexChartOptions<RevenueByPaymentMethodDto> paymentMethodOptions = new()
    {
        Chart = new Chart { Toolbar = new Toolbar { Show = false } },
        Legend = new Legend { Position = LegendPosition.Bottom },
        Colors = new List<string> { "#007bff", "#28a745", "#ffc107", "#dc3545" }
    };

    private ApexChartOptions<CategoryStockDto> categoryStockOptions = new()
    {
        Chart = new Chart
        {
            Toolbar = new Toolbar { Show = false },
            Zoom = new Zoom { Enabled = false }
        },
        PlotOptions = new PlotOptions
        {
            Bar = new PlotOptionsBar
            {
                Horizontal = true,
                Distributed = true
            }
        },
        DataLabels = new DataLabels { Enabled = false },
        Legend = new Legend { Show = false },
        Colors = new List<string> { "#007bff", "#6610f2", "#6f42c1", "#e83e8c", "#dc3545", "#fd7e14", "#ffc107", "#28a745" }
    };

    private ApexChartOptions<CustomerRankDistributionDto> customerRankOptions = new()
    {
        Chart = new Chart { Toolbar = new Toolbar { Show = false } },
        Legend = new Legend { Position = LegendPosition.Bottom },
        Colors = new List<string> { "#ffc107", "#28a745", "#007bff", "#dc3545" }
    };

    private ApexChartOptions<AttendanceByShiftDto> attendanceByShiftOptions = new()
    {
        Chart = new Chart { Toolbar = new Toolbar { Show = false } },
        Legend = new Legend { Position = LegendPosition.Bottom },
        Colors = new List<string> { "#007bff", "#28a745", "#ffc107", "#dc3545", "#6610f2" }
    };

    private ApexChartOptions<AttendanceByShiftDto> hoursBarOptions = new()
    {
        Chart = new Chart
        {
            Toolbar = new Toolbar { Show = false },
            Zoom = new Zoom { Enabled = false }
        },
        PlotOptions = new PlotOptions
        {
            Bar = new PlotOptionsBar { Horizontal = true }
        },
        DataLabels = new DataLabels { Enabled = false },
        Colors = new List<string> { "#007bff" }
    };

    protected override async Task OnInitializedAsync()
    {
        await LoadAllDashboards();
    }

    private async Task LoadAllDashboards()
    {
        if (_isLoading) return; // Prevent concurrent loads

        _isLoading = true;
        try
        {
            await Task.WhenAll(
                LoadSalesDashboard(),
                LoadInventoryDashboard(),
                LoadCustomerDashboard(),
                LoadEmployeeDashboard()
            );
        }
        finally
        {
            _isLoading = false;
        }
    }

    private async Task LoadSalesDashboard()
    {
        try
        {
            isSalesLoading = true;
            salesErrorMessage = null;

            var result = await DashboardApiClient.GetSalesDashboardAsync(selectedRange);

            if (result != null)
            {
                salesData = result;
            }
            else
            {
                salesErrorMessage = "No sales data returned from server";
            }
        }
        catch (Exception ex)
        {
            salesErrorMessage = $"Failed to load sales data: {ex.Message}";
        }
        finally
        {
            isSalesLoading = false;
        }
    }

    private async Task LoadInventoryDashboard()
    {
        try
        {
            isInventoryLoading = true;
            inventoryErrorMessage = null;

            var result = await DashboardApiClient.GetInventoryDashboardAsync();

            if (result != null)
            {
                inventoryData = result;
            }
            else
            {
                inventoryErrorMessage = "No inventory data returned from server";
            }
        }
        catch (Exception ex)
        {
            inventoryErrorMessage = $"Failed to load inventory data: {ex.Message}";
        }
        finally
        {
            isInventoryLoading = false;
        }
    }

    private async Task LoadCustomerDashboard()
    {
        try
        {
            isCustomerLoading = true;
            customerErrorMessage = null;

            var result = await DashboardApiClient.GetCustomerDashboardAsync(selectedRange);

            if (result != null)
            {
                customerData = result;
            }
            else
            {
                customerErrorMessage = "No customer data returned from server";
            }
        }
        catch (Exception ex)
        {
            customerErrorMessage = $"Failed to load customer data: {ex.Message}";
        }
        finally
        {
            isCustomerLoading = false;
        }
    }

    private async Task LoadEmployeeDashboard()
    {
        try
        {
            isEmployeeLoading = true;
            employeeErrorMessage = null;

            var result = await DashboardApiClient.GetEmployeeDashboardAsync(selectedRange);

            if (result != null)
            {
                employeeData = result;
            }
            else
            {
                employeeErrorMessage = "No employee data returned from server";
            }
        }
        catch (Exception ex)
        {
            employeeErrorMessage = $"Failed to load employee data: {ex.Message}";
        }
        finally
        {
            isEmployeeLoading = false;
        }
    }

    private async Task HandleRangeChanged(DateRangeEnum newRange)
    {
        selectedRange = newRange;
        await LoadAllDashboards();
    }

    private string GetDateRangeLabel()
    {
        return selectedRange switch
        {
            DateRangeEnum.Today => "Today",
            DateRangeEnum.ThisWeek => "This Week",
            DateRangeEnum.ThisMonth => "This Month",
            DateRangeEnum.ThisYear => "This Year",
            _ => "Unknown"
        };
    }

    private double GetPercentage(int value, int total)
    {
        return total > 0 ? (double)value / total * 100 : 0;
    }
}
</file>

<file path="MegaMarket.API/MegaMarket.API.csproj">
<Project Sdk="Microsoft.NET.Sdk.Web">
  <PropertyGroup>
    <TargetFramework>net8.0</TargetFramework>
    <Nullable>enable</Nullable>
    <ImplicitUsings>enable</ImplicitUsings>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="BCrypt.Net-Next" Version="4.0.3" />
    <PackageReference Include="Microsoft.AspNetCore.Authentication.JwtBearer" Version="8.0.21" />
    <PackageReference Include="Microsoft.EntityFrameworkCore" Version="8.0.21" />
    <PackageReference Include="Microsoft.EntityFrameworkCore.Design" Version="8.0.21">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
    </PackageReference>
    <PackageReference Include="Microsoft.EntityFrameworkCore.SqlServer" Version="8.0.21" />
    <PackageReference Include="Swashbuckle.AspNetCore" Version="6.6.2" />
    <PackageReference Include="System.IdentityModel.Tokens.Jwt" Version="8.14.0" />
  </ItemGroup>
  
  <ItemGroup>
    <ProjectReference Include="..\MegaMarket.Data\MegaMarket.Data.csproj" />
  </ItemGroup>
  
  <ItemGroup>
    <Folder Include="DTOs\Imports\" />
    <Folder Include="DTOs\Exports\" />
    <Folder Include="DTOs\Inventory\" />
    <Folder Include="DTOs\Products\" />
  </ItemGroup>
</Project>
</file>

<file path="MegaMarket.BlazorUI/Components/_Imports.razor">
@using System.Net.Http
@using System.Net.Http.Json
@using System.ComponentModel.DataAnnotations
@using System.Security.Claims
@using Microsoft.AspNetCore.Components.Forms
@using Microsoft.AspNetCore.Components.Routing
@using Microsoft.AspNetCore.Components.Web
@using static Microsoft.AspNetCore.Components.Web.RenderMode
@using Microsoft.AspNetCore.Components.Web.Virtualization
@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Authorization
@using Microsoft.JSInterop
@using MegaMarket.BlazorUI
@using MegaMarket.BlazorUI.Components
@using MegaMarket.BlazorUI.Components.Layout
@using MegaMarket.BlazorUI.Components.Shared
@using MegaMarket.BlazorUI.Components.Pages.Employees.Components
@using MegaMarket.BlazorUI.Components.Pages.ShiftTypes.Components
@using MegaMarket.BlazorUI.Components.Pages.Attendance.Components
@using MegaMarket.BlazorUI.Services.Auth
</file>

<file path="MegaMarket.BlazorUI/Components/Pages/Promotion/PromotionManagement.razor">
@page "/promotion"

@inject IHttpClientFactory HttpClientFactory
@using System.ComponentModel.DataAnnotations
@using System.ComponentModel.DataAnnotations.Schema
@using System.Globalization
@using MegaMarket.API.DTOs.Products
@using MegaMarket.API.DTOs.Promotion

<div class="promotion-container">
    <h2>Promotion Management</h2>

    @if (!IsEditing)
    {
        <div class="promotion-list">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <h4>Danh Sách (@Promotions.Count)</h4>
                <button class="btn-success btn-action" @onclick="StartNewPromotion">➕ Create</button>
            </div>

            @if (Promotions.Any())
            {
                <table class="table" style="width: 100%; border-collapse: collapse;">
                    <thead>
                        <tr style="background-color: #f1f1f1;">
                            <th style="padding: 10px; border: 1px solid #ddd;">ID</th>
                            <th style="padding: 10px; border: 1px solid #ddd;">Name</th>
                            <th style="padding: 10px; border: 1px solid #ddd;">Value</th>
                            <th style="padding: 10px; border: 1px solid #ddd;">Time</th>
                            <th style="padding: 10px; border: 1px solid #ddd;">Apply</th>
                            <th style="padding: 10px; border: 1px solid #ddd;">Operation</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var promo in Promotions)
                        {
                            <tr>
                                <td style="padding: 10px; border: 1px solid #ddd;">@promo.PromotionId</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">@promo.Name</td>
                                <td style="padding: 10px; border: 1px solid #ddd;">
                                    @GetDiscountDisplay(promo)
                                </td>
                                <td style="padding: 10px; border: 1px solid #ddd; font-size: 0.9em;">
                                    @promo.StartDate.ToShortDateString() - @promo.EndDate.ToShortDateString()
                                </td>
                                <td style="padding: 10px; border: 1px solid #ddd;">
                                    @GetTypeDisplay(promo.Type)
                                </td>
                                <td style="padding: 10px; border: 1px solid #ddd;">
                                    <button class="btn-primary btn-action" @onclick="() => StartEdit(promo.PromotionId)">Edit</button>
                                    <button class="btn-danger btn-action" @onclick="() => DeletePromotion(promo.PromotionId)">Delete</button>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <p style="text-align: center; color: #6c757d;">No value</p>
            }
        </div>
	}
    else
    {
        <div class="edit-form">
            <h3>@(CurrentPromotionId == 0 ? "Add new promotion" : $"Edit: {CurrentPromotion.Name}")</h3>

            <EditForm Model="@CurrentPromotion" OnValidSubmit="SavePromotion">
                <DataAnnotationsValidator />

                <div class="form-group">
                    <label>Name:</label>
                    <InputText @bind-Value="CurrentPromotion.Name" class="form-control" />
                    <ValidationMessage For="@(() => CurrentPromotion.Name)" />
                </div>

                <div class="form-group">
                    <label>Description:</label>
                    <InputTextArea @bind-Value="CurrentPromotion.Description" class="form-control" />
                </div>

                <div class="form-group">
                    <label>Apply:</label>
                    <InputSelect @bind-Value="CurrentPromotion.Type" class="form-control">
                        <option value="invoice">Invoice</option>
                        <option value="product">Product</option>
                        <option value="promotion">Promotion</option>
                    </InputSelect>
                </div>

                <div class="form-group">
                    <label>Discount type:</label>
                    <InputSelect @bind-Value="CurrentPromotion.DiscountType" class="form-control">
                        @if(CurrentPromotion.Type == "invoice")
                        {
                            <option value="percent">Percent (%)</option>
						}
                        <option value="fixed">Fixed (VNĐ)</option>
                    </InputSelect>
                </div>

                <div class="form-group">
                    <label>Discount value:</label>
                    <InputNumber @bind-Value="CurrentPromotion.DiscountValue" class="form-control" />
                    <ValidationMessage For="@(() => CurrentPromotion.DiscountValue)" />
                </div>

                <div class="form-group">
                    <label>Start date:</label>
                    <InputDate @bind-Value="CurrentPromotion.StartDate" class="form-control" />
                    <ValidationMessage For="@(() => CurrentPromotion.StartDate)" />
                </div>

                <div class="form-group">
                    <label>End date:</label>
                    <InputDate @bind-Value="CurrentPromotion.EndDate" class="form-control" />
                    <ValidationMessage For="@(() => CurrentPromotion.EndDate)" />
                </div>
            </EditForm>

            @if (CurrentPromotion.Type == "product")
            {
                <div class="form-group">
                    <label for="product">Barcode: </label>
                    <input id="product"
                            type="number"
                            value="@Barcode"
                            @oninput="HandleBarcode" />
                </div>

                <div class="form-group">
                    <label>Product name: </label>
                    <span>@ProductName</span>
                </div>

                <button disabled="@(!IsBarcodeValid)" @onclick="AddBarcode">Add</button>
            }

            <div class="action-buttons">
                <button type="submit" class="btn-primary btn-action" @onclick="SavePromotion">Save</button>
                <button type="button" class="btn-secondary btn-action" @onclick="CancelEdit">Cancel</button>
            </div>
        </div>
	}
</div>

@code {
    // -----------------------------------------------------------------------
    // STATE (Trạng thái)
    // -----------------------------------------------------------------------

    private List<PromotionResDto> Promotions { get; set; } = new List<PromotionResDto>();
    private PromotionReqDto CurrentPromotion { get; set; } = new PromotionReqDto();
    private List<ProductDto> Products = new List<ProductDto>();
    private Dictionary<string, ProductDto> ProductDB;
    private int CurrentPromotionId { get; set; } = 0;
    private bool IsEditing { get; set; } = false;
    private string Barcode { get; set; } = string.Empty;
    private bool IsBarcodeValid { get; set; } = false;
    private List<int> ProductList { get; set; } = new List<int>();
    private string ProductName { get; set; } = string.Empty;

    // -----------------------------------------------------------------------
    // LIFECYCLE VÀ KHỞI TẠO DỮ LIỆU
    // -----------------------------------------------------------------------

    protected override async Task OnInitializedAsync()
    {
        try
        {
            var client = HttpClientFactory.CreateClient("MegaMarket.API");
            Promotions = await client.GetFromJsonAsync<List<PromotionResDto>>("api/Promotion") ?? new List<PromotionResDto>();
            Products = await client.GetFromJsonAsync<List<ProductDto>>("api/Products") ?? new List<ProductDto>();
            ProductDB = Products.ToDictionary(p => p.Barcode, p => p);
            Console.WriteLine($"Đã tải {Promotions.Count} khuyến mãi.");
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Lỗi khi tải danh sách khuyến mãi: {ex.Message}");
            Promotions = new List<PromotionResDto>();
            Products = new List<ProductDto>();
            ProductDB = new Dictionary<string, ProductDto>();
        }
    }

    // -----------------------------------------------------------------------
    // HÀM HỖ TRỢ HIỂN THỊ
    // -----------------------------------------------------------------------

    private string GetDiscountDisplay(PromotionResDto promo)
    {
        if (promo.DiscountType == "percent")
        {
            return $"{promo.DiscountValue:N0}%";
        }
        else if (promo.DiscountType == "fixed")
        {
            // Sử dụng định dạng tiền tệ Việt Nam
            var culture = new CultureInfo("vi-VN");
            return string.Format(culture, "{0:N0} VNĐ", promo.DiscountValue);
        }
        return "N/A";
    }

    private string GetTypeDisplay(string type)
    {
        return type switch
        {
            "invoice" => "Toàn bộ Hóa đơn",
            "product" => "Sản phẩm cụ thể",
            _ => "Khác",
        };
    }

    private void HandleBarcode(ChangeEventArgs e)
    {
        Barcode = e.Value?.ToString() ?? string.Empty;
        if (ProductDB.TryGetValue(Barcode, out var product))
        {
            IsBarcodeValid = true;
            ProductName = product.Name;
        }
        else
        {
            IsBarcodeValid = false;
            ProductName = string.Empty;
        }
    }

    private void AddBarcode()
    {
        if (ProductDB.TryGetValue(Barcode, out var product))
        {
            ProductList.Add(product.ProductId);
            Barcode = string.Empty;
            ProductName = string.Empty;
            IsBarcodeValid = false;
            Console.WriteLine("Added barcode to promotion: " + string.Join(", ", ProductList));
        }
    }

    private bool isPercent()
    {
        if(CurrentPromotion.Type == "product")
        {
            return false;
        }
        return true;
    }

    // -----------------------------------------------------------------------
    // HÀM CRUD LOGIC
    // -----------------------------------------------------------------------

    // Bắt đầu chế độ Thêm mới
    private void StartNewPromotion()
    {
        CurrentPromotion = new PromotionReqDto();
        IsEditing = true;
    }

    // Bắt đầu chế độ Chỉnh sửa
    private void StartEdit(int id)
    {
        var promoToEdit = Promotions.FirstOrDefault(p => p.PromotionId == id);
        CurrentPromotionId = id;
        if (promoToEdit != null)
        {
            // Tạo bản sao để tránh thay đổi trực tiếp vào danh sách khi chưa lưu
            CurrentPromotion = new PromotionReqDto
            {
                Name = promoToEdit.Name,
                Description = promoToEdit.Description,
                DiscountType = promoToEdit.DiscountType,
                DiscountValue = promoToEdit.DiscountValue,
                StartDate = promoToEdit.StartDate,
                EndDate = promoToEdit.EndDate,
                Type = promoToEdit.Type
            };
            IsEditing = true;
        }
    }

    // Lưu (Create hoặc Update)
    private async Task SavePromotion()
    {
		CurrentPromotion.PromotionProducts = ProductList;
        if (CurrentPromotionId == 0)
        {
            // Thêm mới (Create)
            var httpClient = HttpClientFactory.CreateClient("MegaMarket.API");
            var response = await httpClient.PostAsJsonAsync("api/Promotion", CurrentPromotion);
            if (response.IsSuccessStatusCode)
            {
                IsEditing = false;
                CurrentPromotion = new PromotionReqDto();
                CurrentPromotionId = 0;
				await OnInitializedAsync(); // Tải lại danh sách sau khi thêm mới
            }
            else
            {
                Console.WriteLine("Lỗi khi thêm mới khuyến mãi.");
            }
        }
        else
        {
			var httpClient = HttpClientFactory.CreateClient("MegaMarket.API");
            var response = await httpClient.PutAsJsonAsync($"api/Promotion/{CurrentPromotionId}", CurrentPromotion);
            if (response.IsSuccessStatusCode)
            {
                IsEditing = false;
                CurrentPromotion = new PromotionReqDto();
				CurrentPromotionId = 0;
                await OnInitializedAsync(); // Tải lại danh sách sau khi cập nhật
            }
            else
            {
				Console.WriteLine("Lỗi khi cập nhật khuyến mãi.");
            }
        }

		ProductList.Clear();
		ProductName = string.Empty;
    }

    // Hủy bỏ chỉnh sửa/thêm mới
    private void CancelEdit()
    {
        IsEditing = false;
        CurrentPromotion = new PromotionReqDto();
		Barcode = string.Empty;
		ProductList.Clear();
        ProductName = string.Empty;
		CurrentPromotionId = 0;
    }

    // Xóa (Delete)
    private async Task DeletePromotion(int id)
    {
        var promoToDelete = Promotions.FirstOrDefault(p => p.PromotionId == id);

        if (promoToDelete != null)
        {
            // Sử dụng JSRuntime.InvokeAsync<bool> để gọi window.confirm
            bool confirmed = await JSRuntime.InvokeAsync<bool>("confirm",
                                                            $"Bạn có chắc chắn muốn xóa khuyến mãi '{promoToDelete.Name}' không?");

            if (confirmed)
            {
                var httpClient = HttpClientFactory.CreateClient("MegaMarket.API");
                var response = await httpClient.DeleteAsync($"api/Promotion/{id}");
                if (response.IsSuccessStatusCode)
                {
					await OnInitializedAsync(); // Tải lại danh sách sau khi xóa
                }
                else
                {
                    Console.WriteLine("Lỗi khi xóa khuyến mãi.");
				}
            }
        }
    }

    // Inject IJSRuntime để dùng hàm xác nhận của trình duyệt
    [Inject]
    public IJSRuntime JSRuntime { get; set; } = default!;
}
</file>

<file path="MegaMarket.BlazorUI/appsettings.json">
{
    "Logging": {
        "LogLevel": {
            "Default": "Information",
            "Microsoft.AspNetCore": "Warning"
        }
    },
    "AllowedHosts": "*",
    "ApiBaseUrl": "https://localhost:7284/",
    "ApiSettings": {
        "BaseUrl": "https://localhost:7284"
    }
}
</file>

<file path="MegaMarket.BlazorUI/Program.cs">
using MegaMarket.BlazorUI.Components;
using MegaMarket.Data.Data;
using MegaMarket.Data.DataAccess;
using MegaMarket.Data.Repositories;
using Microsoft.EntityFrameworkCore;
using MegaMarket.BlazorUI.Services.Auth;
using Microsoft.AspNetCore.Components.Authorization;
using MegaMarket.BlazorUI.Services;
using MegaMarket.BlazorUI.Services.Products;
using MegaMarket.BlazorUI.Services.Imports;
using MegaMarket.BlazorUI.Services.CustomerLoyalty;
using MegaMarket.BlazorUI.Services.Dashboard;
using MegaMarket.BlazorUI.Services.Users;
using MegaMarket.BlazorUI.Services.ShiftTypes;
using MegaMarket.BlazorUI.Services.Attendance;

var builder = WebApplication.CreateBuilder(args);

// Add services to the container.
builder.Services.AddRazorComponents()
    .AddInteractiveServerComponents();
builder.Services.AddHttpClient("MegaMarket.API", client =>
{
    client.BaseAddress = new Uri("https://localhost:7284/");
});
/*builder.Services.AddScoped<IInvoiceRepository, InvoiceRepository>();
builder.Services.AddScoped<InvoiceDAO>();
builder.Services.AddDbContextFactory<MegaMarketDbContext>(options =>
    options.UseSqlServer(builder.Configuration.GetConnectionString("DefaultConnection"),
    x => x.MigrationsAssembly("MegaMarket.Data")));*/

// Add LocalStorage service
builder.Services.AddScoped<LocalStorageService>();

// Add Auth services
builder.Services.AddScoped<AuthService>();
builder.Services.AddScoped<AuthenticationStateProvider, CustomAuthStateProvider>();
builder.Services.AddAuthentication(options =>
{
    options.DefaultScheme = "Cookies";
}).AddCookie("Cookies", options =>
{
    options.LoginPath = "/login";
    options.AccessDeniedPath = "/access-denied";
    // Don't redirect or challenge - let Blazor components handle authorization
    options.Events.OnRedirectToLogin = context => Task.CompletedTask;
    options.Events.OnRedirectToAccessDenied = context => Task.CompletedTask;
});
builder.Services.AddAuthorizationCore();
builder.Services.AddAuthentication(options =>
{
    options.DefaultScheme = "CustomAuthScheme";
})
.AddCookie("CustomAuthScheme", options =>
{
    options.Cookie.Name = "MegaMarketAuthCookie";
    options.SlidingExpiration = true;
});

// Configure API Base URL
var apiBaseUrl = builder.Configuration["ApiBaseUrl"] ?? "https://localhost:7284/";

// Add Dashboard API client service
builder.Services.AddHttpClient<DashboardApiClient>(client =>
{
    client.BaseAddress = new Uri(apiBaseUrl);
});

// Add Users API client service
builder.Services.AddHttpClient<UsersApiClient>(client =>
{
    client.BaseAddress = new Uri(apiBaseUrl);
});

// Add ShiftTypes API client service
builder.Services.AddHttpClient<ShiftTypesApiClient>(client =>
{
    client.BaseAddress = new Uri(apiBaseUrl);
});

// Add Attendance API client service
builder.Services.AddHttpClient<AttendanceApiClient>(client =>
{
    client.BaseAddress = new Uri(apiBaseUrl);
});

// Register Product & Import Services with HttpClient
builder.Services.AddHttpClient<ProductApiClient>(client =>
{
    client.BaseAddress = new Uri(apiBaseUrl);
});

builder.Services.AddHttpClient<ProductService>((sp, client) =>
{
    var configuration = sp.GetRequiredService<IConfiguration>();
    var baseUrl = configuration["ApiSettings:BaseUrl"] ?? configuration["ApiBaseUrl"] ?? "https://localhost:7284";
    client.BaseAddress = new Uri(baseUrl);
});

builder.Services.AddHttpClient<ImportService>((sp, client) =>
{
    var configuration = sp.GetRequiredService<IConfiguration>();
    var baseUrl = configuration["ApiSettings:BaseUrl"] ?? configuration["ApiBaseUrl"] ?? "https://localhost:7284";
    client.BaseAddress = new Uri(baseUrl);
});

// Register HTTP Client
builder.Services.AddHttpClient();

// Register Customer Loyalty Services
builder.Services.AddScoped<CustomerService>();
builder.Services.AddScoped<LoyaltyService>();
builder.Services.AddScoped<ReportService>();
builder.Services.AddScoped<RewardManagementService>();

var app = builder.Build();

// Configure the HTTP request pipeline.
if (!app.Environment.IsDevelopment())
{
    app.UseExceptionHandler("/Error", createScopeForErrors: true);
    app.UseHsts();
}

app.UseHttpsRedirection();
app.UseStaticFiles();
app.UseAntiforgery();
app.UseAuthentication();
app.UseAuthorization();

app.MapRazorComponents<App>()
    .AddInteractiveServerRenderMode();

app.Run();
</file>

<file path="MegaMarket.BlazorUI/Components/Layout/NavMenu.razor">
@using Microsoft.AspNetCore.Components.Authorization

<div class="nav-menu">
    <div class="brand-row">
        <a class="brand" href="">MegaMarket</a>
    </div>

    <nav class="menu-content">
        <AuthorizeView Roles="Admin">
            <Authorized>
                <div class="nav-section-title">Admin</div>
                
                <div class="nav-item">
                    <NavLink class="nav-link" href="admin/dashboard">
                        <span class="bi bi-grid" aria-hidden="true"></span> Dashboard
                    </NavLink>
                </div>
            
                <div class="nav-item">
                    <NavLink class="nav-link" href="employees">
                        <span class="bi bi-people" aria-hidden="true"></span> Employees
                    </NavLink>
                </div>
        
                <div class="nav-item">
                    <NavLink class="nav-link" href="admin/shift-types">
                        <span class="bi bi-clock" aria-hidden="true"></span> Shift Types
                    </NavLink>
                </div>
 
                <div class="nav-item">
                    <NavLink class="nav-link" href="products">
                        <span class="bi bi-box-seam" aria-hidden="true"></span> Products
                    </NavLink>
                </div>
                <div class="nav-item">
                    <NavLink class="nav-link" href="imports">
                        <span class="bi bi-truck" aria-hidden="true"></span> Imports
                    </NavLink>
                </div>
                <div class="nav-item">
                    <NavLink class="nav-link" href="attendance/history">
                        <span class="bi bi-calendar-check" aria-hidden="true"></span> Attendance
                    </NavLink>
                </div>
            </Authorized>
        </AuthorizeView>

        <AuthorizeView Roles="Manager">
            <Authorized>
                <div class="nav-section-title">Manager</div>
            
                <div class="nav-item">
                    <NavLink class="nav-link" href="manager/dashboard">
                        <span class="bi bi-grid" aria-hidden="true"></span> Dashboard
                    </NavLink>
                </div>
        
                <div class="nav-item">
                    <NavLink class="nav-link" href="employees">
                        <span class="bi bi-people" aria-hidden="true"></span> Employees
                    </NavLink>
                </div>
    
                <div class="nav-item">
                    <NavLink class="nav-link" href="products">
                        <span class="bi bi-box-seam" aria-hidden="true"></span> Products
                    </NavLink>
                </div>
                <div class="nav-item">
                    <NavLink class="nav-link" href="imports">
                        <span class="bi bi-truck" aria-hidden="true"></span> Imports
                    </NavLink>
                </div>
                <div class="nav-item">
                    <NavLink class="nav-link" href="attendance/history">
                        <span class="bi bi-calendar-check" aria-hidden="true"></span> Attendance
                    </NavLink>
                </div>
            </Authorized>
        </AuthorizeView>
        
        <AuthorizeView Roles="Admin,Manager,Cashier">
            <Authorized>
                <div class="nav-section-title">Loyalty & Marketing</div>

                <div class="nav-item">
                    <NavLink class="nav-link" href="customers">
                        <span class="bi bi-person" aria-hidden="true"></span> Customer Management
                    </NavLink>
                </div>
                <div class="nav-item">
                    <NavLink class="nav-link" href="loyalty">
                        <span class="bi bi-gift" aria-hidden="true"></span> Loyalty Dashboard
                    </NavLink>
                </div>

                <AuthorizeView Roles="Admin,Manager">
                    <Authorized Context="adminMarketing">
                        <div class="nav-item">
                            <NavLink class="nav-link" href="promotion">
                                <span class="bi bi-tag" aria-hidden="true"></span> Promotions
                            </NavLink>
                        </div>
                        <div class="nav-item">
                            <NavLink class="nav-link" href="rewards">
                                <span class="bi bi-bookmark" aria-hidden="true"></span> Rewards
                            </NavLink>
                        </div>
                    </Authorized>
                </AuthorizeView>
            </Authorized>
        </AuthorizeView>
        
        <AuthorizeView Roles="Cashier">
            <Authorized>
                <div class="nav-section-title">Cashier</div>
            
                <div class="nav-item">
                    <NavLink class="nav-link" href="cashier/dashboard">
                        <span class="bi bi-grid" aria-hidden="true"></span> My Dashboard
                    </NavLink>
                </div>
        
                <div class="nav-section-title">Operations</div>
                <div class="nav-item">
                    <NavLink class="nav-link" href="attendance/check-in-out">
                        <span class="bi bi-calendar-check" aria-hidden="true"></span> Check In/Out
                    </NavLink>
                </div>
                <div class="nav-item">
                    <NavLink class="nav-link" href="attendance/my-history">
                        <span class="bi bi-clock-history" aria-hidden="true"></span> My Attendance History
                    </NavLink>
                </div>
                <div class="nav-item">
                    <NavLink class="nav-link" href="checkout">
                        <span class="bi bi-bag-check-fill" aria-hidden="true"></span> Checkout
                    </NavLink>
                </div>
                <div class="nav-item">
                    <NavLink class="nav-link" href="invoice">
                        <span class="bi bi-file-invoice" aria-hidden="true"></span> Invoice
                    </NavLink>
                </div>
            </Authorized>
        </AuthorizeView>

        <AuthorizeView Roles="Warehouse">
            <Authorized>
                <div class="nav-section-title">Warehouse</div>
           
                <div class="nav-item">
                    <NavLink class="nav-link" href="warehouse/dashboard">
                        <span class="bi bi-grid" aria-hidden="true"></span> My Dashboard
                    </NavLink>
                </div>
        
                <div class="nav-section-title">Inventory</div>
                <div class="nav-item">
                    <NavLink class="nav-link" href="attendance/check-in-out">
                        <span class="bi bi-calendar-check" aria-hidden="true"></span> Check In/Out
                    </NavLink>
                </div>
                <div class="nav-item">
                    <NavLink class="nav-link" href="attendance/my-history">
                        <span class="bi bi-clock-history" aria-hidden="true"></span> My Attendance History
                    </NavLink>
                </div>
                <div class="nav-item">
                    <NavLink class="nav-link" href="products">
                        <span class="bi bi-box-seam" aria-hidden="true"></span> Products
                    </NavLink>
                </div>
                <div class="nav-item">
                    <NavLink class="nav-link" href="imports">
                        <span class="bi bi-truck" aria-hidden="true"></span> New Import
                    </NavLink>
                </div>
            </Authorized>
        </AuthorizeView>
    </nav>

    <AuthorizeView>
        <Authorized>
            <div class="menu-footer">
                <div class="nav-item">
                    <NavLink class="nav-link" href="profile">
                        <span class="bi bi-person" aria-hidden="true"></span> My Profile
                    </NavLink>
                </div>
                <div class="nav-item">
                    <a class="nav-link" href="javascript:void(0)" @onclick="HandleLogout" style="cursor: pointer;">
                        <span class="bi bi-box-arrow-right" aria-hidden="true"></span> Logout
                    </a>
                </div>
            </div>
        </Authorized>
    </AuthorizeView>
</div>

@code {
    [Inject] private AuthService? AuthService { get; set; }
    [Inject] private NavigationManager? NavigationManager { get; set; }
    
    private string? userRole;

    protected override async Task OnInitializedAsync()
    {
        if (AuthService != null)
        {
            userRole = await AuthService.GetUserRoleAsync();
        }
    }

    private async Task HandleLogout()
    {
        if (AuthService != null && NavigationManager != null)
        {
            await AuthService.LogoutAsync();
            NavigationManager.NavigateTo("/login", true);
        }
    }
}
</file>

<file path="MegaMarket.API/Program.cs">
using System.Text;
using System.Text.Json.Serialization;
using System.Security.Claims;
using Microsoft.AspNetCore.Authentication.JwtBearer;
using Microsoft.EntityFrameworkCore;
using Microsoft.IdentityModel.Tokens;
using MegaMarket.Data.Data;
using MegaMarket.Data.DataAccess;
using MegaMarket.Data.Repositories;
using MegaMarket.API.Services;
using MegaMarket.API.Services.Interfaces;
using MegaMarket.API.Services.Implementations;
using MegaMarket.API.Data;
using MegaMarket.Data.Repositories.Interfaces;
using MegaMarket.Data.Repositories.Implementations;

var builder = WebApplication.CreateBuilder(args);

// Add services to the container.
builder.Services.AddControllers()
    .AddJsonOptions(options =>
    {
        // Handle circular references in JSON serialization
        options.JsonSerializerOptions.ReferenceHandler = ReferenceHandler.IgnoreCycles;
    });
builder.Services.AddScoped<IInvoiceService, InvoiceService>();
builder.Services.AddScoped<IInvoiceRepository, InvoiceRepository>();
builder.Services.AddScoped<InvoiceDAO>();

// Register DbContext
builder.Services.AddDbContextFactory<MegaMarketDbContext>(options =>
    options.UseSqlServer(builder.Configuration.GetConnectionString("DefaultConnection"),
    x => x.MigrationsAssembly("MegaMarket.Data")));

// Product & Import Services
builder.Services.AddScoped<IProductService, ProductService>();
builder.Services.AddScoped<IImportService, ImportService>();

// Customer & Reward Services
builder.Services.AddScoped<ICustomerRepository, CustomerRepository>();
builder.Services.AddScoped<ICustomerService, CustomerService>();
builder.Services.AddScoped<IPointTransactionRepository, PointTransactionRepository>();
builder.Services.AddScoped<ICustomerRewardRepository, CustomerRewardRepository>();
builder.Services.AddScoped<IReportRepository, ReportRepository>();
builder.Services.AddScoped<IPointTransactionService, PointTransactionService>();
builder.Services.AddScoped<IRewardRepository, RewardRepository>();
builder.Services.AddScoped<IRewardService, RewardService>();
builder.Services.AddScoped<ICustomerRewardService, CustomerRewardService>();
builder.Services.AddScoped<IReportService, ReportService>();

// Employee Services
builder.Services.AddScoped<UserService>();
builder.Services.AddScoped<ShiftTypeService>();
builder.Services.AddScoped<AttendanceService>();
builder.Services.AddScoped<AuthService>();

// Dashboard Services
builder.Services.AddScoped<DashboardSalesService>();
builder.Services.AddScoped<DashboardInventoryService>();
builder.Services.AddScoped<DashboardCustomerService>();
builder.Services.AddScoped<DashboardEmployeeService>();

// Promotion Services
builder.Services.AddScoped<IPromotionService, PromotionService>();
builder.Services.AddScoped<IPromotionRepository, PromotionRepository>();
builder.Services.AddScoped<PromotionDAO>();

// CORS (chỉ giữ 1 config)
var allowedOrigins = builder.Configuration.GetSection("AllowedCorsOrigins").Get<string[]>() ??
                     new[] { "https://localhost:7168", "http://localhost:5023", "https://localhost:5023" };
builder.Services.AddCors(options =>
{
    options.AddPolicy("AllowFrontend", policy =>
    {
        policy.WithOrigins(allowedOrigins)
            .AllowAnyHeader()
            .AllowAnyMethod();
    });
});

// Configure JWT Authentication
var jwtKey = builder.Configuration["Jwt:Key"]
    ?? throw new Exception("JWT Key chưa được config trong appsettings.json!");
var jwtIssuer = builder.Configuration["Jwt:Issuer"] ?? "MegaMarket";
var jwtAudience = builder.Configuration["Jwt:Audience"] ?? "MegaMarket";

builder.Services
    .AddAuthentication(JwtBearerDefaults.AuthenticationScheme)
    .AddJwtBearer(options =>
    {
        options.TokenValidationParameters = new TokenValidationParameters
        {
            ValidateIssuer = true,
            ValidateAudience = true,
            ValidateLifetime = true,
            ValidateIssuerSigningKey = true,
            ValidIssuer = jwtIssuer,
            ValidAudience = jwtAudience,
            IssuerSigningKey = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(jwtKey))
        };
    });

builder.Services.AddAuthorization();

// Register DbContext for dependency injection (in addition to factory)
builder.Services.AddScoped<MegaMarketDbContext>(provider =>
{
    var factory = provider.GetRequiredService<IDbContextFactory<MegaMarketDbContext>>();
    return factory.CreateDbContext();
});

// Swagger
builder.Services.AddEndpointsApiExplorer();
builder.Services.AddSwaggerGen();

var app = builder.Build();

// Configure the HTTP request pipeline.
if (app.Environment.IsDevelopment())
{
    app.UseSwagger();
    app.UseSwaggerUI();
}

app.UseHttpsRedirection();

app.UseCors("AllowFrontend");

app.UseAuthentication();
app.UseAuthorization();

app.MapControllers();

// DEBUG: Endpoint to check current user claims
app.MapGet("/api/debug/claims", (HttpContext context) =>
{
    var user = context.User;
    var claims = user.Claims.Select(c => new { c.Type, c.Value }).ToList();
    return Results.Ok(new
    {
        IsAuthenticated = user.Identity?.IsAuthenticated ?? false,
        Claims = claims,
        UserId = user.FindFirst("userId")?.Value,
        Role = user.FindFirst("role")?.Value,
        NameIdentifier = user.FindFirst(ClaimTypes.NameIdentifier)?.Value,
        ClaimsRole = user.FindFirst(ClaimTypes.Role)?.Value
    });
}).RequireAuthorization();

// TEMPORARY: Endpoint to hash existing passwords
app.MapPost("/api/admin/hash-passwords", async (MegaMarketDbContext dbContext) =>
{
    var users = await dbContext.Users.ToListAsync();
    foreach (var user in users)
    {
        // Only hash if password is plain text (not already hashed)
        if (!user.Password.StartsWith("$2"))
        {
            user.Password = BCrypt.Net.BCrypt.HashPassword(user.Password);
        }
    }
    await dbContext.SaveChangesAsync();
    return Results.Ok(new { message = "Passwords hashed successfully", count = users.Count });
});

// Seed database only if empty (non-testing environments)
if (!app.Environment.IsEnvironment("Testing"))
{
    using (var scope = app.Services.CreateScope())
    {
        var dbContext = scope.ServiceProvider.GetRequiredService<MegaMarketDbContext>();

        // Only seed if database is completely empty
        if (!await dbContext.Users.AnyAsync())
        {
            Console.WriteLine("Database is empty. Seeding initial data...");
            await DbSeeder.SeedAsync(dbContext);
            Console.WriteLine("Database seeding completed successfully!");
        }
        else
        {
            Console.WriteLine("Database already contains data. Skipping seed.");
        }
    }
}

app.Run();

// Make the implicit Program class public for integration tests
public partial class Program { }
</file>

</files>
